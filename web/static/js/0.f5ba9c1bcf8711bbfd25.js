webpackJsonp([0],{"+RLJ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){var e,n=function(t){var e,n={},r=0,i=function(e){var o,a=r;null===(o=t.children(e))||void 0===o||o.forEach(i),n[e]={low:a,lim:r++}};return null===(e=t.children())||void 0===e||e.forEach(i),n}(t);null===(e=t.graph().dummyChains)||void 0===e||e.forEach(function(e){var r,i,o=e,a=t.node(o),s=a.edgeObj;if(s)for(var u=function(t,e,n,r){var i,o,a=[],s=[],u=Math.min(e[n].low,e[r].low),l=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),a.push(i)}while(i&&(e[i].low>u||l>e[i].lim));for(o=i,i=r;i&&i!==o;)s.push(i),i=t.parent(i);return{lca:o,path:a.concat(s.reverse())}}(t,n,s.v,s.w),l=u.path,c=u.lca,h=0,d=l[h],f=!0;o!==s.w;){if(a=t.node(o),f){for(;d!==c&&(null===(r=t.node(d))||void 0===r?void 0:r.maxRank)<a.rank;)d=l[++h];d===c&&(f=!1)}if(!f){for(;h<l.length-1&&(null===(i=t.node(l[h+1]))||void 0===i?void 0:i.minRank)<=a.rank;)h++;d=l[h]}t.setParent(o,d),o=t.successors(o)[0]}})}},"+ZTV":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.minBy=e.notime=e.time=e.partition=e.maxRank=e.addBorderNode=e.removeEmptyRanks=e.normalizeRanks=e.buildLayerMatrix=e.intersectRect=e.predecessorWeights=e.successorWeights=e.zipObject=e.asNonCompoundGraph=e.simplify=e.addDummyNode=void 0;var r=n("ZE1E"),i=n("3MGd");e.addDummyNode=function(t,e,n,r){var i;do{i="".concat(r).concat(Math.random())}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i};e.simplify=function(t){var e=(new i.Graph).setGraph(t.graph());return t.nodes().forEach(function(n){e.setNode(n,t.node(n))}),t.edges().forEach(function(n){var r=e.edgeFromArgs(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e};e.asNonCompoundGraph=function(t){var e=new i.Graph({multigraph:t.isMultigraph()}).setGraph(t.graph());return t.nodes().forEach(function(n){var r;(null===(r=t.children(n))||void 0===r?void 0:r.length)||e.setNode(n,t.node(n))}),t.edges().forEach(function(n){e.setEdgeObj(n,t.edge(n))}),e};e.zipObject=function(t,e){return null===t||void 0===t?void 0:t.reduce(function(t,n,r){return t[n]=e[r],t},{})};e.successorWeights=function(t){var e={};return t.nodes().forEach(function(n){var r,i={};null===(r=t.outEdges(n))||void 0===r||r.forEach(function(e){var n;i[e.w]=(i[e.w]||0)+((null===(n=t.edge(e))||void 0===n?void 0:n.weight)||0)}),e[n]=i}),e};e.predecessorWeights=function(t){var n=t.nodes(),r=n.map(function(e){var n,r={};return null===(n=t.inEdges(e))||void 0===n||n.forEach(function(e){r[e.v]=(r[e.v]||0)+t.edge(e).weight}),r});return(0,e.zipObject)(n,r)};e.intersectRect=function(t,e){var n,r,i=Number(t.x),o=Number(t.y),a=Number(e.x)-i,s=Number(e.y)-o,u=Number(t.width)/2,l=Number(t.height)/2;return a||s?(Math.abs(s)*u>Math.abs(a)*l?(s<0&&(l=-l),n=l*a/s,r=l):(a<0&&(u=-u),n=u,r=u*s/a),{x:i+n,y:o+r}):{x:0,y:0}};e.buildLayerMatrix=function(t){for(var n=[],r=(0,e.maxRank)(t)+1,i=0;i<r;i++)n.push([]);t.nodes().forEach(function(e){var r=t.node(e);if(r){var i=r.rank;void 0!==i&&n[i]&&n[i].push(e)}});for(i=0;i<r;i++)n[i]=n[i].sort(function(e,n){var r,i,o,a;return o=null===(r=t.node(e))||void 0===r?void 0:r.order,a=null===(i=t.node(n))||void 0===i?void 0:i.order,Number(o)-Number(a)});return n};e.normalizeRanks=function(t){var e=t.nodes().filter(function(e){var n;return void 0!==(null===(n=t.node(e))||void 0===n?void 0:n.rank)}).map(function(e){return t.node(e).rank}),n=Math.min.apply(Math,e);t.nodes().forEach(function(e){var r=t.node(e);r.hasOwnProperty("rank")&&n!==1/0&&(r.rank-=n)})};e.removeEmptyRanks=function(t){var e=t.nodes(),n=e.filter(function(e){var n;return void 0!==(null===(n=t.node(e))||void 0===n?void 0:n.rank)}).map(function(e){return t.node(e).rank}),r=Math.min.apply(Math,n),i=[];e.forEach(function(e){var n,o=((null===(n=t.node(e))||void 0===n?void 0:n.rank)||0)-r;i[o]||(i[o]=[]),i[o].push(e)});for(var o=0,a=t.graph().nodeRankFactor||0,s=0;s<i.length;s++){var u=i[s];void 0===u?s%a!=0&&(o-=1):o&&(null===u||void 0===u||u.forEach(function(e){var n=t.node(e);n&&(n.rank=n.rank||0,n.rank+=o)}))}};e.addBorderNode=function(t,n,i,o){var a={width:0,height:0};return(0,r.isNumber)(i)&&(0,r.isNumber)(o)&&(a.rank=i,a.order=o),(0,e.addDummyNode)(t,"border",a,n)};e.maxRank=function(t){var e;return t.nodes().forEach(function(n){var r,i=null===(r=t.node(n))||void 0===r?void 0:r.rank;void 0!==i&&(void 0===e||i>e)&&(e=i)}),e||(e=0),e};e.partition=function(t,e){var n={lhs:[],rhs:[]};return null===t||void 0===t||t.forEach(function(t){e(t)?n.lhs.push(t):n.rhs.push(t)}),n};e.time=function(t,e){var n=Date.now();try{return e()}finally{console.log("".concat(t," time: ").concat(Date.now()-n,"ms"))}};e.notime=function(t,e){return e()};e.minBy=function(t,e){return t.reduce(function(t,n){return e(t)>e(n)?n:t})}},"+cvj":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("Jsh2"))&&r.__esModule?r:{default:r};var o=function(t,e){for(var n=(0,i.default)(t,e),r=[],o=n.length,a=0;a<o;a+=1){r[a]=[];for(var s=0;s<o;s+=1)a===s?r[a][s]=0:0!==n[a][s]&&n[a][s]?r[a][s]=n[a][s]:r[a][s]=1/0}for(var u=0;u<o;u+=1)for(a=0;a<o;a+=1)for(s=0;s<o;s+=1)r[a][s]>r[a][u]+r[u][s]&&(r[a][s]=r[a][u]+r[u][s]);return r};e.default=o},"+ymx":function(t,e,n){"use strict";e.c=function(t,e,n,r,i){var u=s(r-e,n-t);return{dx:a(u)*i,dy:o(u)*i}},e.b=function(t,e,n,r,i,o){"object"==typeof e.startArrow?c(t,e,n,r,i,o,!0):e.startArrow?l(t,e,n,r,i,o,!0):t.set("startArrowShape",null)},e.a=function(t,e,n,r,i,o){"object"==typeof e.endArrow?c(t,e,n,r,i,o,!1):e.endArrow?l(t,e,n,r,i,o,!1):t.set("startArrowShape",null)};var r=n("TToO"),i=n("3BVV"),o=Math.sin,a=Math.cos,s=Math.atan2,u=Math.PI;function l(t,e,n,r,l,c,h){var d=e.stroke,f=e.lineWidth,p=s(r-c,n-l),g=new i.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*a(u/6)+","+10*o(u/6)+" L0,0 L"+10*a(u/6)+",-"+10*o(u/6),stroke:d,lineWidth:f}});g.translate(l,c),g.rotateAtPoint(l,c,p),t.set(h?"startArrowShape":"endArrowShape",g)}function c(t,e,n,u,l,c,h){var d=e.startArrow,f=e.endArrow,p=e.stroke,g=e.lineWidth,v=h?d:f,y=v.d,m=v.fill,b=v.stroke,x=v.lineWidth,A=Object(r.__rest)(v,["d","fill","stroke","lineWidth"]),w=s(u-c,n-l);y&&(l-=a(w)*y,c-=o(w)*y);var _=new i.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:Object(r.__assign)(Object(r.__assign)({},A),{stroke:b||p,lineWidth:x||g,fill:m})});_.translate(l,c),_.rotateAtPoint(l,c,w),t.set(h?"startArrowShape":"endArrowShape",_)}},"/gxq":function(t,e,n){"use strict";e.p=function(){return g++},e.G=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof console&&console.error.apply(console,t)},e.d=v,e.I=y,e.J=function(t,e){for(var n=t[0],r=1,i=t.length;r<i;r++)n=y(n,t[r],e);return n},e.m=m,e.i=b,e.r=function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1},e.s=function(t,e){var n=t.prototype;function r(){}for(var i in r.prototype=e.prototype,t.prototype=new r,n)n.hasOwnProperty(i)&&(t.prototype[i]=n[i]);t.prototype.constructor=t,t.superClass=e},e.K=function(t,e,n){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var o=r[i];"constructor"!==o&&(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}else b(t,e,n)},e.u=function(t){if(!t)return!1;if("string"==typeof t)return!1;return"number"==typeof t.length},e.k=x,e.H=function(t,e,n){if(!t)return[];if(!e)return k(t);if(t.map&&t.map===h)return t.map(e,n);for(var r=[],i=0,o=t.length;i<o;i++)r.push(e.call(n,t[i],i,t));return r},e.N=A,e.n=function(t,e,n){if(!t)return[];if(!e)return k(t);if(t.filter&&t.filter===l)return t.filter(e,n);for(var r=[],i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r},e.o=function(t,e,n){if(!t||!e)return;for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]},e.F=w,n.d(e,"c",function(){return _}),n.d(e,"h",function(){return M}),e.t=S,e.w=O,e.C=function(t){return"string"==typeof t},e.D=function(t){return"[object String]"===a.call(t)},e.z=function(t){return"number"==typeof t},e.A=I,e.E=function(t){return!!o[a.call(t)]},e.v=C,e.x=function(t){return null!=t.colorStops},e.y=function(t){return null!=t.image},e.B=function(t){return"[object RegExp]"===a.call(t)},e.l=function(t){return t!=t},e.O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=t.length;n<r;n++)if(null!=t[n])return t[n]},e.P=function(t,e){return null!=t?t:e},e.Q=function(t,e,n){return null!=t?t:null!=e?e:n},e.S=k,e.M=function(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];return t},e.b=function(t,e){if(!t)throw new Error(e)},e.T=function(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.R=function(t){t[T]=!0},e.f=function(t){return new P(t)},e.e=function(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];for(var i=t.length,r=0;r<e.length;r++)n[r+i]=e[r];return n},e.g=function(t,e){var n;if(Object.create)n=Object.create(t);else{var r=function(){};r.prototype=t,n=new r}e&&m(n,e);return n},e.j=function(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"},e.q=function(t,e){return t.hasOwnProperty(e)},e.L=function(){},n.d(e,"a",function(){return N});var r=n("OwOc"),i=A(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),o=A(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),a=Object.prototype.toString,s=Array.prototype,u=s.forEach,l=s.filter,c=s.slice,h=s.map,d=function(){}.constructor,f=d?d.prototype:null,p="__proto__",g=2311;function v(t){if(null==t||"object"!=typeof t)return t;var e=t,n=a.call(t);if("[object Array]"===n){if(!D(t)){e=[];for(var r=0,s=t.length;r<s;r++)e[r]=v(t[r])}}else if(o[n]){if(!D(t)){var u=t.constructor;if(u.from)e=u.from(t);else{e=new u(t.length);for(r=0,s=t.length;r<s;r++)e[r]=t[r]}}}else if(!i[n]&&!D(t)&&!C(t))for(var l in e={},t)t.hasOwnProperty(l)&&l!==p&&(e[l]=v(t[l]));return e}function y(t,e,n){if(!I(e)||!I(t))return n?v(e):t;for(var r in e)if(e.hasOwnProperty(r)&&r!==p){var i=t[r],o=e[r];!I(o)||!I(i)||S(o)||S(i)||C(o)||C(i)||E(o)||E(i)||D(o)||D(i)?!n&&r in t||(t[r]=v(e[r])):y(i,o,n)}return t}function m(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&n!==p&&(t[n]=e[n]);return t}function b(t,e,n){for(var r=w(e),i=0;i<r.length;i++){var o=r[i];(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}return t}r.d.createCanvas;function x(t,e,n){if(t&&e)if(t.forEach&&t.forEach===u)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function A(t,e,n,r){if(t&&e){for(var i=0,o=t.length;i<o;i++)n=e.call(r,n,t[i],i,t);return n}}function w(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}var _=f&&O(f.bind)?f.call.bind(f.bind):function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return t.apply(e,n.concat(c.call(arguments)))}};function M(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(c.call(arguments)))}}function S(t){return Array.isArray?Array.isArray(t):"[object Array]"===a.call(t)}function O(t){return"function"==typeof t}function I(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function E(t){return!!i[a.call(t)]}function C(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function k(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return c.apply(t,e)}var T="__ec_primitive__";function D(t){return t[T]}var j=function(){function t(){this.data={}}return t.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},t.prototype.has=function(t){return this.data.hasOwnProperty(t)},t.prototype.get=function(t){return this.data[t]},t.prototype.set=function(t,e){return this.data[t]=e,this},t.prototype.keys=function(){return w(this.data)},t.prototype.forEach=function(t){var e=this.data;for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},t}(),L="function"==typeof Map;var P=function(){function t(e){var n=S(e);this.data=L?new Map:new j;var r=this;function i(t,e){n?r.set(t,e):r.set(e,t)}e instanceof t?e.each(i):e&&x(e,i)}return t.prototype.hasKey=function(t){return this.data.has(t)},t.prototype.get=function(t){return this.data.get(t)},t.prototype.set=function(t,e){return this.data.set(t,e),e},t.prototype.each=function(t,e){this.data.forEach(function(n,r){t.call(e,n,r)})},t.prototype.keys=function(){var t=this.data.keys();return L?Array.from(t):t},t.prototype.removeKey=function(t){this.data.delete(t)},t}();var N=180/Math.PI},"/pRs":function(t,e){t.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAB3RJTUUH2AcfAC4IjT8uJQAACdxJREFUSIkFwUlvHNlhAOBXb6196ape2d2UqCEpjqXxeIAxkBhBgASBESAOkJPhv+CDgxzzl3LMJfEpQWAnGWQMzSJxhotIkVTvXVVd+/5evk/69T/+4vbmsD9sf/XrL1QKecJ++dc/77lsfwgub+7diYowvnr38as/3JyeHhGZPC2D9Tps8u7z15+XVbJLV8fPRxcXJ/5+H4dxXdXRod58LGS9GUxHsjAwUdHZF0d/Pjifz7SXL8YTZ4ig2OeHNzfvVutU7T+Pd/vHJ7/mPK0zf5m3Jbh4+YKYlHGWb2NX03le7oIYYlmwskWirVvzSBU8P8ThsaPhME4GM3B2Pj6fP+tpBgQgrevHzUfTM6tGu7vZ3N9sbq8242kvr7rBxBz3x4hIRZtQUDYCj5Vjx3PXVdRWjYIVRFiRF66hyNjYbvaL5R1eLMOizqeW+WfnPwU5fXN5tSnjjqS8ldK98vVX77erHFOkqphANBj0D3m+u/W/+ORUs+zl5h1RIUaSTImM5Z7h+HGyv1/YIwY7LAu1BBJO/BY3sMrw08f17//1zbvLBTJEf2yEmzwJJAFrgsloapsWmU1HZds9PQae4pwfnXzY+Hdvt2W/fomqoPDvvo/6bDA570GEBUcPD9s87oRCELMghQTQrkPFv//bm2/fLDsO6lzaPCX7daQYUn9imY5pGnZTVDs/SMNy5lmaAr65vgv3fLuPX5x4ikKufkivv91jSxg93FXS/WOY7pssbLGpqxCTIM6jpOs4OD6bDmY2EN3M0psU7IN9XXT+Otdxf3nYyw6wVcZk8PXV9eVVsF3WOuVZWGmObGrSUuo+Ln1TdR9vN7f32+mg9+rTObr47FNKgGbD7TrhFZrNnNNPXd2Wnh33g036cB+GYcaQ4li6kFJZA0PXW22226DZ3NVR0B6Nh8QECoM9nTgjB5Lu7tvN7bt9DbmiNyMHw7/9q1+dHp2O9IlJjnRojzRHrqFNFUtWdUXFWHIcy3PpsI9Ono8c01jvmu/eZXU64LUNkEW5nAX52z998JTZ6Zmb7uPvv/64D2LMcCvgj48bPPT6z6d/96e3f2zreDaST8dzVWNvH779v29u399sEG4Mk4/GjCh1nOVFxRcrsvdtFZulVFFTjf1MJ9LtVbj98X/tE7F5TKmiMRNqulYWHe84fvf2x0O+T7J1GAWwQyPT+fnLnzVd9j//9ePD3c6dqOOBOToaPyw/dm0XB6IrbE1WZR2zlKOOGFpPQfLIhHldLm+SnV80vFWRUR5KhIWu6sjt9374cDX0bJlIh33RFpIuEwSlYJ/Nps8GQ0f3YFE1waZNVqKJOoQ7VRejoa3gZmTqqtRQCUoAWpYBJZTGua6YMlXjJOs6QLBA5pBwtVNkqY5Kf10oxLANOnQG0+HRZDBUGK15m2eiOUBT6lEsY6s6eqHPZoMOJQw0StuYstkJkOdFU7YK1SzNIYimSZ4kBQIcl6nvOu5mvf7w/WY2/ETXFEmANM1lioBoJF33mBPlRUXaNu+CIq1Icno+6SnaYZ8C3ilU88M4zCooSYRQCRJGMMAqgjCMo7QI0G9/8xtS8TyuKPbOTs+Hru4aapYnigFMDXuGrWImGq6pNuC4qMoaZPOpO1EV+LQ0MhiG9XcPvh/lTdtRmckKoUSCgFOENUVBmKF//t0/9RQviSPD1GeTqcwglsRsaAzH1saPEUeuoSZFlddcZrLrelnZroIAVvEgz5scfrctV4dsFxzaDimMEMS7pkQSKOoMMqBpKvqHv/+b0+mLsiwl2sqE9HSFQaRRugu3ZQlO5s+dXm8bZS0kVdUACdYt2gQhAd1Eg4ngG0Rq0dimBiEWXECAKZKhCoTM666OogSNJsQicitg1TZR4NsqOB71kkNy98NbFcLPXr0qOXxY7z8sVh0XCOK6bDFVUSudzW3qKaxvMgUaSi9NKiEJx/WaRmzzR31Eqrrx/Rhfrq/SLIKNQaBqKHQ6tbvmsF99mNsag6AuirhCi8Vyvfjo9sdtU5uKM+hNtqsHIdHPvpxP22q53P/n7+9sW9E91kltVEbDoXZ8Yl82Tx1t0PBn3jpbB344tnsDz9Q08uHDcr1YKUjY3vwnv/jl42p7fXWJsRQnMaNk4g5U3eACqAoo9Grlf0zzg2OpoyODswwoPMmDv/jy/NWr+bbch4cSHb3uTyY9QqhUQw2T3WptKNarixfucGrPf2o/u3h8fO/7+6JuGKF5WbYtd1yXMCoIv0/fXy/fL9YbwmpvaBRVER+CViok0vKibCDQ7QG2mDK3vfeHx10dfaKfzI6fHx9PkcgMZ2Idnfr5IiwifTgshLAZrjvetiA8BC3AOmV1SZ+e4rauwkNxv0g0Kls6Q6p0tVlUUVEK/n4TY0ZAEh80Hd8nm00TPetf3DbxenljhUvdv4zSYBNlsmJ8cj6ASVnm1fz4ZZCCP3xzmd/nWfkQl2lvquS1SIuEkdixVYFJVTZRVyCmlHmLMQaGZdjMWJV1ILL/fv9V1K04CLVcVkLWs8zO7gRMJoNX4XWd1RUG3ND1IDncPlzrWn1yPutNUMcqymhd1oqsZkVl6ipjWhBlHUA4ryo/Tr2BNhr1Opisy6WoE82hHW0EJdbYI1WB8orRFkpCM2zNMNO4tFzlc2d29tolFt7uH2TETFPPcaaqOhCdIRNORYm6BsrIO5cdy6CyiNNIkNowSF+xREMIVRGlEoFtIWlC8bAer5O05LpqPO5Wl4vL2ZRYx8gvt5jz2fAF4xQSRAngoiGMpg0XUCHIxFgivO3qhtjWBEIOQdnwlhKCCMuLEvB86HkkVykh05nnJKJv4etdOj9TTi/6N+GTJPh84AqUvnz2OjCO3lz+B2ZII3Z92M1G7vgM47OTY9hWdcF1S3t6ujEdTBhjBvaGtoxkWxOEQoGkFvNa1PkhyhjpW1hWXczaqsr7mu2o9mO0SsVB9P6SXrDk8o+sZEdD+tmpqdAcboO2SjMLs93Dg6Prg543HnqToZP42yQKk7btqo4CiFQGOSRQVmSVIXgyHKRV0jSla1gq0xBEdbe/fvsvvK7U4UVF01fn5LQnytzHh5qoDEhUc0aG6025VLt94Dl4attFg+8Oa2JoE0tDTJg9zUE2RDBtqp5sRbuMAw6RtPKXXZeVpc3K2/B2dciPaLdJYoHN1wzryD0b9UZ2/+zLwYufhJlKlElL6qLaHrn22fEFELBCJUO8kQrbc8+Gc2rSRK7DdvsYbQQHA9vNyrKsGi6LQlQIdrXvU5Fi1jFZ8cMQFbhfkTG1Xi4Wfn64n4+niJl5sxMkVDX26ahv63ImibapGiQocw6g5DRcFOs0y3kDTofPyrZRGAOoTaqCAK2tWiJVoC0HupfH1f8DrT+OnMVPgSYAAAAASUVORK5CYII="},"/xpm":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+ZTV"),i=function(t,e,n){for(var r,i=n;e.length&&(r=e[e.length-1]).i<=i;)e.pop(),null===t||void 0===t||t.push(r.vs),i++;return i},o=function(t,e){return function(n,r){if(void 0!==n.fixorder&&void 0!==r.fixorder)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(e&&void 0!==n.order&&void 0!==r.order){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return t?r.i-n.i:n.i-r.i}};e.default=function(t,e,n,a){var s=(0,r.partition)(t,function(t){var e=t.hasOwnProperty("fixorder")&&!isNaN(t.fixorder);return a?!e&&t.hasOwnProperty("barycenter"):e||t.hasOwnProperty("barycenter")}),u=s.lhs,l=s.rhs.sort(function(t,e){return-t.i- -e.i}),c=[],h=0,d=0,f=0;null===u||void 0===u||u.sort(o(!!e,!!n)),f=i(c,l,f),null===u||void 0===u||u.forEach(function(t){var e;f+=null===(e=t.vs)||void 0===e?void 0:e.length,c.push(t.vs),h+=t.barycenter*t.weight,d+=t.weight,f=i(c,l,f)});var p={vs:c.flat()};return d&&(p.barycenter=h/d,p.weight=d),p}},"0IlV":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.DagreCompoundLayout=void 0;var s=n("w9t0"),u=n("rRkU"),l=n("ZE1E"),c=function(t){function e(e){var n=t.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.edgesep=5,n.ranksep=50,n.controlPoints=!0,n.anchorPoint=!0,n.nodes=[],n.edges=[],n.combos=[],n.onLayoutEnd=function(){},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,begin:void 0,nodeSize:void 0,nodesep:50,ranksep:50,controlPoints:!0,anchorPoint:!0}},e.prototype.init=function(t){var e=t.hiddenNodes||[],n=t.hiddenEdges||[],r=t.hiddenCombos||[];this.nodes=this.getDataByOrder((t.nodes||[]).concat(e)),this.edges=this.getDataByOrder((t.edges||[]).concat(n)),this.combos=(t.combos||[]).concat(r.map(function(t){return o(o({},t),{collapsed:!0})}))},e.prototype.execute=function(){var t=this.nodes,e=this.edges;if(t){var n=this.getLayoutConfig(),r=n.graphDef,i=n.graphOption,o=n.graphSettings,a=(0,u.buildGraph)(r,i,o),s=(0,u.flatGraph)(a,!0);return this.updatePosition(s),this.onLayoutEnd&&this.onLayoutEnd(),{nodes:t,edges:e}}},e.prototype.getNodePath=function(t){var e=this.nodes,n=this.combos,r=e.find(function(e){return e.id===t}),i=function(t,e){void 0===e&&(e=[]);var r=n.find(function(e){return e.id===t});return r?(e.unshift(t),r.parentId?i(r.parentId,e):e):e};return r&&r.comboId?i(r.comboId,[t]):[t]},e.prototype.getLayoutConfig=function(){var t,e,n,r,i=this.nodes,s=this.edges,c=this.combos,h=this.nodeSize,d=this.rankdir,f=this.align,p=this.edgesep,g=this.nodesep,v=this.ranksep,y=this.settings,m=(c||[]).reduce(function(t,e){var n=i.filter(function(t){return t.comboId===e.id}).map(function(t){return t.id}),r=(c||[]).filter(function(t){return t.parentId===e.id}).map(function(t){return t.id});return(n.length||r.length)&&(t[e.id]=a(a([],n,!0),r,!0)),t},{});r=h?(0,l.isArray)(h)?function(){return h}:function(){return[h,h]}:function(t){return t&&t.size?(0,l.isArray)(t.size)?t.size:(0,l.isObject)(t.size)?[t.size.width||40,t.size.height||40]:[t.size,t.size]:[40,40]};var b,x=(b=null===c||void 0===c?void 0:c[0])&&b.size?(0,l.isArray)(b.size)?b.size:[b.size,b.size]:[80,40],A=x[0],w=x[1],_=null===(e=null===(t=this.graphSettings)||void 0===t?void 0:t.subScene)||void 0===e?void 0:e.meta,M=(null===(n=c.find(function(t){return!t.collapsed}))||void 0===n?void 0:n.padding)||[20,20,20,20],S=M[0],O=M[1],I=M[2],E=M[3],C={compound:m,nodes:a([],(i||[]).map(function(t){var e=r(t),n=e[0],i=e[1];return o(o({},t),{width:n,height:i})}),!0),edges:a([],(s||[]).map(function(t){return o(o({},t),{v:t.source,w:t.target})}),!0)},k={expanded:(c||[]).filter(function(t){return!t.collapsed}).map(function(t){return t.id})},T={graph:{meta:{align:f,rankDir:d,nodeSep:g,edgeSep:p,rankSep:v}},subScene:{meta:{paddingTop:S||(null===_||void 0===_?void 0:_.paddingTop)||20,paddingRight:O||(null===_||void 0===_?void 0:_.paddingRight)||20,paddingBottom:I||(null===_||void 0===_?void 0:_.paddingBottom)||20,paddingLeft:E||(null===_||void 0===_?void 0:_.paddingLeft)||20,labelHeight:0}},nodeSize:{meta:{width:A,height:w}}},D=(0,u.mergeConfig)(y,o({},(0,u.mergeConfig)(T,u.LAYOUT_CONFIG)));return this.graphSettings=D,{graphDef:C,graphOption:k,graphSettings:D}},e.prototype.updatePosition=function(t){var e=t.nodes,n=t.edges;this.updateNodePosition(e,n),this.updateEdgePosition(e,n)},e.prototype.getBegin=function(t,e){var n=this.begin,r=[0,0];if(n){var i=1/0,o=1/0;t.forEach(function(t){i>t.x&&(i=t.x),o>t.y&&(o=t.y)}),e.forEach(function(t){t.points.forEach(function(t){i>t.x&&(i=t.x),o>t.y&&(o=t.y)})}),r[0]=n[0]-i,r[1]=n[1]-o}return r},e.prototype.updateNodePosition=function(t,e){var n=this.combos,r=this.nodes,i=this.edges,o=this.anchorPoint,a=this.graphSettings,s=this.getBegin(t,e);t.forEach(function(t){var l,c=t.x,h=t.y,d=t.id,f=t.type,p=t.coreBox;if(f===u.HierarchyNodeType.META&&d!==u.ROOT_NAME){var g=n.findIndex(function(t){return t.id===d}),v=null===(l=null===a||void 0===a?void 0:a.subScene)||void 0===l?void 0:l.meta;n[g].offsetX=c+s[0],n[g].offsetY=h+s[1],n[g].fixSize=[p.width,p.height],n[g].fixCollapseSize=[p.width,p.height],t.expanded?n[g].padding=[null===v||void 0===v?void 0:v.paddingTop,null===v||void 0===v?void 0:v.paddingRight,null===v||void 0===v?void 0:v.paddingBottom,null===v||void 0===v?void 0:v.paddingLeft]:n[g].padding=[0,0,0,0]}else if(f===u.HierarchyNodeType.OP){g=r.findIndex(function(t){return t.id===d});if(r[g].x=c+s[0],r[g].y=h+s[1],o){var y=[],m=e.filter(function(t){return t.v===d}),b=e.filter(function(t){return t.w===d});m.length>0&&m.forEach(function(e){var n=e.points[0],r=(n.x-c)/t.width+.5,o=(n.y-h)/t.height+.5;y.push([r,o]),e.baseEdgeList.forEach(function(t){var e=i.find(function(e){return e.source===t.v&&e.target===t.w});e&&(e.sourceAnchor=y.length-1)})}),b.length>0&&b.forEach(function(e){var n=e.points[e.points.length-1],r=(n.x-c)/t.width+.5,o=(n.y-h)/t.height+.5;y.push([r,o]),e.baseEdgeList.forEach(function(t){var e=i.find(function(e){return e.source===t.v&&e.target===t.w});e&&(e.targetAnchor=y.length-1)})}),r[g].anchorPoints=y.length>0?y:r[g].anchorPoints||[]}}})},e.prototype.updateEdgePosition=function(t,e){var n=this,r=n.combos,i=n.edges,s=n.controlPoints,l=this.getBegin(t,e);s&&(r.forEach(function(t){t.inEdges=[],t.outEdges=[]}),i.forEach(function(e){var i,s,c,h,d=t.find(function(t){return t.id===e.source}),f=t.find(function(t){return t.id===e.target}),p=[],g=[];if(d&&f)g=(0,u.getEdges)(null===d||void 0===d?void 0:d.id,null===f||void 0===f?void 0:f.id,t);else if(!d||!f){var v=n.getNodePath(e.source),y=n.getNodePath(e.target),m=v.reverse().slice(d?0:1).find(function(e){return t.find(function(t){return t.id===e})}),b=y.reverse().slice(f?0:1).find(function(e){return t.find(function(t){return t.id===e})});d=t.find(function(t){return t.id===m}),f=t.find(function(t){return t.id===b}),g=(0,u.getEdges)(null===d||void 0===d?void 0:d.id,null===f||void 0===f?void 0:f.id,t,{v:e.source,w:e.target})}if(p=(p=g.reduce(function(t,e){return a(a([],t,!0),e.points.map(function(t){return o(o({},t),{x:t.x+l[0],y:t.y+l[1]})}),!0)},[])).slice(1,-1),e.controlPoints=p,(null===f||void 0===f?void 0:f.type)===u.NodeType.META){var x=r.findIndex(function(t){return t.id===(null===f||void 0===f?void 0:f.id)});if(!r[x]||(null===(i=r[x].inEdges)||void 0===i?void 0:i.some(function(t){return t.source===d.id&&t.target===f.id})))return;null===(s=r[x].inEdges)||void 0===s||s.push({source:d.id,target:f.id,controlPoints:p})}if((null===d||void 0===d?void 0:d.type)===u.NodeType.META){x=r.findIndex(function(t){return t.id===(null===d||void 0===d?void 0:d.id)});if(!r[x]||(null===(c=r[x].outEdges)||void 0===c?void 0:c.some(function(t){return t.source===d.id&&t.target===f.id})))return;null===(h=r[x].outEdges)||void 0===h||h.push({source:d.id,target:f.id,controlPoints:p})}}))},e.prototype.getType=function(){return"dagreCompound"},e.prototype.getDataByOrder=function(t){return t.every(function(t){return void 0!==t.layoutOrder})||t.forEach(function(t,e){t.layoutOrder=e}),t.sort(function(t,e){return t.layoutOrder-e.layoutOrder})},e}(s.Base);e.DagreCompoundLayout=c},"0bYM":function(t,e){},"0buI":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){!function t(e,n,i,o){o.enter({current:n,previous:i});var a=e.edges,s=void 0===a?[]:a;(0,r.getNeighbors)(n,s,"target").forEach(function(r){o.allowTraversal({previous:i,current:n,next:r})&&t(e,r,n,o)});o.leave({current:n,previous:i})}(t,e,"",function(t){void 0===t&&(t={});var e=t,n=function(){},r=(i={},function(t){var e=t.next;return!i[e]&&(i[e]=!0,!0)});var i;return e.allowTraversal=t.allowTraversal||r,e.enter=t.enter||n,e.leave=t.leave||n,e}(n))};var r=n("lSAc")},"0zDd":function(t,e,n){"use strict";var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modelStyle"},[n("a-radio",{staticStyle:{width:"100%"},attrs:{checked:t.checked,disabled:t.disabled},on:{click:t.selectModel}},[t._v(t._s(t.name))]),t._v(" "),t.checked&&0!=t.subset.length?n("a-row",{staticClass:"subModelGroup"},[n("a-radio-group",{staticClass:"subModelGroupdiv",model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.subset,function(e,r){return n("a-radio-button",{key:e,attrs:{value:r}},[t._v(t._s(e))])}),1)],1):t._e()],1)},staticRenderFns:[]};var i=n("VU/8")({props:{name:{default:"VGG"},disabled:{default:!1},checked:{default:!0},subset:{default:function(){return[]}},upload:{default:!1},indexInParent:0},methods:{selectModel:function(){this.$emit("selectModel",this.indexInParent,this.selected)}},data:function(){return{selected:0}},watch:{selected:{handler:function(t){this.$emit("selectModel",this.indexInParent,this.selected)}}}},r,!1,function(t){n("YAyp")},"data-v-d7745d08",null);e.a=i.exports},"1/b1":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){var n,r=1;function i(){var i,o,a=n.length,s=0,u=0;for(i=0;i<a;++i)s+=(o=n[i]).x,u+=o.y;for(s=(s/a-t)*r,u=(u/a-e)*r,i=0;i<a;++i)(o=n[i]).x-=s,o.y-=u}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i},i=n("2Si+"),o=function(t){return function(){return t}},a=function(t){return 1e-6*(t()-.5)};function s(t){return t.x+t.vx}function u(t){return t.y+t.vy}var l=function(t){var e,n,r,l=1,c=1;function h(){for(var t,o,h,f,p,g,v,y=e.length,m=0;m<c;++m)for(o=Object(i.quadtree)(e,s,u).visitAfter(d),t=0;t<y;++t)h=e[t],g=n[h.index],v=g*g,f=h.x+h.vx,p=h.y+h.vy,o.visit(b);function b(t,e,n,i,o){var s=t.data,u=t.r,c=g+u;if(!s)return e>f+c||i<f-c||n>p+c||o<p-c;if(s.index>h.index){var d=f-s.x-s.vx,y=p-s.y-s.vy,m=d*d+y*y;m<c*c&&(0===d&&(m+=(d=a(r))*d),0===y&&(m+=(y=a(r))*y),m=(c-(m=Math.sqrt(m)))/m*l,h.vx+=(d*=m)*(c=(u*=u)/(v+u)),h.vy+=(y*=m)*c,s.vx-=d*(c=1-c),s.vy-=y*c)}}}function d(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function f(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=o(null==t?1:+t)),h.initialize=function(t,n){e=t,r=n,f()},h.iterations=function(t){return arguments.length?(c=+t,h):c},h.strength=function(t){return arguments.length?(l=+t,h):l},h.radius=function(e){return arguments.length?(t="function"==typeof e?e:o(+e),f(),h):t},h};function c(t){return t.index}function h(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}var d=function(t){var e,n,r,i,s,u,l=c,d=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},f=o(30),p=1;function g(r){for(var i=0,o=t.length;i<p;++i)for(var l,c,h,d,f,g,v,y=0;y<o;++y)c=(l=t[y]).source,d=(h=l.target).x+h.vx-c.x-c.vx||a(u),f=h.y+h.vy-c.y-c.vy||a(u),d*=g=((g=Math.sqrt(d*d+f*f))-n[y])/g*r*e[y],f*=g,h.vx-=d*(v=s[y]),h.vy-=f*v,c.vx+=d*(v=1-v),c.vy+=f*v}function v(){if(r){var o,a,u=r.length,c=t.length,d=new Map(r.map((t,e)=>[l(t,e,r),t]));for(o=0,i=new Array(u);o<c;++o)(a=t[o]).index=o,"object"!=typeof a.source&&(a.source=h(d,a.source)),"object"!=typeof a.target&&(a.target=h(d,a.target)),i[a.source.index]=(i[a.source.index]||0)+1,i[a.target.index]=(i[a.target.index]||0)+1;for(o=0,s=new Array(c);o<c;++o)a=t[o],s[o]=i[a.source.index]/(i[a.source.index]+i[a.target.index]);e=new Array(c),y(),n=new Array(c),m()}}function y(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+d(t[n],n,t)}function m(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+f(t[e],e,t)}return null==t&&(t=[]),g.initialize=function(t,e){r=t,u=e,v()},g.links=function(e){return arguments.length?(t=e,v(),g):t},g.id=function(t){return arguments.length?(l=t,g):l},g.iterations=function(t){return arguments.length?(p=+t,g):p},g.strength=function(t){return arguments.length?(d="function"==typeof t?t:o(+t),y(),g):d},g.distance=function(t){return arguments.length?(f="function"==typeof t?t:o(+t),m(),g):f},g},f={value:()=>{}};function p(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new g(r)}function g(t){this._=t}function v(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function y(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=f,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}g.prototype=p.prototype={constructor:g,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=y(i[n],t.name,e);else if(null==e)for(n in i)i[n]=y(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=v(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new g(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var m=p,b=n("9fCz");const x=4294967296;function A(t){return t.x}function w(t){return t.y}var _=10,M=Math.PI*(3-Math.sqrt(5)),S=function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=Object(b.a)(h),l=m("tick","end"),c=function(){let t=1;return()=>(t=(1664525*t+1013904223)%x)/x}();function h(){d(),l.call("tick",e),n<r&&(u.stop(),l.call("end",e))}function d(r){var u,l,c=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,s.forEach(function(t){t(n)}),u=0;u<c;++u)null==(l=t[u]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return e}function f(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=_*Math.sqrt(.5+n),o=n*M;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,c),e}return null==t&&(t=[]),f(),e={tick:d,restart:function(){return u.restart(h),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(c=t,s.forEach(p),e):c},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,u,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(i=e-(s=t[l]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(t,n){return arguments.length>1?(l.on(t,n),e):l.on(t)}}},O=function(){var t,e,n,r,s,u=o(-30),l=1,c=1/0,h=.81;function d(n){var o,a=t.length,s=Object(i.quadtree)(t,A,w).visitAfter(p);for(r=n,o=0;o<a;++o)e=t[o],s.visit(g)}function f(){if(t){var e,n,r=t.length;for(s=new Array(r),e=0;e<r;++e)n=t[e],s[n.index]=+u(n,e,t)}}function p(t){var e,n,r,i,o,a=0,u=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(a+=e.value,u+=n,r+=n*e.x,i+=n*e.y);t.x=r/u,t.y=i/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=s[e.data.index]}while(e=e.next)}t.value=a}function g(t,i,o,u){if(!t.value)return!0;var d=t.x-e.x,f=t.y-e.y,p=u-i,g=d*d+f*f;if(p*p/h<g)return g<c&&(0===d&&(g+=(d=a(n))*d),0===f&&(g+=(f=a(n))*f),g<l&&(g=Math.sqrt(l*g)),e.vx+=d*t.value*r/g,e.vy+=f*t.value*r/g),!0;if(!(t.length||g>=c)){(t.data!==e||t.next)&&(0===d&&(g+=(d=a(n))*d),0===f&&(g+=(f=a(n))*f),g<l&&(g=Math.sqrt(l*g)));do{t.data!==e&&(p=s[t.data.index]*r/g,e.vx+=d*p,e.vy+=f*p)}while(t=t.next)}}return d.initialize=function(e,r){t=e,n=r,f()},d.strength=function(t){return arguments.length?(u="function"==typeof t?t:o(+t),f(),d):u},d.distanceMin=function(t){return arguments.length?(l=t*t,d):Math.sqrt(l)},d.distanceMax=function(t){return arguments.length?(c=t*t,d):Math.sqrt(c)},d.theta=function(t){return arguments.length?(h=t*t,d):Math.sqrt(h)},d},I=function(t,e,n){var r,i,a,s=o(.1);function u(t){for(var o=0,s=r.length;o<s;++o){var u=r[o],l=u.x-e||1e-6,c=u.y-n||1e-6,h=Math.sqrt(l*l+c*c),d=(a[o]-h)*i[o]*t/h;u.vx+=l*d,u.vy+=c*d}}function l(){if(r){var e,n=r.length;for(i=new Array(n),a=new Array(n),e=0;e<n;++e)a[e]=+t(r[e],e,r),i[e]=isNaN(a[e])?0:+s(r[e],e,r)}}return"function"!=typeof t&&(t=o(+t)),null==e&&(e=0),null==n&&(n=0),u.initialize=function(t){r=t,l()},u.strength=function(t){return arguments.length?(s="function"==typeof t?t:o(+t),l(),u):s},u.radius=function(e){return arguments.length?(t="function"==typeof e?e:o(+e),l(),u):t},u.x=function(t){return arguments.length?(e=+t,u):e},u.y=function(t){return arguments.length?(n=+t,u):n},u},E=function(t){var e,n,r,i=o(.1);function a(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function s(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=o(null==t?0:+t)),a.initialize=function(t){e=t,s()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:o(+t),s(),a):i},a.x=function(e){return arguments.length?(t="function"==typeof e?e:o(+e),s(),a):t},a},C=function(t){var e,n,r,i=o(.1);function a(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function s(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=o(null==t?0:+t)),a.initialize=function(t){e=t,s()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:o(+t),s(),a):i},a.y=function(e){return arguments.length?(t="function"==typeof e?e:o(+e),s(),a):t},a};n.d(e,"forceCenter",function(){return r}),n.d(e,"forceCollide",function(){return l}),n.d(e,"forceLink",function(){return d}),n.d(e,"forceManyBody",function(){return O}),n.d(e,"forceRadial",function(){return I}),n.d(e,"forceSimulation",function(){return S}),n.d(e,"forceX",function(){return E}),n.d(e,"forceY",function(){return C})},"17Ia":function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&("get"in i?e.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=a(n("1/b1")),l=s(n("iPQi")),c=s(n("TQfK")),h=n("Cq/5");e.default=function(t,e){var n=t.nodes,i=t.edges,o=e.width,a=e.height;if(!(null===n||void 0===n?void 0:n.length))return Promise.resolve();var s=[];n.forEach(function(t){if(i.filter(function(e){return e.source===t.id||e.target===t.id}).length>1){var e=r({},t);delete e.size,s.push(e)}});var d=[];i.forEach(function(t){var e=s.find(function(e){return e.id===t.source}),n=s.find(function(e){return e.id===t.target});e&&n&&d.push(t)});var f=new h.DagreLayout({type:"dagre",ranksep:e.nodeMinGap,nodesep:e.nodeMinGap}).layout({nodes:s,edges:d}).nodes;n.forEach(function(t){var e=(f||[]).find(function(e){return e.id===t.id});t.x=(null===e||void 0===e?void 0:e.x)||o/2,t.y=(null===e||void 0===e?void 0:e.y)||a/2});var p=JSON.parse(JSON.stringify(n)),g=JSON.parse(JSON.stringify(i)),v=u.forceSimulation().nodes(p).force("link",u.forceLink(g).id(function(t){return t.id}).distance(function(t){return d.find(function(e){return e.source===t.source&&e.target===t.target})?30:20})).force("charge",u.forceManyBody()).force("center",u.forceCenter(o/2,a/2)).force("x",u.forceX(o/2)).force("y",u.forceY(a/2)).alpha(.3).alphaDecay(.08).alphaMin(.001);return new Promise(function(t){v.on("end",function(){n.forEach(function(t){var e=p.find(function(e){return e.id===t.id});e&&(t.x=e.x,t.y=e.y)});var r=Math.min.apply(Math,n.map(function(t){return t.x})),s=Math.max.apply(Math,n.map(function(t){return t.x})),u=Math.min.apply(Math,n.map(function(t){return t.y})),h=Math.max.apply(Math,n.map(function(t){return t.y})),d=o/(s-r),f=a/(h-u);n.forEach(function(t){void 0!==t.x&&d<1&&(t.x=(t.x-r)*d),void 0!==t.y&&f<1&&(t.y=(t.y-u)*f)}),n.forEach(function(t){t.sizeTemp=t.size,t.size=[10,10]}),(0,c.default)(n,i),n.forEach(function(t){t.size=t.sizeTemp||[],delete t.sizeTemp}),(0,l.default)({nodes:n,edges:i},e),t()})})}},"1VE+":function(t,e,n){var r=n("Oy1H").default,i=n("5ttK");t.exports=function(t){var e=i(t,"string");return"symbol"===r(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},"1YJU":function(t,e){},"1we+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};n.d(r,"components",function(){return T}),n.d(r,"dfs",function(){return D}),n.d(r,"dijkstra",function(){return R}),n.d(r,"dijkstraAll",function(){return B}),n.d(r,"findCycles",function(){return F}),n.d(r,"tarjan",function(){return z}),n.d(r,"isAcyclic",function(){return K}),n.d(r,"postorder",function(){return J}),n.d(r,"preorder",function(){return $}),n.d(r,"prim",function(){return k}),n.d(r,"topsort",function(){return Z}),n.d(r,"floydWarshall",function(){return et});var i={};n.d(i,"isGraph",function(){return ft}),n.d(i,"isSimpleGraph",function(){return pt}),n.d(i,"isNullGraph",function(){return gt}),n.d(i,"hasSelfLoop",function(){return vt});var o={};n.d(o,"containAllSameEdges",function(){return ut}),n.d(o,"containAllSameNodes",function(){return st}),n.d(o,"containSameEdges",function(){return rt}),n.d(o,"containSameNodes",function(){return nt}),n.d(o,"isGraphComplement",function(){return yt}),n.d(o,"isGraphOptionSame",function(){return at}),n.d(o,"getSameEdges",function(){return ot}),n.d(o,"getSameNodes",function(){return it}),n.d(o,"isGraphSame",function(){return lt}),n.d(o,"isGraphContainsAnother",function(){return ct});var a,s={};function u(t,e){var n=t.get(e)||0;t.set(e,n+1)}function l(t,e){var n=t.get(e);void 0!==n&&((n-=1)>0?t.set(e,n):t.delete(e))}function c(t,e,n,r){var i=String(e),o=String(n);if(!t&&i>o){var s=i;i=o,o=s}return i+a.EDGE_KEY_DELIM+o+a.EDGE_KEY_DELIM+(void 0===r?a.DEFAULT_EDGE_NAME:r)}function h(t,e,n,r){var i=String(e),o=String(n),a={v:e,w:n};if(!t&&i>o){var s=a.v;a.v=a.w,a.w=s}return void 0!==r&&(a.name=r),a}function d(t,e){return c(t,e.v,e.w,e.name)}function f(t){return"function"==typeof t}n.d(s,"getGraphComplement",function(){return mt}),function(t){t.DEFAULT_EDGE_NAME="\0",t.GRAPH_NODE="\0",t.EDGE_KEY_DELIM=""}(a||(a={}));var p=function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:function(t){return t.nodes().map(function(e){var n={id:e,value:t.node(e),parent:t.parent(e)};return void 0===n.value&&delete n.value,void 0===n.parent&&delete n.parent,n})}(t),edges:function(t){return t.edges().map(function(e){var n=t.edge(e),r={v:e.v,w:e.w,value:n,name:e.name};return void 0===r.name&&delete r.name,void 0===r.value&&delete r.value,r})}(t),value:t.graph()};return void 0===e.value&&delete e.value,e};function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach(function(e){y(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var b={compound:!1,multigraph:!1,directed:!0},x=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.directed=!0,this.multigraph=!1,this.compound=!1,this.GRAPH_NODE=a.GRAPH_NODE,this.label=void 0,this.nodeCountNum=0,this.edgeCountNum=0,this.defaultNodeLabelFn=function(){},this.defaultEdgeLabelFn=function(){},this.parentMap=void 0,this.childrenMap=void 0,this.nodesLabelMap=new Map,this.inEdgesMap=new Map,this.outEdgesMap=new Map,this.predecessorsMap=new Map,this.successorsMap=new Map,this.edgesMap=new Map,this.edgesLabelsMap=new Map,this.isDirected=function(){return e.directed},this.isMultigraph=function(){return e.multigraph},this.isCompound=function(){return e.compound},this.setGraph=function(t){return e.label=t,e},this.graph=function(){return e.label},this.setDefaultNodeLabel=function(t){return f(t)?e.defaultNodeLabelFn=t:e.defaultNodeLabelFn=function(){return t},e},this.nodeCount=function(){return e.nodeCountNum},this.node=function(t){return e.nodesLabelMap.get(t)},this.nodes=function(){return Array.from(e.nodesLabelMap.keys())},this.sources=function(){return e.nodes().filter(function(t){var n;return!(null===(n=e.inEdgesMap.get(t))||void 0===n?void 0:n.size)})},this.sinks=function(){return e.nodes().filter(function(t){var n;return!(null===(n=e.outEdgesMap.get(t))||void 0===n?void 0:n.size)})},this.setNodes=function(t,n){return t.map(function(t){return e.setNode(t,n)}),e},this.hasNode=function(t){return e.nodesLabelMap.has(t)},this.checkCompound=function(){if(!e.isCompound())throw new Error("Cannot construct parent-children relations in a non-compound graph")},this.parent=function(t){if(e.isCompound()){var n,r=null===(n=e.parentMap)||void 0===n?void 0:n.get(t);if(r!==e.GRAPH_NODE)return r}},this.removeFromParentsChildList=function(t){var n=e.parentMap.get(t);e.childrenMap.get(n).delete(t)},this.setParent=function(t,n){var r,i;e.checkCompound();for(var o=void 0===n?e.GRAPH_NODE:n,a=e.parent(o);a;){if(t===a)throw new Error("Setting "+n+" as parent of "+t+" would create a cycle");a=e.parent(a)}n&&e.setNode(n),e.setNode(t),e.removeFromParentsChildList(t),null===(r=e.parentMap)||void 0===r||r.set(t,o);var s=e.childrenMap.get(o);return s.set(t,!0),null===(i=e.childrenMap)||void 0===i||i.set(o,s),e},this.children=function(t){var n=void 0===t?e.GRAPH_NODE:t;if(e.isCompound()){var r,i=null===(r=e.childrenMap)||void 0===r?void 0:r.get(n);return i?Array.from(i.keys()):void 0}return n===e.GRAPH_NODE?e.nodes():t&&e.hasNode(t)?[]:void 0},this.predecessors=function(t){var n=e.predecessorsMap.get(t);return n?Array.from(n.keys()):void 0},this.successors=function(t){var n=e.successorsMap.get(t);return n?Array.from(n.keys()):void 0},this.neighbors=function(t){var n;if(e.hasNode(t))return Array.from(new Set(null===(n=e.predecessors(t))||void 0===n?void 0:n.concat(e.successors(t))))},this.isLeaf=function(t){var n,r;return e.isDirected()?!(null===(r=e.successors(t))||void 0===r?void 0:r.length):!(null===(n=e.neighbors(t))||void 0===n?void 0:n.length)},this.filterNodes=function(n){var r=e.directed,i=e.multigraph,o=e.compound,a=new t({directed:r,multigraph:i,compound:o});if(a.setGraph(e.graph()),e.nodes().forEach(function(t){n(t)&&a.setNode(t,e.node(t))}),e.edges().forEach(function(t){a.hasNode(t.v)&&a.hasNode(t.w)&&a.setEdgeObj(t,e.edge(t))}),o){a.nodes().forEach(function(t){a.setParent(t,function(t){for(var n=e.parent(t);void 0!==n&&!a.hasNode(n);)n=e.parent(n);return n}(t))})}return a},this.setDefaultEdgeLabel=function(t){return f(t)?e.defaultEdgeLabelFn=t:e.defaultEdgeLabelFn=function(){return t},e},this.edgeCount=function(){return e.edgeCountNum},this.setEdgeObj=function(t,n){return e.setEdge(t.v,t.w,n,t.name)},this.setPath=function(t,n){return t.reduce(function(t,r){return e.setEdge(t,r,n),r}),e},this.edgeFromArgs=function(t,n,r){return e.edge({v:t,w:n,name:r})},this.edge=function(t){return e.edgesLabelsMap.get(d(e.isDirected(),t))},this.hasEdge=function(t,n,r){return e.edgesLabelsMap.has(d(e.isDirected(),{v:t,w:n,name:r}))},this.removeEdgeObj=function(t){var n=t.v,r=t.w,i=t.name;return e.removeEdge(n,r,i)},this.edges=function(){return Array.from(e.edgesMap.values())},this.inEdges=function(t,n){var r=e.inEdgesMap.get(t);if(r)return Array.from(r.values()).filter(function(t){return!n||t.v===n})},this.outEdges=function(t,n){var r=e.outEdgesMap.get(t);if(r)return Array.from(r.values()).filter(function(t){return!n||t.w===n})},this.nodeEdges=function(t,n){var r;if(e.hasNode(t))return null===(r=e.inEdges(t,n))||void 0===r?void 0:r.concat(e.outEdges(t,n))},this.toJSON=function(){return p(e)},this.nodeInDegree=function(t){var n=e.inEdgesMap.get(t);return n?n.size:0},this.nodeOutDegree=function(t){var n=e.outEdgesMap.get(t);return n?n.size:0},this.nodeDegree=function(t){return e.nodeInDegree(t)+e.nodeOutDegree(t)},this.source=function(t){return t.v},this.target=function(t){return t.w};var r=v(v({},b),n);this.compound=r.compound,this.directed=r.directed,this.multigraph=r.multigraph,this.compound&&(this.parentMap=new Map,this.childrenMap=new Map)}var e,n,r;return e=t,(n=[{key:"setNode",value:function(t,e){var n,r=this.nodesLabelMap,i=this.defaultNodeLabelFn,o=this.isCompound,a=this.parentMap,s=this.childrenMap,u=this.inEdgesMap,l=this.outEdgesMap,c=this.predecessorsMap,h=this.successorsMap;if(r.has(t))return void 0!==e&&r.set(t,e),this;(r.set(t,e||i(t)),o())&&(null===a||void 0===a||a.set(t,this.GRAPH_NODE),null===s||void 0===s||s.set(t,new Map),(null===s||void 0===s?void 0:s.has(this.GRAPH_NODE))||null===s||void 0===s||s.set(this.GRAPH_NODE,new Map),null===s||void 0===s||null===(n=s.get(this.GRAPH_NODE))||void 0===n||n.set(t,!0));return[u,l,c,h].forEach(function(e){return e.set(t,new Map)}),this.nodeCountNum+=1,this}},{key:"removeNode",value:function(t){var e=this;if(this.hasNode(t)){var n,r,i,o=function(t){e.removeEdge(t.v,t.w,t.name)},a=this.inEdgesMap,s=this.outEdgesMap,u=this.predecessorsMap,l=this.successorsMap,c=this.nodesLabelMap;if(this.isCompound())this.removeFromParentsChildList(t),null===(n=this.parentMap)||void 0===n||n.delete(t),null===(r=this.children(t))||void 0===r||r.forEach(function(t){return e.setParent(t)}),null===(i=this.childrenMap)||void 0===i||i.delete(t);var h=a.get(t),d=s.get(t);Array.from(h.values()).forEach(function(t){return o(t)}),Array.from(d.values()).forEach(function(t){return o(t)}),c.delete(t),a.delete(t),s.delete(t),u.delete(t),l.delete(t),this.nodeCountNum-=1}return this}},{key:"setEdge",value:function(t,e,n,r){var i,o,a=h(this.isDirected(),t,e,r),s=d(this.isDirected(),a),l=a.v,c=a.w;if(this.edgesLabelsMap.has(s))return this.edgesLabelsMap.set(s,n),this;if(void 0!==r&&!this.isMultigraph())throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(l),this.setNode(c),this.edgesLabelsMap.set(s,n||this.defaultEdgeLabelFn(l,c,r)),Object.freeze(a),this.edgesMap.set(s,a);var f=this.predecessorsMap.get(c),p=this.successorsMap.get(l);return u(f,l),u(p,c),null===(i=this.inEdgesMap.get(c))||void 0===i||i.set(s,a),null===(o=this.outEdgesMap.get(l))||void 0===o||o.set(s,a),this.edgeCountNum+=1,this}},{key:"removeEdge",value:function(t,e,n){var r=c(this.isDirected(),t,e,n);if(this.edgesMap.get(r)){var i=h(this.isDirected(),t,e,n),o=i.v,a=i.w;this.edgesLabelsMap.delete(r),this.edgesMap.delete(r);var s=this.predecessorsMap.get(a),u=this.successorsMap.get(o);l(s,o),l(u,a),this.inEdgesMap.get(a).delete(r),this.outEdgesMap.get(o).delete(r),this.edgeCountNum-=1}return this}}])&&m(e.prototype,n),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function A(t){"@babel/helpers - typeof";return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=O(t);if(e){var i=O(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}x.fromJSON=function(t){var e=new x(t.options);return void 0!==t.value&&e.setGraph(t.value),t.nodes.forEach(function(t){e.setNode(t.id,t.value),t.parent&&e.setParent(t.id,t.parent)}),t.edges.forEach(function(t){e.setEdge(t.v,t.w,t.value,t.name)}),e};var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(o,x);var e,n,r,i=S(o);function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).eventPool={},t}return e=o,(n=[{key:"appendEvent",value:function(t,e){this.eventPool[t]||(this.eventPool[t]=[]),this.eventPool[t].push(e)}},{key:"removeEvent",value:function(t,e){if(this.eventPool[t]){var n=this.eventPool[t].indexOf(e);n>-1&&this.eventPool[t].splice(n,1)}}},{key:"emitEvent",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.eventPool[t]&&this.eventPool[t].forEach(function(t){t.apply(void 0,n)})}},{key:"setNode",value:function(t,e){return _(O(o.prototype),"setNode",this).call(this,t,e),this.emitEvent("nodeAdd",t,e),this}},{key:"removeNode",value:function(t){return _(O(o.prototype),"removeNode",this).call(this,t),this.emitEvent("nodeRemove",t),this}},{key:"setEdge",value:function(t,e,n,r){return _(O(o.prototype),"setEdge",this).call(this,t,e,n,r),this.emitEvent("edgeAdd",t,e,n,r),this}},{key:"removeEdge",value:function(t,e,n){return _(O(o.prototype),"removeEdge",this).call(this,t,e,n),this.emitEvent("edgeRemove",t,e,n),this}}])&&w(e.prototype,n),r&&w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}();function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var C=function(t,e,n){return e&&E(t.prototype,e),n&&E(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.arr=[],this.keyIndice=new Map,this.size=function(){return e.arr.length},this.keys=function(){return e.arr.map(function(t){return t.key})},this.has=function(t){return e.keyIndice.has(t)},this.priority=function(t){var n=e.keyIndice.get(t);if(void 0!==n)return e.arr[n].priority},this.swap=function(t,n){var r=e.arr,i=e.keyIndice,o=[r[t],r[n]],a=o[0],s=o[1];r[t]=s,r[n]=a,i.set(a.key,n),i.set(s.key,t)},this.innerDecrease=function(t){for(var n,r=e.arr,i=r[t].priority,o=t;0!==o;){var a;if((null===(a=r[n=o>>1])||void 0===a?void 0:a.priority)<i)break;e.swap(o,n),o=n}},this.heapify=function(t){var n=e.arr,r=t<<1,i=r+1,o=t;r<n.length&&(o=n[r].priority<n[o].priority?r:o,i<n.length&&(o=n[i].priority<n[o].priority?i:o),o!==t&&(e.swap(t,o),e.heapify(o)))},this.min=function(){if(0===e.size())throw new Error("Queue underflow");return e.arr[0].key},this.add=function(t,n){var r=e.keyIndice,i=e.arr;if(!r.has(t)){var o=i.length;return r.set(t,o),i.push({key:t,priority:n}),e.innerDecrease(o),!0}return!1},this.removeMin=function(){e.swap(0,e.arr.length-1);var t=e.arr.pop();return e.keyIndice.delete(t.key),e.heapify(0),t.key},this.decrease=function(t,n){if(!e.has(t))throw new Error("There's no key named ".concat(t));var r=e.keyIndice.get(t);if(n>e.arr[r].priority)throw new Error("New priority is greater than current priority.Key: ".concat(t," Old: + ").concat(e.arr[r].priority," New: ").concat(n));e.arr[r].priority=n,e.innerDecrease(r)}}),k=function(t,e){var n,r=new x,i=new Map,o=new C;function a(t){var r=t.v===n?t.w:t.v,a=o.priority(r);if(void 0!==a){var s=e(t);s<a&&(i.set(r,n),o.decrease(r,s))}}if(0===t.nodeCount())return r;t.nodes().forEach(function(t){o.add(t,Number.POSITIVE_INFINITY),r.setNode(t)}),o.decrease(t.nodes()[0],0);for(var s=!1;o.size()>0;){var u;if(n=o.removeMin(),i.has(n))r.setEdge(n,i.get(n));else{if(s)throw new Error("Input graph is not connected: "+t.graph());s=!0}null===(u=t.nodeEdges(n))||void 0===u||u.forEach(a)}return r},T=function(t){var e=new Set,n=[];return t.nodes().forEach(function(r){for(var i=[],o=[r];o.length>0;){var a,s,u=o.pop();e.has(u)||(e.add(u),i.push(u),null===(a=t.successors(u))||void 0===a||a.forEach(function(t){return o.push(t)}),null===(s=t.predecessors(u))||void 0===s||s.forEach(function(t){return o.push(t)}))}i.length&&n.push(i)}),n},D=function(t,e,n){var r=function(e){return t.isDirected()?t.successors(e):t.neighbors(e)},i=[],o=[];return(Array.isArray(e)?e:[e]).forEach(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,r,i,o,a){i.includes(n)||(i.push(n),r||a.push(n),o(n).forEach(function(n){return t(e,n,r,i,o,a)}),r&&a.push(n))}(t,e,"post"===n,o,r,i)}),i};function j(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var P=function(){return 1},N=function(t,e,n,r){var i,o,a=new Map,s=new C,u=function(t){var e=t.v!==i?t.v:t.w,r=a.get(e),u=n(t),l=o.distance+u;if(u<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+u);l<r.distance&&(r.distance=l,r.predecessor=i,s.decrease(e,l))};for(t.nodes().forEach(function(t){var n=t===e?0:Number.POSITIVE_INFINITY;a.set(t,{distance:n}),s.add(t,n)});s.size()>0&&(i=s.removeMin(),!(o=a.get(i))||o.distance!==Number.POSITIVE_INFINITY);)r(i).forEach(u);var l={};return Array.from(a.entries()).forEach(function(t){var e=j(t,2),n=e[0],r=e[1];return l[String(n)]=r,l}),l},R=function(t,e,n,r){return N(t,e,n||P,r||function(e){return t.outEdges(e)})},B=function(t,e,n){var r={};return t.nodes().forEach(function(i){return r[String(i)]=R(t,i,e,n),r}),r},z=function(t){var e=0,n=[],r=new Map,i=[];return t.nodes().forEach(function(o){r.has(o)||function o(a){var s,u={onStack:!0,lowlink:e,index:e};if(r.set(a,u),e+=1,n.push(a),null===(s=t.successors(a))||void 0===s||s.forEach(function(t){var e;if(r.has(t)){if(null===(e=r.get(t))||void 0===e?void 0:e.onStack){var n=r.get(t);u.lowlink=Math.min(u.lowlink,n.index)}}else{o(t);var i=r.get(t);u.lowlink=Math.min(u.lowlink,i.lowlink)}}),u.lowlink===u.index){var l,c=[];do{l=n.pop(),r.get(l).onStack=!1,c.push(l)}while(a!==l);i.push(c)}}(o)}),i},F=function(t){return z(t).filter(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])})};function G(t){"@babel/helpers - typeof";return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(t){var e=Y();return function(){var n,r=q(t);if(e){var i=q(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===G(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function W(t){var e="function"==typeof Map?new Map:void 0;return(W=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return H(t,arguments,q(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),X(r,t)})(t)}function H(t,e,n){return(H=Y()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&X(i,n.prototype),i}).apply(null,arguments)}function Y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X(t,e)}(o,W(Error));var e,n,r,i=U(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,n&&V(e.prototype,n),r&&V(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}();var Z=function(t){var e=new Set,n=new Set,r=[];if(t.sinks().forEach(function i(o){if(n.has(o))throw new Q;var a;e.has(o)||(n.add(o),e.add(o),null===(a=t.predecessors(o))||void 0===a||a.forEach(i),n.delete(o),r.push(o))}),e.size!==t.nodeCount())throw new Q;return r},K=function(t){try{Z(t)}catch(t){if(t instanceof Q)return!1;throw t}return!0},J=function(t,e){return D(t,e,"post")},$=function(t,e){return D(t,e,"pre")},tt=function(){return 1};var et=function(t,e,n){return function(t,e,n){var r={},i=t.nodes();return i.forEach(function(t){var o=String(t);r[o]={},r[o][o]={distance:0},i.forEach(function(e){t!==e&&(r[o][String(e)]={distance:Number.POSITIVE_INFINITY})}),n(t).forEach(function(n){var i=n.v===t?n.w:n.v,a=e(n);r[o][String(i)]={distance:a,predecessor:t}})}),i.forEach(function(t){var e=String(t),n=r[e];i.forEach(function(t){var o=String(t),a=r[o];i.forEach(function(t){var r=String(t),i=a[e],o=n[r],s=a[r],u=i.distance+o.distance;u<s.distance&&(s.distance=u,s.predecessor=o.predecessor)})})}),r}(t,e||tt,n||function(e){return t.outEdges(e)})},nt=function(t,e){for(var n=t.nodes(),r=0;r<n.length;r++){var i=n[r];if(e.hasNode(i))return!0}return!1},rt=function(t,e){for(var n=t.edges(),r=0;r<n.length;r++){var i=n[r];if(e.hasEdge(i.v,i.w,i.name))return!0}return!1},it=function(t,e){return t.nodes().filter(function(t){return e.hasNode(t)})},ot=function(t,e){return t.edges().filter(function(t){return e.hasEdge(t.v,t.w,t.name)})},at=function(t,e){return t.isCompound()===e.isCompound()&&t.isDirected()===e.isDirected()&&t.isMultigraph()===e.isMultigraph()},st=function(t,e){return it(t,e).length===t.nodes().length},ut=function(t,e){return ot(t,e).length===t.edges().length},lt=function(t,e){return at(t,e)&&t.nodeCount()===e.nodeCount()&&st(t,e)&&t.edgeCount()===e.edgeCount()&&ut(t,e)},ct=function(t,e){return st(t,e)&&ut(t,e)};function ht(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return dt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ft(t){return t instanceof x}function pt(t){if(t.isMultigraph())return!1;for(var e=t.edges(),n=new Map,r=0;r<e.length;r++){var i=e[r];if(i.v===i.w)return!1;var o=ht([i.v,i.w].sort(),2),a=o[0],s=o[1],u="".concat(a,"-").concat(s);if(n.has(u))return!1;n.set(u,!0)}return!0}function gt(t){return 0===t.nodes().length}function vt(t){for(var e=t.edges(),n=0;n<e.length;n++){var r=e[n];if(r.v===r.w)return!0}return!1}var yt=function(t,e){if(!pt(t)||!pt(e))return!1;if(!st(t,e))return!1;if(rt(t,e))return!1;var n=t.nodeCount();return t.edgeCount()+e.edgeCount()===n*(n-1)/2},mt=function(t){if(!pt(t))return null;for(var e=t.nodeCount(),n=new x({compound:t.isCompound(),directed:t.isDirected(),multigraph:t.isMultigraph()}),r=t.nodes(),i=0;i<e;i++){var o=r[i];n.setNode(o,t.node(o));for(var a=i+1;a<e;a++){var s=r[a];t.hasEdge(o,s)||n.setEdge(o,s)}}return n};n.d(e,"Graph",function(){return x}),n.d(e,"GraphWithEvent",function(){return I}),n.d(e,"algorithm",function(){return r}),n.d(e,"comparision",function(){return o}),n.d(e,"essence",function(){return i}),n.d(e,"generate",function(){return s})},"2F+n":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RadialLayout=void 0;var a=n("ZE1E"),s=n("w9t0"),u=o(n("RjVl")),l=o(n("qZxm"));function c(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var h=function(t){function e(e){var n=t.call(this)||this;return n.maxIteration=1e3,n.focusNode=null,n.unitRadius=null,n.linkDistance=50,n.preventOverlap=!1,n.strictRadial=!0,n.maxPreventOverlapIteration=200,n.sortStrength=10,n.nodes=[],n.edges=[],n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges||[];if(e&&0!==e.length){t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var r=t.center;if(1===e.length)return e[0].x=r[0],e[0].y=r[1],void(t.onLayoutEnd&&t.onLayoutEnd());var i=t.linkDistance,o=null;if((0,a.isString)(t.focusNode)){for(var s=!1,c=0;c<e.length;c++)e[c].id===t.focusNode&&(o=e[c],t.focusNode=o,s=!0,c=e.length);s||(o=null)}else o=t.focusNode;o||(o=e[0],t.focusNode=o);var h,d,f,p=(h=e,d=o.id,f=-1,h.forEach(function(t,e){t.id===d&&(f=e)}),f);p<0&&(p=0),t.focusIndex=p;var g=(0,a.getAdjMatrix)({nodes:e,edges:n},!1),v=(0,a.floydWarshall)(g),y=t.maxToFocus(v,p);t.handleInfinity(v,p,y+1),t.distances=v;var m=v[p],b=t.width||500,x=t.height||500,A=b-r[0]>r[0]?r[0]:b-r[0],w=x-r[1]>r[1]?r[1]:x-r[1];0===A&&(A=b/2),0===w&&(w=x/2);var _=w>A?A:w,M=Math.max.apply(Math,m),S=[];m.forEach(function(e,n){t.unitRadius||(t.unitRadius=_/M),S[n]=e*t.unitRadius}),t.radii=S;var O=t.eIdealDisMatrix();t.eIdealDistances=O;var I=function(t){for(var e=t.length,n=t[0].length,r=[],i=0;i<e;i++){for(var o=[],a=0;a<n;a++)0!==t[i][a]?o.push(1/(t[i][a]*t[i][a])):o.push(0);r.push(o)}return r}(O);t.weights=I;var E=new u.default({linkDistance:i,distances:O}).layout();E.forEach(function(t){(0,a.isNaN)(t[0])&&(t[0]=Math.random()*i),(0,a.isNaN)(t[1])&&(t[1]=Math.random()*i)}),t.positions=E,E.forEach(function(t,n){e[n].x=t[0]+r[0],e[n].y=t[1]+r[1]}),E.forEach(function(t){t[0]-=E[p][0],t[1]-=E[p][1]}),t.run();var C,k=t.preventOverlap,T=t.nodeSize,D=t.strictRadial;if(k){var j,L=t.nodeSpacing;j=(0,a.isNumber)(L)?function(){return L}:(0,a.isFunction)(L)?L:function(){return 0},C=T?(0,a.isArray)(T)?function(t){return(T[0]>T[1]?T[0]:T[1])+j(t)}:function(t){return T+j(t)}:function(t){return t.size?(0,a.isArray)(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])+j(t):(0,a.isObject)(t.size)?(t.size.width>t.size.height?t.size.width:t.size.height)+j(t):t.size+j(t):10+j(t)};var P={nodes:e,nodeSizeFunc:C,adjMatrix:g,positions:E,radii:S,height:x,width:b,strictRadial:D,focusID:p,iterations:t.maxPreventOverlapIteration||200,k:E.length/4.5},N=new l.default(P);E=N.layout()}return E.forEach(function(t,n){e[n].x=t[0]+r[0],e[n].y=t[1]+r[1]}),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n}}t.onLayoutEnd&&t.onLayoutEnd()},e.prototype.run=function(){for(var t=this.maxIteration,e=this.positions||[],n=this.weights||[],r=this.eIdealDistances||[],i=this.radii||[],o=0;o<=t;o++){var a=o/t;this.oneIteration(a,e,i,r,n)}},e.prototype.oneIteration=function(t,e,n,r,i){var o=1-t,a=this.focusIndex;e.forEach(function(s,u){var l=c(s,[0,0]),h=0===l?0:1/l;if(u!==a){var d=0,f=0,p=0;e.forEach(function(t,e){if(u!==e){var n=c(s,t),o=0===n?0:1/n,a=r[e][u];p+=i[u][e],d+=i[u][e]*(t[0]+a*(s[0]-t[0])*o),f+=i[u][e]*(t[1]+a*(s[1]-t[1])*o)}});var g=0===n[u]?0:1/n[u];p*=o,p+=t*g*g,d*=o,d+=t*g*s[0]*h,s[0]=d/p,f*=o,f+=t*g*s[1]*h,s[1]=f/p}})},e.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var n=t.distances,r=t.linkDistance,i=t.radii||[],o=t.unitRadius||50,s=[];return n&&n.forEach(function(n,u){var l=[];n.forEach(function(n,s){if(u===s)l.push(0);else if(i[u]===i[s])if("data"===t.sortBy)l.push(n*(Math.abs(u-s)*t.sortStrength)/(i[u]/o));else if(t.sortBy){var c=e[u][t.sortBy]||0,h=e[s][t.sortBy]||0;(0,a.isString)(c)&&(c=c.charCodeAt(0)),(0,a.isString)(h)&&(h=h.charCodeAt(0)),l.push(n*(Math.abs(c-h)*t.sortStrength)/(i[u]/o))}else l.push(n*r/(i[u]/o));else{var d=(r+o)/2;l.push(n*d)}}),s.push(l)}),s},e.prototype.handleInfinity=function(t,e,n){for(var r=t.length,i=0;i<r;i++)if(t[e][i]===1/0){t[e][i]=n,t[i][e]=n;for(var o=0;o<r;o++)t[i][o]!==1/0&&t[e][o]===1/0&&(t[e][o]=n+t[i][o],t[o][e]=n+t[i][o])}for(i=0;i<r;i++)if(i!==e)for(o=0;o<r;o++)if(t[i][o]===1/0){var a=Math.abs(t[e][i]-t[e][o]);a=0===a?1:a,t[i][o]=a}},e.prototype.maxToFocus=function(t,e){for(var n=0,r=0;r<t[e].length;r++)t[e][r]!==1/0&&(n=t[e][r]>n?t[e][r]:n);return n},e.prototype.getType=function(){return"radial"},e}(s.Base);e.RadialLayout=h},"2LXz":function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wgARCACmAKIDASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAQGAwUHAgH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHn4AAAAAAAAAAAAABmMSw7cpDovw518s1bPIAAAAABkJdz8b8+xKpoDo234/vjoXPOjak5Z8mQwAAAABNhZDo8CrxzBi+/BKi5Do9gqV1OQ6q31I8gAAAAAAAAuHQeedCKfQ71RTGAAAAAA9ZiOn5TV5NnsTaXjQ2M5zVer6457sLz6KXpOh000oABkPW73FsKdst9AM0ytRi3TaDdCfDzUU3GupcQt+l1XwlRvgAASI8g6zCma4pMPY4DXZpdrIlz8aM8UPLrgAAAAB78C32rlGyOm4aELvhpcIsdbh/AAAAAAAAAAAAAAAAAAAAAAAAAAAD/xAArEAACAgICAAQFBAMAAAAAAAABAgMEABEFEhMhIjAUICMxQBAVMjNCUGD/2gAIAQEAAQUC/wBnrNHNH8FELGKkWxONBwcUuNxK5bpeHhXXvQwFzVpqBqKMNajGLdXcdhJMmgWRb9boxGvcVd5x0A6yuI1s3PMzMT4rZRsEPDKHS7B2Fhesntwfek4VLtjJDtv0hbq3HS9ssD0XR9X21bWLbZRJOX+Rc4o+cnml6L1N9/weLPn90vjH/l+DxY9X+F84/wDL8BV3nFp5uPRe7FjE5K13xKjHJKelkTr7GsEROCq5z4KTBQkyPj3ylAY8P2mrBsWmu/BiTO8C5NPDq2yk/LGnYx0C+JxOJxvXI6gXPBXBGu1RdaAyWfpknJBcPKjJeQ7Y9kktKxze/lQbanS2EhVA0ypj3QMPI6xuTOR8gzPBIWV3Crft6MkxbNnN+xD/AG01+henMayXXJNhjhkJxEaQ06eJqJL1vQmlMh9qH+2m30L8JcfAsSaZGJTLGpR64OsQt3h1mmLn21Omq8h1xJlmAiTGroc8FI8e2IxPyW8lmLn3QdYlx0z9zlz9zlw8jIceyz4fP/iv/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAwEBPwFz/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAgEBPwFz/8QAHhAAAwABBQEBAAAAAAAAAAAAAAExEBEgITBAQWD/2gAIAQEABj8C/DQhMQ4Xg5WKUuHp3c40TKUWrw33v2PysfkflZCEJ2QhMwhD4fDjfCdVKXen0vrQjgpcptY4fYhbecNa9uolu08HDKUpfxf/xAAjEAEBAQACAgICAgMAAAAAAAABABEhMTBBEGFAUSBxUGCB/9oACAEBAAE/If8AJY2v1fVfVY/gYwVkbOyE/wBEA6SmGfPmD4Qlr2pdX8O8ETrFxLIsfIzuYE3zidUO+YF7/DACiwLYPJ0XaS2wNoPziNxS5v8AU+/IrskMlzLvzxY4Rv6j0hjPwnuwGfiFDj/i4Z2/GWP68yKzmDz9RICUxLe8ibRO54DV1N1I33JHtF5Vd4R3Fts7GvcEF6iMx9x/kmeQkR5nvF2wWR0Q/S9AWDiHes1mwV5j3k4t8MK7fxwyPJuXXVJFcJbu43uPkTWca2CGR3b7rX7t8HIX6mGpyau2V7CGZssA5EaFMFfJSR31Oclhy9XZbLui/QwQR3zd+POjGeVpYfV7MjmaXBsuSGUO2+V3pd6X2b7MXy7sFLW/6V//2gAMAwEAAgADAAAAEMMMMMMMMMMMAAABGBBAAAAAAAGCJAKAAAAAAFIBNNAAAAAAAAEHABCAAAAADEJFGCDAAINBEINNMAAADPOJPAAAAAADPHKIAAAAAAAAAAAAAAAAAAAAAAAAAAP/xAAUEQEAAAAAAAAAAAAAAAAAAABg/9oACAEDAQE/EHP/xAAUEQEAAAAAAAAAAAAAAAAAAABg/9oACAECAQE/EHP/xAAlEAEAAgIBBAEFAQEAAAAAAAABABEhUTEwYXGRQRAgQIGhYLH/2gAIAQEAAT8Qt2y3bLdst2y3bLdst2y3bLdst2y3bLdst2y3bLdst2y3bLdst2y3bLdv5w3B9N3E7iJcnXC+IbQ/UBS52Ss9yH3F2kUL6CJAp56pHxUuGeHxDJBRqMoeIMFK8wwIrF6hxqKjHepSinqCw3FArxyQuBQjaTwx8/0ltPZLSUv5YK2LUyg41ME1l6lM24vssbgcV8xbz5+qkPDGNjioLjvKYUYtiU10yVTj28xcq77xFb9UAsos6glzBaOczsZ+CKOGCJbyQWR+JxGGvN+CcxKeSBmKldzLy/S2mdxK6pCiVimpuiEopbGocNWpW2+oGC41HEo6HxmcEZyi/UGL/jET/jGD0MXLz9Th3xLQK+IVIepwHqUBvO8dg9okH9Pup1MMNswwgQKZVQIwR4h/MBh6oNICB0MRgjAolyxmWhK8wDl7nPF+3vuxMc88QGgKNQ6sCI2B1AV5gGB7gQyKfM5iEIyUYjY3vcS2+4o3b3FeVLbl/cRB3C+Zi3UqFrmg9Ii3KEFx4llC/EE4lEpKUfDFZNvTVM7lT0VbsZcLzHm3iAdsrAY77RCZgUY8y4qrenVHxHClGOYYMyZRcu0efk7ROqV2jo4IiI/TEw6e8Uqr1bmZhACrUAK+magjsrlxVXP+K//Z"},"2Si+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,l,c,h,d,f=t._root,p={data:r},g=t._x0,v=t._y0,y=t._x1,m=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((l=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(v+m)/2))?v=a:m=a,i=f,!(f=f[h=c<<1|l]))return i[h]=p,t;if(s=+t._x.call(null,f.data),u=+t._y.call(null,f.data),e===s&&n===u)return p.next=f,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(v+m)/2))?v=a:m=a}while((h=c<<1|l)==(d=(u>=a)<<1|s>=o));return i[d]=f,i[h]=p,t}var i=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function o(t){return t[0]}function a(t){return t[1]}function s(t,e,n){var r=new u(null==e?o:e,null==n?a:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function u(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function l(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var c=s.prototype=u.prototype;c.copy=function(){var t,e,n=new u(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=l(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=l(e));return n},c.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return r(this.cover(e,n),e,n,t)},c.addAll=function(t){var e,n,i,o,a=t.length,s=new Array(a),u=new Array(a),l=1/0,c=1/0,h=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(s[n]=i,u[n]=o,i<l&&(l=i),i>h&&(h=i),o<c&&(c=o),o>d&&(d=o));if(l>h||c>d)return this;for(this.cover(l,c).cover(h,d),n=0;n<a;++n)r(this,s[n],u[n],t[n]);return this},c.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,u=i-n||1,l=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},c.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},c.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},c.find=function(t,e,n){var r,o,a,s,u,l,c,h=this._x0,d=this._y0,f=this._x1,p=this._y1,g=[],v=this._root;for(v&&g.push(new i(v,h,d,f,p)),null==n?n=1/0:(h=t-n,d=e-n,f=t+n,p=e+n,n*=n);l=g.pop();)if(!(!(v=l.node)||(o=l.x0)>f||(a=l.y0)>p||(s=l.x1)<h||(u=l.y1)<d))if(v.length){var y=(o+s)/2,m=(a+u)/2;g.push(new i(v[3],y,m,s,u),new i(v[2],o,m,y,u),new i(v[1],y,a,s,m),new i(v[0],o,a,y,m)),(c=(e>=m)<<1|t>=y)&&(l=g[g.length-1],g[g.length-1]=g[g.length-1-c],g[g.length-1-c]=l)}else{var b=t-+this._x.call(null,v.data),x=e-+this._y.call(null,v.data),A=b*b+x*x;if(A<n){var w=Math.sqrt(n=A);h=t-w,d=e-w,f=t+w,p=e+w,r=v.data}}return r},c.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,l,c,h,d,f=this._root,p=this._x0,g=this._y0,v=this._x1,y=this._y1;if(!f)return this;if(f.length)for(;;){if((l=o>=(s=(p+v)/2))?p=s:v=s,(c=a>=(u=(g+y)/2))?g=u:y=u,e=f,!(f=f[h=c<<1|l]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;f.data!==t;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=i,this)},c.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},c.root=function(){return this._root},c.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},c.visit=function(t){var e,n,r,o,a,s,u=[],l=this._root;for(l&&u.push(new i(l,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(l=e.node,r=e.x0,o=e.y0,a=e.x1,s=e.y1)&&l.length){var c=(r+a)/2,h=(o+s)/2;(n=l[3])&&u.push(new i(n,c,h,a,s)),(n=l[2])&&u.push(new i(n,r,h,c,s)),(n=l[1])&&u.push(new i(n,c,o,a,h)),(n=l[0])&&u.push(new i(n,r,o,c,h))}return this},c.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new i(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var o=e.node;if(o.length){var a,s=e.x0,u=e.y0,l=e.x1,c=e.y1,h=(s+l)/2,d=(u+c)/2;(a=o[0])&&n.push(new i(a,s,u,h,d)),(a=o[1])&&n.push(new i(a,h,u,l,d)),(a=o[2])&&n.push(new i(a,s,d,h,c)),(a=o[3])&&n.push(new i(a,h,d,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},c.x=function(t){return arguments.length?(this._x=t,this):this._x},c.y=function(t){return arguments.length?(this._y=t,this):this._y},n.d(e,"quadtree",function(){return s})},"2XIm":function(t,e,n){t.exports=n.p+"static/img/ImageNet5.043c15a.png"},"2b9l":function(t,e,n){t.exports=n.p+"static/img/modelEvaBackground.8612f7a.png"},"2j9C":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("TToO"),i=n("IgWN"),o=n("lSAc"),a=function(t,e,n,r){var i=t.nodes,a=void 0===i?[]:i,u=t.edges,l=void 0===u?[]:u,c=[],h={},d={},f={};a.forEach(function(t,n){var r=t.id;c.push(r),d[r]=1/0,r===e&&(d[r]=0)});for(var p=a.length,g=function(t){var e=function(t,e,n){for(var r,i=1/0,o=0;o<e.length;o++){var a=e[o].id;!n[a]&&t[a]<=i&&(i=t[a],r=e[o])}return r}(d,a,h),i=e.id;if(h[i]=!0,d[i]===1/0)return"continue";(n?(0,o.getOutEdgesNodeId)(i,l):(0,o.getEdgesByNodeId)(i,l)).forEach(function(t){var n=t.target,o=t.source,a=n===i?o:n,s=r&&t[r]?t[r]:1;d[a]>d[e.id]+s?(d[a]=d[e.id]+s,f[a]=[e.id]):d[a]===d[e.id]+s&&f[a].push(e.id)})},v=0;v<p;v++)g();f[e]=[e];var y={};for(var m in d)d[m]!==1/0&&s(e,m,f,y);var b={};for(var m in y)b[m]=y[m][0];return{length:d,path:b,allPath:y}};function s(t,e,n,o){if(t===e)return[t];if(o[e])return o[e];for(var a=[],u=0,l=n[e];u<l.length;u++){var c=s(t,l[u],n,o);if(!c)return;for(var h=0,d=c;h<d.length;h++){var f=d[h];(0,i.isArray)(f)?a.push((0,r.__spreadArray)((0,r.__spreadArray)([],f,!0),[e],!1)):a.push([f,e])}}return o[e]=a,o[e]}e.default=a},"30PV":function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wgARCAClAKYDASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAIGAwQFBwH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGgxlEAAAAAAAAAAlGUQAAAZCH2wd4oXz07mlDjb+QcdlxAAEoyiAAAOhz+yXywa2wMFa5ZdcFUtJT6j6n50c9KIBKMogAADs8bsnqkJ5Dyfk3HXND0R1jFW7RXCg8rpc0AlGUQAAB2eP3z03d1doxfMukbPI4VRLjVeREfAAlGUQAfT5l2bOce873UGHYqplqPL5xlwAAABKMogDe1r2Z7X81zewVfMWulXOmFCwZ8AAAABKMoj78znZ9F4VqK9RrPRja9Ao/qJv0m3+fFVwzgAAAASjKI6HP2z03vVO2Fa5N8gcTtT5ZzPPulXwAAAACUZRH34OndvNpnrLycejVXhRJ4wAAAAAlEAAAAAAAAAAP/xAApEAACAgEDAwMFAAMAAAAAAAABAgMEABESMgUQMCAhMRMVIjNAFEFC/9oACAEBAAEFAm5fyNy/kbl4dM2nNpzac0Prbl4FGuV6u/F6eM+2Jtk6eM/wcmqsCUI9LcvBVXc9SAAbAMJAwlDmkeSV42W5X24fnu3LwUP2wcHfaLF/Y33LF6hqa0v1EuxbkmhKkjTu3LwUP2wcLHG8T9QAnK1csacW1Hj3izSXLUQRuzcvBQ/bDwlXVblNmetRbfDUVcVduFwMvWABYk3ns3LwUP2wcMManBEownbkt9Y8m6kCLFkvmvduXr0zp6H6kI/DtPMI1n6lliyZDuPpbl6ghOV6rMatMLgGgeQLk9wLli8WxpC3rbl6YoS5r0TkFZVAXTtflKZNOxJOvgbl6IYS7U6W3EjCjUDBL7/66n8yfPgbl3RdWo1AQu1BLYVclv8AvXlLsOHU/mT58Dcu9SvuNePZFemZFe65KSl5KUft/wA9UPvJ8+BuXaMZ06MbT+KdRf20JatXYyVU2xyPtHUpdS3hbl2rLqaC6Kw1WzT34nTfeGlszgt2ztE831D4W5doX2mhYGisGBXXBGBmoXLNhQtufcfE3LvBOyGt1BQv3OPPuceTdRU5PaLYzEnxNy9G45vbN7ZuPlbl/J//xAAUEQEAAAAAAAAAAAAAAAAAAABg/9oACAEDAQE/AXP/xAAUEQEAAAAAAAAAAAAAAAAAAABg/9oACAECAQE/AXP/xAAcEAABBQEBAQAAAAAAAAAAAAABABAgMDERIUD/2gAIAQEABj8CPyn5T8prxYsWLJGoRxGJpCDcWwMDSEIY3ImkIN4F6FkzSEGxY+rYGkeIPtBoxA8fVtBn6FlpkDE1GAQLaudc1GAY8cFjUZFggxqM8WWmGx1Gsw1el/CtsMdWrVtp+X//xAAiEAACAQQCAgMBAAAAAAAAAAAAAREQITChIDFBYUBRkXH/2gAIAQEAAT8h2Pi7HxdjEmZ6D1nopNRy2MM+DzEPsK4gKNwGwsJzv1x2MMIh5NCW6Ex2B6BiaC1ZIWG4bGHcERXkWyQw8pQpWw0o4DYw7lE0OSP9GNhEkQQsUJuxElXYw7lNJDUw+shcghbCm42QyZrsYdyiaO0Q6JBaDiG0OqSEyGzddjAmfgv5uyChK+yWQIk1JIZG/wAjbfDY5u7CzIRgtgguxa4E+hMy+exxSktpFsC3KCOp4Hjhjjdje2DY4qCguhHRBo9iHE7x57HBgHFQqaEDgMUQWXkp7FUpGPQRBKhj6m2IkjrQVijFOxWRkRYVBKpDd2HpFhaXoU8TGGl4diqKfW4iO1KVAIp25J3xbHAouRYDE0g1Lsc4Uhkj7xbFU2hJC+iX27HD3sRMJ2BcTx7HFL8j2P09j9PeJb85Nj4v/9oADAMBAAIAAwAAABAAAAAAAAAAAAAAAATjhAAAAAAABTjzRQAAAAABTxDAiAAAAABCxiyCAAAACTBhQAAAAACRjSgAAAAAAQyiwCAAAAABQxQjwAAAAAABgBgAAAAAAAAAAAAAAAAD/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAwEBPxBz/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAgEBPxBz/8QAIxABAAIBAwQDAQEAAAAAAAAAAQARITFhoTBBUXEQIJFAgf/aAAgBAQABPxDkP5eQ/l5DpaAQeN5E9Y2omr7ch0akFy0ZR2hCzXqJ1mvEpT/Ia64x9geoqjFTR+nIdHB12ztgYATsioaqWWEvapCMLUpinqGbf6ch0QNxAKQ0gIuxKYdYIuH7BIDr5gW62S1nnLSKti6vnkOllP8AKJTO0wMdUroWOKa9yGJKwRyghFUiCnXt88h0s48p1akskWvaYvXeJpOa8SmiiIlQT7cRV3n55DpZwYCUxO2eyI2F2ImcARac7y3G2ZgKb3jJVz88h0EqEywf4Eoydo15iepIgN3uVU/2LwtZqDZqj9OQ+wW0QwG4i3DtMXCV2gGNCNsEIcxvEtN7jCTP35D63Kh4RlxLW5M5A2hVAqLT9QhYxB5qXzHbXQ5D6BbUsQztKwfnSDShUaoCU695djtOFNX30eQ+hcGrMyf1FJRRKeLN4xxPcWDhY7ttOJNX30eQ+XdEvzaTtDLVIR2uB2n7ScuQ5Ze3YMZU+IIL7R2vfR5D5qyu8cjnRMHMBBIOkrRaxS6h2ioMgl1NUS0ky99HkPkEPmEHqXG2I2zcssqXzs2gKdAIYyusdOWelyHzUO8QJDRDCCQjJEbAmCBMxyvMTMSZJ36XIfOisoWheZYafcCZMWWEA3NGjhd4obOnyH0FNGE0B/vzay2v6R1iepyH8v8A/9k="},"3BVV":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};n.d(r,"Base",function(){return l}),n.d(r,"Circle",function(){return c}),n.d(r,"Ellipse",function(){return d}),n.d(r,"Image",function(){return p}),n.d(r,"Line",function(){return m}),n.d(r,"Marker",function(){return w}),n.d(r,"Path",function(){return L}),n.d(r,"Polygon",function(){return N}),n.d(r,"Polyline",function(){return R}),n.d(r,"Rect",function(){return z}),n.d(r,"Text",function(){return F});var i=n("TToO"),o=n("i6H2"),a=n("PDVq"),s=n("gosJ"),u=n("SodV"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return r},e.prototype.getGroupBase=function(){return u.a},e.prototype.onCanvasChange=function(t){Object(s.h)(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=Object(o.getBBoxMethod)(t)(this),r=e/2,i=n.x-r,a=n.y-r,s=n.x+n.width+r,u=n.y+n.height+r;return{x:i,minX:i,y:a,minY:a,width:n.width+e,height:n.height+e,maxX:s,maxY:u}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,e){e&&(t.save(),Object(s.a)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);var r=this.getCanvasBBox();if(!Object(a.f)(e,r))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),Object(s.a)(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=Object(a.f)(e,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&(Object(a.i)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.isStroke()&&n>0&&(Object(a.i)(i)||1===i||(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(o.AbstractShape),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),s=o.x,u=o.y,l=o.r,c=i/2,h=Object(a.b)(s,u,t,e);return r&&n?h<=l+c:r?h<=l:!!n&&(h>=l-c&&h<=l+c)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()},e}(l);function h(t,e,n,r){return t/(n*n)+e/(r*r)}var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=i/2,s=o.x,u=o.y,l=o.rx,c=o.ry,d=(t-s)*(t-s),f=(e-u)*(e-u);return r&&n?h(d,f,l+a,c+a)<=1:r?h(d,f,l,c)<=1:!!n&&(h(d,f,l-a,c-a)>=1&&h(d,f,l+a,c+a)<=1)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,r,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,s=i>o?1:i/o,u=i>o?o/i:1;t.save(),t.translate(n,r),t.scale(s,u),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()}},e}(l);function f(t){return t instanceof HTMLElement&&Object(a.k)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,n=this.attrs;if(Object(a.k)(t)){var r=new Image;r.onload=function(){if(e.destroyed)return!1;e.attr("img",r),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},r.crossOrigin="Anonymous",r.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):f(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,s=e.sx,u=e.sy,l=e.swidth,c=e.sheight,h=e.img;(h instanceof Image||f(h))&&(Object(a.i)(s)||Object(a.i)(u)||Object(a.i)(l)||Object(a.i)(c)?t.drawImage(h,n,r,i,o):t.drawImage(h,s,u,l,c,n,r,i,o))},e}(l),g=n("6zlC");function v(t,e,n,r,i,o,a){var s=Math.min(t,n),u=Math.max(t,n),l=Math.min(e,r),c=Math.max(e,r),h=i/2;return o>=s-h&&o<=u+h&&a>=l-h&&a<=c+h&&g.c.pointToLine(t,e,n,r,o,a)<=i/2}var y=n("+ymx"),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=t.startArrow,a=t.endArrow;o&&y.b(this,t,r,i,e,n),a&&y.a(this,t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr();return v(o.x1,o.y1,o.x2,o.y2,i,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.startArrow,s=e.endArrow,u={dx:0,dy:0},l={dx:0,dy:0};a&&a.d&&(u=y.c(n,r,i,o,e.startArrow.d)),s&&s.d&&(l=y.c(n,r,i,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+u.dx,r+u.dy),t.lineTo(i-l.dx,o-l.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return g.c.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return g.c.pointAt(n,r,i,o,t)},e}(l),b=n("IgWN"),x=n("wHEO"),A={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return Object(b.isNil)(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,n,r=this.attr(),i=r.x,o=r.y,s=r.symbol||"circle",u=this._getR(r);if(Object(a.h)(s))n=(t=s)(i,o,u),n=Object(x.c)(n);else{if(!(t=e.Symbols[s]))return console.warn(s+" marker is not supported."),null;n=t(i,o,u)}return n},e.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");Object(s.e)(this,t,{path:e},n)},e.Symbols=A,e}(l);function _(t,e,n){var r=Object(o.getOffScreenContext)();return t.createPath(r),r.isPointInPath(e,n)}var M=1e-6;function S(t){return Math.abs(t)<M?0:t<0?-1:1}function O(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function I(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=t[o],s=t[(o+1)%i];if(O(a,s,[e,n]))return!0;S(a[1]-n)>0!=S(s[1]-n)>0&&S(e-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}var E=n("IzBs"),C=n("YPq+");function k(t,e,n,r,i,o,s,u){var l=(Math.atan2(u-e,s-t)+2*Math.PI)%(2*Math.PI);if(l<r||l>i)return!1;var c={x:t+n*Math.cos(l),y:e+n*Math.sin(l)};return Object(a.b)(c.x,c.y,s,u)<=o/2}var T=E.a.transform;var D=Object(i.__assign)({hasArc:function(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r][0];if("C"===i||"A"===i||"Q"===i){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,n=[],r=[],i=[],o=0;o<e;o++){var a=t[o],s=a[0];"M"===s?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):"Z"===s?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}},isPointInStroke:function(t,e,n,r,i){for(var o=!1,s=e/2,u=0;u<t.length;u++){var l=t[u],c=l.currentPoint,h=l.params,d=l.prePoint,f=l.box;if(!f||Object(a.e)(f.x-s,f.y-s,f.width+e,f.height+e,n,r)){switch(l.command){case"L":case"Z":o=v(d[0],d[1],c[0],c[1],e,n,r);break;case"Q":o=g.e.pointDistance(d[0],d[1],h[1],h[2],h[3],h[4],n,r)<=e/2;break;case"C":o=g.b.pointDistance(d[0],d[1],h[1],h[2],h[3],h[4],h[5],h[6],n,r,i)<=e/2;break;case"A":var p=l.arcParams,y=p.cx,m=p.cy,b=p.rx,x=p.ry,A=p.startAngle,w=p.endAngle,_=p.xRotation,M=[n,r,1],S=b>x?b:x,O=T(null,[["t",-y,-m],["r",-_],["s",1/(b>x?1:b/x),1/(b>x?x/b:1)]]);C.transformMat3(M,M,O),o=k(0,0,S,A,w,e,M[0],M[1])}if(o)break}}return o}},o.PathUtil);function j(t,e,n){for(var r=!1,i=0;i<t.length;i++){if(r=I(t[i],e,n))break}return r}var L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=Object(x.c)(t);var e=D.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=Object(x.d)(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var r=this.getStartTangent();y.b(this,t,r[0][0],r[0][1],r[1][0],r[1][1])}if(n){r=this.getEndTangent();y.a(this,t,r[0][0],r[0][1],r[1][0],r[1][1])}},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.getSegments(),a=this.get("hasArc"),s=!1;if(n){var u=this.getTotalLength();s=D.isPointInStroke(o,i,t,e,u)}if(!s&&r)if(a)s=_(this,t,e);else{var l=this.attr("path"),c=D.extractPolygons(l);s=j(c.polygons,t,e)||j(c.polylines,t,e)}return s},e.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");Object(s.e)(this,t,e,n)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return Object(b.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var i=this.get("curve");if(!r||0===r.length)return i?{x:i[0][1],y:i[0][2]}:null;Object(b.each)(r,function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)});var o=i[n];if(Object(b.isNil)(o)||Object(b.isNil)(n))return null;var a=o.length,s=i[n+1];return g.b.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",D.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,n,r,i=0,o=0,a=[],s=this.get("curve");s&&(Object(b.each)(s,function(t,e){n=s[e+1],r=t.length,n&&(i+=g.b.length(t[r-2],t[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)}),this.set("totalLength",i),0!==i?(Object(b.each)(s,function(u,l){n=s[l+1],r=u.length,n&&((t=[])[0]=o/i,e=g.b.length(u[r-2],u[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=e||0,t[1]=o/i,a.push(t))}),this.set("tCache",a)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,r=e[1].currentPoint,i=e[1].startTangent;t=[],i?(t.push([n[0]-i[0],n[1]-i[1]]),t.push([n[0],n[1]])):(t.push([r[0],r[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var r=e[n-2].currentPoint,i=e[n-1].currentPoint,o=e[n-1].endTangent;t=[],o?(t.push([i[0]-o[0],i[1]-o[1]]),t.push([i[0],i[1]])):(t.push([r[0],r[1]]),t.push([i[0],i[1]]))}return t},e}(l);function P(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++){if(v(t[a][0],t[a][1],t[a+1][0],t[a+1][1],e,n,r))return!0}if(i){var s=t[0],u=t[o-1];if(v(s[0],s[1],u[0],u[1],e,n,r))return!0}return!1}var N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr().points,a=!1;return n&&(a=P(o,i,t,e,!0)),!a&&r&&(a=I(o,t,e)),a},e.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];0===n?t.moveTo(r[0],r[1]):t.lineTo(r[0],r[1])}t.closePath()}},e}(l),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,r=e.startArrow,i=e.endArrow,o=n.length,a=n[0][0],s=n[0][1],u=n[o-1][0],l=n[o-1][1];r&&y.b(this,t,n[1][0],n[1][1],a,s),i&&y.a(this,t,n[o-2][0],n[o-2][1],u,l)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!(!n||!i)&&P(this.attr().points,i,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,r=e.startArrow,i=e.endArrow,o=n.length;if(!(n.length<2)){var a,s=n[0][0],u=n[0][1],l=n[o-1][0],c=n[o-1][1];if(r&&r.d)s+=(a=y.c(s,u,n[1][0],n[1][1],r.d)).dx,u+=a.dy;if(i&&i.d)l-=(a=y.c(n[o-2][0],n[o-2][1],l,c,i.d)).dx,c-=a.dy;t.beginPath(),t.moveTo(s,u);for(var h=0;h<o-1;h++){var d=n[h];t.lineTo(d[0],d[1])}t.lineTo(l,c)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(b.isNil)(e)?(this.set("totalLength",g.d.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),Object(b.each)(i,function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}),g.c.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,o=[];Object(b.each)(t,function(a,s){t[s+1]&&((n=[])[0]=i/e,r=g.c.length(a[0],a[1],t[s+1][0],t[s+1][1]),i+=r,n[1]=i/e,o.push(n))}),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(l),B=n("4KIz");var z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),s=o.x,u=o.y,l=o.width,c=o.height,h=o.radius;if(h){var d=!1;return n&&(d=function(t,e,n,r,i,o,a,s){return v(t+i,e,t+n-i,e,o,a,s)||v(t+n,e+i,t+n,e+r-i,o,a,s)||v(t+n-i,e+r,t+i,e+r,o,a,s)||v(t,e+r-i,t,e+i,o,a,s)||k(t+n-i,e+i,i,1.5*Math.PI,2*Math.PI,o,a,s)||k(t+n-i,e+r-i,i,0,.5*Math.PI,o,a,s)||k(t+i,e+r-i,i,.5*Math.PI,Math.PI,o,a,s)||k(t+i,e+i,i,Math.PI,1.5*Math.PI,o,a,s)}(s,u,l,c,h,i,t,e)),!d&&r&&(d=_(this,t,e)),d}var f=i/2;return r&&n?Object(a.e)(s-f,u-f,l+f,c+f,t,e):r?Object(a.e)(s,u,l,c,t,e):n?function(t,e,n,r,i,o,s){var u=i/2;return Object(a.e)(t-u,e-u,n,i,o,s)||Object(a.e)(t+n-u,e-u,i,r,o,s)||Object(a.e)(t+u,e+r-u,n,i,o,s)||Object(a.e)(t-u,e+u,i,r,o,s)}(s,u,l,c,i,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.radius;if(t.beginPath(),0===a)t.rect(n,r,i,o);else{var s=Object(B.a)(a),u=s[0],l=s[1],c=s[2],h=s[3];t.moveTo(n+u,r),t.lineTo(n+i-l,r),0!==l&&t.arc(n+i-l,r+l,l,-Math.PI/2,0),t.lineTo(n+i,r+o-c),0!==c&&t.arc(n+i-c,r+o-c,c,0,Math.PI/2),t.lineTo(n+h,r+o),0!==h&&t.arc(n+h,r+o-h,h,Math.PI/2,Math.PI),t.lineTo(n,r+u),0!==u&&t.arc(n+u,r+u,u,Math.PI,1.5*Math.PI),t.closePath()}},e}(l),F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=Object(o.assembleFont)(t)},e.prototype._setText=function(t){var e=null;Object(a.k)(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var r,i=this.attrs,s=i.textBaseline,u=i.x,l=i.y,c=1*i.fontSize,h=this._getSpaceingY(),d=Object(o.getTextHeight)(i.text,i.fontSize,i.lineHeight);Object(a.c)(e,function(e,i){r=l+i*(h+c)-d+c,"middle"===s&&(r+=d-c-(d-c)/2),"top"===s&&(r+=d-c),Object(a.i)(e)||(n?t.fillText(e,u,r):t.strokeText(e,u,r))})},e.prototype._drawText=function(t,e){var n=this.attr(),r=n.x,i=n.y,o=this.get("textArr");if(o)this._drawTextArr(t,o,e);else{var s=n.text;Object(a.i)(s)||(e?t.fillText(s,r,i):t.strokeText(s,r,i))}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&n>0&&(Object(a.i)(i)||1===i||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&(Object(a.i)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(l);n.d(e,"Base",function(){return l}),n.d(e,"Circle",function(){return c}),n.d(e,"Ellipse",function(){return d}),n.d(e,"Image",function(){return p}),n.d(e,"Line",function(){return m}),n.d(e,"Marker",function(){return w}),n.d(e,"Path",function(){return L}),n.d(e,"Polygon",function(){return N}),n.d(e,"Polyline",function(){return R}),n.d(e,"Rect",function(){return z}),n.d(e,"Text",function(){return F})},"3MGd":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(n("1we+").Graph);e.Graph=o},"3Vw4":function(t,e,n){t.exports=n.p+"static/img/afterDebias.e80336b.png"},"3jjx":function(t,e){},"3rtV":function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wgARCACiAKIDASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAQGAwUHAQL/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHn4AAAD36Ph9+Hy98AAAAAAAEjDZTDYbNPKZr+iYzlOi6tz81D3wAAAAAAbHXfR1ew8x6ESckSUfNNulDKTHy4gAAAAAACbdKJuTp07Q70UO+1g5hilxAAAAAAD3Y6+xFi3cnYmHOHzRL5VDmuGVFAAAAAAEiOLvZ+TzDp2flmyOp6GV4cpg7XVAAAAABnlGuZMYB7YNN0YsMfZU8p2nkxgAAABkx5C32Ot3c51o+uas5pNu+1KpfWUwc53tDMHyAAAAAGws1J+zq205XPOlSefbAt1Xg1EjwwAAAAAAAA9eD3wAAAAAAAAAAAAAAAAP/EACkQAAICAgEDAgUFAAAAAAAAAAECAwQAEhEFMDEhQBATFCAzFSIjQlD/2gAIAQEAAQUC99qc1OanOPYJEWyKmxyHp44fp4w0cs1tARx3h5p6FoYU1CAZoM+UuXau4sVihI471aTWSpY2APpt8GHIvxDJRw/dB4zp8/7opAVPkeD46nKVMh5bvQSaGrcyKRXGHx1OIsXHDd5E2yKBuaUZCj4XmGWPyd2CH5jQdNHCUguImgw+OpuQZDy3cHmmyhoHUr9l+INk44k7sb6mpd4xb68fXLkdsOeeRc8Wvy95H1wWTn1RyraO9eUuLKcrcXiT2PT4S0kMQVLLALcP8naSPfDVYBl1+yFdno1+B/XqE2uTNs3ZQctSqAmSmCturwTGRgQkrXJyrQ9YY9Eml0HUZtmPaQ8NTsescgZZKqy4/TlyPpw5SgoxIQmMwQdQtekkm57deTVvreBVtgj5yHFKn4M3AvWwElmZ27uxyGyVAvZF1PXP1dck6qCs85kb2XOc/wCr/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAwEBPwFz/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAgEBPwFz/8QAHhAAAgICAwEBAAAAAAAAAAAAAAExQBAhESAwUGD/2gAIAQEABj8C+lBtEEUURmDVFLq6ro7dVdH8RdnQkknLqumhDpp4fnwc4ggggT90jeIIIzp+0m2T0aTHQnpP4n//xAAhEAEBAQACAgIDAQEAAAAAAAABABEhMRAwQVEgQGFQcf/aAAgBAQABPyH90Fhvi/l4NH6CfBZOuZA/U54vVJ71kEsNJ0xK/HjAuZtaM92U7HqWkeUOkKcTulvHu37PkWBc/hwZXLe9DdjMI2RHXgepPk+9lxfPo3u9QwnqAalq9p3ZhZThYXUWHka4Mmj7rYo3keXqAWW8e5zdjzs+AX81hBjwN2e9V3B+b+ln9xnTxbV/RDbQji/4JCUC579TLC3SN8r8MA/twzBkdjZVfVjQgsuIEj5Pn1lNT5OaEQkL82/jLX1ZLZ6PAHJZZvJxjuC5jAKH2fWcXPrADPC59VMcMWktzgLdH2jkffdqmGAuWMO5sDOI9/oa2v3a+219/wCr/9oADAMBAAIAAwAAABAAAAAQwgAAAAAACASTQgAAAAACSSiwgAAAAAACwyCgAAAAABBSCQgAAAAABAzzQAAAAAAQgAgDgAAAAAhRDjAAAAABCyDCigAAAAAADABAAAAAAAAAAAAAAAAD/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAwEBPxBz/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAgEBPxBz/8QAJxABAAIBAwMEAQUAAAAAAAAAAQARITAxYUFRkRBAcYGhIFCxwfH/2gAIAQEAAT8Q96JgmxKJ7qcEdwa4K0QCKwRUPiYe3yS8o8Rb1+MVIzHaIImtUN7RiZbIwRtC9ibzG40m+TXaFCVT2iWNUabIyFCyHy2CADxAKTMQAQxhANeBBEJSjllClxLOG1+k6UBl0tRGfXXMlKh35qCmvErshtwhsXcZb2uHLfUuA1+Ynv5GYCb8LwXmEo2vVNghKmFhl+CBYYcQwOnpiobsL6RgFOrWtzs4SHLLqITHrvxA2d4QBjV2ltBTGD5mJPY9IDlbhWd4PC+w13FBatOVADlLLDHWGrhlrvqxKa9g7oihIiBWEVz0ZWr3m5pBxVfSxIktf6Ep7sQ+E9JVnYmIrpLWXpXZ1nZkMZ0bSzL6IQ34p/GhCK2eIjVaR2lEQol1AxOSszOlwTO0BIMEZIMgNxiqR2ZpF2QAAVFCqCH+QO8ZJedNWuV9IuGPb6w3T9ssVDCJ+IAIG0AgYvgwwZL6uqisYJO2GhZUtavMCK+YAf2m+8K3iyKmK0uuKbM5GczzP9acrzLXr+6f/9k="},"42O+":function(t,e,n){t.exports=n.p+"static/img/ImageNet0.09142e7.png"},"4HWa":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAYgSURBVHgB7ZhLbFRlFMfPud+9czvTx7TVWopAZwo0JSJSDI+AQssGqy7KwqCB2LoyykJJWLnB7sSNuNCwow0LFyaAK0wMadmIG6U0aNWgMzQkYNTQWtuZua/jOXem0ykz05nOzMIF/2Qyc7+5j98933l9H8Bj/Y8Uu0+RWCwRgRoKoUaaZjg3ReMeEBlkHd4WDcahBqoJ4BLcfIIixMchE+ImWv21gKwaUOCsJI0vpijieZmbYu0gNahC0zFrOJWgHxaTy3AiYjMuJiGS9AI3p+85Q1CFKrJgZkovJCzqsxygpfEHsyTGo/ZmxKWbGwaQadCYQfZIJdZcE+Cv96ydSVsNOQ68n3IAPPLh/Hv8MUt0+kLK//3xsAnrwgiYmR9NAwoYDKvWDloS8DZDaaQOWTYOOg712W4WLHv9nQcEI1+kBNIfbGe4j4ZMePoJpNxniF0FNKBwQtfpiofu9e0bApNQLqDksYTlvWd51IyEO/nunbYDLS77l+f5rpX3QpduOHBxwoGFJK0Yr69DOHFIh6P7dLFgrnxopYB0HlcazDH5pCJv1gjgZJ1ujUU7li284oG/zDiD8ym8ZNnpccp/oazlbsU9ujhu41Tcg9XE/gjvDBi0v0flPS9X8ofJ1m1t0PqiHXg9dzwrcf7FBfo9aVHef2whunPfEzC4/J2bZ7FSEtD9PRoI6OYODRrqstOfdYNgAKA5pEW61uPdgoCim7+5DxdT0Lx0/PlVC76Z9NYMVEriAgJ8ejDgA2pMUh9Eei660iHy8iAizuZQ00ISag4nknvKlHKaQnHujBnzAiYPUNO87El8IXa1V5XLV1VjEIErEEkQsgUlid7N43l0QEeMY85oWxgq1slXdAiHimeyJgYUC7L5BA5RoziUAkSPbilMR6vkra52BZXo/LsmnOVcePVMXVHI1kaNxPeEQjxPV9oElAKsA3VFV8vB096CXPiLW6GzDQvCnejTs8dzi/k+HAwgbHySg0PzpxcNtgNZyVslAaNRnFWKpzlzLN9d6woDfvBaAH78LOQn5EJwUzEPBkaSBa/d0oGcpJHYGD4Eg04WKoF6oYt1jUbZD8+Qlw7/fd0Kbt9dmZDD9ej7mA910uRjgGcjKg+ukPVEOzo1BiRkSOCqwnUaJgqdVzBEOZKvG+lpJin0h3eovGmeWyAY+HAZ4OywWTacqHuDIoOdXeeP1GdPc8fKBty20ZgwDZyQyOJDbGIn39Odf6qUuVzIcuH28Iy0NbLf8fsYfNuADpPFmoaiSc7UvDG2ov8ULujw+gtGwSfmQpYDJ3p5l07cJ/qJmj+kI50rdu6q7dZUzH3IlSTMiRSTNsH5r224+r1b8NxNbZo/7aXg9mxV8Ga/Dk31SC31iC0NEO/drKLFzl+1THCDeUplUo74y7EDBhVLOTN/eiXhWhsRBnYp3+eCBiCvW3iKaWS1a1YF3LZJH+V8NeknUQ6WFvabt18yKi7MR3oVPNWskeTAoJleWG2P6qNQKaCoTrmn6viNwU+mCAd6NBzcq8NadaRX99OVmbFcY0gjF6z+UteVBNzKER0KwDmONJJgEdhjL+qQaUDL0sFndBp4Xkn1IGmzuEmQhdRIbxlrk7IXTbfj7s35BOx0OEZSNsA/CYLRazZcm3JXvW73Vp2Oc6UxdULpXloaEJ5oghgn9a5ynlt2L6VIOyo+I1lfnFysMHTYgFd3F7ekTOvxgwrZ+hASy3E+DXPU6rw1AmVqzcvOhKXGF7jjdl0g7uWQrQo3fnbhy28d+Hs+HT+tbKU3DurQvV6ngO6hwDVzWmltgLmgsnpruux8VLIMdRgyYUFYFlcpzo/Sdc/85cFPMx78mwLYu0XzW3qTo1W+m4K81miA2cY6t7+7xDKzasAlSDulX+bk3cmLeJRFPFtTtjtAfkt3zGUM6/1oRQqHYK7eXDtcxYCi6RhFbEhvGnGlId+aDoHtymqNxO8oFEDkLidmgMbbcRiHClTV7lYsRs2L6H2StGEoaUkz7u86pHe3AiAJ+SuL8K1e7jGhQtVmf3DGGU7aeIZTUKfwMdhDLpMjPRvVp1ClarrDyvPbp3QML6S0sWqs9li11H83howjwP+I9AAAAABJRU5ErkJggg=="},"4KIz":function(t,e,n){"use strict";e.b=function(t,e,n){var l=e.getBBox();if(isNaN(l.x)||isNaN(l.y)||isNaN(l.width)||isNaN(l.height))return n;if(Object(r.k)(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(t,e,n){var r,o,a=i.exec(n),s=parseFloat(a[1])%360*(Math.PI/180),l=a[2],c=e.getBBox();s>=0&&s<.5*Math.PI?(r={x:c.minX,y:c.minY},o={x:c.maxX,y:c.maxY}):.5*Math.PI<=s&&s<Math.PI?(r={x:c.maxX,y:c.minY},o={x:c.minX,y:c.maxY}):Math.PI<=s&&s<1.5*Math.PI?(r={x:c.maxX,y:c.maxY},o={x:c.minX,y:c.minY}):(r={x:c.minX,y:c.maxY},o={x:c.maxX,y:c.minY});var h=Math.tan(s),d=h*h,f=(o.x-r.x+h*(o.y-r.y))/(d+1)+r.x,p=h*(o.x-r.x+h*(o.y-r.y))/(d+1)+r.y,g=t.createLinearGradient(r.x,r.y,f,p);return u(l,g),g}(t,e,n);if("r"===n[0])return function(t,e,n){var r=o.exec(n),i=parseFloat(r[1]),a=parseFloat(r[2]),l=parseFloat(r[3]),c=r[4];if(0===l){var h=c.match(s);return h[h.length-1].split(":")[1]}var d=e.getBBox(),f=d.maxX-d.minX,p=d.maxY-d.minY,g=Math.sqrt(f*f+p*p)/2,v=t.createRadialGradient(d.minX+f*i,d.minY+p*a,0,d.minX+f/2,d.minY+p/2,l*g);return u(c,v),v}(t,e,n);if("p"===n[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var r,i,o=a.exec(n),s=o[1],u=o[2];function l(){r=t.createPattern(i,s),e.set("pattern",r),e.set("patternSource",n)}switch(s){case"a":s="repeat";break;case"x":s="repeat-x";break;case"y":s="repeat-y";break;case"n":s="no-repeat";break;default:s="no-repeat"}i=new Image,u.match(/^data:/i)||(i.crossOrigin="Anonymous");i.src=u,i.complete?l():(i.onload=l,i.src=i.src);return r}(t,e,n)}return n}if(n instanceof CanvasPattern)return n},e.a=function(t){var e=0,n=0,i=0,o=0;Object(r.g)(t)?1===t.length?e=n=i=o=t[0]:2===t.length?(e=i=t[0],n=o=t[1]):3===t.length?(e=t[0],n=o=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],o=t[3]):e=n=i=o=t;return[e,n,i,o]};var r=n("PDVq"),i=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,a=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,s=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function u(t,e){var n=t.match(s);Object(r.c)(n,function(t){var n=t.split(":");e.addColorStop(n[0],n[1])})}},"4KtP":function(t,e,n){t.exports=n.p+"static/img/modelMeasureIcon.95fe307.png"},"4MdZ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("esuD"))&&r.__esModule?r:{default:r},o=n("lSAc");var a=function(t,e,n,r){void 0===r&&(r=!0);var a=function(t){void 0===t&&(t={});var e,n=t,r=function(){},i=(e={},function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)});return n.allowTraversal=t.allowTraversal||i,n.enter=t.enter||r,n.leave=t.leave||r,n}(n),s=new i.default,u=t.edges,l=void 0===u?[]:u;s.enqueue(e);for(var c="",h=function(){var t=s.dequeue();a.enter({current:t,previous:c}),(0,o.getNeighbors)(t,l,r?"target":void 0).forEach(function(e){a.allowTraversal({previous:c,current:t,next:e})&&s.enqueue(e)}),a.leave({current:t,previous:c}),c=t};!s.isEmpty();)h()};e.default=a},"4kcw":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.xmid=t.xmid,this.ymid=t.ymid,this.length=t.length,this.massCenter=t.massCenter||[0,0],this.mass=t.mass||1}return t.prototype.getLength=function(){return this.length},t.prototype.contains=function(t,e){var n=this.length/2;return t<=this.xmid+n&&t>=this.xmid-n&&e<=this.ymid+n&&e>=this.ymid-n},t.prototype.NW=function(){return new t({xmid:this.xmid-this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},t.prototype.NE=function(){return new t({xmid:this.xmid+this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},t.prototype.SW=function(){return new t({xmid:this.xmid-this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},t.prototype.SE=function(){return new t({xmid:this.xmid+this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},t}();e.default=r},"4t6P":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){for(var e,n,r=[],o=function(){var o=t.pop();r.push(o),null===(e=o.in.reverse())||void 0===e||e.forEach(function(t){return(e=o,function(t){t.merged||(void 0===t.barycenter||void 0===e.barycenter||t.barycenter>=e.barycenter)&&i(e,t)})(t);var e}),null===(n=o.out)||void 0===n||n.forEach(function(e){return(n=o,function(e){e.in.push(n),0==--e.indegree&&t.push(e)})(e);var n})};null===t||void 0===t?void 0:t.length;)o();var a=["vs","i","barycenter","weight"];return r.filter(function(t){return!t.merged}).map(function(t){var e={};return null===a||void 0===a||a.forEach(function(n){void 0!==t[n]&&(e[n]=t[n])}),e})},i=function(t,e){var n,r=0,i=0;t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.vs=null===(n=e.vs)||void 0===n?void 0:n.concat(t.vs),t.barycenter=r/i,t.weight=i,t.i=Math.min(e.i,t.i),e.merged=!0};e.default=function(t,e){var n,i,o,a={};null===t||void 0===t||t.forEach(function(t,e){a[t.v]={i:e,indegree:0,in:[],out:[],vs:[t.v]};var n=a[t.v];void 0!==t.barycenter&&(n.barycenter=t.barycenter,n.weight=t.weight)}),null===(n=e.edges())||void 0===n||n.forEach(function(t){var e=a[t.v],n=a[t.w];void 0!==e&&void 0!==n&&(n.indegree++,e.out.push(a[t.w]))});var s=null===(o=(i=Object.values(a)).filter)||void 0===o?void 0:o.call(i,function(t){return!t.indegree});return r(s)}},"5XWd":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConcentricLayout=void 0;var o=n("ZE1E"),a=function(t){function e(e){var n=t.call(this)||this;return n.nodeSize=30,n.minNodeSpacing=10,n.nodeSpacing=10,n.preventOverlap=!1,n.equidistant=!1,n.startAngle=1.5*Math.PI,n.clockwise=!0,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.onLayoutEnd=function(){},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{nodeSize:30,minNodeSpacing:10,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},e.prototype.execute=function(){var t,e,n=this,r=n.nodes,i=n.edges,a=r.length;if(0!==a){n.width||"undefined"==typeof window||(n.width=window.innerWidth),n.height||"undefined"==typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var s=n.center;if(1===a)return r[0].x=s[0],r[0].y=s[1],void(null===(e=n.onLayoutEnd)||void 0===e||e.call(n));var u,l=n.nodeSize,c=n.nodeSpacing,h=[],d=0;u=(0,o.isArray)(l)?Math.max(l[0],l[1]):l,(0,o.isArray)(c)?d=Math.max(c[0],c[1]):(0,o.isNumber)(c)&&(d=c),r.forEach(function(t){h.push(t);var e=u;(0,o.isArray)(t.size)?e=Math.max(t.size[0],t.size[1]):(0,o.isNumber)(t.size)?e=t.size:(0,o.isObject)(t.size)&&(e=Math.max(t.size.width,t.size.height)),u=Math.max(u,e),(0,o.isFunction)(c)&&(d=Math.max(c(t),d))}),n.clockwise=void 0!==n.counterclockwise?!n.counterclockwise:n.clockwise;var f={},p={};if(h.forEach(function(t,e){f[t.id]=t,p[t.id]=e}),!("degree"!==n.sortBy&&(0,o.isString)(n.sortBy)&&void 0!==h[0][n.sortBy]||(n.sortBy="degree",(0,o.isNumber)(r[0].degree)))){var g=(0,o.getDegree)(r.length,p,i);h.forEach(function(t,e){t.degree=g[e].all})}h.sort(function(t,e){return e[n.sortBy]-t[n.sortBy]}),n.maxValueNode=h[0],n.maxLevelDiff=n.maxLevelDiff||n.maxValueNode[n.sortBy]/4;var v=[[]],y=v[0];h.forEach(function(t){if(y.length>0){var e=Math.abs(y[0][n.sortBy]-t[n.sortBy]);n.maxLevelDiff&&e>=n.maxLevelDiff&&(y=[],v.push(y))}y.push(t)});var m=u+(d||n.minNodeSpacing);if(!n.preventOverlap){var b=v.length>0&&v[0].length>1,x=(Math.min(n.width,n.height)/2-m)/(v.length+(b?1:0));m=Math.min(m,x)}var A=0;if(v.forEach(function(t){var e=n.sweep;void 0===e&&(e=2*Math.PI-2*Math.PI/t.length);var r=t.dTheta=e/Math.max(1,t.length-1);if(t.length>1&&n.preventOverlap){var i=Math.cos(r)-Math.cos(0),o=Math.sin(r)-Math.sin(0),a=Math.sqrt(m*m/(i*i+o*o));A=Math.max(a,A)}t.r=A,A+=m}),n.equidistant){for(var w=0,_=0,M=0;M<v.length;M++){var S=v[M].r-_;w=Math.max(w,S)}_=0,v.forEach(function(t,e){0===e&&(_=t.r),t.r=_,_+=w})}return v.forEach(function(t){var e=t.dTheta,r=t.r;t.forEach(function(t,i){var o=n.startAngle+(n.clockwise?1:-1)*e*i;t.x=s[0]+r*Math.cos(o),t.y=s[1]+r*Math.sin(o)})}),n.onLayoutEnd&&n.onLayoutEnd(),{nodes:r,edges:i}}null===(t=n.onLayoutEnd)||void 0===t||t.call(n)},e.prototype.getType=function(){return"concentric"},e}(n("w9t0").Base);e.ConcentricLayout=a},"5tg8":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ForceAtlas2Layout=void 0;var a=n("w9t0"),s=n("ZE1E"),u=o(n("P2Of")),l=o(n("4kcw")),c=o(n("JUN/")),h=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.kr=5,n.kg=1,n.mode="normal",n.preventOverlap=!1,n.dissuadeHubs=!1,n.barnesHut=void 0,n.maxIteration=0,n.ks=.1,n.ksmax=10,n.tao=.1,n.onLayoutEnd=function(){},n.prune=void 0,n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.execute=function(){var t=this.nodes,e=this.onLayoutEnd,n=this.prune,r=this.maxIteration;this.width||"undefined"==typeof window||(this.width=window.innerWidth),this.height||"undefined"==typeof window||(this.height=window.innerHeight);for(var i=[],o=t.length,a=0;a<o;a+=1){var u=t[a],l=10,c=10;(0,s.isNumber)(u.size)&&(l=u.size,c=u.size),(0,s.isArray)(u.size)?(isNaN(u.size[0])||(l=u.size[0]),isNaN(u.size[1])||(c=u.size[1])):(0,s.isObject)(u.size)&&(l=u.size.width,c=u.size.height),this.getWidth&&!isNaN(this.getWidth(u))&&(c=this.getWidth(u)),this.getHeight&&!isNaN(this.getHeight(u))&&(l=this.getHeight(u));var h=Math.max(l,c);i.push(h)}void 0===this.barnesHut&&o>250&&(this.barnesHut=!0),void 0===this.prune&&o>100&&(this.prune=!0),0!==this.maxIteration||this.prune?0===this.maxIteration&&n&&(r=100,o<=200&&o>100?r=500:o>200&&(r=950),this.maxIteration=r):(r=250,o<=200&&o>100?r=1e3:o>200&&(r=1200),this.maxIteration=r),this.kr||(this.kr=50,o>100&&o<=500?this.kr=20:o>500&&(this.kr=1)),this.kg||(this.kg=20,o>100&&o<=500?this.kg=10:o>500&&(this.kg=1)),this.nodes=this.updateNodesByForces(i),e()},e.prototype.updateNodesByForces=function(t){for(var e=this.edges,n=this.maxIteration,r=this.nodes,i=e.filter(function(t){return(0,s.getEdgeTerminal)(t,"source")!==(0,s.getEdgeTerminal)(t,"target")}),o=r.length,a=i.length,u=[],l={},c={},h=[],d=0;d<o;d+=1)l[r[d].id]=d,u[d]=0,(void 0===r[d].x||isNaN(r[d].x))&&(r[d].x=1e3*Math.random()),(void 0===r[d].y||isNaN(r[d].y))&&(r[d].y=1e3*Math.random()),h.push({x:r[d].x,y:r[d].y});for(d=0;d<a;d+=1){for(var f=void 0,p=void 0,g=0,v=0,y=0;y<o;y+=1){var m=(0,s.getEdgeTerminal)(i[d],"source"),b=(0,s.getEdgeTerminal)(i[d],"target");r[y].id===m?(f=r[y],g=y):r[y].id===b&&(p=r[y],v=y),c[d]={sourceIdx:g,targetIdx:v}}f&&(u[l[f.id]]+=1),p&&(u[l[p.id]]+=1)}var x=n;if(r=this.iterate(x,l,c,a,u,t),this.prune){for(y=0;y<a;y+=1)u[c[y].sourceIdx]<=1?(r[c[y].sourceIdx].x=r[c[y].targetIdx].x,r[c[y].sourceIdx].y=r[c[y].targetIdx].y):u[c[y].targetIdx]<=1&&(r[c[y].targetIdx].x=r[c[y].sourceIdx].x,r[c[y].targetIdx].y=r[c[y].sourceIdx].y);this.prune=!1,this.barnesHut=!1,x=100,r=this.iterate(x,l,c,a,u,t)}return r},e.prototype.iterate=function(t,e,n,r,i,o){for(var a=this.nodes,s=this.kr,l=this.preventOverlap,c=this.barnesHut,h=a.length,d=0,f=t,p=[],g=[],v=[],y=0;y<h;y+=1)if(p[2*y]=0,p[2*y+1]=0,c){var m={id:y,rx:a[y].x,ry:a[y].y,mass:1,g:s,degree:i[y]};v[y]=new u.default(m)}for(;f>0;){for(y=0;y<h;y+=1)g[2*y]=p[2*y],g[2*y+1]=p[2*y+1],p[2*y]=0,p[2*y+1]=0;p=this.getAttrForces(f,50,r,e,n,i,o,p),p=c&&(l&&f>50||!l)?this.getOptRepGraForces(p,v,i):this.getRepGraForces(f,50,p,100,o,i);var b=this.updatePos(p,g,d,i);a=b.nodes,d=b.sg,f--,this.tick&&this.tick()}return a},e.prototype.getAttrForces=function(t,e,n,r,i,o,a,s){for(var u=this.nodes,l=this.preventOverlap,c=this.dissuadeHubs,h=this.mode,d=this.prune,f=0;f<n;f+=1){var p=u[i[f].sourceIdx],g=i[f].sourceIdx,v=u[i[f].targetIdx],y=i[f].targetIdx;if(!d||!(o[g]<=1||o[y]<=1)){var m=[v.x-p.x,v.y-p.y],b=Math.hypot(m[0],m[1]);b=b<1e-4?1e-4:b,m[0]=m[0]/b,m[1]=m[1]/b,l&&t<e&&(b=b-a[g]-a[y]);var x=b,A=x;"linlog"===h&&(A=x=Math.log(1+b)),c&&(x=b/o[g],A=b/o[y]),l&&t<e&&b<=0?(x=0,A=0):l&&t<e&&b>0&&(x=b,A=b),s[2*r[p.id]]+=x*m[0],s[2*r[v.id]]-=A*m[0],s[2*r[p.id]+1]+=x*m[1],s[2*r[v.id]+1]-=A*m[1]}}return s},e.prototype.getRepGraForces=function(t,e,n,r,i,o){for(var a=this.nodes,s=this.preventOverlap,u=this.kr,l=this.kg,c=this.center,h=this.prune,d=a.length,f=0;f<d;f+=1){for(var p=f+1;p<d;p+=1)if(!h||!(o[f]<=1||o[p]<=1)){var g=[a[p].x-a[f].x,a[p].y-a[f].y],v=Math.hypot(g[0],g[1]);v=v<1e-4?1e-4:v,g[0]=g[0]/v,g[1]=g[1]/v,s&&t<e&&(v=v-i[f]-i[p]);var y=u*(o[f]+1)*(o[p]+1)/v;s&&t<e&&v<0?y=r*(o[f]+1)*(o[p]+1):s&&t<e&&0===v?y=0:s&&t<e&&v>0&&(y=u*(o[f]+1)*(o[p]+1)/v),n[2*f]-=y*g[0],n[2*p]+=y*g[0],n[2*f+1]-=y*g[1],n[2*p+1]+=y*g[1]}var m=[a[f].x-c[0],a[f].y-c[1]],b=Math.hypot(m[0],m[1]);m[0]=m[0]/b,m[1]=m[1]/b;var x=l*(o[f]+1);n[2*f]-=x*m[0],n[2*f+1]-=x*m[1]}return n},e.prototype.getOptRepGraForces=function(t,e,n){for(var r=this.nodes,i=this.kg,o=this.center,a=this.prune,s=r.length,u=9e10,h=-9e10,d=9e10,f=-9e10,p=0;p<s;p+=1)a&&n[p]<=1||(e[p].setPos(r[p].x,r[p].y),r[p].x>=h&&(h=r[p].x),r[p].x<=u&&(u=r[p].x),r[p].y>=f&&(f=r[p].y),r[p].y<=d&&(d=r[p].y));var g={xmid:(h+u)/2,ymid:(f+d)/2,length:Math.max(h-u,f-d),massCenter:o,mass:s},v=new l.default(g),y=new c.default(v);for(p=0;p<s;p+=1)a&&n[p]<=1||e[p].in(v)&&y.insert(e[p]);for(p=0;p<s;p+=1)if(!(a&&n[p]<=1)){e[p].resetForce(),y.updateForce(e[p]),t[2*p]-=e[p].fx,t[2*p+1]-=e[p].fy;var m=[r[p].x-o[0],r[p].y-o[1]],b=Math.hypot(m[0],m[1]);b=b<1e-4?1e-4:b,m[0]=m[0]/b,m[1]=m[1]/b;var x=i*(n[p]+1);t[2*p]-=x*m[0],t[2*p+1]-=x*m[1]}return t},e.prototype.updatePos=function(t,e,n,r){for(var i=this.nodes,o=this.ks,a=this.tao,u=this.prune,l=this.ksmax,c=i.length,h=[],d=[],f=0,p=0,g=0;g<c;g+=1)if(!(u&&r[g]<=1)){var v=[t[2*g]-e[2*g],t[2*g+1]-e[2*g+1]],y=Math.hypot(v[0],v[1]),m=[t[2*g]+e[2*g],t[2*g+1]+e[2*g+1]],b=Math.hypot(m[0],m[1]);h[g]=y,d[g]=b/2,f+=(r[g]+1)*h[g],p+=(r[g]+1)*d[g]}var x=n;n=a*p/f,0!==x&&(n=n>1.5*x?1.5*x:n);for(g=0;g<c;g+=1)if(!(u&&r[g]<=1||(0,s.isNumber)(i[g].fx)&&(0,s.isNumber)(i[g].fy))){var A=o*n/(1+n*Math.sqrt(h[g])),w=Math.hypot(t[2*g],t[2*g+1]),_=l/(w=w<1e-4?1e-4:w),M=(A=A>_?_:A)*t[2*g],S=A*t[2*g+1];i[g].x+=M,i[g].y+=S}return{nodes:i,sg:n}},e}(a.Base);e.ForceAtlas2Layout=h},"5ttK":function(t,e,n){var r=n("Oy1H").default;t.exports=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},"6D6L":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MDSLayout=void 0;var o=n("hDRz"),a=n("ZE1E"),s=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.linkDistance=50,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},e.prototype.execute=function(){var t=this.nodes,e=this.edges,n=void 0===e?[]:e,r=this.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=r[0],t[0].y=r[1],void(this.onLayoutEnd&&this.onLayoutEnd());var i=this.linkDistance,o=(0,a.getAdjMatrix)({nodes:t,edges:n},!1),s=(0,a.floydWarshall)(o);this.handleInfinity(s);var u=(0,a.scaleMatrix)(s,i);this.scaledDistances=u;var l=this.runMDS();return this.positions=l,l.forEach(function(e,n){t[n].x=e[0]+r[0],t[n].y=e[1]+r[1]}),this.onLayoutEnd&&this.onLayoutEnd(),{nodes:t,edges:n}}this.onLayoutEnd&&this.onLayoutEnd()},e.prototype.runMDS=function(){var t=this.scaledDistances,e=o.Matrix.mul(o.Matrix.pow(t,2),-.5),n=e.mean("row"),r=e.mean("column"),i=e.mean();e.add(i).subRowVector(n).subColumnVector(r);var a=new o.SingularValueDecomposition(e),s=o.Matrix.sqrt(a.diagonalMatrix).diagonal();return a.leftSingularVectors.toJSON().map(function(t){return o.Matrix.mul([t],[s]).toJSON()[0].splice(0,2)})},e.prototype.handleInfinity=function(t){var e=-999999;t.forEach(function(t){t.forEach(function(t){t!==1/0&&e<t&&(e=t)})}),t.forEach(function(n,r){n.forEach(function(n,i){n===1/0&&(t[r][i]=e)})})},e.prototype.getType=function(){return"mds"},e}(n("w9t0").Base);e.MDSLayout=s},"6KJJ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e,n){var r,i={};null===n||void 0===n||n.forEach(function(n){for(var o,a,s=t.parent(n);s;){if((o=t.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void e.setEdge(a,s);s=o}})}},"6Kz3":function(t,e,n){"use strict";function r(t){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"GADDI",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"breadthFirstSearch",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"connectedComponent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"depthFirstSearch",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"detectCycle",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"dijkstra",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"findAllPath",{enumerable:!0,get:function(){return h.findAllPath}}),Object.defineProperty(e,"findShortestPath",{enumerable:!0,get:function(){return h.findShortestPath}}),Object.defineProperty(e,"floydWarshall",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"getAdjMatrix",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"getDegree",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"getInDegree",{enumerable:!0,get:function(){return s.getInDegree}}),Object.defineProperty(e,"getNeighbors",{enumerable:!0,get:function(){return m.getNeighbors}}),Object.defineProperty(e,"getOutDegree",{enumerable:!0,get:function(){return s.getOutDegree}}),Object.defineProperty(e,"labelPropagation",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"louvain",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"minimumSpanningTree",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"pageRank",{enumerable:!0,get:function(){return v.default}});var i=x(n("Jsh2")),o=x(n("4MdZ")),a=x(n("l8+k")),s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=b(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}i.default=t,n&&n.set(t,i);return i}(n("7N6o")),u=x(n("UO3t")),l=x(n("0buI")),c=x(n("2j9C")),h=n("uaD/"),d=x(n("+cvj")),f=x(n("lljM")),p=x(n("Dgox")),g=x(n("ToeE")),v=x(n("E9gP")),y=x(n("AZiY")),m=n("lSAc");function b(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(b=function(t){return t?n:e})(t)}function x(t){return t&&t.__esModule?t:{default:t}}},"6OHT":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+ZTV"),i=function(t,e,n){for(var i=(0,r.zipObject)(n,n.map(function(t,e){return e})),o=e.map(function(e){var n,r=null===(n=t.outEdges(e))||void 0===n?void 0:n.map(function(e){return{pos:i[e.w]||0,weight:t.edge(e).weight}});return null===r||void 0===r?void 0:r.sort(function(t,e){return t.pos-e.pos})}).flat().filter(function(t){return void 0!==t}),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=Array(s).fill(0,0,s),l=0;return null===o||void 0===o||o.forEach(function(t){if(t){var e=t.pos+a;u[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=u[e+1]),u[e=e-1>>1]+=t.weight;l+=t.weight*n}}),l};e.default=function(t,e){for(var n=0,r=1;r<(null===e||void 0===e?void 0:e.length);r+=1)n+=i(t,e[r-1],e[r]);return n}},"6hwo":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrayToTextureData=e.attributesToTextureData=e.buildTextureDataWithTwoEdgeAttr=e.buildTextureData=e.proccessToFunc=void 0;var r=n("ZE1E"),i=n("PRxO");e.proccessToFunc=function(t,e){return t?(0,r.isNumber)(t)?function(){return t}:t:function(){return e||1}};e.buildTextureData=function(t,e){var n=[],r=[],o={},a=0;for(a=0;a<t.length;a++){var s=t[a];o[s.id]=a,n.push(s.x),n.push(s.y),n.push(0),n.push(0),r.push([])}for(a=0;a<e.length;a++){var u=e[a],l=(0,i.getEdgeTerminal)(u,"source"),c=(0,i.getEdgeTerminal)(u,"target");isNaN(o[l])||isNaN(o[c])||(r[o[l]].push(o[c]),r[o[c]].push(o[l]))}var h=0;for(a=0;a<t.length;a++){var d=n.length,f=r[a],p=f.length;n[4*a+2]=d,n[4*a+3]=p,h=Math.max(h,p);for(var g=0;g<p;++g){var v=f[g];n.push(+v)}}for(;n.length%4!=0;)n.push(0);return{maxEdgePerVetex:h,array:new Float32Array(n)}};e.buildTextureDataWithTwoEdgeAttr=function(t,e,n,r){var o=[],a=[],s={},u=0;for(u=0;u<t.length;u++){var l=t[u];s[l.id]=u,o.push(l.x),o.push(l.y),o.push(0),o.push(0),a.push([])}for(u=0;u<e.length;u++){var c=e[u],h=(0,i.getEdgeTerminal)(c,"source"),d=(0,i.getEdgeTerminal)(c,"target");a[s[h]].push(s[d]),a[s[h]].push(n(c)),a[s[h]].push(r(c)),a[s[h]].push(0),a[s[d]].push(s[h]),a[s[d]].push(n(c)),a[s[d]].push(r(c)),a[s[d]].push(0)}var f=0;for(u=0;u<t.length;u++){var p=o.length,g=a[u],v=g.length;o[4*u+2]=p+1048576*v/4,o[4*u+3]=0,f=Math.max(f,v/4);for(var y=0;y<v;++y){var m=g[y];o.push(+m)}}for(;o.length%4!=0;)o.push(0);return{maxEdgePerVetex:f,array:new Float32Array(o)}};e.attributesToTextureData=function(t,e){var n=[],r=t.length,i={};return e.forEach(function(e){t.forEach(function(t,o){if(void 0===i[e[t]]&&(i[e[t]]=Object.keys(i).length),n.push(i[e[t]]),o===r-1)for(;n.length%4!=0;)n.push(0)})}),{array:new Float32Array(n),count:Object.keys(i).length}};e.arrayToTextureData=function(t){for(var e=[],n=t.length,r=t[0].length,i=function(r){t.forEach(function(t,i){if(e.push(t[r]),i===n-1)for(;e.length%4!=0;)e.push(0)})},o=0;o<r;o++)i(o);return new Float32Array(e)}},"6klO":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oneHot=e.getDistance=e.getAllKeyValueMap=e.default=void 0;var r,i=n("IgWN"),o=n("IJ9V"),a=(r=n("ncSy"))&&r.__esModule?r:{default:r};var s=function(t,e,n){var r=[];(null===e||void 0===e?void 0:e.length)?r=e:(t.forEach(function(t){r=r.concat(Object.keys(t))}),r=(0,i.uniq)(r));var o={};return r.forEach(function(e){var r=[];t.forEach(function(t){void 0!==t[e]&&""!==t[e]&&r.push(t[e])}),r.length&&!(null===n||void 0===n?void 0:n.includes(e))&&(o[e]=(0,i.uniq)(r))}),o};e.getAllKeyValueMap=s;var u=function(t,e,n){var r=s(t,e,n),i=[];if(!Object.keys(r).length)return i;var o=Object.values(r).every(function(t){return t.every(function(t){return"number"==typeof t})});return t.forEach(function(t,e){var n=[];Object.keys(r).forEach(function(e){var i=t[e],a=r[e],s=a.findIndex(function(t){return i===t}),u=[];if(o)u.push(i);else for(var l=0;l<a.length;l++)l===s?u.push(1):u.push(0);n=n.concat(u)}),i[e]=n}),i};e.oneHot=u;var l=function(t,e,n,r){void 0===n&&(n=o.DistanceType.EuclideanDistance);var i=0;switch(n){case o.DistanceType.EuclideanDistance:i=new a.default(t).euclideanDistance(new a.default(e))}return i};e.getDistance=l;var c={getAllKeyValueMap:s,oneHot:u,getDistance:l};e.default=c},"6zlC":function(t,e,n){"use strict";var r={};n.d(r,"distance",function(){return o}),n.d(r,"isNumberEqual",function(){return a}),n.d(r,"getBBoxByArray",function(){return s}),n.d(r,"getBBoxRange",function(){return u}),n.d(r,"piMod",function(){return l});var i=n("IgWN");function o(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function a(t,e){return Math.abs(t-e)<.001}function s(t,e){var n=Object(i.min)(t),r=Object(i.min)(e);return{x:n,y:r,width:Object(i.max)(t)-n,height:Object(i.max)(e)-r}}function u(t,e,n,r){return{minX:Object(i.min)([t,n]),maxX:Object(i.max)([t,n]),minY:Object(i.min)([e,r]),maxY:Object(i.max)([e,r])}}function l(t){return(t+2*Math.PI)%(2*Math.PI)}var c=n("SEFl"),h={box:function(t,e,n,r){return s([t,n],[e,r])},length:function(t,e,n,r){return o(t,e,n,r)},pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,r,i,a){var s=(n-t)*(i-t)+(r-e)*(a-e);return s<0?o(t,e,i,a):s>(n-t)*(n-t)+(r-e)*(r-e)?o(n,r,i,a):this.pointToLine(t,e,n,r,i,a)},pointToLine:function(t,e,n,r,i,o){var a=[n-t,r-e];if(c.exactEquals(a,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));var s=[-a[1],a[0]];c.normalize(s,s);var u=[i-t,o-e];return Math.abs(c.dot(u,s))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}},d=1e-4;function f(t,e,n,r,i,a){var s,u=1/0,l=[n,r],c=20;a&&a>200&&(c=a/10);for(var h=1/c,f=h/10,p=0;p<=c;p++){var g=p*h,v=[i.apply(null,t.concat([g])),i.apply(null,e.concat([g]))];(x=o(l[0],l[1],v[0],v[1]))<u&&(s=g,u=x)}if(0===s)return{x:t[0],y:e[0]};if(1===s){var y=t.length;return{x:t[y-1],y:e[y-1]}}u=1/0;for(p=0;p<32&&!(f<d);p++){var m=s-f,b=s+f,x=(v=[i.apply(null,t.concat([m])),i.apply(null,e.concat([m]))],o(l[0],l[1],v[0],v[1]));if(m>=0&&x<u)s=m,u=x;else{var A=[i.apply(null,t.concat([b])),i.apply(null,e.concat([b]))],w=o(l[0],l[1],A[0],A[1]);b<=1&&w<u?(s=b,u=w):f*=.5}}return{x:i.apply(null,t.concat([s])),y:i.apply(null,e.concat([s]))}}function p(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function g(t,e,n){var r=t+n-2*e;if(a(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function v(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function y(t,e,n,r,i,o,a){var s=p(t,n,i,a),u=p(e,r,o,a),l=h.pointAt(t,e,n,r,a),c=h.pointAt(n,r,i,o,a);return[[t,e,l.x,l.y,s,u],[s,u,c.x,c.y,i,o]]}var m={box:function(t,e,n,r,i,o){var a=g(t,n,i)[0],u=g(e,r,o)[0],l=[t,i],c=[e,o];return void 0!==a&&l.push(p(t,n,i,a)),void 0!==u&&c.push(p(e,r,o,u)),s(l,c)},length:function(t,e,n,r,i,a){return function t(e,n,r,i,a,s,u){if(0===u)return(o(e,n,r,i)+o(r,i,a,s)+o(e,n,a,s))/2;var l=y(e,n,r,i,a,s,.5),c=l[0],h=l[1];return c.push(u-1),h.push(u-1),t.apply(null,c)+t.apply(null,h)}(t,e,n,r,i,a,3)},nearestPoint:function(t,e,n,r,i,o,a,s){return f([t,n,i],[e,r,o],a,s,p)},pointDistance:function(t,e,n,r,i,a,s,u){var l=this.nearestPoint(t,e,n,r,i,a,s,u);return o(l.x,l.y,s,u)},interpolationAt:p,pointAt:function(t,e,n,r,i,o,a){return{x:p(t,n,i,a),y:p(e,r,o,a)}},divide:function(t,e,n,r,i,o,a){return y(t,e,n,r,i,o,a)},tangentAngle:function(t,e,n,r,i,o,a){var s=v(t,n,i,a),u=v(e,r,o,a);return l(Math.atan2(u,s))}};function b(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function x(t,e,n,r,i){var o=1-i;return 3*(o*o*(e-t)+2*o*i*(n-e)+i*i*(r-n))}function A(t,e,n,r){var i,o,s,u=-3*t+9*e-9*n+3*r,l=6*t-12*e+6*n,c=3*e-3*t,h=[];if(a(u,0))a(l,0)||(i=-c/l)>=0&&i<=1&&h.push(i);else{var d=l*l-4*u*c;a(d,0)?h.push(-l/(2*u)):d>0&&(o=(-l-(s=Math.sqrt(d)))/(2*u),(i=(-l+s)/(2*u))>=0&&i<=1&&h.push(i),o>=0&&o<=1&&h.push(o))}return h}function w(t,e,n,r,i,o,a,s,u){var l=b(t,n,i,a,u),c=b(e,r,o,s,u),d=h.pointAt(t,e,n,r,u),f=h.pointAt(n,r,i,o,u),p=h.pointAt(i,o,a,s,u),g=h.pointAt(d.x,d.y,f.x,f.y,u),v=h.pointAt(f.x,f.y,p.x,p.y,u);return[[t,e,d.x,d.y,g.x,g.y,l,c],[l,c,v.x,v.y,p.x,p.y,a,s]]}function _(t,e,n,r,i,a,s,u,l){if(0===l)return function(t,e){for(var n=0,r=t.length,i=0;i<r;i++)n+=o(t[i],e[i],t[(i+1)%r],e[(i+1)%r]);return n/2}([t,n,i,s],[e,r,a,u]);var c=w(t,e,n,r,i,a,s,u,.5),h=c[0],d=c[1];return h.push(l-1),d.push(l-1),_.apply(null,h)+_.apply(null,d)}var M={extrema:A,box:function(t,e,n,r,i,o,a,u){for(var l=[t,a],c=[e,u],h=A(t,n,i,a),d=A(e,r,o,u),f=0;f<h.length;f++)l.push(b(t,n,i,a,h[f]));for(f=0;f<d.length;f++)c.push(b(e,r,o,u,d[f]));return s(l,c)},length:function(t,e,n,r,i,o,a,s){return _(t,e,n,r,i,o,a,s,3)},nearestPoint:function(t,e,n,r,i,o,a,s,u,l,c){return f([t,n,i,a],[e,r,o,s],u,l,b,c)},pointDistance:function(t,e,n,r,i,a,s,u,l,c,h){var d=this.nearestPoint(t,e,n,r,i,a,s,u,l,c,h);return o(d.x,d.y,l,c)},interpolationAt:b,pointAt:function(t,e,n,r,i,o,a,s,u){return{x:b(t,n,i,a,u),y:b(e,r,o,s,u)}},divide:function(t,e,n,r,i,o,a,s,u){return w(t,e,n,r,i,o,a,s,u)},tangentAngle:function(t,e,n,r,i,o,a,s,u){var c=x(t,n,i,a,u),h=x(e,r,o,s,u);return l(Math.atan2(h,c))}};function S(t,e){var n=Math.abs(t);return e>0?n:-1*n}var O=function(t,e,n,r,i,o){var a=n,s=r;if(0===a||0===s)return{x:t,y:e};for(var u,l,c=i-t,h=o-e,d=Math.abs(c),f=Math.abs(h),p=a*a,g=s*s,v=Math.PI/4,y=0;y<4;y++){u=a*Math.cos(v),l=s*Math.sin(v);var m=(p-g)*Math.pow(Math.cos(v),3)/a,b=(g-p)*Math.pow(Math.sin(v),3)/s,x=u-m,A=l-b,w=d-m,_=f-b,M=Math.hypot(A,x),O=Math.hypot(_,w);v+=M*Math.asin((x*_-A*w)/(M*O))/Math.sqrt(p+g-u*u-l*l),v=Math.min(Math.PI/2,Math.max(0,v))}return{x:t+S(u,c),y:e+S(l,h)}};function I(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function E(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}function C(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function k(t,e,n){var r=Math.cos(n),i=Math.sin(n);return[t*r-e*i,t*i+e*r]}var T={box:function(t,e,n,r,i,o,a){for(var s=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,r,i),u=1/0,l=-1/0,c=[o,a],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var d=s+h;o<a?o<d&&d<a&&c.push(d):a<d&&d<o&&c.push(d)}for(h=0;h<c.length;h++){var f=I(t,0,n,r,i,c[h]);f<u&&(u=f),f>l&&(l=f)}var p=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,r,i),g=1/0,v=-1/0,y=[o,a];for(h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var m=p+h;o<a?o<m&&m<a&&y.push(m):a<m&&m<o&&y.push(m)}for(h=0;h<y.length;h++){var b=E(0,e,n,r,i,y[h]);b<g&&(g=b),b>v&&(v=b)}return{x:u,y:g,width:l-u,height:v-g}},length:function(t,e,n,r,i,o,a){},nearestPoint:function(t,e,n,r,i,o,a,s,u){var l=k(s-t,u-e,-i),c=l[0],h=l[1],d=O(0,0,n,r,c,h),f=function(t,e,n,r){return(Math.atan2(r*t,n*e)+2*Math.PI)%(2*Math.PI)}(n,r,d.x,d.y);f<o?d=C(n,r,o):f>a&&(d=C(n,r,a));var p=k(d.x,d.y,i);return{x:p[0]+t,y:p[1]+e}},pointDistance:function(t,e,n,r,i,a,s,u,l){var c=this.nearestPoint(t,e,n,r,u,l);return o(c.x,c.y,u,l)},pointAt:function(t,e,n,r,i,o,a,s){var u=(a-o)*s+o;return{x:I(t,0,n,r,i,u),y:E(0,e,n,r,i,u)}},tangentAngle:function(t,e,n,r,i,o,a,s){var u=(a-o)*s+o,c=function(t,e,n,r,i,o,a,s){return-1*n*Math.cos(i)*Math.sin(s)-r*Math.sin(i)*Math.cos(s)}(0,0,n,r,i,0,0,u),h=function(t,e,n,r,i,o,a,s){return-1*n*Math.sin(i)*Math.sin(s)+r*Math.cos(i)*Math.cos(s)}(0,0,n,r,i,0,0,u);return l(Math.atan2(h,c))}};function D(t){for(var e=0,n=[],r=0;r<t.length-1;r++){var i=t[r],a=t[r+1],s=o(i[0],i[1],a[0],a[1]),u={from:i,to:a,length:s};n.push(u),e+=s}return{segments:n,totalLength:e}}function j(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=o(r[0],r[1],i[0],i[1])}return e}function L(t,e){if(e>1||e<0||t.length<2)return null;var n=D(t),r=n.segments,i=n.totalLength;if(0===i)return{x:t[0][0],y:t[0][1]};for(var o=0,a=null,s=0;s<r.length;s++){var u=r[s],l=u.from,c=u.to,d=u.length/i;if(e>=o&&e<=o+d){var f=(e-o)/d;a=h.pointAt(l[0],l[1],c[0],c[1],f);break}o+=d}return a}function P(t,e){if(e>1||e<0||t.length<2)return 0;for(var n=D(t),r=n.segments,i=n.totalLength,o=0,a=0,s=0;s<r.length;s++){var u=r[s],l=u.from,c=u.to,h=u.length/i;if(e>=o&&e<=o+h){a=Math.atan2(c[1]-l[1],c[0]-l[0]);break}o+=h}return a}function N(t,e,n){for(var r=1/0,i=0;i<t.length-1;i++){var o=t[i],a=t[i+1],s=h.pointDistance(o[0],o[1],a[0],a[1],e,n);s<r&&(r=s)}return r}var R={box:function(t){for(var e=[],n=[],r=0;r<t.length;r++){var i=t[r];e.push(i[0]),n.push(i[1])}return s(e,n)},length:function(t){return j(t)},pointAt:function(t,e){return L(t,e)},pointDistance:function(t,e,n){return N(t,e,n)},tangentAngle:function(t,e){return P(t,e)}};function B(t){var e=t.slice(0);return t.length&&e.push(t[0]),e}var z={box:function(t){return R.box(t)},length:function(t){return j(B(t))},pointAt:function(t,e){return L(B(t),e)},pointDistance:function(t,e,n){return N(B(t),e,n)},tangentAngle:function(t,e){return P(B(t),e)}};n.d(e,"e",function(){return m}),n.d(e,"b",function(){return M}),n.d(e,"a",function(){return T}),n.d(e,"c",function(){return h}),n.d(e,!1,function(){return z}),n.d(e,"d",function(){return R}),n.d(e,"f",function(){return r})},"72Lu":function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},"7GXC":function(t,e,n){t.exports=n.p+"static/img/dataCleanIcon.5c4c6ce.png"},"7N6o":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOutDegree=e.getInDegree=e.default=void 0;var r=function(t){var e={},n=t.nodes,r=void 0===n?[]:n,i=t.edges,o=void 0===i?[]:i;return r.forEach(function(t){e[t.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(t){e[t.source].degree++,e[t.source].outDegree++,e[t.target].degree++,e[t.target].inDegree++}),e},i=r;e.default=i;e.getInDegree=function(t,e){return r(t)[e]?r(t)[e].inDegree:0};e.getOutDegree=function(t,e){return r(t)[e]?r(t)[e].outDegree:0}},"7hDC":function(t,e){function n(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(i,o){var a=t.apply(e,r);function s(t){n(a,i,o,s,u,"next",t)}function u(t){n(a,i,o,s,u,"throw",t)}s(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},"7rlq":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("3MGd"),i=function(t){for(var e;t.hasNode(e="_root".concat(Math.random())););return e};e.default=function(t,e,n){var o=i(t),a=new r.Graph({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(e){return t.node(e)});return t.nodes().forEach(function(r){var i,s=t.node(r),u=t.parent(r);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(a.setNode(r),a.setParent(r,u||o),null===(i=t[n](r))||void 0===i||i.forEach(function(e){var n=e.v===r?e.w:e.v,i=a.edgeFromArgs(n,r),o=void 0!==i?i.weight:0;a.setEdge(n,r,{weight:t.edge(e).weight+o})}),s.hasOwnProperty("minRank")&&a.setNode(r,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),a}},"7wpf":function(t,e,n){"use strict";var r=n("c/Tr"),i=n.n(r),o=n("fZjL"),a=n.n(o),s=n("Gu7T"),u=n.n(s),l=n("wlDy"),c=n.n(l),h={name:"drawTrigger",props:{dataset:0,indexInParent:0},data:function(){return{color:"0",x:0,y:0,l:20,imgUrl:c.a,isDrawing:!1,ratio:1,imgWidth:28,imgHeight:28,wrapWidth:160,wrapHeight:160,canvasWidth:300,canvasHeight:300,drawingPoints:[],drawedPoints:[[[0,0],[20,0],[20,20],[0,20]]],imgCanvas:null,imgCtx:null,drawCanvas:null,drawCtx:null,saveCanvas:null,saveCtx:null,submitData:[{polygon:{x1:0,x2:4,x3:4,x4:0,y1:0,y2:0,y3:4,y4:4}}]}},watch:{dataset:function(t,e){this.getImage()}},mounted:function(){var t=this;setTimeout(function(){var e=document.getElementById("imgCanvas"+t.indexInParent);console.log(e),t.initCanvas(),t.getImage()},500)},methods:{initCanvas:function(){var t=document.getElementsByClassName("canvas-wrap");this.wrapWidth=t[0].clientWidth,this.wrapHeight=t[0].clientHeight,this.imgCanvas=document.getElementById("imgCanvas"+this.indexInParent),this.imgCtx=this.imgCanvas.getContext("2d"),this.drawCanvas=document.getElementById("drawCanvas"+this.indexInParent),this.drawCtx=this.drawCanvas.getContext("2d"),this.saveCanvas=document.getElementById("saveCanvas"+this.indexInParent),this.saveCtx=this.saveCanvas.getContext("2d")},initImgCanvas:function(){var t=this,e=this.wrapWidth,n=this.wrapHeight,r=this.imgWidth,i=this.imgHeight;r/i<e/n?(this.ratio=i/n,this.canvasHeight=n,this.canvasWidth=n*r/i):(this.ratio=r/e,this.canvasWidth=e,this.canvasHeight=e*i/r),this.imgCanvas.width=this.canvasWidth,this.imgCanvas.height=this.canvasHeight,this.drawCanvas.width=this.canvasWidth,this.drawCanvas.height=this.canvasHeight,this.saveCanvas.width=this.canvasWidth,this.saveCanvas.height=this.canvasHeight;var o=document.createElement("img");o.src=this.imgUrl,o.onload=function(){console.log("图片已加载"),t.imgCtx.drawImage(o,0,0,t.canvasWidth,t.canvasHeight),t.renderDatas()}},startDraw:function(){this.isDrawing||(this.isDrawing=!0,this.clearAll(),this.drawCanvas.addEventListener("click",this.drawImageClickFn),this.drawCanvas.addEventListener("mousemove",this.drawImageMoveFn))},clearAll:function(){this.saveCtx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.drawedPoints=[]},getImage:function(){0==this.dataset?(this.imgUrl=n("wlDy"),this.imgWidth=28,this.imgHeight=28):1==this.dataset?(this.imgUrl=n("HiaR"),this.imgWidth=32,this.imgHeight=32):2==this.dataset&&(this.imgUrl=n("42O+"),this.imgWidth=224,this.imgHeight=224),this.imgUrl&&this.initImgCanvas()},drawImageClickFn:function(t){var e=this.drawCtx;if(t.offsetX||t.layerX){var n=void 0==t.offsetX?t.layerX:t.offsetX,r=void 0==t.offsetY?t.layerY:t.offsetY,i=this.drawingPoints[this.drawingPoints.length-1]||[];if(this.drawingPoints.length<2)if(i[0]!==n||i[1]!==r)if(1==this.drawingPoints.length){var o=n-this.drawingPoints[0][0],a=r-this.drawingPoints[0][1],s=Math.abs(o)>=Math.abs(a)?Math.abs(o):Math.abs(a),u=[0,0],l=[0,0],c=[0,0];if(o>=0&&this.drawingPoints[0][0]+s<this.canvasWidth)u[0]=this.drawingPoints[0][0]+s,u[1]=this.drawingPoints[0][1],l[0]=this.drawingPoints[0][0]+s,c[0]=this.drawingPoints[0][0];else{if(!(o<0&&this.drawingPoints[0][0]-s>0))return s=Math.abs(o)>Math.abs(a)?Math.abs(a):Math.abs(o),u[0]=n,u[1]=this.drawingPoints[0][1],l[0]=n,l[1]=a>0?this.drawingPoints[0][1]+s:this.drawingPoints[0][1]-s,c[0]=this.drawingPoints[0][0],c[1]=l[1],this.drawingPoints.push(u),this.drawingPoints.push(l),this.drawingPoints.push(c),e.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.drawedPoints.push(this.drawingPoints),this.drawSaveArea(this.drawingPoints),this.drawingPoints=[],this.isDrawing=!1,this.l=s,this.drawCanvas.removeEventListener("click",this.drawImageClickFn),void this.drawCanvas.removeEventListener("mousemove",this.drawImageMoveFn);u[0]=this.drawingPoints[0][0]-s,u[1]=this.drawingPoints[0][1],l[0]=this.drawingPoints[0][0]-s,c[0]=this.drawingPoints[0][0]}a>=0&&this.drawingPoints[0][1]+s<this.canvasHeight?(l[1]=this.drawingPoints[0][1]+s,c[1]=l[1]):a<0&&this.drawingPoints[0][1]-s>0?(l[1]=this.drawingPoints[0][1]-s,c[1]=l[1]):(s=Math.abs(o)>Math.abs(a)?Math.abs(a):Math.abs(o),u[0]=o>0?this.drawingPoints[0][0]+s:this.drawingPoints[0][0]-s,u[1]=this.drawingPoints[0][1],l[0]=u[0],l[1]=r,c[0]=this.drawingPoints[0][0],c[1]=l[1]),this.drawingPoints.push(u),this.drawingPoints.push(l),this.drawingPoints.push(c),e.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.drawedPoints.push(this.drawingPoints),this.drawSaveArea(this.drawingPoints),this.drawingPoints=[],this.isDrawing=!1,this.l=s,this.drawCanvas.removeEventListener("click",this.drawImageClickFn),this.drawCanvas.removeEventListener("mousemove",this.drawImageMoveFn)}else this.x=n,this.y=r,this.drawingPoints.push([n,r]);else this.$message.warning("所画点与上一点重合，请重新选择点位",3);else this.$message.warning("矩形框已绘制，如需修改，请先点击全部清除，再重新画框",3)}},drawImageMoveFn:function(t){var e=this.drawCtx;if(t.offsetX||t.layerX){var n=void 0==t.offsetX?t.layerX:t.offsetX,r=void 0==t.offsetY?t.layerY:t.offsetY;e.clearRect(0,0,this.canvasWidth,this.canvasHeight),e.fillStyle="blue",this.drawingPoints.forEach(function(t,n){e.beginPath(),e.arc.apply(e,u()(t).concat([6,0,180])),e.fill()}),e.save(),e.beginPath(),this.drawingPoints.forEach(function(t,n){e.lineTo.apply(e,u()(t))}),e.lineTo(n,r),e.lineWidth="3",e.strokeStyle="blue",e.fillStyle="rgba(255, 0, 0, 0.3)",e.stroke(),e.fill(),e.restore()}},drawSaveArea:function(t){var e=this;!t instanceof Array||0===t.length||(this.saveCtx.save(),this.saveCtx.beginPath(),t.forEach(function(t,n){var r;(r=e.saveCtx).lineTo.apply(r,u()(t))}),this.saveCtx.closePath(),this.saveCtx.lineWidth="2","0"==this.color?(this.saveCtx.fillStyle="rgba(255,255, 255, 0.3)",this.saveCtx.strokeStyle="black"):(this.saveCtx.fillStyle="rgba(0,0,0, 0.3)",this.saveCtx.strokeStyle="white"),this.saveCtx.stroke(),this.saveCtx.fill(),this.saveCtx.restore(),this.savePoints())},savePoints:function(){var t,e=this;if(0!=this.drawedPoints.length){t=this.drawedPoints.map(function(t){var n={};return t.forEach(function(t,r){n["x"+(r+1)]=Math.round(t[0]*e.ratio),n["y"+(r+1)]=Math.round(t[1]*e.ratio)}),{polygon:n}}),this.submitData=t;var n=t[0].polygon.x1,r=t[0].polygon.y1,i=Math.abs(t[0].polygon.x2-t[0].polygon.x1);this.$emit("updataTrigger",this.indexInParent,n,r,i,this.color),console.log("最终提交数据",this.submitData)}else this.$message.warning("请先绘制后门区域",3)},renderDatas:function(){var t=this;this.drawedPoints=this.submitData.map(function(e){for(var n=e.polygon,r=[],i=1;i<a()(n).length/2+1;i++)isNaN(n["x"+i])||isNaN(n["y"+i])||r.push([n["x"+i]/t.ratio,n["y"+i]/t.ratio]);return t.drawSaveArea(r),r}),this.savePoints()},changeTrigger:function(){var t=[];if(this.clearAll(),0!=this.l&&0==this.drawedPoints.length){if(!(this.x+this.l<this.canvasWidth&&this.y+this.l<this.canvasHeight))return void this.$message.warning("后门区域超出图片范围，请重新设置x，y，l",3);t.push([this.x,this.y]),t.push([this.x+this.l,this.y]),t.push([this.x+this.l,this.y+this.l]),t.push([this.x,this.y+this.l]),this.drawedPoints.push(t),this.drawSaveArea(t)}},changeColor:function(){this.drawedPoints.length>0&&(this.saveCtx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.drawSaveArea(this.drawedPoints[0]))}}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"tool-box"},[n("p",{staticStyle:{"margin-bottom":"10px"}},[t._v("自定义后门区域")]),t._v(" "),n("a-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:16}},[n("a-col",{attrs:{span:"2"}},[n("p",{staticClass:"triggerName"},[t._v("坐标x:")])]),t._v(" "),n("a-col",{attrs:{span:"2"}},[n("a-input-number",{attrs:{size:"small",min:0,max:t.canvasWidth,step:1},on:{change:t.changeTrigger},model:{value:t.x,callback:function(e){t.x=e},expression:"x"}})],1),t._v(" "),n("a-col",{attrs:{span:"2"}},[n("p",{staticClass:"triggerName"},[t._v("坐标y:")])]),t._v(" "),n("a-col",{attrs:{span:"2"}},[n("a-input-number",{attrs:{size:"small",min:0,max:t.canvasWidth,step:1},on:{change:t.changeTrigger},model:{value:t.y,callback:function(e){t.y=e},expression:"y"}})],1),t._v(" "),n("a-col",{attrs:{span:"2"}},[n("p",{staticClass:"triggerName"},[t._v("宽度l:")])]),t._v(" "),n("a-col",{attrs:{span:"2"}},[n("a-input-number",{attrs:{size:"small",min:0,max:t.canvasWidth,step:1},on:{change:t.changeTrigger},model:{value:t.l,callback:function(e){t.l=e},expression:"l"}})],1),t._v(" "),n("a-col",{attrs:{span:"2"}},[n("p",{staticClass:"triggerName"},[t._v("颜色:")])]),t._v(" "),n("a-col",{attrs:{span:"4"}},[n("a-radio-group",{attrs:{"default-value":"0",size:"small","button-style":"solid"},on:{change:t.changeColor},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}},[n("a-radio-button",{attrs:{value:"0"}},[t._v("黑色")]),t._v(" "),n("a-radio-button",{attrs:{value:"1"}},[t._v("白色")])],1)],1),t._v(" "),n("a-col",{attrs:{span:"6"}},[n("a-button",{attrs:{size:"small",type:t.isDrawing?"warning":"primary"},on:{click:t.startDraw}},[t._v("绘制区域")]),t._v(" "),n("a-button",{attrs:{size:"small",type:"danger",disabled:t.isDrawing},on:{click:t.clearAll}},[t._v("全部清除")]),t._v(" "),n("a-button",{attrs:{size:"small",type:"success",disabled:t.isDrawing},on:{click:t.savePoints}},[t._v("保存")])],1)],1)],1),t._v(" "),n("div",{staticClass:"canvasDiv"},[n("div",{staticClass:"canvas-wrap"},[n("canvas",{ref:"canvaxbox",attrs:{id:"imgCanvas"+t.indexInParent}}),t._v(" "),n("canvas",{ref:"canvas",style:{cursor:t.isDrawing?"crosshair":"default"},attrs:{id:"drawCanvas"+t.indexInParent}}),t._v(" "),n("canvas",{ref:"canvasSave",attrs:{id:"saveCanvas"+t.indexInParent}})])])])},staticRenderFns:[]};var f={components:{drawTrigger:n("VU/8")(h,d,!1,function(t){n("xufd")},"data-v-a3aece02",null).exports},props:{name:{default:"FGSM"},checked:{default:!0},description:{default:"Fast Gradient Sign MethodFGSM快速梯度符号法是一种简单而有效的生成对抗样本的方法，其工作方式如下：在给定输入数据后，利用已训练的模型输出预测并计算损失函数的梯度，然后使用梯度的符号来创建使损失最大化的新数据"},attributes:{default:function(){return[[{name:"arg0",key:"arg0",defaultNumber:.156,number:0,type:"input"},{name:"arg1",key:"arg1",defaultNumber:.156,number:0,type:"input"},{name:"arg2",key:"arg2",defaultNumber:.156,number:0,min:0,max:1,step:.001,type:"inputNumber"}],[{name:"arg3",key:"arg3",defaultNumber:.156,number:0,type:"input"},{name:"arg4",key:"arg4",defaultNumber:.156,number:0,type:"input"}],[{name:"arg5",key:"arg5",defaultNumber:0,number:0,type:"selectgroup",valuelist:["0","1","2","3","4","5","6","7","8","9"]}]]}},indexInParent:0,attack_type:{default:"advAttack"},dataset:0},data:function(){return{attributesValues:[[{name:"arg0",key:"arg0",defaultNumber:.156},{name:"arg1",key:"arg1",defaultNumber:.156},{name:"arg2",key:"arg2",defaultNumber:.156}],[{name:"arg3",key:"arg3",defaultNumber:.156},{name:"arg4",key:"arg4",defaultNumber:.156}]]}},methods:{changeSelect:function(){this.$emit("selectMethod",this.indexInParent,!this.checked)},updateAttributes:function(){var t={};if(this.checked)for(var e=0;e<this.attributesValues.length;e++)for(var n=0;n<this.attributesValues[e].length;n++)"backdoor"==this.attack_type&&"selectgroup"==this.attributesValues[e][n].type?t[this.attributesValues[e][n].key]=this.attributesValues[e][n].valuelist.indexOf(this.attributesValues[e][n].number):t[this.attributesValues[e][n].key]=this.attributesValues[e][n].number;"trigger"in t||"backdoor"!=this.attack_type||(t.trigger=[0,0,4,0]),this.$emit("updateAttributes",this.indexInParent,t)},selectgroupChange:function(t){this.updateAttributes()},changeSelectAttribute:function(t,e){attributesValues[t][e].number=!attributesValues[t][e].number,this.updateAttributes()},updataTriggerClient:function(t,e,n,r,i){for(var o={},a=0;a<this.attributesValues.length;a++)for(var s=0;s<this.attributesValues[a].length;s++)"advAttack"==this.attack_type&&"selectgroup"==this.attributesValues[a][s].type?o[this.attributesValues[a][s].key]=this.attributesValues[a][s].number:"backdoor"==this.attack_type&&"selectgroup"==this.attributesValues[a][s].type?o[this.attributesValues[a][s].key]=this.attributesValues[a][s].valuelist.indexOf(this.attributesValues[a][s].number):o[this.attributesValues[a][s].key]=this.attributesValues[a][s].number;o.trigger=[e,n,r,parseInt(i)],this.$emit("updateAttributes",this.indexInParent,o)}},mounted:function(){this.attributesValues=i()(this.attributes);for(var t=0;t<this.attributesValues.length;t++)for(var e=0;e<this.attributesValues[t].length;e++)this.attributesValues[t][e].number=this.attributesValues[t][e].defaultNumber}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-radio",{staticStyle:{width:"100%"},attrs:{checked:t.checked},on:{click:t.changeSelect}},[t._v(t._s(t.name))]),t._v(" "),t.checked?n("div",[n("div",{staticClass:"describe"},[t._v(" "+t._s(t.description)+" ")]),t._v(" "),t.attributes.length>0?n("div",{staticClass:"describe"},[t._l(t.attributes,function(e,r){return n("a-row",{key:r,staticStyle:{"margin-bottom":"10px"},attrs:{gutter:16}},t._l(e,function(i,o){return n("a-col",{key:o,attrs:{span:24/e.length}},[n("div",{staticStyle:{"margin-bottom":"8px"}},[t._v(t._s(i.name))]),t._v(" "),"input"==t.attributesValues[r][o].type?n("a-input",{staticStyle:{"background-color":"#F2F4F9"},attrs:{placeholder:i.defaultNumber.toString()},on:{change:t.updateAttributes},model:{value:t.attributesValues[r][o].number,callback:function(e){t.$set(t.attributesValues[r][o],"number",e)},expression:"attributesValues[i][j].number"}}):t._e(),t._v(" "),"inputNumber"==t.attributesValues[r][o].type?n("a-input-number",{staticStyle:{"background-color":"#F2F4F9",width:"100%"},attrs:{min:t.attributesValues[r][o].min,max:t.attributesValues[r][o].max,step:t.attributesValues[r][o].step,placeholder:i.defaultNumber.toString()},on:{change:t.updateAttributes},model:{value:t.attributesValues[r][o].number,callback:function(e){t.$set(t.attributesValues[r][o],"number",e)},expression:"attributesValues[i][j].number"}}):t._e(),t._v(" "),"selectgroup"==t.attributesValues[r][o].type?n("a-radio-group",{attrs:{"button-style":"solid",size:"backdoor"==t.attack_type?"large":"default"},on:{change:t.selectgroupChange},model:{value:t.attributesValues[r][o].number,callback:function(e){t.$set(t.attributesValues[r][o],"number",e)},expression:"attributesValues[i][j].number"}},t._l(t.attributesValues[r][o].valuelist,function(e,r){return n("a-radio-button",{key:"radiobutton"+r,attrs:{value:e}},[t._v(t._s(e))])}),1):t._e(),t._v(" "),"select"==t.attributesValues[r][o].type?n("a-radio-button",{staticStyle:{width:"100%","background-color":"#F2F4F9"},attrs:{checked:t.attributesValues[r][o].number},on:{click:function(e){return t.changeSelectAttribute(r,o)}}},[t._v("\n          "+t._s(t.attributesValues[r][o].name)+"\n        ")]):t._e()],1)}),1)}),t._v(" "),"backdoor"==t.attack_type?n("div",[n("drawTrigger",{attrs:{dataset:t.dataset,indexInParent:t.indexInParent},on:{updataTrigger:t.updataTriggerClient}})],1):t._e()],2):t._e()]):t._e()],1)},staticRenderFns:[]};var g=n("VU/8")(f,p,!1,function(t){n("OFVe")},"data-v-14eff0af",null);e.a=g.exports},"83tA":function(t,e,n){"use strict";var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"funcDes"}},[n("div",{staticStyle:{height:"80px"}},[n("h2",{staticClass:"subTitle"},[t._v("功能介绍")]),t._v(" "),n("p",{staticClass:"destext"},[t._v(t._s(t.funcDesText.destext))])]),t._v(" "),n("div",{staticClass:"funcBody",style:{backgroundImage:"url("+t.funcDesText.bgimg+")"}},[n("div",{staticClass:"functitle"},[n("img",{staticClass:"paramIcom",attrs:{src:t.funcDesText.imgpath,alt:t.funcDesText.name}}),t._v(" "),n("h3",[t._v(t._s(t.funcDesText.name))])]),t._v(" "),n("div",{staticClass:"proInfo"},[n("p",{staticClass:"bgInfo"},[t._v(t._s(t.funcDesText.backinfo))]),t._v(" "),[n("ul",t._l(t.funcDesText.highlight,function(e,r){return n("li",{key:r,staticClass:"HLInfo"},[t._v("\n                    "+t._s(e)+"\n                    ")])}),0)]],2)])])},staticRenderFns:[]};var i=n("VU/8")({name:"func_introduce",props:["funcDesText"]},r,!1,function(t){n("9gCe")},"data-v-0ba0b91c",null);e.a=i.exports},"85Et":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},i={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"}},"8ALn":function(t,e,n){"use strict";e.b=o,e.a=function(t){var e=i.a[t.type],n=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var r=o(e);t.get("id")&&(r.id=t.get("id"));if(t.set("el",r),t.set("attrs",{}),n){var a=n.get("el");a?a.appendChild(r):(a=n.createDom(),n.set("el",a),a.appendChild(r))}return r},e.d=function(t,e){var n=t.get("el"),i=Object(r.toArray)(n.children).sort(e),o=document.createDocumentFragment();i.forEach(function(t){o.appendChild(t)}),n.appendChild(o)},e.c=function(t,e){var n=t.parentNode,r=Array.from(n.childNodes).filter(function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()}),i=r[e],o=r.indexOf(t);if(i){if(o>e)n.insertBefore(t,i);else if(o<e){var a=r[e+1];a?n.insertBefore(t,a):n.appendChild(t)}}else n.appendChild(t)};var r=n("IgWN"),i=n("85Et");function o(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}},"8a/n":function(t,e,n){var r;r=function(){"use strict";var t=function(t){return t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint8ClampedArray},e=function(t,e){for(var n=Object.keys(e),r=0;r<n.length;++r)t[n[r]]=e[n[r]];return t},n="\n";function r(t){var e=new Error("(regl) "+t);throw console.error(e),e}function i(t,e){t||r(e)}function o(t){return t?": "+t:""}function a(t,e){switch(e){case"number":return"number"==typeof t;case"object":return"object"==typeof t;case"string":return"string"==typeof t;case"boolean":return"boolean"==typeof t;case"function":return"function"==typeof t;case"undefined":return void 0===t;case"symbol":return"symbol"==typeof t}}function s(t,e,n){e.indexOf(t)<0&&r("invalid value"+o(n)+". must be one of: "+e)}var u=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function l(t,e){for(t+="";t.length<e;)t=" "+t;return t}function c(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function h(t,e){this.number=t,this.line=e,this.errors=[]}function d(t,e,n){this.file=t,this.line=e,this.message=n}function f(){var t=new Error,e=(t.stack||t).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(e);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(e);return r?r[1]:"unknown"}function p(){var t=new Error,e=(t.stack||t).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(e);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(e);return r?r[1]:"unknown"}function g(t,e){var n,r=t.split("\n"),i=1,o=0,a={unknown:new c,0:new c};a.unknown.name=a[0].name=e||f(),a.unknown.lines.push(new h(0,""));for(var s=0;s<r.length;++s){var u=r[s],l=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(u);if(l)switch(l[1]){case"line":var d=/(\d+)(\s+\d+)?/.exec(l[2]);d&&(i=0|d[1],d[2]&&((o=0|d[2])in a||(a[o]=new c)));break;case"define":var p=/SHADER_NAME(_B64)?\s+(.*)$/.exec(l[2]);p&&(a[o].name=p[1]?(n=p[2],"undefined"!=typeof atob?atob(n):"base64:"+n):p[2])}a[o].lines.push(new h(i++,u))}return Object.keys(a).forEach(function(t){var e=a[t];e.lines.forEach(function(t){e.index[t.number]=t})}),a}function v(t){t._commandRef=f()}function y(t,e){var n=p();r(t+" in command "+(e||f())+("unknown"===n?"":" called from "+n))}function m(t,e,n,r){a(t,e)||y("invalid parameter type"+o(n)+". expected "+e+", got "+typeof t,r||f())}var b=33071,x=9728,A=9984,w=9985,_=9986,M=9987,S=5126,O=32819,I=32820,E=33635,C=34042,k={};function T(t,e){return t===I||t===O||t===E?2:t===C?4:k[t]*e}function D(t){return!(t&t-1||!t)}k[5120]=k[5121]=1,k[5122]=k[5123]=k[36193]=k[E]=k[O]=k[I]=2,k[5124]=k[5125]=k[S]=k[C]=4;var j=e(i,{optional:function(t){t()},raise:r,commandRaise:y,command:function(t,e,n){t||y(e,n||f())},parameter:function(t,e,n){t in e||r("unknown parameter ("+t+")"+o(n)+". possible values: "+Object.keys(e).join())},commandParameter:function(t,e,n,r){t in e||y("unknown parameter ("+t+")"+o(n)+". possible values: "+Object.keys(e).join(),r||f())},constructor:function(t){Object.keys(t).forEach(function(t){u.indexOf(t)<0&&r('invalid regl constructor argument "'+t+'". must be one of '+u)})},type:function(t,e,n){a(t,e)||r("invalid parameter type"+o(n)+". expected "+e+", got "+typeof t)},commandType:m,isTypedArray:function(e,n){t(e)||r("invalid parameter type"+o(n)+". must be a typed array")},nni:function(t,e){t>=0&&(0|t)===t||r("invalid parameter type, ("+t+")"+o(e)+". must be a nonnegative integer")},oneOf:s,shaderError:function(t,e,r,o,a){if(!t.getShaderParameter(e,t.COMPILE_STATUS)){var s=t.getShaderInfoLog(e),u=o===t.FRAGMENT_SHADER?"fragment":"vertex";m(r,"string",u+" shader source must be a string",a);var c=g(r,a),h=function(t){var e=[];return t.split("\n").forEach(function(t){if(!(t.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(t);n?e.push(new d(0|n[1],0|n[2],n[3].trim())):t.length>0&&e.push(new d("unknown",0,t))}}),e}(s);!function(t,e){e.forEach(function(e){var n=t[e.file];if(n){var r=n.index[e.line];if(r)return r.errors.push(e),void(n.hasErrors=!0)}t.unknown.hasErrors=!0,t.unknown.lines[0].errors.push(e)})}(c,h),Object.keys(c).forEach(function(t){var e=c[t];if(e.hasErrors){var r=[""],i=[""];o("file number "+t+": "+e.name+"\n","color:red;text-decoration:underline;font-weight:bold"),e.lines.forEach(function(t){if(t.errors.length>0){o(l(t.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(t.line+n,"color:red; background-color:yellow; font-weight:bold");var e=0;t.errors.forEach(function(r){var i=r.message,a=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(a){var s=a[1];switch(i=a[2],s){case"assign":s="="}e=Math.max(t.line.indexOf(s,e),0)}else e=0;o(l("| ",6)),o(l("^^^",e+3)+n,"font-weight:bold"),o(l("| ",6)),o(i+n,"font-weight:bold")}),o(l("| ",6)+n)}else o(l(t.number,4)+"|  "),o(t.line+n,"color:red")}),"undefined"==typeof document||window.chrome?console.log(r.join("")):(i[0]=r.join("%c"),console.log.apply(console,i))}function o(t,e){r.push(t),i.push(e||"")}}),i.raise("Error compiling "+u+" shader, "+c[0].name)}},linkError:function(t,e,r,o,a){if(!t.getProgramParameter(e,t.LINK_STATUS)){var s=t.getProgramInfoLog(e),u=g(r,a),l='Error linking program with vertex shader, "'+g(o,a)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!=typeof document?console.log("%c"+l+n+"%c"+s,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(l+n+s),i.raise(l)}},callSite:p,saveCommandRef:v,saveDrawInfo:function(t,e,n,r){function i(t){return t?r.id(t):0}function o(t,e){Object.keys(e).forEach(function(e){t[r.id(e)]=!0})}v(t),t._fragId=i(t.static.frag),t._vertId=i(t.static.vert);var a=t._uniformSet={};o(a,e.static),o(a,e.dynamic);var s=t._attributeSet={};o(s,n.static),o(s,n.dynamic),t._hasCount="count"in t.static||"count"in t.dynamic||"elements"in t.static||"elements"in t.dynamic},framebufferFormat:function(t,e,n){t.texture?s(t.texture._texture.internalformat,e,"unsupported texture format for attachment"):s(t.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")},guessCommand:f,texture2D:function(t,e,n){var r,o=e.width,a=e.height,s=e.channels;i(o>0&&o<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),t.wrapS===b&&t.wrapT===b||i(D(o)&&D(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===e.mipmask?1!==o&&1!==a&&i(t.minFilter!==A&&t.minFilter!==_&&t.minFilter!==w&&t.minFilter!==M,"min filter requires mipmap"):(i(D(o)&&D(a),"texture must be a square power of 2 to support mipmapping"),i(e.mipmask===(o<<1)-1,"missing or incomplete mipmap data")),e.type===S&&(n.extensions.indexOf("oes_texture_float_linear")<0&&i(t.minFilter===x&&t.magFilter===x,"filter not supported, must enable oes_texture_float_linear"),i(!t.genMipmaps,"mipmap generation not supported with float textures"));var u=e.images;for(r=0;r<16;++r)if(u[r]){var l=o>>r,c=a>>r;i(e.mipmask&1<<r,"missing mipmap data");var h=u[r];if(i(h.width===l&&h.height===c,"invalid shape for mip images"),i(h.format===e.format&&h.internalformat===e.internalformat&&h.type===e.type,"incompatible type for mip image"),h.compressed);else if(h.data){var d=Math.ceil(T(h.type,s)*l/h.unpackAlignment)*h.unpackAlignment;i(h.data.byteLength===d*c,"invalid data for image, buffer size is inconsistent with image format")}else h.element||h.copy}else t.genMipmaps||i(0==(e.mipmask&1<<r),"extra mipmap data");e.compressed&&i(!t.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(t,e,n,r){var o=t.width,a=t.height,s=t.channels;i(o>0&&o<=r.maxTextureSize&&a>0&&a<=r.maxTextureSize,"invalid texture shape"),i(o===a,"cube map must be square"),i(e.wrapS===b&&e.wrapT===b,"wrap mode not supported by cube map");for(var u=0;u<n.length;++u){var l=n[u];i(l.width===o&&l.height===a,"inconsistent cube map face shape"),e.genMipmaps&&(i(!l.compressed,"can not generate mipmap for compressed textures"),i(1===l.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=l.images,h=0;h<16;++h){var d=c[h];if(d){var f=o>>h,p=a>>h;i(l.mipmask&1<<h,"missing mipmap data"),i(d.width===f&&d.height===p,"invalid shape for mip images"),i(d.format===t.format&&d.internalformat===t.internalformat&&d.type===t.type,"incompatible type for mip image"),d.compressed||(d.data?i(d.data.byteLength===f*p*Math.max(T(d.type,s),d.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):d.element||d.copy)}}}}}),L=0,P=0,N=5,R=6;function B(t,e){this.id=L++,this.type=t,this.data=e}function z(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function F(t){return"["+function t(e){if(0===e.length)return[];var n=e.charAt(0),r=e.charAt(e.length-1);if(e.length>1&&n===r&&('"'===n||"'"===n))return['"'+z(e.substr(1,e.length-2))+'"'];var i=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(i)return t(e.substr(0,i.index)).concat(t(i[1])).concat(t(e.substr(i.index+i[0].length)));var o=e.split(".");if(1===o.length)return['"'+z(e)+'"'];for(var a=[],s=0;s<o.length;++s)a=a.concat(t(o[s]));return a}(t).join("][")+"]"}var G={DynamicVariable:B,define:function(t,e){return new B(t,F(e+""))},isDynamic:function(t){return"function"==typeof t&&!t._reglType||t instanceof B},unbox:function t(e,n){return"function"==typeof e?new B(P,e):"number"==typeof e||"boolean"==typeof e?new B(N,e):Array.isArray(e)?new B(R,e.map((e,r)=>t(e,n+"["+r+"]"))):e instanceof B?e:void j(!1,"invalid option type in uniform "+n)},accessor:F},V={next:"function"==typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:"function"==typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:clearTimeout},U="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function W(t){return"string"==typeof t?t.split():(j(Array.isArray(t),"invalid extension array"),t)}function H(t){return"string"==typeof t?(j("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(t)):t}function Y(t){var n,r,i,o,a,s=t||{},u={},l=[],c=[],h="undefined"==typeof window?1:window.devicePixelRatio,d=!1,f=function(t){t&&j.raise(t)},p=function(){};if("string"==typeof s?(j("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),n=document.querySelector(s),j(n,"invalid query string for element")):"object"==typeof s?"string"==typeof(a=s).nodeName&&"function"==typeof a.appendChild&&"function"==typeof a.getBoundingClientRect?n=s:!function(t){return"function"==typeof t.drawArrays||"function"==typeof t.drawElements}(s)?(j.constructor(s),"gl"in s?o=s.gl:"canvas"in s?i=H(s.canvas):"container"in s&&(r=H(s.container)),"attributes"in s&&(u=s.attributes,j.type(u,"object","invalid context attributes")),"extensions"in s&&(l=W(s.extensions)),"optionalExtensions"in s&&(c=W(s.optionalExtensions)),"onDone"in s&&(j.type(s.onDone,"function","invalid or missing onDone callback"),f=s.onDone),"profile"in s&&(d=!!s.profile),"pixelRatio"in s&&(h=+s.pixelRatio,j(h>0,"invalid pixel ratio"))):i=(o=s).canvas:j.raise("invalid arguments to regl"),n&&("canvas"===n.nodeName.toLowerCase()?i=n:r=n),!o){if(!i){j("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var g=function(t,n,r){var i,o=document.createElement("canvas");function a(){var n=window.innerWidth,i=window.innerHeight;if(t!==document.body){var a=t.getBoundingClientRect();n=a.right-a.left,i=a.bottom-a.top}o.width=r*n,o.height=r*i,e(o.style,{width:n+"px",height:i+"px"})}return e(o.style,{border:0,margin:0,padding:0,top:0,left:0}),t.appendChild(o),t===document.body&&(o.style.position="absolute",e(t.style,{margin:0,padding:0})),t!==document.body&&"function"==typeof ResizeObserver?(i=new ResizeObserver(function(){setTimeout(a)})).observe(t):window.addEventListener("resize",a,!1),a(),{canvas:o,onDestroy:function(){i?i.disconnect():window.removeEventListener("resize",a),t.removeChild(o)}}}(r||document.body,0,h);if(!g)return null;i=g.canvas,p=g.onDestroy}void 0===u.premultipliedAlpha&&(u.premultipliedAlpha=!0),o=function(t,e){function n(n){try{return t.getContext(n,e)}catch(t){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}(i,u)}return o?{gl:o,canvas:i,container:r,extensions:l,optionalExtensions:c,pixelRatio:h,profile:d,onDone:f,onDestroy:p}:(p(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function X(t,e){for(var n=Array(t),r=0;r<t;++r)n[r]=e(r);return n}var q=5120,Q=5121,Z=5122,K=5123,J=5124,$=5125,tt=5126;function et(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1}function nt(){var t=X(8,function(){return[]});function e(e){var n=function(t){for(var e=16;e<=1<<28;e*=16)if(t<=e)return e;return 0}(e),r=t[et(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(e){t[et(e.byteLength)>>2].push(e)}return{alloc:e,free:n,allocType:function(t,n){var r=null;switch(t){case q:r=new Int8Array(e(n),0,n);break;case Q:r=new Uint8Array(e(n),0,n);break;case Z:r=new Int16Array(e(2*n),0,n);break;case K:r=new Uint16Array(e(2*n),0,n);break;case J:r=new Int32Array(e(4*n),0,n);break;case $:r=new Uint32Array(e(4*n),0,n);break;case tt:r=new Float32Array(e(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r},freeType:function(t){n(t.buffer)}}}var rt=nt();rt.zero=nt();var it=function(t,e){var n=1;e.ext_texture_filter_anisotropic&&(n=t.getParameter(34047));var r=1,i=1;e.webgl_draw_buffers&&(r=t.getParameter(34852),i=t.getParameter(36063));var o=!!e.oes_texture_float;if(o){var a=t.createTexture();t.bindTexture(3553,a),t.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var s=t.createFramebuffer();if(t.bindFramebuffer(36160,s),t.framebufferTexture2D(36160,36064,3553,a,0),t.bindTexture(3553,null),36053!==t.checkFramebufferStatus(36160))o=!1;else{t.viewport(0,0,1,1),t.clearColor(1,0,0,1),t.clear(16384);var u=rt.allocType(5126,4);t.readPixels(0,0,1,1,6408,5126,u),t.getError()?o=!1:(t.deleteFramebuffer(s),t.deleteTexture(a),o=1===u[0]),rt.freeType(u)}}var l=!0;if(!("undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)))){var c=t.createTexture(),h=rt.allocType(5121,36);t.activeTexture(33984),t.bindTexture(34067,c),t.texImage2D(34069,0,6408,3,3,0,6408,5121,h),rt.freeType(h),t.bindTexture(34067,null),t.deleteTexture(c),l=!t.getError()}return{colorBits:[t.getParameter(3410),t.getParameter(3411),t.getParameter(3412),t.getParameter(3413)],depthBits:t.getParameter(3414),stencilBits:t.getParameter(3415),subpixelBits:t.getParameter(3408),extensions:Object.keys(e).filter(function(t){return!!e[t]}),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:t.getParameter(33901),lineWidthDims:t.getParameter(33902),maxViewportDims:t.getParameter(3386),maxCombinedTextureUnits:t.getParameter(35661),maxCubeMapSize:t.getParameter(34076),maxRenderbufferSize:t.getParameter(34024),maxTextureUnits:t.getParameter(34930),maxTextureSize:t.getParameter(3379),maxAttributes:t.getParameter(34921),maxVertexUniforms:t.getParameter(36347),maxVertexTextureUnits:t.getParameter(35660),maxVaryingVectors:t.getParameter(36348),maxFragmentUniforms:t.getParameter(36349),glsl:t.getParameter(35724),renderer:t.getParameter(7937),vendor:t.getParameter(7936),version:t.getParameter(7938),readFloat:o,npotTextureCube:l}};function ot(e){return!!e&&"object"==typeof e&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"==typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||t(e.data))}var at=function(t){return Object.keys(t).map(function(e){return t[e]})},st={shape:function(t){for(var e=[],n=t;n.length;n=n[0])e.push(n.length);return e},flatten:function(t,e,n,r){var i=1;if(e.length)for(var o=0;o<e.length;++o)i*=e[o];else i=0;var a=r||rt.allocType(n,i);switch(e.length){case 0:break;case 1:!function(t,e,n){for(var r=0;r<e;++r)n[r]=t[r]}(t,e[0],a);break;case 2:!function(t,e,n,r){for(var i=0,o=0;o<e;++o)for(var a=t[o],s=0;s<n;++s)r[i++]=a[s]}(t,e[0],e[1],a);break;case 3:ut(t,e[0],e[1],e[2],a,0);break;default:!function t(e,n,r,i,o){var a=1;for(var s=r+1;s<n.length;++s)a*=n[s];var u=n[r];if(n.length-r==4){var l=n[r+1],c=n[r+2],h=n[r+3];for(s=0;s<u;++s)ut(e[s],l,c,h,i,o),o+=a}else for(s=0;s<u;++s)t(e[s],n,r+1,i,o),o+=a}(t,e,0,a,0)}return a}};function ut(t,e,n,r,i,o){for(var a=o,s=0;s<e;++s)for(var u=t[s],l=0;l<n;++l)for(var c=u[l],h=0;h<r;++h)i[a++]=c[h]}var lt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ct={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},ht={dynamic:35048,stream:35040,static:35044},dt=st.flatten,ft=st.shape,pt=35044,gt=35040,vt=5121,yt=5126,mt=[];function bt(t){return 0|lt[Object.prototype.toString.call(t)]}function xt(t,e){for(var n=0;n<e.length;++n)t[n]=e[n]}function At(t,e,n,r,i,o,a){for(var s=0,u=0;u<n;++u)for(var l=0;l<r;++l)t[s++]=e[i*u+o*l+a]}mt[5120]=1,mt[5122]=2,mt[5124]=4,mt[5121]=1,mt[5123]=2,mt[5125]=4,mt[5126]=4;var wt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},_t=0,Mt=1,St=4,Ot=5120,It=5121,Et=5122,Ct=5123,kt=5124,Tt=5125,Dt=34963,jt=35040,Lt=35044;var Pt=new Float32Array(1),Nt=new Uint32Array(Pt.buffer),Rt=5123;function Bt(t){for(var e=rt.allocType(Rt,t.length),n=0;n<t.length;++n)if(isNaN(t[n]))e[n]=65535;else if(t[n]===1/0)e[n]=31744;else if(t[n]===-1/0)e[n]=64512;else{Pt[0]=t[n];var r=Nt[0],i=r>>>31<<15,o=(r<<1>>>24)-127,a=r>>13&1023;if(o<-24)e[n]=i;else if(o<-14){var s=-14-o;e[n]=i+(a+1024>>s)}else e[n]=o>15?i+31744:i+(o+15<<10)+a}return e}function zt(e){return Array.isArray(e)||t(e)}var Ft=function(t){return!(t&t-1||!t)},Gt=34467,Vt=3553,Ut=34067,Wt=34069,Ht=6408,Yt=6406,Xt=6407,qt=6409,Qt=6410,Zt=32854,Kt=32855,Jt=36194,$t=32819,te=32820,ee=33635,ne=34042,re=6402,ie=34041,oe=35904,ae=35906,se=36193,ue=33776,le=33777,ce=33778,he=33779,de=35986,fe=35987,pe=34798,ge=35840,ve=35841,ye=35842,me=35843,be=36196,xe=5121,Ae=5123,we=5125,_e=5126,Me=10242,Se=10243,Oe=10497,Ie=33071,Ee=33648,Ce=10240,ke=10241,Te=9728,De=9729,je=9984,Le=9985,Pe=9986,Ne=9987,Re=33170,Be=4352,ze=4353,Fe=4354,Ge=34046,Ve=3317,Ue=37440,We=37441,He=37443,Ye=37444,Xe=33984,qe=[je,Pe,Le,Ne],Qe=[0,qt,Qt,Xt,Ht],Ze={};function Ke(t){return"[object "+t+"]"}Ze[qt]=Ze[Yt]=Ze[re]=1,Ze[ie]=Ze[Qt]=2,Ze[Xt]=Ze[oe]=3,Ze[Ht]=Ze[ae]=4;var Je=Ke("HTMLCanvasElement"),$e=Ke("OffscreenCanvas"),tn=Ke("CanvasRenderingContext2D"),en=Ke("ImageBitmap"),nn=Ke("HTMLImageElement"),rn=Ke("HTMLVideoElement"),on=Object.keys(lt).concat([Je,$e,tn,en,nn,rn]),an=[];an[xe]=1,an[_e]=4,an[se]=2,an[Ae]=2,an[we]=4;var sn=[];function un(t){return Array.isArray(t)&&(0===t.length||"number"==typeof t[0])}function ln(t){return!!Array.isArray(t)&&!(0===t.length||!zt(t[0]))}function cn(t){return Object.prototype.toString.call(t)}function hn(t){return cn(t)===Je}function dn(t){return cn(t)===$e}function fn(t){if(!t)return!1;var e=cn(t);return on.indexOf(e)>=0||(un(t)||ln(t)||ot(t))}function pn(t){return 0|lt[Object.prototype.toString.call(t)]}function gn(t,e){return rt.allocType(t.type===se?_e:t.type,e)}function vn(t,e){t.type===se?(t.data=Bt(e),rt.freeType(e)):t.data=e}function yn(t,e,n,r,i,o){var a;if(a=void 0!==sn[t]?sn[t]:Ze[t]*an[e],o&&(a*=6),i){for(var s=0,u=n;u>=1;)s+=a*u*u,u/=2;return s}return a*n*r}function mn(n,r,i,o,a,s,u){var l={"don't care":Be,"dont care":Be,nice:Fe,fast:ze},c={repeat:Oe,clamp:Ie,mirror:Ee},h={nearest:Te,linear:De},d=e({mipmap:Ne,"nearest mipmap nearest":je,"linear mipmap nearest":Le,"nearest mipmap linear":Pe,"linear mipmap linear":Ne},h),f={none:0,browser:Ye},p={uint8:xe,rgba4:$t,rgb565:ee,"rgb5 a1":te},g={alpha:Yt,luminance:qt,"luminance alpha":Qt,rgb:Xt,rgba:Ht,rgba4:Zt,"rgb5 a1":Kt,rgb565:Jt},v={};r.ext_srgb&&(g.srgb=oe,g.srgba=ae),r.oes_texture_float&&(p.float32=p.float=_e),r.oes_texture_half_float&&(p.float16=p["half float"]=se),r.webgl_depth_texture&&(e(g,{depth:re,"depth stencil":ie}),e(p,{uint16:Ae,uint32:we,"depth stencil":ne})),r.webgl_compressed_texture_s3tc&&e(v,{"rgb s3tc dxt1":ue,"rgba s3tc dxt1":le,"rgba s3tc dxt3":ce,"rgba s3tc dxt5":he}),r.webgl_compressed_texture_atc&&e(v,{"rgb atc":de,"rgba atc explicit alpha":fe,"rgba atc interpolated alpha":pe}),r.webgl_compressed_texture_pvrtc&&e(v,{"rgb pvrtc 4bppv1":ge,"rgb pvrtc 2bppv1":ve,"rgba pvrtc 4bppv1":ye,"rgba pvrtc 2bppv1":me}),r.webgl_compressed_texture_etc1&&(v["rgb etc1"]=be);var y=Array.prototype.slice.call(n.getParameter(Gt));Object.keys(v).forEach(function(t){var e=v[t];y.indexOf(e)>=0&&(g[t]=e)});var m=Object.keys(g);i.textureFormats=m;var b=[];Object.keys(g).forEach(function(t){var e=g[t];b[e]=t});var x=[];Object.keys(p).forEach(function(t){var e=p[t];x[e]=t});var A=[];Object.keys(h).forEach(function(t){var e=h[t];A[e]=t});var w=[];Object.keys(d).forEach(function(t){var e=d[t];w[e]=t});var _=[];Object.keys(c).forEach(function(t){var e=c[t];_[e]=t});var M=m.reduce(function(t,e){var n=g[e];return n===qt||n===Yt||n===qt||n===Qt||n===re||n===ie||r.ext_srgb&&(n===oe||n===ae)?t[n]=n:n===Kt||e.indexOf("rgba")>=0?t[n]=Ht:t[n]=Xt,t},{});function S(){this.internalformat=Ht,this.format=Ht,this.type=xe,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Ye,this.width=0,this.height=0,this.channels=0}function O(t,e){t.internalformat=e.internalformat,t.format=e.format,t.type=e.type,t.compressed=e.compressed,t.premultiplyAlpha=e.premultiplyAlpha,t.flipY=e.flipY,t.unpackAlignment=e.unpackAlignment,t.colorSpace=e.colorSpace,t.width=e.width,t.height=e.height,t.channels=e.channels}function I(t,e){if("object"==typeof e&&e){if("premultiplyAlpha"in e&&(j.type(e.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),t.premultiplyAlpha=e.premultiplyAlpha),"flipY"in e&&(j.type(e.flipY,"boolean","invalid texture flip"),t.flipY=e.flipY),"alignment"in e&&(j.oneOf(e.alignment,[1,2,4,8],"invalid texture unpack alignment"),t.unpackAlignment=e.alignment),"colorSpace"in e&&(j.parameter(e.colorSpace,f,"invalid colorSpace"),t.colorSpace=f[e.colorSpace]),"type"in e){var n=e.type;j(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),j(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),j(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),j.parameter(n,p,"invalid texture type"),t.type=p[n]}var o=t.width,a=t.height,s=t.channels,u=!1;"shape"in e?(j(Array.isArray(e.shape)&&e.shape.length>=2,"shape must be an array"),o=e.shape[0],a=e.shape[1],3===e.shape.length&&(s=e.shape[2],j(s>0&&s<=4,"invalid number of channels"),u=!0),j(o>=0&&o<=i.maxTextureSize,"invalid width"),j(a>=0&&a<=i.maxTextureSize,"invalid height")):("radius"in e&&(o=a=e.radius,j(o>=0&&o<=i.maxTextureSize,"invalid radius")),"width"in e&&(o=e.width,j(o>=0&&o<=i.maxTextureSize,"invalid width")),"height"in e&&(a=e.height,j(a>=0&&a<=i.maxTextureSize,"invalid height")),"channels"in e&&(s=e.channels,j(s>0&&s<=4,"invalid number of channels"),u=!0)),t.width=0|o,t.height=0|a,t.channels=0|s;var l=!1;if("format"in e){var c=e.format;j(r.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),j.parameter(c,g,"invalid texture format");var h=t.internalformat=g[c];t.format=M[h],c in p&&("type"in e||(t.type=p[c])),c in v&&(t.compressed=!0),l=!0}!u&&l?t.channels=Ze[t.format]:u&&!l?t.channels!==Qe[t.format]&&(t.format=t.internalformat=Qe[t.channels]):l&&u&&j(t.channels===Ze[t.format],"number of channels inconsistent with specified format")}}function E(t){n.pixelStorei(Ue,t.flipY),n.pixelStorei(We,t.premultiplyAlpha),n.pixelStorei(He,t.colorSpace),n.pixelStorei(Ve,t.unpackAlignment)}function C(){S.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function k(e,n){var r=null;if(fn(n)?r=n:n&&(j.type(n,"object","invalid pixel data type"),I(e,n),"x"in n&&(e.xOffset=0|n.x),"y"in n&&(e.yOffset=0|n.y),fn(n.data)&&(r=n.data)),j(!e.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){j(!r,"can not specify copy and data field for the same texture");var o=a.viewportWidth,s=a.viewportHeight;e.width=e.width||o-e.xOffset,e.height=e.height||s-e.yOffset,e.needsCopy=!0,j(e.xOffset>=0&&e.xOffset<o&&e.yOffset>=0&&e.yOffset<s&&e.width>0&&e.width<=o&&e.height>0&&e.height<=s,"copy texture read out of bounds")}else if(r){if(t(r))e.channels=e.channels||4,e.data=r,"type"in n||e.type!==xe||(e.type=pn(r));else if(un(r))e.channels=e.channels||4,function(t,e){var n=e.length;switch(t.type){case xe:case Ae:case we:case _e:var r=rt.allocType(t.type,n);r.set(e),t.data=r;break;case se:t.data=Bt(e);break;default:j.raise("unsupported texture type, must specify a typed array")}}(e,r),e.alignment=1,e.needsFree=!0;else if(ot(r)){var u=r.data;Array.isArray(u)||e.type!==xe||(e.type=pn(u));var l,c,h,d,f,p,g=r.shape,v=r.stride;3===g.length?(h=g[2],p=v[2]):(j(2===g.length,"invalid ndarray pixel data, must be 2 or 3D"),h=1,p=1),l=g[0],c=g[1],d=v[0],f=v[1],e.alignment=1,e.width=l,e.height=c,e.channels=h,e.format=e.internalformat=Qe[h],e.needsFree=!0,function(t,e,n,r,i,o){for(var a=t.width,s=t.height,u=t.channels,l=gn(t,a*s*u),c=0,h=0;h<s;++h)for(var d=0;d<a;++d)for(var f=0;f<u;++f)l[c++]=e[n*d+r*h+i*f+o];vn(t,l)}(e,u,d,f,p,r.offset)}else if(hn(r)||dn(r)||cn(r)===tn)hn(r)||dn(r)?e.element=r:e.element=r.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(function(t){return cn(t)===en}(r))e.element=r,e.width=r.width,e.height=r.height,e.channels=4;else if(function(t){return cn(t)===nn}(r))e.element=r,e.width=r.naturalWidth,e.height=r.naturalHeight,e.channels=4;else if(function(t){return cn(t)===rn}(r))e.element=r,e.width=r.videoWidth,e.height=r.videoHeight,e.channels=4;else if(ln(r)){var y=e.width||r[0].length,m=e.height||r.length,b=e.channels;b=zt(r[0][0])?b||r[0][0].length:b||1;for(var x=st.shape(r),A=1,w=0;w<x.length;++w)A*=x[w];var _=gn(e,A);st.flatten(r,x,"",_),vn(e,_),e.alignment=1,e.width=y,e.height=m,e.channels=b,e.format=e.internalformat=Qe[b],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4;e.type===_e?j(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):e.type===se&&j(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function T(t,e,r){var i=t.element,a=t.data,s=t.internalformat,u=t.format,l=t.type,c=t.width,h=t.height;E(t),i?n.texImage2D(e,r,u,u,l,i):t.compressed?n.compressedTexImage2D(e,r,s,c,h,0,a):t.needsCopy?(o(),n.copyTexImage2D(e,r,u,t.xOffset,t.yOffset,c,h,0)):n.texImage2D(e,r,u,c,h,0,u,l,a||null)}function D(t,e,r,i,a){var s=t.element,u=t.data,l=t.internalformat,c=t.format,h=t.type,d=t.width,f=t.height;E(t),s?n.texSubImage2D(e,a,r,i,c,h,s):t.compressed?n.compressedTexSubImage2D(e,a,r,i,l,d,f,u):t.needsCopy?(o(),n.copyTexSubImage2D(e,a,r,i,t.xOffset,t.yOffset,d,f)):n.texSubImage2D(e,a,r,i,d,f,c,h,u)}var L=[];function P(){return L.pop()||new C}function N(t){t.needsFree&&rt.freeType(t.data),C.call(t),L.push(t)}function R(t,e,n){var r=t.images[0]=P();t.mipmask=1,r.width=t.width=e,r.height=t.height=n,r.channels=t.channels=4}function B(t,e){var n=null;if(fn(e))O(n=t.images[0]=P(),t),k(n,e),t.mipmask=1;else if(I(t,e),Array.isArray(e.mipmap))for(var r=e.mipmap,i=0;i<r.length;++i)O(n=t.images[i]=P(),t),n.width>>=i,n.height>>=i,k(n,r[i]),t.mipmask|=1<<i;else O(n=t.images[0]=P(),t),k(n,e),t.mipmask=1;O(t,t.images[0]),!t.compressed||t.internalformat!==ue&&t.internalformat!==le&&t.internalformat!==ce&&t.internalformat!==he||j(t.width%4==0&&t.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function z(t,e){for(var n=t.images,r=0;r<n.length;++r){if(!n[r])return;T(n[r],e,r)}}var F=[];function G(){var t=F.pop()||new function(){S.call(this),this.genMipmaps=!1,this.mipmapHint=Be,this.mipmask=0,this.images=Array(16)};S.call(t),t.mipmask=0;for(var e=0;e<16;++e)t.images[e]=null;return t}function V(t){for(var e=t.images,n=0;n<e.length;++n)e[n]&&N(e[n]),e[n]=null;F.push(t)}function U(){this.minFilter=Te,this.magFilter=Te,this.wrapS=Ie,this.wrapT=Ie,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Be}function W(t,e){if("min"in e){var n=e.min;j.parameter(n,d),t.minFilter=d[n],qe.indexOf(t.minFilter)>=0&&!("faces"in e)&&(t.genMipmaps=!0)}if("mag"in e){var r=e.mag;j.parameter(r,h),t.magFilter=h[r]}var o=t.wrapS,a=t.wrapT;if("wrap"in e){var s=e.wrap;"string"==typeof s?(j.parameter(s,c),o=a=c[s]):Array.isArray(s)&&(j.parameter(s[0],c),j.parameter(s[1],c),o=c[s[0]],a=c[s[1]])}else{if("wrapS"in e){var u=e.wrapS;j.parameter(u,c),o=c[u]}if("wrapT"in e){var f=e.wrapT;j.parameter(f,c),a=c[f]}}if(t.wrapS=o,t.wrapT=a,"anisotropic"in e){var p=e.anisotropic;j("number"==typeof p&&p>=1&&p<=i.maxAnisotropic,"aniso samples must be between 1 and "),t.anisotropic=e.anisotropic}if("mipmap"in e){var g=!1;switch(typeof e.mipmap){case"string":j.parameter(e.mipmap,l,"invalid mipmap hint"),t.mipmapHint=l[e.mipmap],t.genMipmaps=!0,g=!0;break;case"boolean":g=t.genMipmaps=e.mipmap;break;case"object":j(Array.isArray(e.mipmap),"invalid mipmap type"),t.genMipmaps=!1,g=!0;break;default:j.raise("invalid mipmap type")}!g||"min"in e||(t.minFilter=je)}}function H(t,e){n.texParameteri(e,ke,t.minFilter),n.texParameteri(e,Ce,t.magFilter),n.texParameteri(e,Me,t.wrapS),n.texParameteri(e,Se,t.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(e,Ge,t.anisotropic),t.genMipmaps&&(n.hint(Re,t.mipmapHint),n.generateMipmap(e))}var Y=0,X={},q=i.maxTextureUnits,Q=Array(q).map(function(){return null});function Z(t){S.call(this),this.mipmask=0,this.internalformat=Ht,this.id=Y++,this.refCount=1,this.target=t,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new U,u.profile&&(this.stats={size:0})}function K(t){n.activeTexture(Xe),n.bindTexture(t.target,t.texture)}function J(){var t=Q[0];t?n.bindTexture(t.target,t.texture):n.bindTexture(Vt,null)}function $(t){var e=t.texture;j(e,"must not double destroy texture");var r=t.unit,i=t.target;r>=0&&(n.activeTexture(Xe+r),n.bindTexture(i,null),Q[r]=null),n.deleteTexture(e),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete X[t.id],s.textureCount--}return e(Z.prototype,{bind:function(){this.bindCount+=1;var t=this.unit;if(t<0){for(var e=0;e<q;++e){var r=Q[e];if(r){if(r.bindCount>0)continue;r.unit=-1}Q[e]=this,t=e;break}t>=q&&j.raise("insufficient number of texture units"),u.profile&&s.maxTextureUnits<t+1&&(s.maxTextureUnits=t+1),this.unit=t,n.activeTexture(Xe+t),n.bindTexture(this.target,this.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&$(this)}}),u.profile&&(s.getTotalTextureSize=function(){var t=0;return Object.keys(X).forEach(function(e){t+=X[e].stats.size}),t}),{create2D:function(t,e){var r=new Z(Vt);function o(t,e){var n=r.texInfo;U.call(n);var a=G();return"number"==typeof t?R(a,0|t,"number"==typeof e?0|e:0|t):t?(j.type(t,"object","invalid arguments to regl.texture"),W(n,t),B(a,t)):R(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,O(r,a),j.texture2D(n,a,i),r.internalformat=a.internalformat,o.width=a.width,o.height=a.height,K(r),z(a,Vt),H(n,Vt),J(),V(a),u.profile&&(r.stats.size=yn(r.internalformat,r.type,a.width,a.height,n.genMipmaps,!1)),o.format=b[r.internalformat],o.type=x[r.type],o.mag=A[n.magFilter],o.min=w[n.minFilter],o.wrapS=_[n.wrapS],o.wrapT=_[n.wrapT],o}return X[r.id]=r,s.textureCount++,o(t,e),o.subimage=function(t,e,n,i){j(!!t,"must specify image data");var a=0|e,s=0|n,u=0|i,l=P();return O(l,r),l.width=0,l.height=0,k(l,t),l.width=l.width||(r.width>>u)-a,l.height=l.height||(r.height>>u)-s,j(r.type===l.type&&r.format===l.format&&r.internalformat===l.internalformat,"incompatible format for texture.subimage"),j(a>=0&&s>=0&&a+l.width<=r.width&&s+l.height<=r.height,"texture.subimage write out of bounds"),j(r.mipmask&1<<u,"missing mipmap data"),j(l.data||l.element||l.needsCopy,"missing image data"),K(r),D(l,Vt,a,s,u),J(),N(l),o},o.resize=function(t,e){var i=0|t,a=0|e||i;if(i===r.width&&a===r.height)return o;o.width=r.width=i,o.height=r.height=a,K(r);for(var s=0;r.mipmask>>s;++s){var l=i>>s,c=a>>s;if(!l||!c)break;n.texImage2D(Vt,s,r.format,l,c,0,r.format,r.type,null)}return J(),u.profile&&(r.stats.size=yn(r.internalformat,r.type,i,a,!1,!1)),o},o._reglType="texture2d",o._texture=r,u.profile&&(o.stats=r.stats),o.destroy=function(){r.decRef()},o},createCube:function(t,e,r,o,a,l){var c=new Z(Ut);X[c.id]=c,s.cubeCount++;var h=new Array(6);function d(t,e,n,r,o,a){var s,l=c.texInfo;for(U.call(l),s=0;s<6;++s)h[s]=G();if("number"!=typeof t&&t)if("object"==typeof t)if(e)B(h[0],t),B(h[1],e),B(h[2],n),B(h[3],r),B(h[4],o),B(h[5],a);else if(W(l,t),I(c,t),"faces"in t){var f=t.faces;for(j(Array.isArray(f)&&6===f.length,"cube faces must be a length 6 array"),s=0;s<6;++s)j("object"==typeof f[s]&&!!f[s],"invalid input for cube map face"),O(h[s],c),B(h[s],f[s])}else for(s=0;s<6;++s)B(h[s],t);else j.raise("invalid arguments to cube map");else{var p=0|t||1;for(s=0;s<6;++s)R(h[s],p,p)}for(O(c,h[0]),i.npotTextureCube||j(Ft(c.width)&&Ft(c.height),"your browser does not support non power or two texture dimensions"),l.genMipmaps?c.mipmask=(h[0].width<<1)-1:c.mipmask=h[0].mipmask,j.textureCube(c,l,h,i),c.internalformat=h[0].internalformat,d.width=h[0].width,d.height=h[0].height,K(c),s=0;s<6;++s)z(h[s],Wt+s);for(H(l,Ut),J(),u.profile&&(c.stats.size=yn(c.internalformat,c.type,d.width,d.height,l.genMipmaps,!0)),d.format=b[c.internalformat],d.type=x[c.type],d.mag=A[l.magFilter],d.min=w[l.minFilter],d.wrapS=_[l.wrapS],d.wrapT=_[l.wrapT],s=0;s<6;++s)V(h[s]);return d}return d(t,e,r,o,a,l),d.subimage=function(t,e,n,r,i){j(!!e,"must specify image data"),j("number"==typeof t&&t===(0|t)&&t>=0&&t<6,"invalid face");var o=0|n,a=0|r,s=0|i,u=P();return O(u,c),u.width=0,u.height=0,k(u,e),u.width=u.width||(c.width>>s)-o,u.height=u.height||(c.height>>s)-a,j(c.type===u.type&&c.format===u.format&&c.internalformat===u.internalformat,"incompatible format for texture.subimage"),j(o>=0&&a>=0&&o+u.width<=c.width&&a+u.height<=c.height,"texture.subimage write out of bounds"),j(c.mipmask&1<<s,"missing mipmap data"),j(u.data||u.element||u.needsCopy,"missing image data"),K(c),D(u,Wt+t,o,a,s),J(),N(u),d},d.resize=function(t){var e=0|t;if(e!==c.width){d.width=c.width=e,d.height=c.height=e,K(c);for(var r=0;r<6;++r)for(var i=0;c.mipmask>>i;++i)n.texImage2D(Wt+r,i,c.format,e>>i,e>>i,0,c.format,c.type,null);return J(),u.profile&&(c.stats.size=yn(c.internalformat,c.type,d.width,d.height,!1,!0)),d}},d._reglType="textureCube",d._texture=c,u.profile&&(d.stats=c.stats),d.destroy=function(){c.decRef()},d},clear:function(){for(var t=0;t<q;++t)n.activeTexture(Xe+t),n.bindTexture(Vt,null),Q[t]=null;at(X).forEach($),s.cubeCount=0,s.textureCount=0},getTexture:function(t){return null},restore:function(){for(var t=0;t<q;++t){var e=Q[t];e&&(e.bindCount=0,e.unit=-1,Q[t]=null)}at(X).forEach(function(t){t.texture=n.createTexture(),n.bindTexture(t.target,t.texture);for(var e=0;e<32;++e)if(0!=(t.mipmask&1<<e))if(t.target===Vt)n.texImage2D(Vt,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);else for(var r=0;r<6;++r)n.texImage2D(Wt+r,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);H(t.texInfo,t.target)})},refresh:function(){for(var t=0;t<q;++t){var e=Q[t];e&&(e.bindCount=0,e.unit=-1,Q[t]=null),n.activeTexture(Xe+t),n.bindTexture(Vt,null),n.bindTexture(Ut,null)}}}}sn[Zt]=2,sn[Kt]=2,sn[Jt]=2,sn[ie]=4,sn[ue]=.5,sn[le]=.5,sn[ce]=1,sn[he]=1,sn[de]=.5,sn[fe]=1,sn[pe]=1,sn[ge]=.5,sn[ve]=.25,sn[ye]=.5,sn[me]=.25,sn[be]=.5;var bn=36161,xn=32854,An=[];function wn(t,e,n){return An[t]*e*n}An[xn]=2,An[32855]=2,An[36194]=2,An[33189]=2,An[36168]=1,An[34041]=4,An[35907]=4,An[34836]=16,An[34842]=8,An[34843]=6;var _n=function(t,e,n,r,i){var o={rgba4:xn,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};e.ext_srgb&&(o.srgba=35907),e.ext_color_buffer_half_float&&(o.rgba16f=34842,o.rgb16f=34843),e.webgl_color_buffer_float&&(o.rgba32f=34836);var a=[];Object.keys(o).forEach(function(t){var e=o[t];a[e]=t});var s=0,u={};function l(t){this.id=s++,this.refCount=1,this.renderbuffer=t,this.format=xn,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function c(e){var n=e.renderbuffer;j(n,"must not double destroy renderbuffer"),t.bindRenderbuffer(bn,null),t.deleteRenderbuffer(n),e.renderbuffer=null,e.refCount=0,delete u[e.id],r.renderbufferCount--}return l.prototype.decRef=function(){--this.refCount<=0&&c(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var t=0;return Object.keys(u).forEach(function(e){t+=u[e].stats.size}),t}),{create:function(e,s){var c=new l(t.createRenderbuffer());function h(e,r){var s=0,u=0,l=xn;if("object"==typeof e&&e){var d=e;if("shape"in d){var f=d.shape;j(Array.isArray(f)&&f.length>=2,"invalid renderbuffer shape"),s=0|f[0],u=0|f[1]}else"radius"in d&&(s=u=0|d.radius),"width"in d&&(s=0|d.width),"height"in d&&(u=0|d.height);"format"in d&&(j.parameter(d.format,o,"invalid renderbuffer format"),l=o[d.format])}else"number"==typeof e?(s=0|e,u="number"==typeof r?0|r:s):e?j.raise("invalid arguments to renderbuffer constructor"):s=u=1;if(j(s>0&&u>0&&s<=n.maxRenderbufferSize&&u<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==c.width||u!==c.height||l!==c.format)return h.width=c.width=s,h.height=c.height=u,c.format=l,t.bindRenderbuffer(bn,c.renderbuffer),t.renderbufferStorage(bn,l,s,u),j(0===t.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=wn(c.format,c.width,c.height)),h.format=a[c.format],h}return u[c.id]=c,r.renderbufferCount++,h(e,s),h.resize=function(e,r){var o=0|e,a=0|r||o;return o===c.width&&a===c.height?h:(j(o>0&&a>0&&o<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),h.width=c.width=o,h.height=c.height=a,t.bindRenderbuffer(bn,c.renderbuffer),t.renderbufferStorage(bn,c.format,o,a),j(0===t.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=wn(c.format,c.width,c.height)),h)},h._reglType="renderbuffer",h._renderbuffer=c,i.profile&&(h.stats=c.stats),h.destroy=function(){c.decRef()},h},clear:function(){at(u).forEach(c)},restore:function(){at(u).forEach(function(e){e.renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(bn,e.renderbuffer),t.renderbufferStorage(bn,e.format,e.width,e.height)}),t.bindRenderbuffer(bn,null)}}},Mn=36160,Sn=36161,On=3553,In=34069,En=36064,Cn=36096,kn=36128,Tn=33306,Dn=36053,jn=6402,Ln=[6407,6408],Pn=[];Pn[6408]=4,Pn[6407]=3;var Nn=[];Nn[5121]=1,Nn[5126]=4,Nn[36193]=2;var Rn=33189,Bn=36168,zn=34041,Fn=[32854,32855,36194,35907,34842,34843,34836],Gn={};Gn[Dn]="complete",Gn[36054]="incomplete attachment",Gn[36057]="incomplete dimensions",Gn[36055]="incomplete, missing attachment",Gn[36061]="unsupported";var Vn=5126,Un=34962;function Wn(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Vn,this.offset=0,this.stride=0,this.divisor=0}var Hn=35632,Yn=35633,Xn=35718,qn=35721;function Qn(t,n,r,i){var o={},a={};function s(t,e,n,r){this.name=t,this.id=e,this.location=n,this.info=r}function u(t,e){for(var n=0;n<t.length;++n)if(t[n].id===e.id)return void(t[n].location=e.location);t.push(e)}function l(e,r,i){var s=e===Hn?o:a,u=s[r];if(!u){var l=n.str(r);u=t.createShader(e),t.shaderSource(u,l),t.compileShader(u),j.shaderError(t,u,l,e,i),s[r]=u}return u}var c={},h=[],d=0;function f(e,r,o){var a,c,h=l(Hn,e.fragId),d=l(Yn,e.vertId),f=e.program=t.createProgram();if(t.attachShader(f,h),t.attachShader(f,d),o)for(a=0;a<o.length;++a){var p=o[a];t.bindAttribLocation(f,p[0],p[1])}t.linkProgram(f),j.linkError(t,f,n.str(e.fragId),n.str(e.vertId),r);var g=t.getProgramParameter(f,Xn);i.profile&&(e.stats.uniformsCount=g);var v=e.uniforms;for(a=0;a<g;++a)if(c=t.getActiveUniform(f,a))if(c.size>1)for(var y=0;y<c.size;++y){var m=c.name.replace("[0]","["+y+"]");u(v,new s(m,n.id(m),t.getUniformLocation(f,m),c))}else u(v,new s(c.name,n.id(c.name),t.getUniformLocation(f,c.name),c));var b=t.getProgramParameter(f,qn);i.profile&&(e.stats.attributesCount=b);var x=e.attributes;for(a=0;a<b;++a)(c=t.getActiveAttrib(f,a))&&u(x,new s(c.name,n.id(c.name),t.getAttribLocation(f,c.name),c))}return i.profile&&(r.getMaxUniformsCount=function(){var t=0;return h.forEach(function(e){e.stats.uniformsCount>t&&(t=e.stats.uniformsCount)}),t},r.getMaxAttributesCount=function(){var t=0;return h.forEach(function(e){e.stats.attributesCount>t&&(t=e.stats.attributesCount)}),t}),{clear:function(){var e=t.deleteShader.bind(t);at(o).forEach(e),o={},at(a).forEach(e),a={},h.forEach(function(e){t.deleteProgram(e.program)}),h.length=0,c={},r.shaderCount=0},program:function(n,s,u,l){j.command(n>=0,"missing vertex shader",u),j.command(s>=0,"missing fragment shader",u);var p=c[s];p||(p=c[s]={});var g=p[n];if(g&&(g.refCount++,!l))return g;var v=new function(t,e){this.id=d++,this.fragId=t,this.vertId=e,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}(s,n);return r.shaderCount++,f(v,u,l),g||(p[n]=v),h.push(v),e(v,{destroy:function(){if(v.refCount--,v.refCount<=0){t.deleteProgram(v.program);var e=h.indexOf(v);h.splice(e,1),r.shaderCount--}p[v.vertId].refCount<=0&&(t.deleteShader(a[v.vertId]),delete a[v.vertId],delete c[v.fragId][v.vertId]),Object.keys(c[v.fragId]).length||(t.deleteShader(o[v.fragId]),delete o[v.fragId],delete c[v.fragId])}})},restore:function(){o={},a={};for(var t=0;t<h.length;++t)f(h[t],null,h[t].attributes.map(function(t){return[t.location,t.name]}))},shader:l,frag:-1,vert:-1}}var Zn=6408,Kn=5121,Jn=3333,$n=5126;function tr(e,n,r,i,o,a,s){function u(u){var l;null===n.next?(j(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),l=Kn):(j(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),l=n.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(j(l===Kn||l===$n,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),l===$n&&j(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):j(l===Kn,"Reading from a framebuffer is only allowed for the type 'uint8'"));var c=0,h=0,d=i.framebufferWidth,f=i.framebufferHeight,p=null;t(u)?p=u:u&&(j.type(u,"object","invalid arguments to regl.read()"),c=0|u.x,h=0|u.y,j(c>=0&&c<i.framebufferWidth,"invalid x offset for regl.read"),j(h>=0&&h<i.framebufferHeight,"invalid y offset for regl.read"),d=0|(u.width||i.framebufferWidth-c),f=0|(u.height||i.framebufferHeight-h),p=u.data||null),p&&(l===Kn?j(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):l===$n&&j(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),j(d>0&&d+c<=i.framebufferWidth,"invalid width for read pixels"),j(f>0&&f+h<=i.framebufferHeight,"invalid height for read pixels"),r();var g=d*f*4;return p||(l===Kn?p=new Uint8Array(g):l===$n&&(p=p||new Float32Array(g))),j.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),j(p.byteLength>=g,"data buffer for regl.read() too small"),e.pixelStorei(Jn,4),e.readPixels(c,h,d,f,Zn,l,p),p}return function(t){return t&&"framebuffer"in t?function(t){var e;return n.setFBO({framebuffer:t.framebuffer},function(){e=u(t)}),e}(t):u(t)}}function er(t){return Array.prototype.slice.call(t)}function nr(t){return er(t).join("")}var rr="xyzw".split(""),ir=5121,or=1,ar=2,sr=0,ur=1,lr=2,cr=3,hr=4,dr=5,fr=6,pr="dither",gr="blend.enable",vr="blend.color",yr="blend.equation",mr="blend.func",br="depth.enable",xr="depth.func",Ar="depth.range",wr="depth.mask",_r="colorMask",Mr="cull.enable",Sr="cull.face",Or="frontFace",Ir="lineWidth",Er="polygonOffset.enable",Cr="polygonOffset.offset",kr="sample.alpha",Tr="sample.enable",Dr="sample.coverage",jr="stencil.enable",Lr="stencil.mask",Pr="stencil.func",Nr="stencil.opFront",Rr="stencil.opBack",Br="scissor.enable",zr="scissor.box",Fr="viewport",Gr="profile",Vr="framebuffer",Ur="vert",Wr="frag",Hr="elements",Yr="primitive",Xr="count",qr="offset",Qr="instances",Zr="vao",Kr=Vr+"Width",Jr=Vr+"Height",$r=Fr+"Width",ti=Fr+"Height",ei="drawingBufferWidth",ni="drawingBufferHeight",ri=[mr,yr,Pr,Nr,Rr,Dr,Fr,zr,Cr],ii=34962,oi=34963,ai=3553,si=34067,ui=2884,li=3042,ci=3024,hi=2960,di=2929,fi=3089,pi=32823,gi=32926,vi=32928,yi=5126,mi=35664,bi=35665,xi=35666,Ai=5124,wi=35667,_i=35668,Mi=35669,Si=35670,Oi=35671,Ii=35672,Ei=35673,Ci=35674,ki=35675,Ti=35676,Di=35678,ji=35680,Li=4,Pi=1028,Ni=1029,Ri=2304,Bi=2305,zi=32775,Fi=32776,Gi=519,Vi=7680,Ui=0,Wi=1,Hi=32774,Yi=513,Xi=36160,qi=36064,Qi={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Zi=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Ki={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ji={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},$i={frag:35632,vert:35633},to={cw:Ri,ccw:Bi};function eo(e){return Array.isArray(e)||t(e)||ot(e)}function no(t){return t.sort(function(t,e){return t===Fr?-1:e===Fr?1:t<e?-1:1})}function ro(t,e,n,r){this.thisDep=t,this.contextDep=e,this.propDep=n,this.append=r}function io(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function oo(t){return new ro(!1,!1,!1,t)}function ao(t,e){var n=t.type;if(n===sr){var r=t.data.length;return new ro(!0,r>=1,r>=2,e)}if(n===hr){var i=t.data;return new ro(i.thisDep,i.contextDep,i.propDep,e)}if(n===dr)return new ro(!1,!1,!1,e);if(n===fr){for(var o=!1,a=!1,s=!1,u=0;u<t.data.length;++u){var l=t.data[u];if(l.type===ur)s=!0;else if(l.type===lr)a=!0;else if(l.type===cr)o=!0;else if(l.type===sr){o=!0;var c=l.data;c>=1&&(a=!0),c>=2&&(s=!0)}else l.type===hr&&(o=o||l.data.thisDep,a=a||l.data.contextDep,s=s||l.data.propDep)}return new ro(o,a,s,e)}return new ro(n===cr,n===lr,n===ur,e)}var so=new ro(!1,!1,!1,function(){});function uo(t,n,r,i,o,a,s,u,l,c,h,d,f,p,g){var v=c.Record,y={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(y.min=zi,y.max=Fi);var m=r.angle_instanced_arrays,b=r.webgl_draw_buffers,x={dirty:!0,profile:g.profile},A={},w=[],_={},M={};function S(t){return t.replace(".","_")}function O(t,e,n){var r=S(t);w.push(t),A[r]=x[r]=!!n,_[r]=e}function I(t,e,n){var r=S(t);w.push(t),Array.isArray(n)?(x[r]=n.slice(),A[r]=n.slice()):x[r]=A[r]=n,M[r]=e}O(pr,ci),O(gr,li),I(vr,"blendColor",[0,0,0,0]),I(yr,"blendEquationSeparate",[Hi,Hi]),I(mr,"blendFuncSeparate",[Wi,Ui,Wi,Ui]),O(br,di,!0),I(xr,"depthFunc",Yi),I(Ar,"depthRange",[0,1]),I(wr,"depthMask",!0),I(_r,_r,[!0,!0,!0,!0]),O(Mr,ui),I(Sr,"cullFace",Ni),I(Or,Or,Bi),I(Ir,Ir,1),O(Er,pi),I(Cr,"polygonOffset",[0,0]),O(kr,gi),O(Tr,vi),I(Dr,"sampleCoverage",[1,!1]),O(jr,hi),I(Lr,"stencilMask",-1),I(Pr,"stencilFunc",[Gi,0,-1]),I(Nr,"stencilOpSeparate",[Pi,Vi,Vi,Vi]),I(Rr,"stencilOpSeparate",[Ni,Vi,Vi,Vi]),O(Br,fi),I(zr,"scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),I(Fr,Fr,[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var E={gl:t,context:f,strings:n,next:A,current:x,draw:d,elements:a,buffer:o,shader:h,attributes:c.state,vao:c,uniforms:l,framebuffer:u,extensions:r,timer:p,isBufferArgs:eo},C={primTypes:wt,compareFuncs:Ki,blendFuncs:Qi,blendEquations:y,stencilOps:Ji,glTypes:ct,orientationType:to};j.optional(function(){E.isArrayLike=zt}),b&&(C.backBuffer=[Ni],C.drawBuffer=X(i.maxDrawbuffers,function(t){return 0===t?[0]:X(t,function(t){return qi+t})}));var k=0;function T(){var t=function(){var t=0,n=[],r=[];function i(){var n=[],r=[];return e(function(){n.push.apply(n,er(arguments))},{def:function(){var e="v"+t++;return r.push(e),arguments.length>0&&(n.push(e,"="),n.push.apply(n,er(arguments)),n.push(";")),e},toString:function(){return nr([r.length>0?"var "+r.join(",")+";":"",nr(n)])}})}function o(){var t=i(),n=i(),r=t.toString,o=n.toString;function a(e,r){n(e,r,"=",t.def(e,r),";")}return e(function(){t.apply(t,er(arguments))},{def:t.def,entry:t,exit:n,save:a,set:function(e,n,r){a(e,n),t(e,n,"=",r,";")},toString:function(){return r()+o()}})}var a=i(),s={};return{global:a,link:function(e){for(var i=0;i<r.length;++i)if(r[i]===e)return n[i];var o="g"+t++;return n.push(o),r.push(e),o},block:i,proc:function(t,n){var r=[];function i(){var t="a"+r.length;return r.push(t),t}n=n||0;for(var a=0;a<n;++a)i();var u=o(),l=u.toString;return s[t]=e(u,{arg:i,toString:function(){return nr(["function(",r.join(),"){",l(),"}"])}})},scope:o,cond:function(){var t=nr(arguments),n=o(),r=o(),i=n.toString,a=r.toString;return e(n,{then:function(){return n.apply(n,er(arguments)),this},else:function(){return r.apply(r,er(arguments)),this},toString:function(){var e=a();return e&&(e="else{"+e+"}"),nr(["if(",t,"){",i(),"}",e])}})},compile:function(){var t=['"use strict";',a,"return {"];Object.keys(s).forEach(function(e){t.push('"',e,'":',s[e].toString(),",")}),t.push("}");var e=nr(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(e)).apply(null,r)}}}(),r=t.link,i=t.global;t.id=k++,t.batchId="0";var o=r(E),a=t.shared={props:"a0"};Object.keys(E).forEach(function(t){a[t]=i.def(o,".",t)}),j.optional(function(){t.CHECK=r(j),t.commandStr=j.guessCommand(),t.command=r(t.commandStr),t.assert=function(t,e,n){t("if(!(",e,"))",this.CHECK,".commandRaise(",r(n),",",this.command,");")},C.invalidBlendCombinations=Zi});var s=t.next={},u=t.current={};Object.keys(M).forEach(function(t){Array.isArray(x[t])&&(s[t]=i.def(a.next,".",t),u[t]=i.def(a.current,".",t))});var l=t.constants={};Object.keys(C).forEach(function(t){l[t]=i.def(JSON.stringify(C[t]))}),t.invoke=function(e,n){switch(n.type){case sr:var i=["this",a.context,a.props,t.batchId];return e.def(r(n.data),".call(",i.slice(0,Math.max(n.data.length+1,4)),")");case ur:return e.def(a.props,n.data);case lr:return e.def(a.context,n.data);case cr:return e.def("this",n.data);case hr:return n.data.append(t,e),n.data.ref;case dr:return n.data.toString();case fr:return n.data.map(function(n){return t.invoke(e,n)})}},t.attribCache={};var h={};return t.scopeAttrib=function(t){var e=n.id(t);if(e in h)return h[e];var i=c.scope[e];return i||(i=c.scope[e]=new v),h[e]=r(i)},t}function D(t,e,s,l,d){var f=t.static,p=t.dynamic;j.optional(function(){var t=[Vr,Ur,Wr,Hr,Yr,qr,Xr,Qr,Gr,Zr].concat(w);function e(e){Object.keys(e).forEach(function(e){j.command(t.indexOf(e)>=0,'unknown parameter "'+e+'"',d.commandStr)})}e(f),e(p)});var g=function(t,e){var n=t.static;if("string"==typeof n[Wr]&&"string"==typeof n[Ur]){if(Object.keys(e.dynamic).length>0)return null;var r=e.static,i=Object.keys(r);if(i.length>0&&"number"==typeof r[i[0]]){for(var o=[],a=0;a<i.length;++a)j("number"==typeof r[i[a]],"must specify all vertex attribute locations when using vaos"),o.push([0|r[i[a]],i[a]]);return o}}return null}(t,e),b=function(t,e){var n=t.static,r=t.dynamic;if(Vr in n){var i=n[Vr];return i?(i=u.getFramebuffer(i),j.command(i,"invalid framebuffer object"),oo(function(t,e){var n=t.link(i),r=t.shared;e.set(r.framebuffer,".next",n);var o=r.context;return e.set(o,"."+Kr,n+".width"),e.set(o,"."+Jr,n+".height"),n})):oo(function(t,e){var n=t.shared;e.set(n.framebuffer,".next","null");var r=n.context;return e.set(r,"."+Kr,r+"."+ei),e.set(r,"."+Jr,r+"."+ni),"null"})}if(Vr in r){var o=r[Vr];return ao(o,function(t,e){var n=t.invoke(e,o),r=t.shared,i=r.framebuffer,a=e.def(i,".getFramebuffer(",n,")");j.optional(function(){t.assert(e,"!"+n+"||"+a,"invalid framebuffer object")}),e.set(i,".next",a);var s=r.context;return e.set(s,"."+Kr,a+"?"+a+".width:"+s+"."+ei),e.set(s,"."+Jr,a+"?"+a+".height:"+s+"."+ni),a})}return null}(t),x=function(t,e,n){var r=t.static,i=t.dynamic;function o(t){if(t in r){var o=r[t];j.commandType(o,"object","invalid "+t,n.commandStr);var a,s,u=!0,l=0|o.x,c=0|o.y;return"width"in o?(a=0|o.width,j.command(a>=0,"invalid "+t,n.commandStr)):u=!1,"height"in o?(s=0|o.height,j.command(s>=0,"invalid "+t,n.commandStr)):u=!1,new ro(!u&&e&&e.thisDep,!u&&e&&e.contextDep,!u&&e&&e.propDep,function(t,e){var n=t.shared.context,r=a;"width"in o||(r=e.def(n,".",Kr,"-",l));var i=s;return"height"in o||(i=e.def(n,".",Jr,"-",c)),[l,c,r,i]})}if(t in i){var h=i[t],d=ao(h,function(e,n){var r=e.invoke(n,h);j.optional(function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)});var i=e.shared.context,o=n.def(r,".x|0"),a=n.def(r,".y|0"),s=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",Kr,"-",o,")"),u=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",Jr,"-",a,")");return j.optional(function(){e.assert(n,s+">=0&&"+u+">=0","invalid "+t)}),[o,a,s,u]});return e&&(d.thisDep=d.thisDep||e.thisDep,d.contextDep=d.contextDep||e.contextDep,d.propDep=d.propDep||e.propDep),d}return e?new ro(e.thisDep,e.contextDep,e.propDep,function(t,e){var n=t.shared.context;return[0,0,e.def(n,".",Kr),e.def(n,".",Jr)]}):null}var a=o(Fr);if(a){var s=a;a=new ro(a.thisDep,a.contextDep,a.propDep,function(t,e){var n=s.append(t,e),r=t.shared.context;return e.set(r,"."+$r,n[2]),e.set(r,"."+ti,n[3]),n})}return{viewport:a,scissor_box:o(zr)}}(t,b,d),A=function(t,e){var n=t.static,r=t.dynamic,i=function(){if(Hr in n){var t=n[Hr];eo(t)?t=a.getElements(a.create(t,!0)):t&&(t=a.getElements(t),j.command(t,"invalid elements",e.commandStr));var i=oo(function(e,n){if(t){var r=e.link(t);return e.ELEMENTS=r,r}return e.ELEMENTS=null,null});return i.value=t,i}if(Hr in r){var o=r[Hr];return ao(o,function(t,e){var n=t.shared,r=n.isBufferArgs,i=n.elements,a=t.invoke(e,o),s=e.def("null"),u=e.def(r,"(",a,")"),l=t.cond(u).then(s,"=",i,".createStream(",a,");").else(s,"=",i,".getElements(",a,");");return j.optional(function(){t.assert(l.else,"!"+a+"||"+s,"invalid elements")}),e.entry(l),e.exit(t.cond(u).then(i,".destroyStream(",s,");")),t.ELEMENTS=s,s})}return null}();function o(t,o){if(t in n){var a=0|n[t];return j.command(!o||a>=0,"invalid "+t,e.commandStr),oo(function(t,e){return o&&(t.OFFSET=a),a})}if(t in r){var s=r[t];return ao(s,function(e,n){var r=e.invoke(n,s);return o&&(e.OFFSET=r,j.optional(function(){e.assert(n,r+">=0","invalid "+t)})),r})}return o&&i?oo(function(t,e){return t.OFFSET="0",0}):null}var s=o(qr,!0);return{elements:i,primitive:function(){if(Yr in n){var t=n[Yr];return j.commandParameter(t,wt,"invalid primitve",e.commandStr),oo(function(e,n){return wt[t]})}if(Yr in r){var o=r[Yr];return ao(o,function(t,e){var n=t.constants.primTypes,r=t.invoke(e,o);return j.optional(function(){t.assert(e,r+" in "+n,"invalid primitive, must be one of "+Object.keys(wt))}),e.def(n,"[",r,"]")})}return i?io(i)?i.value?oo(function(t,e){return e.def(t.ELEMENTS,".primType")}):oo(function(){return Li}):new ro(i.thisDep,i.contextDep,i.propDep,function(t,e){var n=t.ELEMENTS;return e.def(n,"?",n,".primType:",Li)}):null}(),count:function(){if(Xr in n){var t=0|n[Xr];return j.command("number"==typeof t&&t>=0,"invalid vertex count",e.commandStr),oo(function(){return t})}if(Xr in r){var o=r[Xr];return ao(o,function(t,e){var n=t.invoke(e,o);return j.optional(function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")}),n})}if(i){if(io(i)){if(i)return s?new ro(s.thisDep,s.contextDep,s.propDep,function(t,e){var n=e.def(t.ELEMENTS,".vertCount-",t.OFFSET);return j.optional(function(){t.assert(e,n+">=0","invalid vertex offset/element buffer too small")}),n}):oo(function(t,e){return e.def(t.ELEMENTS,".vertCount")});var a=oo(function(){return-1});return j.optional(function(){a.MISSING=!0}),a}var u=new ro(i.thisDep||s.thisDep,i.contextDep||s.contextDep,i.propDep||s.propDep,function(t,e){var n=t.ELEMENTS;return t.OFFSET?e.def(n,"?",n,".vertCount-",t.OFFSET,":-1"):e.def(n,"?",n,".vertCount:-1")});return j.optional(function(){u.DYNAMIC=!0}),u}return null}(),instances:o(Qr,!1),offset:s}}(t,d),_=function(t,e){var n=t.static,r=t.dynamic,o={};return w.forEach(function(t){var a=S(t);function s(e,i){if(t in n){var s=e(n[t]);o[a]=oo(function(){return s})}else if(t in r){var u=r[t];o[a]=ao(u,function(t,e){return i(t,e,t.invoke(e,u))})}}switch(t){case Mr:case gr:case pr:case jr:case br:case Br:case Er:case kr:case Tr:case wr:return s(function(n){return j.commandType(n,"boolean",t,e.commandStr),n},function(e,n,r){return j.optional(function(){e.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+t,e.commandStr)}),r});case xr:return s(function(n){return j.commandParameter(n,Ki,"invalid "+t,e.commandStr),Ki[n]},function(e,n,r){var i=e.constants.compareFuncs;return j.optional(function(){e.assert(n,r+" in "+i,"invalid "+t+", must be one of "+Object.keys(Ki))}),n.def(i,"[",r,"]")});case Ar:return s(function(t){return j.command(zt(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[0]<=t[1],"depth range is 2d array",e.commandStr),t},function(t,e,n){return j.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")}),[e.def("+",n,"[0]"),e.def("+",n,"[1]")]});case mr:return s(function(t){j.commandType(t,"object","blend.func",e.commandStr);var n="srcRGB"in t?t.srcRGB:t.src,r="srcAlpha"in t?t.srcAlpha:t.src,i="dstRGB"in t?t.dstRGB:t.dst,o="dstAlpha"in t?t.dstAlpha:t.dst;return j.commandParameter(n,Qi,a+".srcRGB",e.commandStr),j.commandParameter(r,Qi,a+".srcAlpha",e.commandStr),j.commandParameter(i,Qi,a+".dstRGB",e.commandStr),j.commandParameter(o,Qi,a+".dstAlpha",e.commandStr),j.command(-1===Zi.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",e.commandStr),[Qi[n],Qi[i],Qi[r],Qi[o]]},function(e,n,r){var i=e.constants.blendFuncs;function o(o,a){var s=n.def('"',o,a,'" in ',r,"?",r,".",o,a,":",r,".",o);return j.optional(function(){e.assert(n,s+" in "+i,"invalid "+t+"."+o+a+", must be one of "+Object.keys(Qi))}),s}j.optional(function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")});var a=o("src","RGB"),s=o("dst","RGB");j.optional(function(){var t=e.constants.invalidBlendCombinations;e.assert(n,t+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var u=n.def(i,"[",a,"]"),l=n.def(i,"[",o("src","Alpha"),"]");return[u,n.def(i,"[",s,"]"),l,n.def(i,"[",o("dst","Alpha"),"]")]});case yr:return s(function(n){return"string"==typeof n?(j.commandParameter(n,y,"invalid "+t,e.commandStr),[y[n],y[n]]):"object"==typeof n?(j.commandParameter(n.rgb,y,t+".rgb",e.commandStr),j.commandParameter(n.alpha,y,t+".alpha",e.commandStr),[y[n.rgb],y[n.alpha]]):void j.commandRaise("invalid blend.equation",e.commandStr)},function(e,n,r){var i=e.constants.blendEquations,o=n.def(),a=n.def(),s=e.cond("typeof ",r,'==="string"');return j.optional(function(){function n(t,n,r){e.assert(t,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(y))}n(s.then,t,r),e.assert(s.else,r+"&&typeof "+r+'==="object"',"invalid "+t),n(s.else,t+".rgb",r+".rgb"),n(s.else,t+".alpha",r+".alpha")}),s.then(o,"=",a,"=",i,"[",r,"];"),s.else(o,"=",i,"[",r,".rgb];",a,"=",i,"[",r,".alpha];"),n(s),[o,a]});case vr:return s(function(t){return j.command(zt(t)&&4===t.length,"blend.color must be a 4d array",e.commandStr),X(4,function(e){return+t[e]})},function(t,e,n){return j.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")}),X(4,function(t){return e.def("+",n,"[",t,"]")})});case Lr:return s(function(t){return j.commandType(t,"number",a,e.commandStr),0|t},function(t,e,n){return j.optional(function(){t.assert(e,"typeof "+n+'==="number"',"invalid stencil.mask")}),e.def(n,"|0")});case Pr:return s(function(n){j.commandType(n,"object",a,e.commandStr);var r=n.cmp||"keep",i=n.ref||0,o="mask"in n?n.mask:-1;return j.commandParameter(r,Ki,t+".cmp",e.commandStr),j.commandType(i,"number",t+".ref",e.commandStr),j.commandType(o,"number",t+".mask",e.commandStr),[Ki[r],i,o]},function(t,e,n){var r=t.constants.compareFuncs;return j.optional(function(){function i(){t.assert(e,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")}),[e.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",Vi),e.def(n,".ref|0"),e.def('"mask" in ',n,"?",n,".mask|0:-1")]});case Nr:case Rr:return s(function(n){j.commandType(n,"object",a,e.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",o=n.zpass||"keep";return j.commandParameter(r,Ji,t+".fail",e.commandStr),j.commandParameter(i,Ji,t+".zfail",e.commandStr),j.commandParameter(o,Ji,t+".zpass",e.commandStr),[t===Rr?Ni:Pi,Ji[r],Ji[i],Ji[o]]},function(e,n,r){var i=e.constants.stencilOps;function o(o){return j.optional(function(){e.assert(n,'!("'+o+'" in '+r+")||("+r+"."+o+" in "+i+")","invalid "+t+"."+o+", must be one of "+Object.keys(Ji))}),n.def('"',o,'" in ',r,"?",i,"[",r,".",o,"]:",Vi)}return j.optional(function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)}),[t===Rr?Ni:Pi,o("fail"),o("zfail"),o("zpass")]});case Cr:return s(function(t){j.commandType(t,"object",a,e.commandStr);var n=0|t.factor,r=0|t.units;return j.commandType(n,"number",a+".factor",e.commandStr),j.commandType(r,"number",a+".units",e.commandStr),[n,r]},function(e,n,r){return j.optional(function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)}),[n.def(r,".factor|0"),n.def(r,".units|0")]});case Sr:return s(function(t){var n=0;return"front"===t?n=Pi:"back"===t&&(n=Ni),j.command(!!n,a,e.commandStr),n},function(t,e,n){return j.optional(function(){t.assert(e,n+'==="front"||'+n+'==="back"',"invalid cull.face")}),e.def(n,'==="front"?',Pi,":",Ni)});case Ir:return s(function(t){return j.command("number"==typeof t&&t>=i.lineWidthDims[0]&&t<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],e.commandStr),t},function(t,e,n){return j.optional(function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")}),n});case Or:return s(function(t){return j.commandParameter(t,to,a,e.commandStr),to[t]},function(t,e,n){return j.optional(function(){t.assert(e,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),e.def(n+'==="cw"?'+Ri+":"+Bi)});case _r:return s(function(t){return j.command(zt(t)&&4===t.length,"color.mask must be length 4 array",e.commandStr),t.map(function(t){return!!t})},function(t,e,n){return j.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")}),X(4,function(t){return"!!"+n+"["+t+"]"})});case Dr:return s(function(t){j.command("object"==typeof t&&t,a,e.commandStr);var n="value"in t?t.value:1,r=!!t.invert;return j.command("number"==typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",e.commandStr),[n,r]},function(t,e,n){return j.optional(function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")}),[e.def('"value" in ',n,"?+",n,".value:1"),e.def("!!",n,".invert")]})}}),o}(t,d),M=function(t,e,r){var i=t.static,o=t.dynamic;function a(t){if(t in i){var e=n.id(i[t]);j.optional(function(){h.shader($i[t],e,j.guessCommand())});var r=oo(function(){return e});return r.id=e,r}if(t in o){var a=o[t];return ao(a,function(e,n){var r=e.invoke(n,a),i=n.def(e.shared.strings,".id(",r,")");return j.optional(function(){n(e.shared.shader,".shader(",$i[t],",",i,",",e.command,");")}),i})}return null}var s,u=a(Wr),l=a(Ur),c=null;return io(u)&&io(l)?(c=h.program(l.id,u.id,null,r),s=oo(function(t,e){return t.link(c)})):s=new ro(u&&u.thisDep||l&&l.thisDep,u&&u.contextDep||l&&l.contextDep,u&&u.propDep||l&&l.propDep,function(t,e){var n,r=t.shared.shader;n=u?u.append(t,e):e.def(r,".",Wr);var i=r+".program("+(l?l.append(t,e):e.def(r,".",Ur))+","+n;return j.optional(function(){i+=","+t.command}),e.def(i+")")}),{frag:u,vert:l,progVar:s,program:c}}(t,0,g);function O(t){var e=x[t];e&&(_[t]=e)}O(Fr),O(S(zr));var I=Object.keys(_).length>0,E={framebuffer:b,draw:A,shader:M,state:_,dirty:I,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(E.profile=function(t){var e,n=t.static,r=t.dynamic;if(Gr in n){var i=!!n[Gr];(e=oo(function(t,e){return i})).enable=i}else if(Gr in r){var o=r[Gr];e=ao(o,function(t,e){return t.invoke(e,o)})}return e}(t),E.uniforms=function(t,e){var n=t.static,r=t.dynamic,i={};return Object.keys(n).forEach(function(t){var r,o=n[t];if("number"==typeof o||"boolean"==typeof o)r=oo(function(){return o});else if("function"==typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?r=oo(function(t){return t.link(o)}):"framebuffer"===a||"framebufferCube"===a?(j.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+t+'"',e.commandStr),r=oo(function(t){return t.link(o.color[0])})):j.commandRaise('invalid data for uniform "'+t+'"',e.commandStr)}else zt(o)?r=oo(function(e){return e.global.def("[",X(o.length,function(n){return j.command("number"==typeof o[n]||"boolean"==typeof o[n],"invalid uniform "+t,e.commandStr),o[n]}),"]")}):j.commandRaise('invalid or missing data for uniform "'+t+'"',e.commandStr);r.value=o,i[t]=r}),Object.keys(r).forEach(function(t){var e=r[t];i[t]=ao(e,function(t,n){return t.invoke(n,e)})}),i}(s,d),E.drawVAO=E.scopeVAO=function(t,e){var n=t.static,r=t.dynamic;if(Zr in n){var i=n[Zr];return null!==i&&null===c.getVAO(i)&&(i=c.createVAO(i)),oo(function(t){return t.link(c.getVAO(i))})}if(Zr in r){var o=r[Zr];return ao(o,function(t,e){var n=t.invoke(e,o);return e.def(t.shared.vao+".getVAO("+n+")")})}return null}(t),!E.drawVAO&&M.program&&!g&&r.angle_instanced_arrays){var C=!0,k=M.program.attributes.map(function(t){var n=e.static[t];return C=C&&!!n,n});if(C&&k.length>0){var T=c.getVAO(c.createVAO(k));E.drawVAO=new ro(null,null,null,function(t,e){return t.link(T)}),E.useVAO=!0}}return g?E.useVAO=!0:E.attributes=function(t,e){var r=t.static,i=t.dynamic,a={};return Object.keys(r).forEach(function(t){var i=r[t],s=n.id(t),u=new v;if(eo(i))u.state=or,u.buffer=o.getBuffer(o.create(i,ii,!1,!0)),u.type=0;else{var l=o.getBuffer(i);if(l)u.state=or,u.buffer=l,u.type=0;else if(j.command("object"==typeof i&&i,"invalid data for attribute "+t,e.commandStr),"constant"in i){var c=i.constant;u.buffer="null",u.state=ar,"number"==typeof c?u.x=c:(j.command(zt(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+t,e.commandStr),rr.forEach(function(t,e){e<c.length&&(u[t]=c[e])}))}else{l=eo(i.buffer)?o.getBuffer(o.create(i.buffer,ii,!1,!0)):o.getBuffer(i.buffer),j.command(!!l,'missing buffer for attribute "'+t+'"',e.commandStr);var h=0|i.offset;j.command(h>=0,'invalid offset for attribute "'+t+'"',e.commandStr);var d=0|i.stride;j.command(d>=0&&d<256,'invalid stride for attribute "'+t+'", must be integer betweeen [0, 255]',e.commandStr);var f=0|i.size;j.command(!("size"in i)||f>0&&f<=4,'invalid size for attribute "'+t+'", must be 1,2,3,4',e.commandStr);var p=!!i.normalized,g=0;"type"in i&&(j.commandParameter(i.type,ct,"invalid type for attribute "+t,e.commandStr),g=ct[i.type]);var y=0|i.divisor;"divisor"in i&&(j.command(0===y||m,'cannot specify divisor for attribute "'+t+'", instancing not supported',e.commandStr),j.command(y>=0,'invalid divisor for attribute "'+t+'"',e.commandStr)),j.optional(function(){var n=e.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach(function(e){j.command(r.indexOf(e)>=0,'unknown parameter "'+e+'" for attribute pointer "'+t+'" (valid parameters are '+r+")",n)})}),u.buffer=l,u.state=or,u.size=f,u.normalized=p,u.type=g||l.dtype,u.offset=h,u.stride=d,u.divisor=y}}a[t]=oo(function(t,e){var n=t.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(u).forEach(function(t){r[t]=u[t]}),u.buffer&&(r.buffer=t.link(u.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r})}),Object.keys(i).forEach(function(t){var e=i[t];a[t]=ao(e,function(n,r){var i=n.invoke(r,e),o=n.shared,a=n.constants,s=o.isBufferArgs,u=o.buffer;j.optional(function(){n.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+s+"("+i+")||"+u+".getBuffer("+i+")||"+u+".getBuffer("+i+".buffer)||"+s+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+o.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+t+'"')});var l={isStream:r.def(!1)},c=new v;c.state=or,Object.keys(c).forEach(function(t){l[t]=r.def(""+c[t])});var h=l.buffer,d=l.type;function f(t){r(l[t],"=",i,".",t,"|0;")}return r("if(",s,"(",i,")){",l.isStream,"=true;",h,"=",u,".createStream(",ii,",",i,");",d,"=",h,".dtype;","}else{",h,"=",u,".getBuffer(",i,");","if(",h,"){",d,"=",h,".dtype;",'}else if("constant" in ',i,"){",l.state,"=",ar,";","if(typeof "+i+'.constant === "number"){',l[rr[0]],"=",i,".constant;",rr.slice(1).map(function(t){return l[t]}).join("="),"=0;","}else{",rr.map(function(t,e){return l[t]+"="+i+".constant.length>"+e+"?"+i+".constant["+e+"]:0;"}).join(""),"}}else{","if(",s,"(",i,".buffer)){",h,"=",u,".createStream(",ii,",",i,".buffer);","}else{",h,"=",u,".getBuffer(",i,".buffer);","}",d,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",h,".dtype;",l.normalized,"=!!",i,".normalized;"),f("size"),f("offset"),f("stride"),f("divisor"),r("}}"),r.exit("if(",l.isStream,"){",u,".destroyStream(",h,");","}"),l})}),a}(e,d),E.context=function(t){var e=t.static,n=t.dynamic,r={};return Object.keys(e).forEach(function(t){var n=e[t];r[t]=oo(function(t,e){return"number"==typeof n||"boolean"==typeof n?""+n:t.link(n)})}),Object.keys(n).forEach(function(t){var e=n[t];r[t]=ao(e,function(t,n){return t.invoke(n,e)})}),r}(l),E}function L(t,e,n){var r=t.shared.context,i=t.scope();Object.keys(n).forEach(function(o){e.save(r,"."+o);var a=n[o].append(t,e);Array.isArray(a)?i(r,".",o,"=[",a.join(),"];"):i(r,".",o,"=",a,";")}),e(i)}function P(t,e,n,r){var i,o=t.shared,a=o.gl,s=o.framebuffer;b&&(i=e.def(o.extensions,".webgl_draw_buffers"));var u,l=t.constants,c=l.drawBuffer,h=l.backBuffer;u=n?n.append(t,e):e.def(s,".next"),r||e("if(",u,"!==",s,".cur){"),e("if(",u,"){",a,".bindFramebuffer(",Xi,",",u,".framebuffer);"),b&&e(i,".drawBuffersWEBGL(",c,"[",u,".colorAttachments.length]);"),e("}else{",a,".bindFramebuffer(",Xi,",null);"),b&&e(i,".drawBuffersWEBGL(",h,");"),e("}",s,".cur=",u,";"),r||e("}")}function N(t,e,n){var r=t.shared,i=r.gl,o=t.current,a=t.next,s=r.current,u=r.next,l=t.cond(s,".dirty");w.forEach(function(e){var r,c,h=S(e);if(!(h in n.state))if(h in a){r=a[h],c=o[h];var d=X(x[h].length,function(t){return l.def(r,"[",t,"]")});l(t.cond(d.map(function(t,e){return t+"!=="+c+"["+e+"]"}).join("||")).then(i,".",M[h],"(",d,");",d.map(function(t,e){return c+"["+e+"]="+t}).join(";"),";"))}else{r=l.def(u,".",h);var f=t.cond(r,"!==",s,".",h);l(f),h in _?f(t.cond(r).then(i,".enable(",_[h],");").else(i,".disable(",_[h],");"),s,".",h,"=",r,";"):f(i,".",M[h],"(",r,");",s,".",h,"=",r,";")}}),0===Object.keys(n.state).length&&l(s,".dirty=false;"),e(l)}function R(t,e,n,r){var i=t.shared,o=t.current,a=i.current,s=i.gl;no(Object.keys(n)).forEach(function(i){var u=n[i];if(!r||r(u)){var l=u.append(t,e);if(_[i]){var c=_[i];io(u)?e(s,l?".enable(":".disable(",c,");"):e(t.cond(l).then(s,".enable(",c,");").else(s,".disable(",c,");")),e(a,".",i,"=",l,";")}else if(zt(l)){var h=o[i];e(s,".",M[i],"(",l,");",l.map(function(t,e){return h+"["+e+"]="+t}).join(";"),";")}else e(s,".",M[i],"(",l,");",a,".",i,"=",l,";")}})}function B(t,e){m&&(t.instancing=e.def(t.shared.extensions,".angle_instanced_arrays"))}function z(t,e,n,r,i){var o,a,s,u=t.shared,l=t.stats,c=u.current,h=u.timer,d=n.profile;function f(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function g(t){t(o=e.def(),"=",f(),";"),"string"==typeof i?t(l,".count+=",i,";"):t(l,".count++;"),p&&(r?t(a=e.def(),"=",h,".getNumPendingQueries();"):t(h,".beginQuery(",l,");"))}function v(t){t(l,".cpuTime+=",f(),"-",o,";"),p&&(r?t(h,".pushScopeStats(",a,",",h,".getNumPendingQueries(),",l,");"):t(h,".endQuery();"))}function y(t){var n=e.def(c,".profile");e(c,".profile=",t,";"),e.exit(c,".profile=",n,";")}if(d){if(io(d))return void(d.enable?(g(e),v(e.exit),y("true")):y("false"));y(s=d.append(t,e))}else s=e.def(c,".profile");var m=t.block();g(m),e("if(",s,"){",m,"}");var b=t.block();v(b),e.exit("if(",s,"){",b,"}")}function F(t,e,n,r,i){var o=t.shared;r.forEach(function(r){var a,s=r.name,u=n.attributes[s];if(u){if(!i(u))return;a=u.append(t,e)}else{if(!i(so))return;var l=t.scopeAttrib(s);j.optional(function(){t.assert(e,l+".state","missing attribute "+s)}),a={},Object.keys(new v).forEach(function(t){a[t]=e.def(l,".",t)})}!function(n,r,i){var a=o.gl,s=e.def(n,".location"),u=e.def(o.attributes,"[",s,"]"),l=i.state,c=i.buffer,h=[i.x,i.y,i.z,i.w],d=["buffer","normalized","offset","stride"];function f(){e("if(!",u,".buffer){",a,".enableVertexAttribArray(",s,");}");var n,o=i.type;if(n=i.size?e.def(i.size,"||",r):r,e("if(",u,".type!==",o,"||",u,".size!==",n,"||",d.map(function(t){return u+"."+t+"!=="+i[t]}).join("||"),"){",a,".bindBuffer(",ii,",",c,".buffer);",a,".vertexAttribPointer(",[s,n,o,i.normalized,i.stride,i.offset],");",u,".type=",o,";",u,".size=",n,";",d.map(function(t){return u+"."+t+"="+i[t]+";"}).join(""),"}"),m){var l=i.divisor;e("if(",u,".divisor!==",l,"){",t.instancing,".vertexAttribDivisorANGLE(",[s,l],");",u,".divisor=",l,";}")}}function p(){e("if(",u,".buffer){",a,".disableVertexAttribArray(",s,");",u,".buffer=null;","}if(",rr.map(function(t,e){return u+"."+t+"!=="+h[e]}).join("||"),"){",a,".vertexAttrib4f(",s,",",h,");",rr.map(function(t,e){return u+"."+t+"="+h[e]+";"}).join(""),"}")}l===or?f():l===ar?p():(e("if(",l,"===",or,"){"),f(),e("}else{"),p(),e("}"))}(t.link(r),function(t){switch(t){case mi:case wi:case Oi:return 2;case bi:case _i:case Ii:return 3;case xi:case Mi:case Ei:return 4;default:return 1}}(r.info.type),a)})}function V(t,e,r,i,o){for(var a,s=t.shared,u=s.gl,l=0;l<i.length;++l){var c,h=i[l],d=h.name,f=h.info.type,p=r.uniforms[d],g=t.link(h)+".location";if(p){if(!o(p))continue;if(io(p)){var v=p.value;if(j.command(null!==v&&void 0!==v,'missing uniform "'+d+'"',t.commandStr),f===Di||f===ji){j.command("function"==typeof v&&(f===Di&&("texture2d"===v._reglType||"framebuffer"===v._reglType)||f===ji&&("textureCube"===v._reglType||"framebufferCube"===v._reglType)),"invalid texture for uniform "+d,t.commandStr);var y=t.link(v._texture||v.color[0]._texture);e(u,".uniform1i(",g,",",y+".bind());"),e.exit(y,".unbind();")}else if(f===Ci||f===ki||f===Ti){j.optional(function(){j.command(zt(v),"invalid matrix for uniform "+d,t.commandStr),j.command(f===Ci&&4===v.length||f===ki&&9===v.length||f===Ti&&16===v.length,"invalid length for matrix uniform "+d,t.commandStr)});var m=t.global.def("new Float32Array(["+Array.prototype.slice.call(v)+"])"),b=2;f===ki?b=3:f===Ti&&(b=4),e(u,".uniformMatrix",b,"fv(",g,",false,",m,");")}else{switch(f){case yi:j.commandType(v,"number","uniform "+d,t.commandStr),a="1f";break;case mi:j.command(zt(v)&&2===v.length,"uniform "+d,t.commandStr),a="2f";break;case bi:j.command(zt(v)&&3===v.length,"uniform "+d,t.commandStr),a="3f";break;case xi:j.command(zt(v)&&4===v.length,"uniform "+d,t.commandStr),a="4f";break;case Si:j.commandType(v,"boolean","uniform "+d,t.commandStr),a="1i";break;case Ai:j.commandType(v,"number","uniform "+d,t.commandStr),a="1i";break;case Oi:case wi:j.command(zt(v)&&2===v.length,"uniform "+d,t.commandStr),a="2i";break;case Ii:case _i:j.command(zt(v)&&3===v.length,"uniform "+d,t.commandStr),a="3i";break;case Ei:case Mi:j.command(zt(v)&&4===v.length,"uniform "+d,t.commandStr),a="4i"}e(u,".uniform",a,"(",g,",",zt(v)?Array.prototype.slice.call(v):v,");")}continue}c=p.append(t,e)}else{if(!o(so))continue;c=e.def(s.uniforms,"[",n.id(d),"]")}f===Di?(j(!Array.isArray(c),"must specify a scalar prop for textures"),e("if(",c,"&&",c,'._reglType==="framebuffer"){',c,"=",c,".color[0];","}")):f===ji&&(j(!Array.isArray(c),"must specify a scalar prop for cube maps"),e("if(",c,"&&",c,'._reglType==="framebufferCube"){',c,"=",c,".color[0];","}")),j.optional(function(){function n(n,r){t.assert(e,n,'bad data or missing for uniform "'+d+'".  '+r)}function r(t){j(!Array.isArray(c),"must not specify an array type for uniform"),n("typeof "+c+'==="'+t+'"',"invalid type, expected "+t)}function i(e,r){Array.isArray(c)?j(c.length===e,"must have length "+e):n(s.isArrayLike+"("+c+")&&"+c+".length==="+e,"invalid vector, should have length "+e,t.commandStr)}function o(e){j(!Array.isArray(c),"must not specify a value type"),n("typeof "+c+'==="function"&&'+c+'._reglType==="texture'+(e===ai?"2d":"Cube")+'"',"invalid texture type",t.commandStr)}switch(f){case Ai:r("number");break;case wi:i(2);break;case _i:i(3);break;case Mi:i(4);break;case yi:r("number");break;case mi:i(2);break;case bi:i(3);break;case xi:i(4);break;case Si:r("boolean");break;case Oi:i(2);break;case Ii:i(3);break;case Ei:case Ci:i(4);break;case ki:i(9);break;case Ti:i(16);break;case Di:o(ai);break;case ji:o(si)}});var x=1;switch(f){case Di:case ji:var A=e.def(c,"._texture");e(u,".uniform1i(",g,",",A,".bind());"),e.exit(A,".unbind();");continue;case Ai:case Si:a="1i";break;case wi:case Oi:a="2i",x=2;break;case _i:case Ii:a="3i",x=3;break;case Mi:case Ei:a="4i",x=4;break;case yi:a="1f";break;case mi:a="2f",x=2;break;case bi:a="3f",x=3;break;case xi:a="4f",x=4;break;case Ci:a="Matrix2fv";break;case ki:a="Matrix3fv";break;case Ti:a="Matrix4fv"}if(e(u,".uniform",a,"(",g,","),"M"===a.charAt(0)){var w=Math.pow(f-Ci+2,2),_=t.global.def("new Float32Array(",w,")");Array.isArray(c)?e("false,(",X(w,function(t){return _+"["+t+"]="+c[t]}),",",_,")"):e("false,(Array.isArray(",c,")||",c," instanceof Float32Array)?",c,":(",X(w,function(t){return _+"["+t+"]="+c+"["+t+"]"}),",",_,")")}else x>1?e(X(x,function(t){return Array.isArray(c)?c[t]:c+"["+t+"]"})):(j(!Array.isArray(c),"uniform value must not be an array"),e(c));e(");")}}function U(t,e,n,r){var i=t.shared,o=i.gl,a=i.draw,s=r.draw;var u=function(){var i,u=s.elements,l=e;return u?((u.contextDep&&r.contextDynamic||u.propDep)&&(l=n),i=u.append(t,l)):i=l.def(a,".",Hr),i&&l("if("+i+")"+o+".bindBuffer("+oi+","+i+".buffer.buffer);"),i}();function l(i){var o=s[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(t,n):o.append(t,e):e.def(a,".",i)}var c,h,d=l(Yr),f=l(qr),p=function(){var i,o=s.count,u=e;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(u=n),i=o.append(t,u),j.optional(function(){o.MISSING&&t.assert(e,"false","missing vertex count"),o.DYNAMIC&&t.assert(u,i+">=0","missing vertex count")})):(i=u.def(a,".",Xr),j.optional(function(){t.assert(u,i+">=0","missing vertex count")})),i}();if("number"==typeof p){if(0===p)return}else n("if(",p,"){"),n.exit("}");m&&(c=l(Qr),h=t.instancing);var g=u+".type",v=s.elements&&io(s.elements);function y(){function t(){n(h,".drawElementsInstancedANGLE(",[d,p,g,f+"<<(("+g+"-"+ir+")>>1)",c],");")}function e(){n(h,".drawArraysInstancedANGLE(",[d,f,p,c],");")}u?v?t():(n("if(",u,"){"),t(),n("}else{"),e(),n("}")):e()}function b(){function t(){n(o+".drawElements("+[d,p,g,f+"<<(("+g+"-"+ir+")>>1)"]+");")}function e(){n(o+".drawArrays("+[d,f,p]+");")}u?v?t():(n("if(",u,"){"),t(),n("}else{"),e(),n("}")):e()}m&&("number"!=typeof c||c>=0)?"string"==typeof c?(n("if(",c,">0){"),y(),n("}else if(",c,"<0){"),b(),n("}")):y():b()}function W(t,e,n,r,i){var o=T(),a=o.proc("body",i);return j.optional(function(){o.commandStr=e.commandStr,o.command=o.link(e.commandStr)}),m&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),t(o,a,n,r),o.compile().body}function H(t,e,n,r){B(t,e),n.useVAO?n.drawVAO?e(t.shared.vao,".setVAO(",n.drawVAO.append(t,e),");"):e(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(e(t.shared.vao,".setVAO(null);"),F(t,e,n,r.attributes,function(){return!0})),V(t,e,n,r.uniforms,function(){return!0}),U(t,e,e,n)}function Y(t,e,n,r){function i(){return!0}t.batchId="a1",B(t,e),F(t,e,n,r.attributes,i),V(t,e,n,r.uniforms,i),U(t,e,e,n)}function q(t,e,n,r){B(t,e);var i=n.contextDep,o=e.def(),a=e.def();t.shared.props=a,t.batchId=o;var s=t.scope(),u=t.scope();function l(t){return t.contextDep&&i||t.propDep}function c(t){return!l(t)}if(e(s.entry,"for(",o,"=0;",o,"<","a1",";++",o,"){",a,"=","a0","[",o,"];",u,"}",s.exit),n.needsContext&&L(t,u,n.context),n.needsFramebuffer&&P(t,u,n.framebuffer),R(t,u,n.state,l),n.profile&&l(n.profile)&&z(t,u,n,!1,!0),r)n.useVAO?n.drawVAO?l(n.drawVAO)?u(t.shared.vao,".setVAO(",n.drawVAO.append(t,u),");"):s(t.shared.vao,".setVAO(",n.drawVAO.append(t,s),");"):s(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(s(t.shared.vao,".setVAO(null);"),F(t,s,n,r.attributes,c),F(t,u,n,r.attributes,l)),V(t,s,n,r.uniforms,c),V(t,u,n,r.uniforms,l),U(t,s,u,n);else{var h=t.global.def("{}"),d=n.shader.progVar.append(t,u),f=u.def(d,".id"),p=u.def(h,"[",f,"]");u(t.shared.gl,".useProgram(",d,".program);","if(!",p,"){",p,"=",h,"[",f,"]=",t.link(function(e){return W(Y,t,n,e,2)}),"(",d,");}",p,".call(this,a0[",o,"],",o,");")}}function Q(t,e,n){var r=e.static[n];if(r&&function(t){if("object"==typeof t&&!zt(t)){for(var e=Object.keys(t),n=0;n<e.length;++n)if(G.isDynamic(t[e[n]]))return!0;return!1}}(r)){var i=t.global,o=Object.keys(r),a=!1,s=!1,u=!1,l=t.global.def("{}");o.forEach(function(e){var n=r[e];if(G.isDynamic(n)){"function"==typeof n&&(n=r[e]=G.unbox(n));var o=ao(n,null);a=a||o.thisDep,u=u||o.propDep,s=s||o.contextDep}else{switch(i(l,".",e,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(t.link(n))}i(";")}}),e.dynamic[n]=new G.DynamicVariable(hr,{thisDep:a,contextDep:s,propDep:u,ref:l,append:function(t,e){o.forEach(function(n){var i=r[n];if(G.isDynamic(i)){var o=t.invoke(e,i);e(l,".",n,"=",o,";")}})}}),delete e.static[n]}}return{next:A,current:x,procs:function(){var t=T(),e=t.proc("poll"),n=t.proc("refresh"),o=t.block();e(o),n(o);var a,s=t.shared,u=s.gl,l=s.next,c=s.current;o(c,".dirty=false;"),P(t,e),P(t,n,null,!0),m&&(a=t.link(m)),r.oes_vertex_array_object&&n(t.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var h=0;h<i.maxAttributes;++h){var d=n.def(s.attributes,"[",h,"]"),f=t.cond(d,".buffer");f.then(u,".enableVertexAttribArray(",h,");",u,".bindBuffer(",ii,",",d,".buffer.buffer);",u,".vertexAttribPointer(",h,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(u,".disableVertexAttribArray(",h,");",u,".vertexAttrib4f(",h,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),n(f),m&&n(a,".vertexAttribDivisorANGLE(",h,",",d,".divisor);")}return n(t.shared.vao,".currentVAO=null;",t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"),Object.keys(_).forEach(function(r){var i=_[r],a=o.def(l,".",r),s=t.block();s("if(",a,"){",u,".enable(",i,")}else{",u,".disable(",i,")}",c,".",r,"=",a,";"),n(s),e("if(",a,"!==",c,".",r,"){",s,"}")}),Object.keys(M).forEach(function(r){var i,a,s=M[r],h=x[r],d=t.block();if(d(u,".",s,"("),zt(h)){var f=h.length;i=t.global.def(l,".",r),a=t.global.def(c,".",r),d(X(f,function(t){return i+"["+t+"]"}),");",X(f,function(t){return a+"["+t+"]="+i+"["+t+"];"}).join("")),e("if(",X(f,function(t){return i+"["+t+"]!=="+a+"["+t+"]"}).join("||"),"){",d,"}")}else i=o.def(l,".",r),a=o.def(c,".",r),d(i,");",c,".",r,"=",i,";"),e("if(",i,"!==",a,"){",d,"}");n(d)}),t.compile()}(),compile:function(t,r,i,o,a){var s=T();s.stats=s.link(a),Object.keys(r.static).forEach(function(t){Q(s,r,t)}),ri.forEach(function(e){Q(s,t,e)});var u=D(t,r,i,o,s);return function(t,e){var n=t.proc("draw",1);B(t,n),L(t,n,e.context),P(t,n,e.framebuffer),N(t,n,e),R(t,n,e.state),z(t,n,e,!1,!0);var r=e.shader.progVar.append(t,n);if(n(t.shared.gl,".useProgram(",r,".program);"),e.shader.program)H(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var i=t.global.def("{}"),o=n.def(r,".id"),a=n.def(i,"[",o,"]");n(t.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",t.link(function(n){return W(H,t,e,n,1)}),"(",r,");",a,".call(this,a0);"))}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;")}(s,u),function(t,e){var r=t.proc("scope",3);t.batchId="a2";var i=t.shared,o=i.current;function a(n){var o=e.shader[n];o&&r.set(i.shader,"."+n,o.append(t,r))}L(t,r,e.context),e.framebuffer&&e.framebuffer.append(t,r),no(Object.keys(e.state)).forEach(function(n){var o=e.state[n].append(t,r);zt(o)?o.forEach(function(e,i){r.set(t.next[n],"["+i+"]",e)}):r.set(i.next,"."+n,o)}),z(t,r,e,!0,!0),[Hr,qr,Xr,Qr,Yr].forEach(function(n){var o=e.draw[n];o&&r.set(i.draw,"."+n,""+o.append(t,r))}),Object.keys(e.uniforms).forEach(function(o){var a=e.uniforms[o].append(t,r);Array.isArray(a)&&(a="["+a.join()+"]"),r.set(i.uniforms,"["+n.id(o)+"]",a)}),Object.keys(e.attributes).forEach(function(n){var i=e.attributes[n].append(t,r),o=t.scopeAttrib(n);Object.keys(new v).forEach(function(t){r.set(o,"."+t,i[t])})}),e.scopeVAO&&r.set(i.vao,".targetVAO",e.scopeVAO.append(t,r)),a(Ur),a(Wr),Object.keys(e.state).length>0&&(r(o,".dirty=true;"),r.exit(o,".dirty=true;")),r("a1(",t.shared.context,",a0,",t.batchId,");")}(s,u),function(t,e){var n=t.proc("batch",2);t.batchId="0",B(t,n);var r=!1,i=!0;Object.keys(e.context).forEach(function(t){r=r||e.context[t].propDep}),r||(L(t,n,e.context),i=!1);var o=e.framebuffer,a=!1;function s(t){return t.contextDep&&r||t.propDep}o?(o.propDep?r=a=!0:o.contextDep&&r&&(a=!0),a||P(t,n,o)):P(t,n,null),e.state.viewport&&e.state.viewport.propDep&&(r=!0),N(t,n,e),R(t,n,e.state,function(t){return!s(t)}),e.profile&&s(e.profile)||z(t,n,e,!1,"a1"),e.contextDep=r,e.needsContext=i,e.needsFramebuffer=a;var u=e.shader.progVar;if(u.contextDep&&r||u.propDep)q(t,n,e,null);else{var l=u.append(t,n);if(n(t.shared.gl,".useProgram(",l,".program);"),e.shader.program)q(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var c=t.global.def("{}"),h=n.def(l,".id"),d=n.def(c,"[",h,"]");n(t.cond(d).then(d,".call(this,a0,a1);").else(d,"=",c,"[",h,"]=",t.link(function(n){return W(q,t,e,n,2)}),"(",l,");",d,".call(this,a0,a1);"))}}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;")}(s,u),e(s.compile(),{destroy:function(){u.shader.program.destroy()}})}}}var lo=34918,co=34919,ho=35007,fo=function(t,e){if(!e.ext_disjoint_timer_query)return null;var n=[];function r(t){n.push(t)}var i=[];var o=[];function a(t){o.push(t)}var s=[];function u(t,e,n){var r=o.pop()||new function(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null};r.startQueryIndex=t,r.endQueryIndex=e,r.sum=0,r.stats=n,s.push(r)}var l=[],c=[];return{beginQuery:function(t){var r=n.pop()||e.ext_disjoint_timer_query.createQueryEXT();e.ext_disjoint_timer_query.beginQueryEXT(ho,r),i.push(r),u(i.length-1,i.length,t)},endQuery:function(){e.ext_disjoint_timer_query.endQueryEXT(ho)},pushScopeStats:u,update:function(){var t,n,o=i.length;if(0!==o){c.length=Math.max(c.length,o+1),l.length=Math.max(l.length,o+1),l[0]=0,c[0]=0;var u=0;for(t=0,n=0;n<i.length;++n){var h=i[n];e.ext_disjoint_timer_query.getQueryObjectEXT(h,co)?(u+=e.ext_disjoint_timer_query.getQueryObjectEXT(h,lo),r(h)):i[t++]=h,l[n+1]=u,c[n+1]=t}for(i.length=t,t=0,n=0;n<s.length;++n){var d=s[n],f=d.startQueryIndex,p=d.endQueryIndex;d.sum+=l[p]-l[f];var g=c[f],v=c[p];v===g?(d.stats.gpuTime+=d.sum/1e6,a(d)):(d.startQueryIndex=g,d.endQueryIndex=v,s[t++]=d)}s.length=t}},getNumPendingQueries:function(){return i.length},clear:function(){n.push.apply(n,i);for(var t=0;t<n.length;t++)e.ext_disjoint_timer_query.deleteQueryEXT(n[t]);i.length=0,n.length=0},restore:function(){i.length=0,n.length=0}}},po=16384,go=256,vo=1024,yo=34962,mo="webglcontextlost",bo="webglcontextrestored",xo=1,Ao=2,wo=3;function _o(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}return function(n){var r=Y(n);if(!r)return null;var i=r.gl,o=i.getContextAttributes(),a=i.isContextLost(),s=function(t,e){var n={};function r(e){j.type(e,"string","extension name must be string");var r,i=e.toLowerCase();try{r=n[i]=t.getExtension(i)}catch(t){}return!!r}for(var i=0;i<e.extensions.length;++i){var o=e.extensions[i];if(!r(o))return e.onDestroy(),e.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return e.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach(function(t){if(n[t]&&!r(t))throw new Error("(regl): error restoring extension "+t)})}}}(i,r);if(!s)return null;var u,l,c=(u={"":0},l=[""],{id:function(t){var e=u[t];return e||(e=u[t]=l.length,l.push(t),e)},str:function(t){return l[t]}}),h={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},d=s.extensions,f=fo(i,d),p=U(),g=i.drawingBufferWidth,v=i.drawingBufferHeight,y={tick:0,time:0,viewportWidth:g,viewportHeight:v,framebufferWidth:g,framebufferHeight:v,drawingBufferWidth:g,drawingBufferHeight:v,pixelRatio:r.pixelRatio},m=it(i,d),b=function(e,n,r,i){var o=0,a={};function s(t){this.id=o++,this.buffer=e.createBuffer(),this.type=t,this.usage=pt,this.byteLength=0,this.dimension=1,this.dtype=vt,this.persistentData=null,r.profile&&(this.stats={size:0})}s.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){h(this)};var u=[];function l(t,n,r){t.byteLength=n.byteLength,e.bufferData(t.type,n,r)}function c(e,n,r,i,o,a){var s,u;if(e.usage=r,Array.isArray(n)){if(e.dtype=i||yt,n.length>0)if(Array.isArray(n[0])){s=ft(n);for(var c=1,h=1;h<s.length;++h)c*=s[h];e.dimension=c,l(e,u=dt(n,s,e.dtype),r),a?e.persistentData=u:rt.freeType(u)}else if("number"==typeof n[0]){e.dimension=o;var d=rt.allocType(e.dtype,n.length);xt(d,n),l(e,d,r),a?e.persistentData=d:rt.freeType(d)}else t(n[0])?(e.dimension=n[0].length,e.dtype=i||bt(n[0])||yt,l(e,u=dt(n,[n.length,n[0].length],e.dtype),r),a?e.persistentData=u:rt.freeType(u)):j.raise("invalid buffer data")}else if(t(n))e.dtype=i||bt(n),e.dimension=o,l(e,n,r),a&&(e.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(ot(n)){s=n.shape;var f=n.stride,p=n.offset,g=0,v=0,y=0,m=0;1===s.length?(g=s[0],v=1,y=f[0],m=0):2===s.length?(g=s[0],v=s[1],y=f[0],m=f[1]):j.raise("invalid shape"),e.dtype=i||bt(n.data)||yt,e.dimension=v;var b=rt.allocType(e.dtype,g*v);At(b,n.data,g,v,y,m,p),l(e,b,r),a?e.persistentData=b:rt.freeType(b)}else n instanceof ArrayBuffer?(e.dtype=vt,e.dimension=o,l(e,n,r),a&&(e.persistentData=new Uint8Array(new Uint8Array(n)))):j.raise("invalid buffer data")}function h(t){n.bufferCount--,i(t);var r=t.buffer;j(r,"buffer must not be deleted already"),e.deleteBuffer(r),t.buffer=null,delete a[t.id]}return r.profile&&(n.getTotalBufferSize=function(){var t=0;return Object.keys(a).forEach(function(e){t+=a[e].stats.size}),t}),{create:function(i,o,u,l){n.bufferCount++;var d=new s(o);function f(n){var i=pt,o=null,a=0,s=0,u=1;return Array.isArray(n)||t(n)||ot(n)||n instanceof ArrayBuffer?o=n:"number"==typeof n?a=0|n:n&&(j.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(j(null===o||Array.isArray(o)||t(o)||ot(o),"invalid data for buffer"),o=n.data),"usage"in n&&(j.parameter(n.usage,ht,"invalid buffer usage"),i=ht[n.usage]),"type"in n&&(j.parameter(n.type,ct,"invalid buffer type"),s=ct[n.type]),"dimension"in n&&(j.type(n.dimension,"number","invalid dimension"),u=0|n.dimension),"length"in n&&(j.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),d.bind(),o?c(d,o,i,s,u,l):(a&&e.bufferData(d.type,a,i),d.dtype=s||vt,d.usage=i,d.dimension=u,d.byteLength=a),r.profile&&(d.stats.size=d.byteLength*mt[d.dtype]),f}function p(t,n){j(n+t.byteLength<=d.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+t.byteLength+" starting from offset "+n+" to a buffer of size "+d.byteLength),e.bufferSubData(d.type,n,t)}return a[d.id]=d,u||f(i),f._reglType="buffer",f._buffer=d,f.subdata=function(e,n){var r,i=0|(n||0);if(d.bind(),t(e)||e instanceof ArrayBuffer)p(e,i);else if(Array.isArray(e)){if(e.length>0)if("number"==typeof e[0]){var o=rt.allocType(d.dtype,e.length);xt(o,e),p(o,i),rt.freeType(o)}else if(Array.isArray(e[0])||t(e[0])){r=ft(e);var a=dt(e,r,d.dtype);p(a,i),rt.freeType(a)}else j.raise("invalid buffer data")}else if(ot(e)){r=e.shape;var s=e.stride,u=0,l=0,c=0,h=0;1===r.length?(u=r[0],l=1,c=s[0],h=0):2===r.length?(u=r[0],l=r[1],c=s[0],h=s[1]):j.raise("invalid shape");var g=Array.isArray(e.data)?d.dtype:bt(e.data),v=rt.allocType(g,u*l);At(v,e.data,u,l,c,h,e.offset),p(v,i),rt.freeType(v)}else j.raise("invalid data for buffer subdata");return f},r.profile&&(f.stats=d.stats),f.destroy=function(){h(d)},f},createStream:function(t,e){var n=u.pop();return n||(n=new s(t)),n.bind(),c(n,e,gt,0,1,!1),n},destroyStream:function(t){u.push(t)},clear:function(){at(a).forEach(h),u.forEach(h)},getBuffer:function(t){return t&&t._buffer instanceof s?t._buffer:null},restore:function(){at(a).forEach(function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)})},_initBuffer:c}}(i,h,r,function(t){return x.destroyBuffer(t)}),x=function(e,n,r,i,o){for(var a=r.maxAttributes,s=new Array(a),u=0;u<a;++u)s[u]=new Wn;var l=0,c={},h={Record:Wn,scope:{},state:s,currentVAO:null,targetVAO:null,restore:d()?function(){d()&&at(c).forEach(function(t){t.refresh()})}:function(){},createVAO:function(e){var r=new p;function s(e){j(Array.isArray(e),"arguments to vertex array constructor must be an array"),j(e.length<a,"too many attributes"),j(e.length>0,"must specify at least one attribute");var i={},u=r.attributes;u.length=e.length;for(var l=0;l<e.length;++l){var c,h=e[l],d=u[l]=new Wn,f=h.data||h;Array.isArray(f)||t(f)||ot(f)?(r.buffers[l]&&(c=r.buffers[l],t(f)&&c._buffer.byteLength>=f.byteLength?c.subdata(f):(c.destroy(),r.buffers[l]=null)),r.buffers[l]||(c=r.buffers[l]=o.create(h,Un,!1,!0)),d.buffer=o.getBuffer(c),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1,i[l]=1):o.getBuffer(h)?(d.buffer=o.getBuffer(h),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1):o.getBuffer(h.buffer)?(d.buffer=o.getBuffer(h.buffer),d.size=0|(+h.size||d.buffer.dimension),d.normalized=!!h.normalized||!1,"type"in h?(j.parameter(h.type,ct,"invalid buffer type"),d.type=ct[h.type]):d.type=d.buffer.dtype,d.offset=0|(h.offset||0),d.stride=0|(h.stride||0),d.divisor=0|(h.divisor||0),d.state=1,j(d.size>=1&&d.size<=4,"size must be between 1 and 4"),j(d.offset>=0,"invalid offset"),j(d.stride>=0&&d.stride<=255,"stride must be between 0 and 255"),j(d.divisor>=0,"divisor must be positive"),j(!d.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in h?(j(l>0,"first attribute must not be a constant"),d.x=+h.x||0,d.y=+h.y||0,d.z=+h.z||0,d.w=+h.w||0,d.state=2):j(!1,"invalid attribute spec for location "+l)}for(var p=0;p<r.buffers.length;++p)!i[p]&&r.buffers[p]&&(r.buffers[p].destroy(),r.buffers[p]=null);return r.refresh(),s}return i.vaoCount+=1,s.destroy=function(){for(var t=0;t<r.buffers.length;++t)r.buffers[t]&&r.buffers[t].destroy();r.buffers.length=0,r.destroy()},s._vao=r,s._reglType="vao",s(e)},getVAO:function(t){return"function"==typeof t&&t._vao?t._vao:null},destroyBuffer:function(t){for(var n=0;n<s.length;++n){var r=s[n];r.buffer===t&&(e.disableVertexAttribArray(n),r.buffer=null)}},setVAO:d()?function(t){if(t!==h.currentVAO){var e=d();t?e.bindVertexArrayOES(t.vao):e.bindVertexArrayOES(null),h.currentVAO=t}}:function(t){if(t!==h.currentVAO){if(t)t.bindAttrs();else for(var n=f(),r=0;r<s.length;++r){var i=s[r];i.buffer?(e.enableVertexAttribArray(r),e.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(r,i.divisor)):(e.disableVertexAttribArray(r),e.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}h.currentVAO=t}},clear:d()?function(){at(c).forEach(function(t){t.destroy()})}:function(){}};function d(){return n.oes_vertex_array_object}function f(){return n.angle_instanced_arrays}function p(){this.id=++l,this.attributes=[];var t=d();this.vao=t?t.createVertexArrayOES():null,c[this.id]=this,this.buffers=[]}return p.prototype.bindAttrs=function(){for(var t=f(),n=this.attributes,r=0;r<n.length;++r){var i=n[r];i.buffer?(e.enableVertexAttribArray(r),e.bindBuffer(Un,i.buffer.buffer),e.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offset),t&&i.divisor&&t.vertexAttribDivisorANGLE(r,i.divisor)):(e.disableVertexAttribArray(r),e.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}for(var o=n.length;o<a;++o)e.disableVertexAttribArray(o)},p.prototype.refresh=function(){var t=d();t&&(t.bindVertexArrayOES(this.vao),this.bindAttrs(),h.currentVAO=this)},p.prototype.destroy=function(){if(this.vao){var t=d();this===h.currentVAO&&(h.currentVAO=null,t.bindVertexArrayOES(null)),t.deleteVertexArrayOES(this.vao),this.vao=null}c[this.id]&&(delete c[this.id],i.vaoCount-=1)},h}(i,d,m,h,b),A=function(e,n,r,i){var o={},a=0,s={uint8:It,uint16:Ct};function u(t){this.id=a++,o[this.id]=this,this.buffer=t,this.primType=St,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(s.uint32=Tt),u.prototype.bind=function(){this.buffer.bind()};var l=[];function c(i,o,a,s,u,l,c){var h;if(i.buffer.bind(),o){var d=c;c||t(o)&&(!ot(o)||t(o.data))||(d=n.oes_element_index_uint?Tt:Ct),r._initBuffer(i.buffer,o,a,d,3)}else e.bufferData(Dt,l,a),i.buffer.dtype=h||It,i.buffer.usage=a,i.buffer.dimension=3,i.buffer.byteLength=l;if(h=c,!c){switch(i.buffer.dtype){case It:case Ot:h=It;break;case Ct:case Et:h=Ct;break;case Tt:case kt:h=Tt;break;default:j.raise("unsupported type for element array")}i.buffer.dtype=h}i.type=h,j(h!==Tt||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var f=u;f<0&&(f=i.buffer.byteLength,h===Ct?f>>=1:h===Tt&&(f>>=2)),i.vertCount=f;var p=s;if(s<0){p=St;var g=i.buffer.dimension;1===g&&(p=_t),2===g&&(p=Mt),3===g&&(p=St)}i.primType=p}function h(t){i.elementsCount--,j(null!==t.buffer,"must not double destroy elements"),delete o[t.id],t.buffer.destroy(),t.buffer=null}return{create:function(e,n){var o=r.create(null,Dt,!0),a=new u(o._buffer);function l(e){if(e)if("number"==typeof e)o(e),a.primType=St,a.vertCount=0|e,a.type=It;else{var n=null,r=Lt,i=-1,u=-1,h=0,d=0;Array.isArray(e)||t(e)||ot(e)?n=e:(j.type(e,"object","invalid arguments for elements"),"data"in e&&(n=e.data,j(Array.isArray(n)||t(n)||ot(n),"invalid data for element buffer")),"usage"in e&&(j.parameter(e.usage,ht,"invalid element buffer usage"),r=ht[e.usage]),"primitive"in e&&(j.parameter(e.primitive,wt,"invalid element buffer primitive"),i=wt[e.primitive]),"count"in e&&(j("number"==typeof e.count&&e.count>=0,"invalid vertex count for elements"),u=0|e.count),"type"in e&&(j.parameter(e.type,s,"invalid buffer type"),d=s[e.type]),"length"in e?h=0|e.length:(h=u,d===Ct||d===Et?h*=2:d!==Tt&&d!==kt||(h*=4))),c(a,n,r,i,u,h,d)}else o(),a.primType=St,a.vertCount=0,a.type=It;return l}return i.elementsCount++,l(e),l._reglType="elements",l._elements=a,l.subdata=function(t,e){return o.subdata(t,e),l},l.destroy=function(){h(a)},l},createStream:function(t){var e=l.pop();return e||(e=new u(r.create(null,Dt,!0,!1)._buffer)),c(e,t,jt,-1,-1,0,0),e},destroyStream:function(t){l.push(t)},getElements:function(t){return"function"==typeof t&&t._elements instanceof u?t._elements:null},clear:function(){at(o).forEach(h)}}}(i,d,b,h),w=Qn(i,c,h,r),_=mn(i,d,m,function(){O.procs.poll()},y,h,r),M=_n(i,d,m,h,r),S=function(t,n,r,i,o,a){var s={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],l=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&l.push("srgba"),n.ext_color_buffer_half_float&&l.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&l.push("rgba32f");var c=["uint8"];function h(t,e,n){this.target=t,this.texture=e,this.renderbuffer=n;var r=0,i=0;e?(r=e.width,i=e.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function d(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function f(t,e,n){if(t)if(t.texture){var r=t.texture._texture,i=Math.max(1,r.width),o=Math.max(1,r.height);j(i===e&&o===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=t.renderbuffer._renderbuffer;j(a.width===e&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function p(e,n){n&&(n.texture?t.framebufferTexture2D(Mn,e,n.target,n.texture._texture.texture,0):t.framebufferRenderbuffer(Mn,e,Sn,n.renderbuffer._renderbuffer.renderbuffer))}function g(t){var e=On,n=null,r=null,i=t;"object"==typeof t&&(i=t.data,"target"in t&&(e=0|t.target)),j.type(i,"function","invalid attachment data");var o=i._reglType;return"texture2d"===o?(n=i,j(e===On)):"textureCube"===o?(n=i,j(e>=In&&e<In+6,"invalid cube map target")):"renderbuffer"===o?(r=i,e=Sn):j.raise("invalid regl object for attachment"),new h(e,n,r)}function v(t,e,n,r,a){if(n){var s=i.create2D({width:t,height:e,format:r,type:a});return s._texture.refCount=0,new h(On,s,null)}var u=o.create({width:t,height:e,format:r});return u._renderbuffer.refCount=0,new h(Sn,null,u)}function y(t){return t&&(t.texture||t.renderbuffer)}function m(t,e,n){t&&(t.texture?t.texture.resize(e,n):t.renderbuffer&&t.renderbuffer.resize(e,n),t.width=e,t.height=n)}n.oes_texture_half_float&&c.push("half float","float16"),n.oes_texture_float&&c.push("float","float32");var b=0,x={};function A(){this.id=b++,x[this.id]=this,this.framebuffer=t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function w(t){t.colorAttachments.forEach(d),d(t.depthAttachment),d(t.stencilAttachment),d(t.depthStencilAttachment)}function _(e){var n=e.framebuffer;j(n,"must not double destroy framebuffer"),t.deleteFramebuffer(n),e.framebuffer=null,a.framebufferCount--,delete x[e.id]}function M(e){var n;t.bindFramebuffer(Mn,e.framebuffer);var i=e.colorAttachments;for(n=0;n<i.length;++n)p(En+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)t.framebufferTexture2D(Mn,En+n,On,null,0);t.framebufferTexture2D(Mn,Tn,On,null,0),t.framebufferTexture2D(Mn,Cn,On,null,0),t.framebufferTexture2D(Mn,kn,On,null,0),p(Cn,e.depthAttachment),p(kn,e.stencilAttachment),p(Tn,e.depthStencilAttachment);var o=t.checkFramebufferStatus(Mn);t.isContextLost()||o===Dn||j.raise("framebuffer configuration not supported, status = "+Gn[o]),t.bindFramebuffer(Mn,s.next?s.next.framebuffer:null),s.cur=s.next,t.getError()}function S(t,i){var o=new A;function h(t,e){var i;j(s.next!==o,"can not update framebuffer which is currently in use");var a=0,d=0,p=!0,m=!0,b=null,x=!0,A="rgba",_="uint8",S=1,O=null,I=null,E=null,C=!1;if("number"==typeof t)a=0|t,d=0|e||a;else if(t){j.type(t,"object","invalid arguments for framebuffer");var k=t;if("shape"in k){var T=k.shape;j(Array.isArray(T)&&T.length>=2,"invalid shape for framebuffer"),a=T[0],d=T[1]}else"radius"in k&&(a=d=k.radius),"width"in k&&(a=k.width),"height"in k&&(d=k.height);("color"in k||"colors"in k)&&(b=k.color||k.colors,Array.isArray(b)&&j(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in k&&(S=0|k.colorCount,j(S>0,"invalid color buffer count")),"colorTexture"in k&&(x=!!k.colorTexture,A="rgba4"),"colorType"in k&&(_=k.colorType,x?(j(n.oes_texture_float||!("float"===_||"float32"===_),"you must enable OES_texture_float in order to use floating point framebuffer objects"),j(n.oes_texture_half_float||!("half float"===_||"float16"===_),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===_||"float16"===_?(j(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),A="rgba16f"):"float"!==_&&"float32"!==_||(j(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),A="rgba32f"),j.oneOf(_,c,"invalid color type")),"colorFormat"in k&&(A=k.colorFormat,u.indexOf(A)>=0?x=!0:l.indexOf(A)>=0?x=!1:x?j.oneOf(k.colorFormat,u,"invalid color format for texture"):j.oneOf(k.colorFormat,l,"invalid color format for renderbuffer"))),("depthTexture"in k||"depthStencilTexture"in k)&&(C=!(!k.depthTexture&&!k.depthStencilTexture),j(!C||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in k&&("boolean"==typeof k.depth?p=k.depth:(O=k.depth,m=!1)),"stencil"in k&&("boolean"==typeof k.stencil?m=k.stencil:(I=k.stencil,p=!1)),"depthStencil"in k&&("boolean"==typeof k.depthStencil?p=m=k.depthStencil:(E=k.depthStencil,p=!1,m=!1))}else a=d=1;var D=null,L=null,P=null,N=null;if(Array.isArray(b))D=b.map(g);else if(b)D=[g(b)];else for(D=new Array(S),i=0;i<S;++i)D[i]=v(a,d,x,A,_);j(n.webgl_draw_buffers||D.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),j(D.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||D[0].width,d=d||D[0].height,O?L=g(O):p&&!m&&(L=v(a,d,C,"depth","uint32")),I?P=g(I):m&&!p&&(P=v(a,d,!1,"stencil","uint8")),E?N=g(E):!O&&!I&&m&&p&&(N=v(a,d,C,"depth stencil","depth stencil")),j(!!O+!!I+!!E<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var R=null;for(i=0;i<D.length;++i)if(f(D[i],a,d),j(!D[i]||D[i].texture&&Ln.indexOf(D[i].texture._texture.format)>=0||D[i].renderbuffer&&Fn.indexOf(D[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),D[i]&&D[i].texture){var B=Pn[D[i].texture._texture.format]*Nn[D[i].texture._texture.type];null===R?R=B:j(R===B,"all color attachments much have the same number of bits per pixel.")}return f(L,a,d),j(!L||L.texture&&L.texture._texture.format===jn||L.renderbuffer&&L.renderbuffer._renderbuffer.format===Rn,"invalid depth attachment for framebuffer object"),f(P,a,d),j(!P||P.renderbuffer&&P.renderbuffer._renderbuffer.format===Bn,"invalid stencil attachment for framebuffer object"),f(N,a,d),j(!N||N.texture&&N.texture._texture.format===zn||N.renderbuffer&&N.renderbuffer._renderbuffer.format===zn,"invalid depth-stencil attachment for framebuffer object"),w(o),o.width=a,o.height=d,o.colorAttachments=D,o.depthAttachment=L,o.stencilAttachment=P,o.depthStencilAttachment=N,h.color=D.map(y),h.depth=y(L),h.stencil=y(P),h.depthStencil=y(N),h.width=o.width,h.height=o.height,M(o),h}return a.framebufferCount++,h(t,i),e(h,{resize:function(t,e){j(s.next!==o,"can not resize a framebuffer which is currently in use");var n=Math.max(0|t,1),r=Math.max(0|e||n,1);if(n===o.width&&r===o.height)return h;for(var i=o.colorAttachments,a=0;a<i.length;++a)m(i[a],n,r);return m(o.depthAttachment,n,r),m(o.stencilAttachment,n,r),m(o.depthStencilAttachment,n,r),o.width=h.width=n,o.height=h.height=r,M(o),h},_reglType:"framebuffer",_framebuffer:o,destroy:function(){_(o),w(o)},use:function(t){s.setFBO({framebuffer:h},t)}})}return e(s,{getFramebuffer:function(t){if("function"==typeof t&&"framebuffer"===t._reglType){var e=t._framebuffer;if(e instanceof A)return e}return null},create:S,createCube:function(t){var o=Array(6);function a(t){var r;j(o.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var l,h={color:null},d=0,f=null,p="rgba",g="uint8",v=1;if("number"==typeof t)d=0|t;else if(t){j.type(t,"object","invalid arguments for framebuffer");var y=t;if("shape"in y){var m=y.shape;j(Array.isArray(m)&&m.length>=2,"invalid shape for framebuffer"),j(m[0]===m[1],"cube framebuffer must be square"),d=m[0]}else"radius"in y&&(d=0|y.radius),"width"in y?(d=0|y.width,"height"in y&&j(y.height===d,"must be square")):"height"in y&&(d=0|y.height);("color"in y||"colors"in y)&&(f=y.color||y.colors,Array.isArray(f)&&j(1===f.length||n.webgl_draw_buffers,"multiple render targets not supported")),f||("colorCount"in y&&(v=0|y.colorCount,j(v>0,"invalid color buffer count")),"colorType"in y&&(j.oneOf(y.colorType,c,"invalid color type"),g=y.colorType),"colorFormat"in y&&(p=y.colorFormat,j.oneOf(y.colorFormat,u,"invalid color format for texture"))),"depth"in y&&(h.depth=y.depth),"stencil"in y&&(h.stencil=y.stencil),"depthStencil"in y&&(h.depthStencil=y.depthStencil)}else d=1;if(f)if(Array.isArray(f))for(l=[],r=0;r<f.length;++r)l[r]=f[r];else l=[f];else{l=Array(v);var b={radius:d,format:p,type:g};for(r=0;r<v;++r)l[r]=i.createCube(b)}for(h.color=Array(l.length),r=0;r<l.length;++r){var x=l[r];j("function"==typeof x&&"textureCube"===x._reglType,"invalid cube map"),d=d||x.width,j(x.width===d&&x.height===d,"invalid cube map shape"),h.color[r]={target:In,data:l[r]}}for(r=0;r<6;++r){for(var A=0;A<l.length;++A)h.color[A].target=In+r;r>0&&(h.depth=o[0].depth,h.stencil=o[0].stencil,h.depthStencil=o[0].depthStencil),o[r]?o[r](h):o[r]=S(h)}return e(a,{width:d,height:d,color:l})}return a(t),e(a,{faces:o,resize:function(t){var e,n=0|t;if(j(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var i=a.color;for(e=0;e<i.length;++e)i[e].resize(n);for(e=0;e<6;++e)o[e].resize(n);return a.width=a.height=n,a},_reglType:"framebufferCube",destroy:function(){o.forEach(function(t){t.destroy()})}})},clear:function(){at(x).forEach(_)},restore:function(){s.cur=null,s.next=null,s.dirty=!0,at(x).forEach(function(e){e.framebuffer=t.createFramebuffer(),M(e)})}})}(i,d,m,_,M,h),O=uo(i,c,d,m,b,A,0,S,{},x,w,{elements:null,primitive:4,count:-1,offset:0,instances:-1},y,f,r),I=tr(i,S,O.procs.poll,y,o,d,m),E=O.next,C=i.canvas,k=[],T=[],D=[],L=[r.onDestroy],P=null;function N(){if(0===k.length)return f&&f.update(),void(P=null);P=V.next(N),Z();for(var t=k.length-1;t>=0;--t){var e=k[t];e&&e(y,null,0)}i.flush(),f&&f.update()}function R(){!P&&k.length>0&&(P=V.next(N))}function B(){P&&(V.cancel(N),P=null)}function z(t){t.preventDefault(),a=!0,B(),T.forEach(function(t){t()})}function F(t){i.getError(),a=!1,s.restore(),w.restore(),b.restore(),_.restore(),M.restore(),S.restore(),x.restore(),f&&f.restore(),O.procs.refresh(),R(),D.forEach(function(t){t()})}function W(t){function n(t,e){var n={},r={};return Object.keys(t).forEach(function(i){var o=t[i];if(G.isDynamic(o))r[i]=G.unbox(o,i);else{if(e&&Array.isArray(o))for(var a=0;a<o.length;++a)if(G.isDynamic(o[a]))return void(r[i]=G.unbox(o,i));n[i]=o}}),{dynamic:r,static:n}}j(!!t,"invalid args to regl({...})"),j.type(t,"object","invalid args to regl({...})");var r=n(t.context||{},!0),i=n(t.uniforms||{},!0),o=n(t.attributes||{},!1),s=n(function(t){var n=e({},t);function r(t){if(t in n){var e=n[t];delete n[t],Object.keys(e).forEach(function(r){n[t+"."+r]=e[r]})}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in t&&(n.vao=t.vao),n}(t),!1),u={gpuTime:0,cpuTime:0,count:0},l=O.compile(s,o,i,r,u),c=l.draw,h=l.batch,d=l.scope,f=[];return e(function(t,e){var n;if(a&&j.raise("context lost"),"function"==typeof t)return d.call(this,null,t,0);if("function"==typeof e)if("number"==typeof t)for(n=0;n<t;++n)d.call(this,null,e,n);else{if(!Array.isArray(t))return d.call(this,t,e,0);for(n=0;n<t.length;++n)d.call(this,t[n],e,n)}else if("number"==typeof t){if(t>0)return h.call(this,function(t){for(;f.length<t;)f.push(null);return f}(0|t),0|t)}else{if(!Array.isArray(t))return c.call(this,t);if(t.length)return h.call(this,t,t.length)}},{stats:u,destroy:function(){l.destroy()}})}C&&(C.addEventListener(mo,z,!1),C.addEventListener(bo,F,!1));var H=S.setFBO=W({framebuffer:G.define.call(null,xo,"framebuffer")});function X(t,e){var n=0;O.procs.poll();var r=e.color;r&&(i.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),n|=po),"depth"in e&&(i.clearDepth(+e.depth),n|=go),"stencil"in e&&(i.clearStencil(0|e.stencil),n|=vo),j(!!n,"called regl.clear with no buffer specified"),i.clear(n)}function q(t){return j.type(t,"function","regl.frame() callback must be a function"),k.push(t),R(),{cancel:function(){var e=_o(k,t);j(e>=0,"cannot cancel a frame twice"),k[e]=function t(){var e=_o(k,t);k[e]=k[k.length-1],k.length-=1,k.length<=0&&B()}}}}function Q(){var t=E.viewport,e=E.scissor_box;t[0]=t[1]=e[0]=e[1]=0,y.viewportWidth=y.framebufferWidth=y.drawingBufferWidth=t[2]=e[2]=i.drawingBufferWidth,y.viewportHeight=y.framebufferHeight=y.drawingBufferHeight=t[3]=e[3]=i.drawingBufferHeight}function Z(){y.tick+=1,y.time=J(),Q(),O.procs.poll()}function K(){_.refresh(),Q(),O.procs.refresh(),f&&f.update()}function J(){return(U()-p)/1e3}K();var $=e(W,{clear:function(t){if(j("object"==typeof t&&t,"regl.clear() takes an object as input"),"framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var n=0;n<6;++n)H(e({framebuffer:t.framebuffer.faces[n]},t),X);else H(t,X);else X(0,t)},prop:G.define.bind(null,xo),context:G.define.bind(null,Ao),this:G.define.bind(null,wo),draw:W({}),buffer:function(t){return b.create(t,yo,!1,!1)},elements:function(t){return A.create(t,!1)},texture:_.create2D,cube:_.createCube,renderbuffer:M.create,framebuffer:S.create,framebufferCube:S.createCube,vao:x.createVAO,attributes:o,frame:q,on:function(t,e){var n;switch(j.type(e,"function","listener callback must be a function"),t){case"frame":return q(e);case"lost":n=T;break;case"restore":n=D;break;case"destroy":n=L;break;default:j.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(e),{cancel:function(){for(var t=0;t<n.length;++t)if(n[t]===e)return n[t]=n[n.length-1],void n.pop()}}},limits:m,hasExtension:function(t){return m.extensions.indexOf(t.toLowerCase())>=0},read:I,destroy:function(){k.length=0,B(),C&&(C.removeEventListener(mo,z),C.removeEventListener(bo,F)),w.clear(),S.clear(),M.clear(),_.clear(),A.clear(),b.clear(),x.clear(),f&&f.clear(),L.forEach(function(t){t()})},_gl:i,_refresh:K,poll:function(){Z(),f&&f.update()},now:J,stats:h});return r.onDone(null,$),$}},t.exports=r()},"8dI8":function(t,e,n){"use strict";var r=n("WlQy"),i=n("zOqJ"),o=[].slice,a=["keyword","gray","hex"],s={};Object.keys(i).forEach(function(t){s[o.call(i[t].labels).sort().join("")]=t});var u={};function l(t,e){if(!(this instanceof l))return new l(t,e);if(e&&e in a&&(e=null),e&&!(e in i))throw new Error("Unknown model: "+e);var n,c;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof l)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var h=r.get(t);if(null===h)throw new Error("Unable to parse color from string: "+t);this.model=h.model,c=i[this.model].channels,this.color=h.value.slice(0,c),this.valpha="number"==typeof h.value[c]?h.value[c]:1}else if(t.length){this.model=e||"rgb",c=i[this.model].channels;var f=o.call(t,0,c);this.color=d(f,c),this.valpha="number"==typeof t[c]?t[c]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var p=Object.keys(t);"alpha"in t&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var g=p.sort().join("");if(!(g in s))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=s[g];var v=i[this.model].labels,y=[];for(n=0;n<v.length;n++)y.push(t[v[n]]);this.color=d(y)}if(u[this.model])for(c=i[this.model].channels,n=0;n<c;n++){var m=u[this.model][n];m&&(this.color[n]=m(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(t,e,n){return(t=Array.isArray(t)?t:[t]).forEach(function(t){(u[t]||(u[t]=[]))[e]=n}),t=t[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[t]()).color[e]=r,i):(i=this[t]().color[e],n&&(i=n(i)),i)}}function h(t){return function(e){return Math.max(0,Math.min(t,e))}}function d(t,e){for(var n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in r.to?this:this.rgb(),n=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return r.to[e.model](n)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:e.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=i[this.model].channels,n=i[this.model].labels,r=0;r<e;r++)t[n[r]]=this.color[r];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new l(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new l(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:c("rgb",0,h(255)),green:c("rgb",1,h(255)),blue:c("rgb",2,h(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:c("hsl",1,h(100)),lightness:c("hsl",2,h(100)),saturationv:c("hsv",1,h(100)),value:c("hsv",2,h(100)),chroma:c("hcg",1,h(100)),gray:c("hcg",2,h(100)),white:c("hwb",1,h(100)),wblack:c("hwb",2,h(100)),cyan:c("cmyk",0,h(100)),magenta:c("cmyk",1,h(100)),yellow:c("cmyk",2,h(100)),black:c("cmyk",3,h(100)),x:c("xyz",0,h(100)),y:c("xyz",1,h(100)),z:c("xyz",2,h(100)),l:c("lab",0,h(100)),a:c("lab",1),b:c("lab",2),keyword:function(t){return arguments.length?new l(t):i[this.model].keyword(this.color)},hex:function(t){return arguments.length?new l(t):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],n=0;n<t.length;n++){var r=t[n]/255;e[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return l.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),n=e.color[0];return n=(n=(n+t)%360)<0?360+n:n,e.color[0]=n,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var n=t.rgb(),r=this.rgb(),i=void 0===e?.5:e,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,u=1-s;return l.rgb(s*n.red()+u*r.red(),s*n.green()+u*r.green(),s*n.blue()+u*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(i).forEach(function(t){if(-1===a.indexOf(t)){var e=i[t].channels;l.prototype[t]=function(){if(this.model===t)return new l(this);if(arguments.length)return new l(arguments,t);var n,r="number"==typeof arguments[e]?e:this.valpha;return new l((n=i[this.model][t].raw(this.color),Array.isArray(n)?n:[n]).concat(r),t)},l[t]=function(n){return"number"==typeof n&&(n=d(o.call(arguments),e)),new l(n,t)}}}),t.exports=l},"8ej2":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.exchangeEdges=e.enterEdge=e.leaveEdge=e.initLowLimValues=e.calcCutValue=e.initCutValues=void 0;var r=n("DmAK"),i=n("FlGC"),o=n("+ZTV"),a=n("1we+"),s=a.algorithm.preorder,u=a.algorithm.postorder;e.initCutValues=function(t,e){var n=u(t,t.nodes());null===(n=null===n||void 0===n?void 0:n.slice(0,(null===n||void 0===n?void 0:n.length)-1))||void 0===n||n.forEach(function(n){l(t,e,n)})};var l=function(t,n,r){var i=t.node(r).parent;t.edgeFromArgs(r,i).cutvalue=(0,e.calcCutValue)(t,n,r)};e.calcCutValue=function(t,e,n){var r,i=t.node(n).parent,o=!0,a=e.edgeFromArgs(n,i),s=0;return a||(o=!1,a=e.edgeFromArgs(i,n)),s=a.weight,null===(r=e.nodeEdges(n))||void 0===r||r.forEach(function(r){var a=r.v===n,u=a?r.w:r.v;if(u!==i){var l=a===o,c=e.edge(r).weight;if(s+=l?c:-c,d(t,n,u)){var h=t.edgeFromArgs(n,u).cutvalue;s+=l?-h:h}}}),s};e.initLowLimValues=function(t,e){void 0===e&&(e=t.nodes()[0]),c(t,{},1,e)};var c=function(t,e,n,r,i){var o,a=n,s=n,u=t.node(r);return e[r]=!0,null===(o=t.neighbors(r))||void 0===o||o.forEach(function(n){e[n]||(s=c(t,e,s,n,r))}),u.low=a,u.lim=s++,i?u.parent=i:delete u.parent,s};e.leaveEdge=function(t){return t.edges().find(function(e){return t.edge(e).cutvalue<0})};e.enterEdge=function(t,e,n){var r=n.v,a=n.w;e.hasEdge(r,a)||(r=n.w,a=n.v);var s=t.node(r),u=t.node(a),l=s,c=!1;s.lim>u.lim&&(l=u,c=!0);var h=e.edges().filter(function(e){return c===f(t,t.node(e.v),l)&&c!==f(t,t.node(e.w),l)});return(0,o.minBy)(h,function(t){return(0,i.slack)(e,t)})};e.exchangeEdges=function(t,n,r,i){var o=r.v,a=r.w;t.removeEdge(o,a),t.setEdge(i.v,i.w,{}),(0,e.initLowLimValues)(t),(0,e.initCutValues)(t,n),h(t,n)};var h=function(t,e){var n=t.nodes().find(function(t){var n;return!(null===(n=e.node(t))||void 0===n?void 0:n.parent)}),r=s(t,n);null===(r=null===r||void 0===r?void 0:r.slice(1))||void 0===r||r.forEach(function(n){var r=t.node(n).parent,i=e.edgeFromArgs(n,r),o=!1;i||(i=e.edgeFromArgs(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)})},d=function(t,e,n){return t.hasEdge(e,n)},f=function(t,e,n){return n.low<=e.lim&&e.lim<=n.lim};e.default=function(t){var n=(0,o.simplify)(t);(0,i.longestPath)(n);var a,s,u=(0,r.feasibleTree)(n);for((0,e.initLowLimValues)(u),(0,e.initCutValues)(u,n);a=(0,e.leaveEdge)(u);)s=(0,e.enterEdge)(u,n,a),(0,e.exchangeEdges)(u,n,a,s)}},"8pzD":function(t,e){},"95eC":function(t,e,n){t.exports=n.p+"static/img/ImageNet1.d779c91.png"},9938:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GForceLayout=void 0;var o=n("w9t0"),a=n("ZE1E"),s=function(t,e){return t?(0,a.isNumber)(t)?function(e){return t}:t:function(t){return e||1}},u=function(t){function e(e){var n=t.call(this)||this;return n.maxIteration=500,n.workerEnabled=!1,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.preventOverlap=!0,n.collideStrength=1,n.tick=function(){},n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.animate=!0,n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},e.prototype.execute=function(){var t,e,n=this,r=n.nodes;if(void 0!==n.timeInterval&&"undefined"!=typeof window&&window.clearInterval(n.timeInterval),r&&0!==r.length){n.width||"undefined"==typeof window||(n.width=window.innerWidth),n.height||"undefined"==typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var i=n.center;if(1===r.length)return r[0].x=i[0],r[0].y=i[1],void(null===(e=n.onLayoutEnd)||void 0===e||e.call(n));var o={},u={};r.forEach(function(t,e){(0,a.isNumber)(t.x)||(t.x=Math.random()*n.width),(0,a.isNumber)(t.y)||(t.y=Math.random()*n.height),o[t.id]=t,u[t.id]=e}),n.nodeMap=o,n.nodeIdxMap=u,n.linkDistance=s(n.linkDistance,1),n.nodeStrength=s(n.nodeStrength,1),n.edgeStrength=s(n.edgeStrength,1);var l,c=n.nodeSize;if(n.preventOverlap){var h,d=n.nodeSpacing;h=(0,a.isNumber)(d)?function(){return d}:(0,a.isFunction)(d)?d:function(){return 0},l=c?(0,a.isArray)(c)?function(t){return Math.max(c[0],c[1])+h(t)}:function(t){return c+h(t)}:function(t){return t.size?(0,a.isArray)(t.size)?Math.max(t.size[0],t.size[1])+h(t):(0,a.isObject)(t.size)?Math.max(t.size.width,t.size.height)+h(t):t.size+h(t):10+h(t)}}n.nodeSize=l;var f=n.edges;n.degrees=(0,a.getDegree)(r.length,n.nodeIdxMap,f),n.getMass||(n.getMass=function(t){return t.mass||n.degrees[n.nodeIdxMap[t.id]].all||1}),n.run()}else null===(t=n.onLayoutEnd)||void 0===t||t.call(n)},e.prototype.run=function(){var t,e=this,n=e.maxIteration,r=e.nodes,i=e.workerEnabled,o=e.minMovement,a=e.animate;if(r)if(i||!a){for(var s=0;s<n;s++){var u=e.runOneStep(s);if(e.reachMoveThreshold(r,u,o))break}null===(t=e.onLayoutEnd)||void 0===t||t.call(e)}else{if("undefined"==typeof window)return;var l=0;this.timeInterval=window.setInterval(function(){var t,i;if(r){var a=e.runOneStep(l)||[];e.reachMoveThreshold(r,a,o)&&(null===(t=e.onLayoutEnd)||void 0===t||t.call(e),window.clearInterval(e.timeInterval)),++l>=n&&(null===(i=e.onLayoutEnd)||void 0===i||i.call(e),window.clearInterval(e.timeInterval))}},0)}},e.prototype.reachMoveThreshold=function(t,e,n){var r=0;return t.forEach(function(t,n){var i=t.x-e[n].x,o=t.y-e[n].y;r+=Math.sqrt(i*i+o*o)}),(r/=t.length)<n},e.prototype.runOneStep=function(t){var e,n=this.nodes,r=this.edges,i=[],o=[];if(n){n.forEach(function(t,e){i[2*e]=0,i[2*e+1]=0,o[2*e]=0,o[2*e+1]=0}),this.calRepulsive(i,n),r&&this.calAttractive(i,r),this.calGravity(i,n);var a=Math.max(.02,this.interval-.002*t);this.updateVelocity(i,o,a,n);var s=[];return n.forEach(function(t){s.push({x:t.x,y:t.y})}),this.updatePosition(o,a,n),null===(e=this.tick)||void 0===e||e.call(this),s}},e.prototype.calRepulsive=function(t,e){var n=this.getMass,r=this.factor,i=this.coulombDisScale,o=this.preventOverlap,a=this.collideStrength,s=void 0===a?1:a,u=this.nodeStrength,l=this.nodeSize;e.forEach(function(a,c){var h=n?n(a):1;e.forEach(function(e,d){if(!(c>=d)){var f=a.x-e.x,p=a.y-e.y;0===f&&0===p&&(f=.01*Math.random(),p=.01*Math.random());var g=f*f+p*p,v=Math.sqrt(g),y=(v+.1)*i,m=f/v,b=p/v,x=.5*(u(a)+u(e))*r/(y*y),A=n?n(e):1;if(t[2*c]+=m*x,t[2*c+1]+=b*x,t[2*d]-=m*x,t[2*d+1]-=b*x,o&&(l(a)+l(e))/2>v){var w=s*(u(a)+u(e))*.5/g;t[2*c]+=m*w/h,t[2*c+1]+=b*w/h,t[2*d]-=m*w/A,t[2*d+1]-=b*w/A}}})})},e.prototype.calAttractive=function(t,e){var n=this.nodeMap,r=this.nodeIdxMap,i=this.linkDistance,o=this.edgeStrength,s=this.nodeSize,u=this.getMass;e.forEach(function(e,l){var c=(0,a.getEdgeTerminal)(e,"source"),h=(0,a.getEdgeTerminal)(e,"target"),d=n[c],f=n[h],p=f.x-d.x,g=f.y-d.y;0===p&&0===g&&(p=.01*Math.random(),g=.01*Math.random());var v=Math.sqrt(p*p+g*g),y=p/v,m=g/v,b=((i(e,d,f)||1+(s(d)+s(f)||0)/2)-v)*o(e),x=r[c],A=r[h],w=u?u(d):1,_=u?u(f):1;t[2*x]-=y*b/w,t[2*x+1]-=m*b/w,t[2*A]+=y*b/_,t[2*A+1]+=m*b/_})},e.prototype.calGravity=function(t,e){for(var n=this.center,r=this.gravity,i=this.degrees,o=e.length,s=0;s<o;s++){var u=e[s],l=u.x-n[0],c=u.y-n[1],h=r;if(this.getCenter){var d=this.getCenter(u,i[s].all);d&&(0,a.isNumber)(d[0])&&(0,a.isNumber)(d[1])&&(0,a.isNumber)(d[2])&&(l=u.x-d[0],c=u.y-d[1],h=d[2])}h&&(t[2*s]-=h*l,t[2*s+1]-=h*c)}},e.prototype.updateVelocity=function(t,e,n,r){var i=this,o=n*i.damping;r.forEach(function(n,r){var a=t[2*r]*o||.01,s=t[2*r+1]*o||.01,u=Math.sqrt(a*a+s*s);if(u>i.maxSpeed){var l=i.maxSpeed/u;a*=l,s*=l}e[2*r]=a,e[2*r+1]=s})},e.prototype.updatePosition=function(t,e,n){n.forEach(function(n,r){if((0,a.isNumber)(n.fx)&&(0,a.isNumber)(n.fy))return n.x=n.fx,void(n.y=n.fy);var i=t[2*r]*e,o=t[2*r+1]*e;n.x+=i,n.y+=o})},e.prototype.stop=function(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval)},e.prototype.destroy=function(){this.stop(),this.tick=null,this.nodes=null,this.edges=null,this.destroyed=!0},e.prototype.getType=function(){return"gForce"},e}(o.Base);e.GForceLayout=u},"9Nhl":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){return t-e},i=function(){function t(t){void 0===t&&(t=r),this.compareFn=t,this.list=[]}return t.prototype.getLeft=function(t){return 2*t+1},t.prototype.getRight=function(t){return 2*t+2},t.prototype.getParent=function(t){return 0===t?null:Math.floor((t-1)/2)},t.prototype.isEmpty=function(){return this.list.length<=0},t.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},t.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return this.list.length>0&&(this.list[0]=e,this.moveDown(0)),t},t.prototype.insert=function(t){if(null!==t){this.list.push(t);var e=this.list.length-1;return this.moveUp(e),!0}return!1},t.prototype.moveUp=function(t){for(var e=this.getParent(t);t&&t>0&&this.compareFn(this.list[e],this.list[t])>0;){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,t=e,e=this.getParent(t)}},t.prototype.moveDown=function(t){var e,n=t,r=this.getLeft(t),i=this.getRight(t),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),t!==n&&(e=[this.list[n],this.list[t]],this.list[t]=e[0],this.list[n]=e[1],this.moveDown(n))},t}();e.default=i},"9Qp/":function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("ldJr")),o=r(n("4t6P")),a=r(n("/xpm")),s=function(t,e,n,r,c,h){var d,f,p,g,v=t.children(e),y=t.node(e),m=y?y.borderLeft:void 0,b=y?y.borderRight:void 0,x={};m&&(v=null===v||void 0===v?void 0:v.filter(function(t){return t!==m&&t!==b}));var A=(0,i.default)(t,v||[]);null===A||void 0===A||A.forEach(function(e){var i;if(null===(i=t.children(e.v))||void 0===i?void 0:i.length){var o=s(t,e.v,n,r,h);x[e.v]=o,o.hasOwnProperty("barycenter")&&l(e,o)}});var w=(0,o.default)(A,n);u(w,x),null===(d=w.filter(function(t){return t.vs.length>0}))||void 0===d||d.forEach(function(e){var n=t.node(e.vs[0]);n&&(e.fixorder=n.fixorder,e.order=n.order)});var _=(0,a.default)(w,r,c,h);if(m&&(_.vs=[m,_.vs,b].flat(),null===(f=t.predecessors(m))||void 0===f?void 0:f.length)){var M=t.node((null===(p=t.predecessors(m))||void 0===p?void 0:p[0])||""),S=t.node((null===(g=t.predecessors(b))||void 0===g?void 0:g[0])||"");_.hasOwnProperty("barycenter")||(_.barycenter=0,_.weight=0),_.barycenter=(_.barycenter*_.weight+M.order+S.order)/(_.weight+2),_.weight+=2}return _},u=function(t,e){null===t||void 0===t||t.forEach(function(t){var n,r=null===(n=t.vs)||void 0===n?void 0:n.map(function(t){return e[t]?e[t].vs:t});t.vs=r.flat()})},l=function(t,e){void 0!==t.barycenter?(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight):(t.barycenter=e.barycenter,t.weight=e.weight)};e.default=s},"9cUs":function(t,e,n){t.exports=n.p+"static/img/crowdDefenseIcon.f7ed666.png"},"9fCz":function(t,e,n){"use strict";var r,i,o=0,a=0,s=0,u=1e3,l=0,c=0,h=0,d="object"==typeof performance&&performance.now?performance:Date,f="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return c||(f(g),c=d.now()+h)}function g(){c=0}function v(){this._call=this._time=this._next=null}function y(t,e,n){var r=new v;return r.restart(t,e,n),r}function m(){p(),++o;for(var t,e=r;e;)(t=c-e._time)>=0&&e._call.call(null,t),e=e._next;--o}function b(){c=(l=d.now())+h,o=a=0;try{m()}finally{o=0,function(){var t,e,n=r,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);i=t,A(o)}(),c=0}}function x(){var t=d.now(),e=t-l;e>u&&(h-=e,l=t)}function A(t){o||(a&&(a=clearTimeout(a)),t-c>24?(t<1/0&&(a=setTimeout(b,t-d.now()-h)),s&&(s=clearInterval(s))):(s||(l=d.now(),s=setInterval(x,u)),o=1,f(b)))}v.prototype=y.prototype={constructor:v,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==e?0:+e),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=t,this._time=n,A()},stop:function(){this._call&&(this._call=null,this._time=1/0,A())}};var w=function(t,e,n){var r=new v;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},_=function(t,e,n){var r=new v,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?p():+n,r.restart(function o(a){a+=i,r.restart(o,i+=e,n),t(a)},e,n),r)};n.d(e,!1,function(){return p}),n.d(e,"a",function(){return y}),n.d(e,!1,function(){return m}),n.d(e,!1,function(){return w}),n.d(e,!1,function(){return _})},"9fSZ":function(t,e,n){t.exports=n.p+"static/img/beforeDebias.fab946e.png"},"9gCe":function(t,e){},"9lWR":function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&("get"in i?e.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.getLayoutByName=e.unRegisterLayout=e.registerLayout=void 0;var o=n("Umca");Object.defineProperty(e,"registerLayout",{enumerable:!0,get:function(){return o.registerLayout}}),Object.defineProperty(e,"unRegisterLayout",{enumerable:!0,get:function(){return o.unRegisterLayout}}),Object.defineProperty(e,"getLayoutByName",{enumerable:!0,get:function(){return o.getLayoutByName}}),i(n("tN2E"),e)},"9pcm":function(t,e,n){t.exports=n.p+"static/img/ImageNet2.5601c8c.png"},AZiY:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("TToO"),i=u(n("+cvj")),o=u(n("tZ0v")),a=u(n("2j9C")),s=n("lSAc");function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t,e,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=t.nodes;return e.forEach(function(t,e){i.push(c(o,t,e,n,r))}),i},c=function(t,e,n,r,i){var o=[n],a=[],s={};return e.forEach(function(e,u){if(e<=i&&n!==u){o.push(u),a.push(t[u]);var l=t[u][r];s[l]?(s[l].count++,s[l].dists.push(e)):s[l]={count:1,dists:[e]}}}),Object.keys(s).forEach(function(t){s[t].dists=s[t].dists.sort(function(t,e){return t-e})}),{nodeIdx:n,nodeId:t[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},h=function(t,e,n,r){var i=n.nodes;return r||(r={}),Object.keys(t).forEach(function(o){var a,s;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var u=t[o],l=null===(a=e[u.start])||void 0===a?void 0:a.nodeIdxs,c=null===(s=e[u.end])||void 0===s?void 0:s.nodeIdxs;if(l&&c){var h=new Set(c),d=l.filter(function(t){return h.has(t)});if(d&&d.length){for(var f={},p=d.length,g=0;g<p;g++){var v=i[d[g]];r[o].nodes.push(v),f[v.id]=!0}n.edges.forEach(function(t){f[t.source]&&f[t.target]&&r[o].edges.push(t)})}}}}),r},d=function(t,e,n,r){var i,o,a={};t.nodes.forEach(function(t){a[t.id]=t});var s=0;return!(null===(i=null===e||void 0===e?void 0:e.edges)||void 0===i?void 0:i.length)||(null===(o=null===e||void 0===e?void 0:e.nodes)||void 0===o?void 0:o.length)<2?0:(t.edges.forEach(function(t){var i=a[t.source][n],o=a[t.target][n],u=null===e||void 0===e?void 0:e.nodes[0][n],l=null===e||void 0===e?void 0:e.nodes[1][n],c=null===e||void 0===e?void 0:e.edges[0][r];t[r]===c&&(i===u&&o===l||i===l&&o===u)&&s++}),s)},f=function(t,e){var n={},r={};return t.forEach(function(t,i){n[t.id]={idx:i,node:t,degree:0,inDegree:0,outDegree:0};var o=t[e];r[o]||(r[o]=[]),r[o].push(t)}),{nodeMap:n,nodeLabelMap:r}},p=function(t,e,n){var r={},i={};return t.forEach(function(t,o){r["".concat(s.uniqueId)]={idx:o,edge:t};var a=t[e];i[a]||(i[a]=[]),i[a].push(t);var u=n[t.source];u&&(u.degree++,u.outDegree++);var l=n[t.target];l&&(l.degree++,l.inDegree++)}),{edgeMap:r,edgeLabelMap:i}},g=function(t,e,n){var r=e.length,i={};return e.forEach(function(e,o){for(var a=n?0:o+1,s=t[o].id,u=a;u<r;u++)if(o!==u){var l=t[u].id,c=e[u];i["".concat(s,"-").concat(l)]=c,n||(i["".concat(l,"-").concat(s)]=c)}}),i},v=function(t,e,n,r,i,o,a,s,u,l,c){var f,p="".concat(e.id,"-").concat(n.id);if(l&&l[p])return l[p];var g=c?c[p]:void 0;if(!g){var v=((f={})[p]={start:r[e.id].idx,end:r[n.id].idx,distance:i},f);g=(c=h(v,o,t,c))[p]}return d(g,a,s,u)},y=function(t,e,n,r){var i,o,a,s=null===(i=t[e])||void 0===i?void 0:i.degree,u=null===(o=t[e])||void 0===o?void 0:o.inDegree,l=null===(a=t[e])||void 0===a?void 0:a.outDegree;return void 0===t[e]&&(s=1/0,u=1/0,l=1/0,r[e].forEach(function(t){var e=n[t.id].degree;s>e&&(s=e);var r=n[t.id].inDegree;u>r&&(u=r);var i=n[t.id].outDegree;l>i&&(l=i)}),t[e]={degree:s,inDegree:u,outDegree:l}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:l}},m=function(t,e,n,s,u,m,b){var x;if(void 0===n&&(n=!1),void 0===m&&(m="cluster"),void 0===b&&(b="cluster"),t&&t.nodes){var A=t.nodes.length;if(A){var w=(0,i.default)(t,n),_=(0,i.default)(e,n),M=g(t.nodes,w,n),S=g(e.nodes,_,n),O=f(t.nodes,m),I=O.nodeMap,E=O.nodeLabelMap,C=f(e.nodes,m),k=C.nodeMap,T=C.nodeLabelMap;p(t.edges,b,I);var D=p(e.edges,b,k).edgeLabelMap,j=[];null===_||void 0===_||_.forEach(function(t){j=j.concat(t)}),u||(u=Math.max.apply(Math,(0,r.__spreadArray)((0,r.__spreadArray)([],j,!1),[2],!1))),s||(s=u);var L=l(t,w,m,s),P=l(e,_,m,s),N=function(t,e,n,r,i){var o=Math.ceil(n/e),a={},s=0;return r.forEach(function(t,r){for(var u=0,l=0,c=t.nodeIdxs,h=t.neighborNum-1;u<o;){for(var d=c[1+Math.floor(Math.random()*h)],f=0;(a["".concat(r,"-").concat(d)]||a["".concat(d,"-").concat(r)])&&(d=Math.floor(Math.random()*e),!(++f>2*e)););if(f<2*e&&(a["".concat(r,"-").concat(d)]={start:r,end:d,distance:i[r][d]},u++,++s>=n))return a;if(++l>2*e)break}u<o&&(o=(o+(o-u))/(e-r-1))}),a}(0,A,Math.min(100,A*(A-1)/2),L,w),R=h(N,L,t),B={graphs:R,nodeLabelProp:m,edgeLabelProp:b,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n},z=(0,o.default)(B).slice(0,10),F=z.length,G=[];z.forEach(function(t,e){G[e]={},Object.keys(R).forEach(function(n){var r=R[n],i=d(r,t,m,b);G[e][n]=i})});var V=function(t,e,n){for(var r=1/0,i=0,o=function(e){var n=t[e],o=[];Object.keys(n).sort(function(t,e){return n[t]-n[e]}).forEach(function(t,e){o[e%10]||(o[e%10]={graphs:[],totalCount:0,aveCount:0}),o[e%10].graphs.push(t),o[e%10].totalCount+=n[t]});var a=0,s=[];o.forEach(function(t){var e=t.totalCount/t.graphs.length;t.aveCount=e,s.push(e);var r=0,i=t.length;t.graphs.forEach(function(e,i){var o=n[e];t.graphs.forEach(function(t,e){i!==e&&(r+=Math.abs(o-n[t]))})}),a+=r/=i*(i-1)/2}),a/=o.length;var u=0;s.forEach(function(t,e){s.forEach(function(n,r){e!==r&&(u+=Math.abs(t-n))}),u/=s.length*(s.length-1)/2});var l=u-a;r<l&&(r=l,i=e)},a=0;a<e;a++)o(a);return{structure:n[i],structureCountMap:t[i]}}(G,F,z),U=V.structure,W=V.structureCountMap,H=e.nodes[0],Y=[],X=null===(x=e.nodes[0])||void 0===x?void 0:x[m],q=-1/0;e.nodes.forEach(function(t){var e=t[m],n=E[e];(null===n||void 0===n?void 0:n.length)>q&&(q=n.length,Y=n,X=e,H=t)});var Q={},Z={},K={},J={},$={},tt={};Object.keys(T).forEach(function(r,i){$[r]=[],n&&(tt[r]=[]);var o=-1/0,a={};T[r].forEach(function(t){var e=S["".concat(H.id,"-").concat(t.id)];if(e&&$[r].push(e),o<e&&(o=e),a["".concat(H.id,"-").concat(t.id)]={start:0,end:k[t.id].idx,distance:e},n){var i=S["".concat(t.id,"-").concat(H.id)];i&&tt[r].push(i)}}),$[r]=$[r].sort(function(t,e){return t-e}),n&&(tt[r]=tt[r].sort(function(t,e){return t-e})),Z=h(a,P,e,Z);var s=[];if(Object.keys(a).forEach(function(t){if(K[t])s.push(K[t]);else{var e=Z[t];K[t]=d(e,U,m,b),s.push(K[t])}}),s=s.sort(function(t,e){return e-t}),J["".concat(H.id,"-").concat(r)]=s,r!==X)for(var u=function(e){var n=Y[e],i=L[I[n.id].idx],o=i.nodeLabelCountMap[r],a=T[r].length;if(!o||o.count<a)return Y.splice(e,1),"continue";for(var u=!1,l=0;l<a;l++)if(o.dists[l]>$[r][l]){u=!0;break}if(u)return Y.splice(e,1),"continue";var c={};i.neighbors.forEach(function(t){var e=M["".concat(n.id,"-").concat(t.id)];c["".concat(n.id,"-").concat(t.id)]={start:I[n.id].idx,end:I[t.id].idx,distance:e}}),R=h(c,L,t,R);var f=[];Object.keys(c).forEach(function(t){if(W[t])f.push(W[t]);else{var e=R[t];W[t]=d(e,U,m,b),f.push(W[t])}}),f=f.sort(function(t,e){return e-t});var p=!1;for(l=0;l<a;l++)if(f[l]<s[l]){p=!0;break}return p?(Y.splice(e,1),"continue"):void 0},l=((null===Y||void 0===Y?void 0:Y.length)||0)-1;l>=0;l--)u(l)});var et=[];null===Y||void 0===Y||Y.forEach(function(r){for(var i=I[r.id].idx,o=c(t.nodes,w[i],i,m,u).neighbors,a=!1,s=o.length-1;s>=0;s--){if(o.length+1<e.nodes.length)return void(a=!0);var l=o[s],h=l[m];if(T[h]&&T[h].length)if($[h]&&$[h].length){var d="".concat(r.id,"-").concat(l.id),f=M[d],p=$[h].length-1;if(f>$[h][p])o.splice(s,1);else{if(n){var g="".concat(l.id,"-").concat(r.id),x=M[g];if(p=tt[h].length-1,x>tt[h][p]){o.splice(s,1);continue}}var A=W[d]?W[d]:v(t,r,l,I,f,L,U,m,b,W,R),_="".concat(H.id,"-").concat(h);if(A<J[_][J[_].length-1])o.splice(s,1);else{var S=y(Q,h,k,T),O=S.minPatternNodeLabelDegree;S.minPatternNodeLabelInDegree,S.minPatternNodeLabelOutDegree,I[l.id].degree<O&&o.splice(s,1)}}}else o.splice(s,1);else o.splice(s,1)}a||et.push({nodes:[r].concat(o)})});var nt=(0,a.default)(e,H.id,!1).length,rt={};n?(Object.keys(nt).forEach(function(t){var e=k[t].node[m];rt[e]?rt[e].push(nt[t]):rt[e]=[nt[t]]}),Object.keys(rt).forEach(function(t){rt[t].sort(function(t,e){return t-e})})):rt=$;for(var it=function(r){var i=et[r],o=i.nodes[0],s={},u={};i.nodes.forEach(function(t,e){u[t.id]={idx:e,node:t,degree:0,inDegree:0,outDegree:0};var n=t[m];s[n]?s[n]++:s[n]=1});var l=[],c={};t.edges.forEach(function(t){u[t.source]&&u[t.target]&&(l.push(t),c[t[b]]?c[t[b]]++:c[t[b]]=1,u[t.source].degree++,u[t.target].degree++,u[t.source].outDegree++,u[t.target].inDegree++)});for(var h=Object.keys(D).length,d=!1,f=0;f<h;f++){var p=Object.keys(D)[f];if(!c[p]||c[p]<D[p].length){d=!0;break}}if(d)return et.splice(r,1),"continue";var g=l.length;if(g<e.edges.length)return et.splice(r,1),"break";var v=!1,x=function(t){var e=l[t],r=e[b],i=D[r];if(!i||!i.length)return c[r]--,i&&c[r]<i.length?(v=!0,"break"):(l.splice(t,1),u[e.source].degree--,u[e.target].degree--,u[e.source].outDegree--,u[e.target].inDegree--,"continue");var o=u[e.source].node[m],a=u[e.target].node[m],s=!1;return i.forEach(function(t){var e=k[t.source].node,r=k[t.target].node;e[m]===o&&r[m]===a&&(s=!0),n||e[m]!==a||r[m]!==o||(s=!0)}),s?void 0:(c[r]--,i&&c[r]<i.length?(v=!0,"break"):(l.splice(t,1),u[e.source].degree--,u[e.target].degree--,u[e.source].outDegree--,u[e.target].inDegree--,"continue"))};for(f=g-1;f>=0&&"break"!==x(f);f--);if(v)return et.splice(r,1),"continue";i.edges=l;var A=(0,a.default)(i,i.nodes[0].id,!1).length;if(Object.keys(A).reverse().forEach(function(t){if(t!==i.nodes[0].id&&!v){if(A[t]===1/0){var e=u[t].node[m];if(s[e]--,s[e]<T[e].length)return void(v=!0);var n=i.nodes.indexOf(u[t].node);return i.nodes.splice(n,1),void(u[t]=void 0)}var r=I[t].node[m];if(!rt[r]||!rt[r].length||A[t]>rt[r][rt[r].length-1]){if(e=u[t].node[m],s[e]--,s[e]<T[e].length)return void(v=!0);n=i.nodes.indexOf(u[t].node),i.nodes.splice(n,1),u[t]=void 0}}}),v)return et.splice(r,1),"continue";for(var w=!0,_=0;w&&!v;){if(w=!1,n?u[o.id].degree<k[H.id].degree||u[o.id].inDegree<k[H.id].inDegree||u[o.id].outDegree<k[H.id].outDegree:u[o.id].degree<k[H.id].degree){v=!0;break}if(s[o[m]]<T[o[m]].length){v=!0;break}for(var M=i.nodes.length-1;M>=0;M--){var S=i.nodes[M],O=u[S.id].degree,E=u[S.id].inDegree,C=u[S.id].outDegree,j=S[m],L=y(Q,j,k,T),P=L.minPatternNodeLabelDegree,N=L.minPatternNodeLabelInDegree,R=L.minPatternNodeLabelOutDegree;if(n?O<P||E<N||C<R:O<P){if(s[S[m]]--,s[S[m]]<T[S[m]].length){v=!0;break}i.nodes.splice(M,1),u[S.id]=void 0,w=!0}}if(v||!w&&0!==_)break;for(var B=(g=l.length)-1;B>=0;B--){var z=l[B];if(!u[z.source]||!u[z.target]){l.splice(B,1);var F=z[b];if(c[F]--,u[z.source]&&(u[z.source].degree--,u[z.source].outDegree--),u[z.target]&&(u[z.target].degree--,u[z.target].inDegree--),D[F]&&c[F]<D[F].length){v=!0;break}w=!0}}_++}return v?(et.splice(r,1),"continue"):v||i.nodes.length<e.nodes.length||l.length<e.edges.length?(et.splice(r,1),"continue"):void 0},ot=et.length-1;ot>=0&&"break"!==it(ot);ot--);var at=et.length,st=function(t){var e={};et[t].edges.forEach(function(t){var n="".concat(t.source,"-").concat(t.target,"-").concat(t.label);e[n]?e[n]++:e[n]=1});for(var n=function(t){var n={};et[t].edges.forEach(function(t){var e="".concat(t.source,"-").concat(t.target,"-").concat(t.label);n[e]?n[e]++:n[e]=1});var r=!0;Object.keys(n).length!==Object.keys(e).length?r=!1:Object.keys(e).forEach(function(t){n[t]!==e[t]&&(r=!1)}),r&&et.splice(t,1)},r=at-1;r>t;r--)n(r);at=et.length};for(ot=0;ot<=at-1;ot++)st(ot);return et}}};e.default=m},BIhM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VACANT_NODE_LABEL=e.VACANT_NODE_ID=e.VACANT_GRAPH_ID=e.VACANT_EDGE_LABEL=e.VACANT_EDGE_ID=e.Node=e.Graph=e.Edge=e.AUTO_EDGE_ID=void 0;var r=-1;e.VACANT_EDGE_ID=r;var i=-1;e.VACANT_NODE_ID=i;var o="-1";e.VACANT_EDGE_LABEL=o;var a="-1";e.VACANT_NODE_LABEL=a;e.VACANT_GRAPH_ID=-1;e.AUTO_EDGE_ID="-1";var s=function(){return function(t,e,n,a){void 0===t&&(t=r),void 0===e&&(e=i),void 0===n&&(n=i),void 0===a&&(a=o),this.id=t,this.from=e,this.to=n,this.label=a}}();e.Edge=s;var u=function(){function t(t,e){void 0===t&&(t=i),void 0===e&&(e=a),this.id=t,this.label=e,this.edges=[],this.edgeMap={}}return t.prototype.addEdge=function(t){this.edges.push(t),this.edgeMap[t.id]=t},t}();e.Node=u;var l=function(){function t(t,e,n){void 0===t&&(t=i),void 0===e&&(e=!0),void 0===n&&(n=!1),this.id=t,this.edgeIdAutoIncrease=e,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return t.prototype.getNodeNum=function(){return this.nodes.length},t.prototype.addNode=function(t,e){if(!this.nodeMap[t]){var n=new u(t,e);this.nodes.push(n),this.nodeMap[t]=n,this.nodeLabelMap[e]||(this.nodeLabelMap[e]=[]),this.nodeLabelMap[e].push(t)}},t.prototype.addEdge=function(t,e,n,r){if((this.edgeIdAutoIncrease||void 0===t)&&(t=this.counter++),!(this.nodeMap[e]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[t])){var i=new s(t,e,n,r);if(this.edges.push(i),this.edgeMap[t]=i,this.nodeMap[e].addEdge(i),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(i),!this.directed){var o=new s(t,n,e,r);this.nodeMap[n].addEdge(o),this.edgeLabelMap[r].push(o)}}},t}();e.Graph=l},BuFP:function(t,e,n){"use strict";e.j=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},n.d(e,"c",function(){return i}),e.g=function(t,e){if(t.isCanvas())return!0;var n=e.getParent(),r=!1;for(;n;){if(n===t){r=!0;break}n=n.getParent()}return r},e.b=function(t){return t.cfg.visible&&t.cfg.capture};var r=n("IgWN");n.d(e,"e",function(){return r.isNil}),n.d(e,"d",function(){return r.isFunction}),n.d(e,"h",function(){return r.isString}),n.d(e,"f",function(){return r.isObject}),n.d(e,"i",function(){return r.mix}),n.d(e,"a",function(){return r.each}),n.d(e,"k",function(){return r.upperFirst});var i="undefined"!=typeof window&&void 0!==window.document},"C3+6":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ComboForceLayout=void 0;var o=n("w9t0"),a=n("ZE1E"),s=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.maxIteration=100,n.gravity=10,n.comboGravity=10,n.linkDistance=10,n.alpha=1,n.alphaMin=.001,n.alphaDecay=1-Math.pow(n.alphaMin,1/300),n.alphaTarget=0,n.velocityDecay=.6,n.edgeStrength=.6,n.nodeStrength=30,n.preventOverlap=!1,n.preventNodeOverlap=!1,n.preventComboOverlap=!1,n.collideStrength=void 0,n.nodeCollideStrength=.5,n.comboCollideStrength=.5,n.comboSpacing=20,n.comboPadding=10,n.optimizeRangeFactor=1,n.onTick=function(){},n.onLayoutEnd=function(){},n.depthAttractiveForceScale=1,n.depthRepulsiveForceScale=2,n.nodes=[],n.edges=[],n.combos=[],n.comboTrees=[],n.width=300,n.height=300,n.bias=[],n.nodeMap={},n.oriComboMap={},n.indexMap={},n.comboMap={},n.previousLayouted=!1,n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}},e.prototype.execute=function(){var t=this.nodes,e=this.center;if(this.comboTree={id:"comboTreeRoot",depth:-1,children:this.comboTrees},t&&0!==t.length){if(1===t.length)return t[0].x=e[0],t[0].y=e[1],void(this.onLayoutEnd&&this.onLayoutEnd());this.initVals(),this.run(),this.onLayoutEnd&&this.onLayoutEnd()}else this.onLayoutEnd&&this.onLayoutEnd()},e.prototype.run=function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var r=t.center,i=t.velocityDecay,o=t.comboMap;t.previousLayouted||t.initPos(o);for(var s=function(n){var r=[];e.forEach(function(t,e){r[e]={x:0,y:0}}),t.applyCalculate(r),t.applyComboCenterForce(r),e.forEach(function(t,e){(0,a.isNumber)(t.x)&&(0,a.isNumber)(t.y)&&(t.x+=r[e].x*i,t.y+=r[e].y*i)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},u=0;u<n;u++)s();var l=[0,0];e.forEach(function(t){(0,a.isNumber)(t.x)&&(0,a.isNumber)(t.y)&&(l[0]+=t.x,l[1]+=t.y)}),l[0]/=e.length,l[1]/=e.length;var c=[r[0]-l[0],r[1]-l[1]];e.forEach(function(t,e){(0,a.isNumber)(t.x)&&(0,a.isNumber)(t.y)&&(t.x+=c[0],t.y+=c[1])}),t.combos.forEach(function(t){var e=o[t.id];e&&e.empty&&(t.x=e.cx||t.x,t.y=e.cy||t.y)}),t.previousLayouted=!0},e.prototype.initVals=function(){var t=this.edges,e=this.nodes,n=this.combos,r={},i={},o={};e.forEach(function(t,e){i[t.id]=t,o[t.id]=e}),this.nodeMap=i,this.indexMap=o;var s={};n.forEach(function(t){s[t.id]=t}),this.oriComboMap=s,this.comboMap=this.getComboMap();var u=this.preventOverlap;this.preventComboOverlap=this.preventComboOverlap||u,this.preventNodeOverlap=this.preventNodeOverlap||u;var l=this.collideStrength;l&&(this.comboCollideStrength=l,this.nodeCollideStrength=l),this.comboCollideStrength=this.comboCollideStrength?this.comboCollideStrength:0,this.nodeCollideStrength=this.nodeCollideStrength?this.nodeCollideStrength:0;for(var c=0;c<t.length;++c){var h=(0,a.getEdgeTerminal)(t[c],"source"),d=(0,a.getEdgeTerminal)(t[c],"target");r[h]?r[h]++:r[h]=1,r[d]?r[d]++:r[d]=1}var f=[];for(c=0;c<t.length;++c){h=(0,a.getEdgeTerminal)(t[c],"source"),d=(0,a.getEdgeTerminal)(t[c],"target");f[c]=r[h]/(r[h]+r[d])}this.bias=f;var p,g,v=this.nodeSize,y=this.nodeSpacing;if(g=(0,a.isNumber)(y)?function(){return y}:(0,a.isFunction)(y)?y:function(){return 0},this.nodeSpacing=g,v)if((0,a.isFunction)(v))p=function(t){return v(t)};else if((0,a.isArray)(v)){var m=(v[0]>v[1]?v[0]:v[1])/2;p=function(t){return m}}else{var b=v/2;p=function(t){return b}}else p=function(t){return t.size?(0,a.isArray)(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2:(0,a.isObject)(t.size)?(t.size.width>t.size.height?t.size.width:t.size.height)/2:t.size/2:10};this.nodeSize=p;var x,A=this.comboSpacing;x=(0,a.isNumber)(A)?function(){return A}:(0,a.isFunction)(A)?A:function(){return 0},this.comboSpacing=x;var w,_=this.comboPadding;w=(0,a.isNumber)(_)?function(){return _}:(0,a.isArray)(_)?function(){return Math.max.apply(null,_)}:(0,a.isFunction)(_)?_:function(){return 0},this.comboPadding=w;var M,S=this.linkDistance;S||(S=10),M=(0,a.isNumber)(S)?function(t){return S}:S,this.linkDistance=M;var O,I=this.edgeStrength;I||(I=1),O=(0,a.isNumber)(I)?function(t){return I}:I,this.edgeStrength=O;var E,C=this.nodeStrength;C||(C=30),E=(0,a.isNumber)(C)?function(t){return C}:C,this.nodeStrength=E},e.prototype.initPos=function(t){this.nodes.forEach(function(e,n){var r=e.comboId,i=t[r];r&&i?(e.x=i.cx+100/(n+1),e.y=i.cy+100/(n+1)):(e.x=100/(n+1),e.y=100/(n+1))})},e.prototype.getComboMap=function(){var t=this,e=t.nodeMap,n=t.comboTrees,r=t.oriComboMap,i={};return(n||[]).forEach(function(n){var o=[];(0,a.traverseTreeUp)(n,function(n){if("node"===n.itemType)return!0;if(!r[n.id])return!0;if(void 0===i[n.id]){var s={id:n.id,name:n.id,cx:0,cy:0,count:0,depth:t.oriComboMap[n.id].depth||0,children:[]};i[n.id]=s}var u=n.children;u&&u.forEach(function(t){if(!i[t.id]&&!e[t.id])return!0;o.push(t)});var l=i[n.id];if(l.cx=0,l.cy=0,0===o.length){l.empty=!0;var c=r[n.id];l.cx=c.x,l.cy=c.y}return o.forEach(function(t){if(l.count++,"node"!==t.itemType){var n=i[t.id];return(0,a.isNumber)(n.cx)&&(l.cx+=n.cx),void((0,a.isNumber)(n.cy)&&(l.cy+=n.cy))}var r=e[t.id];r&&((0,a.isNumber)(r.x)&&(l.cx+=r.x),(0,a.isNumber)(r.y)&&(l.cy+=r.y))}),l.cx/=l.count||1,l.cy/=l.count||1,l.children=o,!0})}),i},e.prototype.applyComboCenterForce=function(t){var e=this.gravity,n=this.comboGravity||e,r=this.alpha,i=this.comboTrees,o=this.indexMap,s=this.nodeMap,u=this.comboMap;(i||[]).forEach(function(e){(0,a.traverseTreeUp)(e,function(e){if("node"===e.itemType)return!0;if(!u[e.id])return!0;var i=u[e.id],l=(i.depth+1)/10*.5,c=i.cx,h=i.cy;return i.cx=0,i.cy=0,i.children.forEach(function(e){if("node"!==e.itemType){var d=u[e.id];return d&&(0,a.isNumber)(d.cx)&&(i.cx+=d.cx),void(d&&(0,a.isNumber)(d.cy)&&(i.cy+=d.cy))}var f=s[e.id],p=f.x-c||.005,g=f.y-h||.005,v=Math.sqrt(p*p+g*g),y=o[f.id],m=n*r/v*l;t[y].x-=p*m,t[y].y-=g*m,(0,a.isNumber)(f.x)&&(i.cx+=f.x),(0,a.isNumber)(f.y)&&(i.cy+=f.y)}),i.cx/=i.count||1,i.cy/=i.count||1,!0})})},e.prototype.applyCalculate=function(t){var e=this.comboMap,n=this.nodes,r={};n.forEach(function(t,e){n.forEach(function(n,i){if(!(e<i)){var o=t.x-n.x||.005,a=t.y-n.y||.005,s=o*o+a*a,u=Math.sqrt(s);s<1&&(s=u),r["".concat(t.id,"-").concat(n.id)]={vx:o,vy:a,vl2:s,vl:u},r["".concat(n.id,"-").concat(t.id)]={vl2:s,vl:u,vx:-o,vy:-a}}})}),this.updateComboSizes(e),this.calRepulsive(t,r),this.calAttractive(t,r),this.preventComboOverlap&&this.comboNonOverlapping(t,e)},e.prototype.updateComboSizes=function(t){var e=this,n=e.comboTrees,r=e.nodeMap,i=e.nodeSize,o=e.comboSpacing,s=e.comboPadding;(n||[]).forEach(function(n){var u=[];(0,a.traverseTreeUp)(n,function(n){if("node"===n.itemType)return!0;var l=t[n.id];if(!l)return!1;var c=n.children;c&&c.forEach(function(e){(t[e.id]||r[e.id])&&u.push(e)}),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0,u.forEach(function(t){if("node"!==t.itemType)return!0;var e=r[t.id];if(!e)return!0;var n=i(e),o=e.x-n,a=e.y-n,s=e.x+n,u=e.y+n;l.minX>o&&(l.minX=o),l.minY>a&&(l.minY=a),l.maxX<s&&(l.maxX=s),l.maxY<u&&(l.maxY=u)});var h=e.oriComboMap[n.id].size||10;(0,a.isArray)(h)&&(h=h[0]);var d=Math.max(l.maxX-l.minX,l.maxY-l.minY,h);return l.r=d/2+o(l)/2+s(l),!0})})},e.prototype.comboNonOverlapping=function(t,e){var n=this.comboTree,r=this.comboCollideStrength,i=this.indexMap,o=this.nodeMap;(0,a.traverseTreeUp)(n,function(n){if(!e[n.id]&&!o[n.id]&&"comboTreeRoot"!==n.id)return!1;var a=n.children;return a&&a.length>1&&a.forEach(function(n,s){if("node"===n.itemType)return!1;var u=e[n.id];u&&a.forEach(function(a,l){if(s<=l)return!1;if("node"===a.itemType)return!1;var c=e[a.id];if(!c)return!1;var h=u.cx-c.cx||.005,d=u.cy-c.cy||.005,f=h*h+d*d,p=u.r||1,g=c.r||1,v=p+g,y=g*g,m=p*p;if(f<v*v){var b=n.children;if(!b||0===b.length)return!1;var x=a.children;if(!x||0===x.length)return!1;var A=Math.sqrt(f),w=(v-A)/A*r,_=h*w,M=d*w,S=y/(m+y),O=1-S;b.forEach(function(e){if("node"!==e.itemType)return!1;if(o[e.id]){var n=i[e.id];x.forEach(function(e){if("node"!==e.itemType)return!1;if(!o[e.id])return!1;var r=i[e.id];t[n].x+=_*S,t[n].y+=M*S,t[r].x-=_*O,t[r].y-=M*O})}})}})}),!0})},e.prototype.calRepulsive=function(t,e){var n=this,r=n.nodes,i=n.width*n.optimizeRangeFactor,o=n.nodeStrength,a=n.alpha,s=n.nodeCollideStrength,u=n.preventNodeOverlap,l=n.nodeSize,c=n.nodeSpacing,h=n.depthRepulsiveForceScale,d=n.center;r.forEach(function(f,p){if(f.x&&f.y){if(d){var g=n.gravity,v=f.x-d[0]||.005,y=f.y-d[1]||.005,m=Math.sqrt(v*v+y*y);t[p].x-=v*g*a/m,t[p].y-=y*g*a/m}r.forEach(function(n,r){if(p!==r&&n.x&&n.y){var d=e["".concat(f.id,"-").concat(n.id)],g=d.vl2,v=d.vl;if(!(v>i)){var y=e["".concat(f.id,"-").concat(n.id)],m=y.vx,b=y.vy,x=Math.log(Math.abs(n.depth-f.depth)/10)+1||1;x=x<1?1:x,n.comboId!==f.comboId&&(x+=1);var A=x?Math.pow(h,x):1,w=o(n)*a/g*A;if(t[p].x+=m*w,t[p].y+=b*w,p<r&&u){var _=l(f)+c(f)||1,M=l(n)+c(n)||1,S=_+M;if(g<S*S){var O=(S-v)/v*s,I=M*M,E=I/(_*_+I),C=m*O,k=b*O;t[p].x+=C*E,t[p].y+=k*E,E=1-E,t[r].x-=C*E,t[r].y-=k*E}}}}})}})},e.prototype.calAttractive=function(t,e){var n=this,r=n.edges,i=n.linkDistance,o=n.alpha,s=n.edgeStrength,u=n.bias,l=n.depthAttractiveForceScale;r.forEach(function(r,c){var h=(0,a.getEdgeTerminal)(r,"source"),d=(0,a.getEdgeTerminal)(r,"target");if(h&&d&&h!==d){var f=n.indexMap[h],p=n.indexMap[d],g=n.nodeMap[h],v=n.nodeMap[d];if(g&&v){var y=g.depth===v.depth?0:Math.log(Math.abs(g.depth-v.depth)/10);g.comboId===v.comboId&&(y/=2);var m=y?Math.pow(l,y):1;if(g.comboId!==v.comboId&&1===m?m=l/2:g.comboId===v.comboId&&(m=2),(0,a.isNumber)(v.x)&&(0,a.isNumber)(g.x)&&(0,a.isNumber)(v.y)&&(0,a.isNumber)(g.y)){var b=e["".concat(d,"-").concat(h)],x=b.vl,A=b.vx,w=b.vy,_=(x-i(r))/x*o*s(r)*m,M=A*_,S=w*_,O=u[c];t[p].x-=M*O,t[p].y-=S*O,t[f].x+=M*(1-O),t[f].y+=S*(1-O)}}}})},e.prototype.getType=function(){return"comboForce"},e}(o.Base);e.ComboForceLayout=s},C9uT:function(t,e,n){var r=n("1VE+");function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},CLuh:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Force2Layout=void 0;var a=n("w9t0"),s=n("ZE1E"),u=n("dVqt"),l=function(t,e){return t?(0,s.isNumber)(t)?function(e){return t}:t:function(t){return e||1}},c=function(t){function e(e){var n=t.call(this)||this;n.maxIteration=1e3,n.workerEnabled=!1,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=500,n.minMovement=.4,n.interval=.02,n.factor=1,n.linkDistance=200,n.gravity=0,n.clusterNodeStrength=20,n.preventOverlap=!0,n.distanceThresholdMode="mean",n.tick=function(){},n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.judgingDistance=0,n.centripetalOptions={leaf:2,single:2,others:1,center:function(t){return{x:n.width/2,y:n.height/2}}};var r=e.getMass;return n.propsGetMass=r,n.updateCfg(e),n}return i(e,t),e.prototype.getCentripetalOptions=function(){var t,e=this,n=e.leafCluster,r=e.clustering,i=e.nodeClusterBy,a=e.nodes,u=e.nodeMap,l=e.clusterNodeStrength,c=function(t){return"function"==typeof l?l(t):l},h={};if(n){t=this.getSameTypeLeafMap()||{};var d=Array.from(new Set(null===a||void 0===a?void 0:a.map(function(t){return t[i]})))||[];h={single:100,leaf:function(e,n,r){var i=t[e.id]||{},o=i.relativeLeafNodes,a=i.sameTypeLeafNodes;return(null===a||void 0===a?void 0:a.length)===(null===o||void 0===o?void 0:o.length)||1===(null===d||void 0===d?void 0:d.length)?1:c(e)},others:1,center:function(e,n,r){var i,o,a=((null===(i=e.data)||void 0===i?void 0:i.layout)||{}).degree;if(!a)return{x:100,y:100};if(1===a){var u=(t[e.id]||{}).sameTypeLeafNodes,l=void 0===u?[]:u;1===l.length?o=void 0:l.length>1&&(o=(0,s.getAvgNodePosition)(l))}else o=void 0;return{x:null===o||void 0===o?void 0:o.x,y:null===o||void 0===o?void 0:o.y}}}}if(r){t||(t=this.getSameTypeLeafMap());var f={};Array.from(new Set(a.map(function(t,e){return t[i]}))).filter(function(t){return void 0!==t}).forEach(function(t){var e=a.filter(function(e){return e[i]===t}).map(function(t){return u[t.id]});f[t]=(0,s.getAvgNodePosition)(e)}),h={single:function(t){return c(t)},leaf:function(t){return c(t)},others:function(t){return c(t)},center:function(t,e,n){var r=f[t[i]];return{x:null===r||void 0===r?void 0:r.x,y:null===r||void 0===r?void 0:r.y}}}}this.centripetalOptions=o(o({},this.centripetalOptions),h);var p=this.centripetalOptions,g=p.leaf,v=p.single,y=p.others;g&&"function"!=typeof g&&(this.centripetalOptions.leaf=function(){return g}),v&&"function"!=typeof v&&(this.centripetalOptions.single=function(){return v}),y&&"function"!=typeof y&&(this.centripetalOptions.others=function(){return y})},e.prototype.updateCfg=function(t){t&&Object.assign(this,t)},e.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},e.prototype.execute=function(){var t=this;t.stop();var e=t.nodes,n=t.edges,r=t.defSpringLen;if(t.judgingDistance=0,e&&0!==e.length){t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var i=t.center;if(1===e.length)return e[0].x=i[0],e[0].y=i[1],void t.onLayoutEnd([o({},e[0])]);t.degreesMap=(0,s.getDegreeMap)(e,n),t.propsGetMass?t.getMass=t.propsGetMass:t.getMass=function(e){var n=1;(0,s.isNumber)(e.mass)&&(n=e.mass);var r=t.degreesMap[e.id].all;return!r||r<5?n:5*r*n};var a,u=t.nodeSize;if(t.preventOverlap){var c,h=t.nodeSpacing;c=(0,s.isNumber)(h)?function(){return h}:(0,s.isFunction)(h)?h:function(){return 0},a=u?(0,s.isArray)(u)?function(t){return Math.max(u[0],u[1])+c(t)}:function(t){return u+c(t)}:function(t){return t.size?(0,s.isArray)(t.size)?Math.max(t.size[0],t.size[1])+c(t):(0,s.isObject)(t.size)?Math.max(t.size.width,t.size.height)+c(t):t.size+c(t):10+c(t)}}t.nodeSize=a,t.linkDistance=l(t.linkDistance,1),t.nodeStrength=l(t.nodeStrength,1),t.edgeStrength=l(t.edgeStrength,1);var d={},f={};e.forEach(function(e,n){(0,s.isNumber)(e.x)||(e.x=Math.random()*t.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*t.height);var r=t.degreesMap[e.id];d[e.id]=o(o({},e),{data:o(o({},e.data),{size:t.nodeSize(e)||30,layout:{inDegree:r.in,outDegree:r.out,degree:r.all,tDegree:r.in,sDegree:r.out,force:{mass:t.getMass(e),nodeStrength:t.nodeStrength(e)}}})}),f[e.id]=n}),t.nodeMap=d,t.nodeIdxMap=f,t.edgeInfos=[],null===n||void 0===n||n.forEach(function(e){var n=d[e.source],i=d[e.target];n&&i?t.edgeInfos.push({edgeStrength:t.edgeStrength(e),linkDistance:r?r(o(o({},e),{source:n,target:i}),n,i):t.linkDistance(e,n,i)||1+(u(n)+u(n)||0)/2}):elf.edgeInfos.push({})}),this.getCentripetalOptions(),t.onLayoutEnd=t.onLayoutEnd||function(){},t.run()}else t.onLayoutEnd([])},e.prototype.run=function(){var t=this,e=t.maxIteration,n=t.nodes,r=t.workerEnabled,i=t.minMovement,o=t.animate,a=t.nodeMap;if(n){var s=[];n.forEach(function(t,e){s[2*e]=0,s[2*e+1]=0});var u=e;if(r||!o){for(var l=0;(t.judgingDistance>i||l<1)&&l<u;l++)l,t.runOneStep(l,s);t.onLayoutEnd(Object.values(a))}else{if("undefined"==typeof window)return;var c=0;this.timeInterval=window.setInterval(function(){n&&(t.runOneStep(c,s),(++c>=u||t.judgingDistance<i)&&(t.onLayoutEnd(Object.values(a)),window.clearInterval(t.timeInterval)))},0)}}},e.prototype.runOneStep=function(t,e){var n,r=this.nodes,i=this.edges,o=(this.nodeMap,this.monitor),a=[];if(null===r||void 0===r?void 0:r.length){this.calRepulsive(a),i&&this.calAttractive(a),this.calGravity(a);var s=this.interval;if(this.updateVelocity(a,e,s),this.updatePosition(e,s),null===(n=this.tick)||void 0===n||n.call(this),o)o({energy:this.calTotalEnergy(a),nodes:r,edges:i,iterations:t})}},e.prototype.calTotalEnergy=function(t){var e=this.nodes,n=this.nodeMap;if(!(null===e||void 0===e?void 0:e.length))return 0;var r=0;return e.forEach(function(e,i){var o=t[2*i],a=t[2*i+1],s=o*o+a*a,u=n[e.id].data.layout.force.mass;r+=(void 0===u?1:u)*s*.5}),r},e.prototype.calRepulsive=function(t){var e=this.nodes,n=this.nodeMap,r=this.factor,i=this.coulombDisScale;this.nodeSize;(0,u.forceNBody)(e,n,r,i*i,t)},e.prototype.calAttractive=function(t){var e=this.edges,n=this.nodeMap,r=this.nodeIdxMap,i=this.edgeInfos;this.nodeSize;e.forEach(function(e,o){var a=(0,s.getEdgeTerminal)(e,"source"),u=(0,s.getEdgeTerminal)(e,"target"),l=n[a],c=n[u];if(l&&c){var h=c.x-l.x,d=c.y-l.y;h||d||(h=.01*Math.random(),d=.01*Math.random());var f=Math.sqrt(h*h+d*d),p=h/f,g=d/f,v=i[o]||{},y=v.linkDistance,m=void 0===y?200:y,b=v.edgeStrength,x=(m-f)*(void 0===b?200:b),A=1/(l.data.layout.force.mass||1),w=1/(c.data.layout.force.mass||1),_=p*x,M=g*x,S=2*r[a],O=2*r[u];t[S]-=_*A,t[S+1]-=M*A,t[O]+=_*w,t[O+1]+=M*w}})},e.prototype.calGravity=function(t){var e,n=this.nodes,r=this.edges,i=void 0===r?[]:r,o=this.nodeMap,a=this.width,u=this.height,l=this.center,c=this.gravity,h=this.degreesMap,d=this.centripetalOptions;if(n)for(var f=n.length,p=0;p<f;p++){var g=2*p,v=o[n[p].id],y=v.data.layout.force.mass,m=void 0===y?1:y,b=0,x=0,A=c,w=h[v.id],_=w.in,M=w.out,S=w.all,O=null===(e=this.getCenter)||void 0===e?void 0:e.call(this,v,S);if(O){var I=O[0],E=O[1],C=O[2];b=v.x-I,x=v.y-E,A=C}else b=v.x-l[0],x=v.y-l[1];if(A&&(t[g]-=A*b/m,t[g+1]-=A*x/m),d){var k=d.leaf,T=d.single,D=d.others,j=d.center,L=(null===j||void 0===j?void 0:j(v,n,i,a,u))||{x:0,y:0,centerStrength:0},P=L.x,N=L.y,R=L.centerStrength;if(!(0,s.isNumber)(P)||!(0,s.isNumber)(N))continue;var B=(v.x-P)/m,z=(v.y-N)/m;if(R&&(t[g]-=R*B,t[g+1]-=R*z),0===S){var F=T(v);if(!F)continue;t[g]-=F*B,t[g+1]-=F*z;continue}if(0===_||0===M){var G=k(v,n,i);if(!G)continue;t[g]-=G*B,t[g+1]-=G*z;continue}var V=D(v);if(!V)continue;t[g]-=V*B,t[g+1]-=V*z}}},e.prototype.updateVelocity=function(t,e,n){var r=this.nodes,i=this.damping,o=this.maxSpeed;(null===r||void 0===r?void 0:r.length)&&r.forEach(function(r,a){var s=(e[2*a]+t[2*a]*n)*i||.01,u=(e[2*a+1]+t[2*a+1]*n)*i||.01,l=Math.sqrt(s*s+u*u);if(l>o){var c=o/l;s*=c,u*=c}e[2*a]=s,e[2*a+1]=u})},e.prototype.updatePosition=function(t,e){var n=this,r=n.nodes,i=n.distanceThresholdMode,o=n.nodeMap;if(null===r||void 0===r?void 0:r.length){var a=0;"max"===i?n.judgingDistance=-1/0:"min"===i&&(n.judgingDistance=1/0),r.forEach(function(r,u){var l=o[r.id];if((0,s.isNumber)(r.fx)&&(0,s.isNumber)(r.fy))return r.x=r.fx,r.y=r.fy,l.x=r.x,void(l.y=r.y);var c=t[2*u]*e,h=t[2*u+1]*e;r.x+=c,r.y+=h,l.x=r.x,l.y=r.y;var d=Math.sqrt(c*c+h*h);switch(i){case"max":n.judgingDistance<d&&(n.judgingDistance=d);break;case"min":n.judgingDistance>d&&(n.judgingDistance=d);break;default:a+=d}}),i&&"mean"!==i||(n.judgingDistance=a/r.length)}else this.judgingDistance=0},e.prototype.stop=function(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval)},e.prototype.destroy=function(){this.stop(),this.tick=null,this.nodes=null,this.edges=null,this.destroyed=!0},e.prototype.getType=function(){return"force2"},e.prototype.getSameTypeLeafMap=function(){var t=this,e=t.nodeClusterBy,n=t.nodes,r=t.edges,i=t.nodeMap,o=t.degreesMap;if(null===n||void 0===n?void 0:n.length){var a={};return n.forEach(function(t,n){1===o[t.id].all&&(a[t.id]=(0,s.getCoreNodeAndRelativeLeafNodes)("leaf",t,r,e,o,i))}),a}},e}(a.Base);e.Force2Layout=c},COaM:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.FruchtermanGPULayout=void 0;var s=n("w9t0"),u=n("ZE1E"),l=n("JKCU"),c=n("6hwo"),h=n("rcBw"),d=n("D9Z3"),f=function(t){function e(e){var n=t.call(this)||this;return n.maxIteration=1e3,n.gravity=10,n.speed=1,n.clustering=!1,n.clusterField="cluster",n.clusterGravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}},e.prototype.execute=function(){return o(this,void 0,void 0,function(){var t,e,n,r,i,o=this;return a(this,function(a){switch(a.label){case 0:return(e=(t=this).nodes)&&0!==e.length?(t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]),n=t.center,1===e.length?(e[0].x=n[0],e[0].y=n[1],t.onLayoutEnd&&t.onLayoutEnd(),[2]):(r={},i={},e.forEach(function(t,e){(0,u.isNumber)(t.x)||(t.x=Math.random()*o.width),(0,u.isNumber)(t.y)||(t.y=Math.random()*o.height),r[t.id]=t,i[t.id]=e}),t.nodeMap=r,t.nodeIdxMap=i,[4,t.run()])):(t.onLayoutEnd&&t.onLayoutEnd(),[2]);case 1:return a.sent(),[2]}})})},e.prototype.executeWithWorker=function(t,e){return o(this,void 0,void 0,function(){var n,r,i,o,s,l=this;return a(this,function(a){switch(a.label){case 0:return r=(n=this).nodes,i=n.center,r&&0!==r.length?1===r.length?(r[0].x=i[0],r[0].y=i[1],[2]):(o={},s={},r.forEach(function(t,e){(0,u.isNumber)(t.x)||(t.x=Math.random()*l.width),(0,u.isNumber)(t.y)||(t.y=Math.random()*l.height),o[t.id]=t,s[t.id]=e}),n.nodeMap=o,n.nodeIdxMap=s,[4,n.run(t,e)]):[2];case 1:return a.sent(),[2]}})})},e.prototype.run=function(t,e){return o(this,void 0,void 0,function(){var n,r,i,s,f,p,g,v,y,m,b,x,A,w,_,M,S,O,I,E,C,k,T,D,j,L=this;return a(this,function(P){switch(P.label){case 0:for(r=(n=this).nodes,i=n.edges,s=n.maxIteration,f=n.center,p=n.height*n.width,g=Math.sqrt(p)/10,v=p/(r.length+1),y=Math.sqrt(v),m=n.speed,b=n.clustering,x=(0,c.attributesToTextureData)([n.clusterField],r),A=x.array,w=x.count,r.forEach(function(t,e){var n=0,r=0;(0,u.isNumber)(t.fx)&&(0,u.isNumber)(t.fy)&&(n=t.fx||.001,r=t.fy||.001),A[4*e+1]=n,A[4*e+2]=r}),_=r.length,M=(0,c.buildTextureData)(r,i),S=M.maxEdgePerVetex,O=M.array,I=n.workerEnabled,E=I?l.World.create({canvas:t,engineOptions:{supportCompute:!0}}):l.World.create({engineOptions:{supportCompute:!0}}),C=n.onLayoutEnd,k=[],T=0;T<w;T++)k.push(0,0,0,0);return D=E.createKernel(h.fruchtermanBundle).setDispatch([_,1,1]).setBinding({u_Data:O,u_K:y,u_K2:v,u_Gravity:n.gravity,u_ClusterGravity:n.clusterGravity||n.gravity||1,u_Speed:m,u_MaxDisplace:g,u_Clustering:b?1:0,u_Center:f,u_AttributeArray:A,u_ClusterCenters:k,MAX_EDGE_PER_VERTEX:S,VERTEX_COUNT:_}),b&&(j=E.createKernel(h.clusterBundle).setDispatch([w,1,1]).setBinding({u_Data:O,u_NodeAttributes:A,u_ClusterCenters:k,VERTEX_COUNT:_,CLUSTER_COUNT:w})),[4,function(){return o(L,void 0,void 0,function(){var n,i;return a(this,function(o){switch(o.label){case 0:n=0,o.label=1;case 1:return n<s?[4,D.execute()]:[3,6];case 2:return o.sent(),b?(j.setBinding({u_Data:D}),[4,j.execute()]):[3,4];case 3:o.sent(),D.setBinding({u_ClusterCenters:j}),o.label=4;case 4:D.setBinding({u_MaxDisplace:g*=.99}),o.label=5;case 5:return n++,[3,1];case 6:return[4,D.getOutput()];case 7:return i=o.sent(),t?e.postMessage({type:d.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:i}):r.forEach(function(t,e){var n=i[4*e],r=i[4*e+1];t.x=n,t.y=r}),C&&C(),[2]}})})}()];case 1:return P.sent(),[2]}})})},e.prototype.getType=function(){return"fruchterman-gpu"},e}(s.Base);e.FruchtermanGPULayout=f},CSsb:function(t,e,n){t.exports=n.p+"static/img/envTestIcon.061b178.png"},Cdx3:function(t,e,n){var r=n("sB3e"),i=n("lktj");n("uqUo")("keys",function(){return function(t){return i(r(t))}})},CpEa:function(t,e){},"Cq/5":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DagreLayout=void 0;var a=o(n("Q9R3")),s=n("ZE1E"),u=n("w9t0"),l=n("3MGd"),c=function(t){function e(e){var n=t.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.ranksep=50,n.controlPoints=!1,n.sortByCombo=!1,n.edgeLabelSpace=!0,n.radial=!1,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.layoutNode=function(t){var e=n.nodes.find(function(e){return e.id===t});return!e||!1!==e.layout},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}},e.prototype.execute=function(){var t,e,n,r,i=this,o=this,u=o.nodes,c=o.nodeSize,d=o.rankdir,f=o.combos,p=o.begin,g=o.radial,v=o.comboEdges,y=void 0===v?[]:v,m=o.vedges,b=void 0===m?[]:m;if(u){var x=o.edges||[],A=new l.Graph({multigraph:!0,compound:!0});o.nodeMap={};var w={};u.forEach(function(t){o.nodeMap[t.id]=t,t.comboId&&(w[t.comboId]=w[t.comboId]||[],w[t.comboId].push(t.id))});var _,M=[],S={};(null===(t=o.nodeOrder)||void 0===t?void 0:t.length)?(o.nodeOrder.forEach(function(t){S[t]=!0,M.push(o.nodeMap[t])}),u.forEach(function(t){S[t.id]||M.push(t)})):M=u,_=c?(0,s.isArray)(c)?function(){return c}:function(){return[c,c]}:function(t){return t.size?(0,s.isArray)(t.size)?t.size:(0,s.isObject)(t.size)?[t.size.width||40,t.size.height||40]:[t.size,t.size]:[40,40]};var O=(0,s.getFunc)(o.ranksep,50,o.ranksepFunc),I=(0,s.getFunc)(o.nodesep,50,o.nodesepFunc),E=I,C=O;"LR"!==d&&"RL"!==d||(E=O,C=I),A.setDefaultEdgeLabel(function(){return{}}),A.setGraph(o);var k={};this.sortByCombo&&f&&f.forEach(function(t){if(k[t.id]=t,t.collapsed){var e=_(t),n=C(t),r=E(t),i=e[0]+2*r,o=e[1]+2*n;A.setNode(t.id,{width:i,height:o})}t.parentId&&(k[t.parentId]||A.setNode(t.parentId,{}),A.setParent(t.id,t.parentId))}),M.filter(function(t){return!1!==t.layout}).forEach(function(t){var e=_(t),n=C(t),r=E(t),o=e[0]+2*r,a=e[1]+2*n,u=t.layer;(0,s.isNumber)(u)?A.setNode(t.id,{width:o,height:a,layer:u}):A.setNode(t.id,{width:o,height:a}),i.sortByCombo&&t.comboId&&(k[t.comboId]||(k[t.comboId]={id:t.comboId},A.setNode(t.comboId,{})),A.setParent(t.id,t.comboId))}),x.forEach(function(t){var e=(0,s.getEdgeTerminal)(t,"source"),n=(0,s.getEdgeTerminal)(t,"target");i.layoutNode(e)&&i.layoutNode(n)&&A.setEdge(e,n,{weight:t.weight||1})}),null===(e=null===y||void 0===y?void 0:y.concat(b||[]))||void 0===e||e.forEach(function(t){var e,n,r=t.source,i=t.target,o=(null===(e=k[r])||void 0===e?void 0:e.collapsed)?[r]:w[r]||[r],a=(null===(n=k[i])||void 0===n?void 0:n.collapsed)?[i]:w[i]||[i];o.forEach(function(e){a.forEach(function(n){A.setEdge(e,n,{weight:t.weight||1})})})});var T=void 0;(null===(n=o.preset)||void 0===n?void 0:n.nodes)&&(T=new l.Graph({multigraph:!0,compound:!0}),o.preset.nodes.forEach(function(t){null===T||void 0===T||T.setNode(t.id,t)})),a.default.layout(A,{prevGraph:T,edgeLabelSpace:o.edgeLabelSpace,keepNodeOrder:Boolean(!!o.nodeOrder),nodeOrder:o.nodeOrder});var D=[0,0];if(p){var j=1/0,L=1/0;A.nodes().forEach(function(t){var e=A.node(t);j>e.x&&(j=e.x),L>e.y&&(L=e.y)}),A.edges().forEach(function(t){var e;null===(e=A.edge(t).points)||void 0===e||e.forEach(function(t){j>t.x&&(j=t.x),L>t.y&&(L=t.y)})}),D[0]=p[0]-j,D[1]=p[1]-L}var P="LR"===d||"RL"===d;if(g){var N=this.focusNode,R=this.ranksep,B=this.getRadialPos,z=(0,s.isString)(N)?N:null===N||void 0===N?void 0:N.id,F=z?null===(r=A.node(z))||void 0===r?void 0:r._rank:0,G=[],V=P?"y":"x",U=P?"height":"width",W=1/0,H=-1/0;A.nodes().forEach(function(t){var e=A.node(t);if(o.nodeMap[t]){var n=I(o.nodeMap[t]);if(0===F)G[e._rank]||(G[e._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),G[e._rank].nodes.push(t),G[e._rank].totalWidth+=2*n+e[U],G[e._rank].maxSize<Math.max(e.width,e.height)&&(G[e._rank].maxSize=Math.max(e.width,e.height));else{var r=e._rank-F;if(0===r)G[r]||(G[r]={nodes:[],totalWidth:0,maxSize:-1/0}),G[r].nodes.push(t),G[r].totalWidth+=2*n+e[U],G[r].maxSize<Math.max(e.width,e.height)&&(G[r].maxSize=Math.max(e.width,e.height));else{var i=Math.abs(r);G[i]||(G[i]={left:[],right:[],totalWidth:0,maxSize:-1/0}),G[i].totalWidth+=2*n+e[U],G[i].maxSize<Math.max(e.width,e.height)&&(G[i].maxSize=Math.max(e.width,e.height)),r<0?G[i].left.push(t):G[i].right.push(t)}}var a=e[V]-e[U]/2-n,s=e[V]+e[U]/2+n;a<W&&(W=a),s>H&&(H=s)}});var Y=R||50,X={},q=(H-W)/.9,Q=[.5*(W+H-q),.5*(W+H+q)],Z=function(t,e,n,r){void 0===n&&(n=-1/0),void 0===r&&(r=[0,1]);var i=n;return t.forEach(function(t){var n=A.node(t);X[t]=e;var a=B(n[V],Q,q,e,r),s=a.x,u=a.y;if(o.nodeMap[t]){o.nodeMap[t].x=s+D[0],o.nodeMap[t].y=u+D[1],o.nodeMap[t]._order=n._order;var l=O(o.nodeMap[t]);i<l&&(i=l)}}),i},K=!0;G.forEach(function(t){var e,n,r,i,a,s,u;if((null===(e=null===t||void 0===t?void 0:t.nodes)||void 0===e?void 0:e.length)||(null===(n=null===t||void 0===t?void 0:t.left)||void 0===n?void 0:n.length)||(null===(r=null===t||void 0===t?void 0:t.right)||void 0===r?void 0:r.length)){if(K&&1===t.nodes.length){var l=t.nodes[0];if(!o.nodeMap[l])return;return o.nodeMap[l].x=D[0],o.nodeMap[l].y=D[1],X[t.nodes[0]]=0,Y=O(o.nodeMap[l]),void(K=!1)}Y=Math.max(Y,t.totalWidth/(2*Math.PI));var c=-1/0;if(0===F||(null===(i=t.nodes)||void 0===i?void 0:i.length))c=Z(t.nodes,Y,c,[0,1]);else{var h=(null===(a=t.left)||void 0===a?void 0:a.length)/((null===(s=t.left)||void 0===s?void 0:s.length)+(null===(u=t.right)||void 0===u?void 0:u.length));c=Z(t.left,Y,c,[0,h]),c=Z(t.right,Y,c,[h+.05,1])}Y+=c,K=!1,t.maxSize}}),A.edges().forEach(function(t){var e,n,r,i=A.edge(t),a=x.findIndex(function(e){var n=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target");return n===t.v&&r===t.w});if(!(a<=-1)&&o.edgeLabelSpace&&o.controlPoints&&"loop"!==x[a].type){var u="x"===V?"y":"x",l=null===(e=null===i||void 0===i?void 0:i.points)||void 0===e?void 0:e.slice(1,i.points.length-1),c=[],h=null===(n=A.node(t.v))||void 0===n?void 0:n[u],d=h-(null===(r=A.node(t.w))||void 0===r?void 0:r[u]),f=X[t.v],p=f-X[t.w];null===l||void 0===l||l.forEach(function(t){var e=(t[u]-h)/d*p+f,n=B(t[V],Q,q,e);c.push({x:n.x+D[0],y:n.y+D[1]})}),x[a].controlPoints=c}})}else{var J=new Set,$="BT"===d||"RL"===d?function(t,e){return e-t}:function(t,e){return t-e};A.nodes().forEach(function(t){var e=A.node(t);if(e){var n=i.nodeMap[t];n||(n=null===f||void 0===f?void 0:f.find(function(e){return e.id===t})),n&&(n.x=e.x+D[0],n.y=e.y+D[1],n._order=e._order,J.add(P?n.x:n.y))}});var tt=Array.from(J).sort($),et=P?function(t,e){return t.x!==e.x}:function(t,e){return t.y!==e.y},nt=P?function(t,e,n){var r=Math.max(e.y,n.y),i=Math.min(e.y,n.y);return t.filter(function(t){return t.y<=r&&t.y>=i})}:function(t,e,n){var r=Math.max(e.x,n.x),i=Math.min(e.x,n.x);return t.filter(function(t){return t.x<=r&&t.x>=i})};A.edges().forEach(function(t){var e,n=A.edge(t),r=x.findIndex(function(e){var n=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target");return n===t.v&&r===t.w});if(!(r<=-1)&&o.edgeLabelSpace&&o.controlPoints&&"loop"!==x[r].type){null===(e=null===n||void 0===n?void 0:n.points)||void 0===e||e.forEach(function(t){t.x+=D[0],t.y+=D[1]});var i=o.nodeMap[t.v],a=o.nodeMap[t.w];x[r].controlPoints=h(null===n||void 0===n?void 0:n.points,i,a,tt,P,et,nt)}})}return o.onLayoutEnd&&o.onLayoutEnd(),{nodes:u,edges:x}}},e.prototype.getRadialPos=function(t,e,n,r,i){void 0===i&&(i=[0,1]);var o=(t-e[0])/n,a=2*(o=o*(i[1]-i[0])+i[0])*Math.PI;return{x:Math.cos(a)*r,y:Math.sin(a)*r}},e.prototype.getType=function(){return"dagre"},e}(u.Base);e.DagreLayout=c;var h=function(t,e,n,r,i,o,a){var s=(null===t||void 0===t?void 0:t.slice(1,t.length-1))||[];if(e&&n){var u=e.x,l=e.y,c=n.x,h=n.y;if(i&&(u=e.y,l=e.x,c=n.y,h=n.x),h!==l&&u!==c){var d=r.indexOf(l),f=r[d+1];if(f){var p=s[0],g=i?{x:(l+f)/2,y:(null===p||void 0===p?void 0:p.y)||c}:{x:(null===p||void 0===p?void 0:p.x)||c,y:(l+f)/2};p&&!o(p,g)||s.unshift(g)}var v=r.indexOf(h),y=Math.abs(v-d);if(1===y)(s=a(s,e,n)).length||s.push(i?{x:(l+h)/2,y:u}:{x:u,y:(l+h)/2});else if(y>1){var m=r[v-1];if(m){var b=s[s.length-1],x=i?{x:(h+m)/2,y:(null===b||void 0===b?void 0:b.y)||c}:{x:(null===b||void 0===b?void 0:b.x)||u,y:(h+m)/2};b&&!o(b,x)||s.push(x)}}}}return s}},Cvks:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAkCAYAAAAHKVPcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAZRSURBVHgBvVc9jBtFFH5vdn22zz5fDt3lTz5hkjS5VCRUCImkCxIiDZeOUARBJKAIHUrC+SApaAgSKYJANKlIKKAjEhJHQUlHkgYpDlhBioEcF/t8Z+/u47352R//cCchMvJ6Z2dm33zv75u3AEONkC+VXHXXHzeeXHUeq9PweEbGcIsH6/xyfQUUzPG1m8cfNfRcteNjsxQQQI2fGnqt6dlnnocWz9dqPNIw4zNNrD0MSPrVTpPfr5Ke69QiaEEER/laAgJESoFghEfAn9y3voRA5+B/bAR0qQbl928fggDqGMUgFoG871/6Y7KbL67BY2gdKE2xRTZgBUKGYPx0YxG8fnnWh8fUqrA2caAIHpF55kACrJUaKsy3HxuI1bbygi5HhH1GHQ+LUCiXoUztzoP04sP7FTy34BMjFueRhJJ9KdvQzIliiMk6aXYMCh5AqQjwxBTC7h2KZqYAZybhbqVEy6z9Mi85DRDswEHxT+/3oPknQRimglgimiTVZE++2wjXW5sUHMKoeGSCd5ouIYioQo4gx885D5/K59THHBNL7KMqjGpTBRQAKEqS1YrNgqZv7/Ksx9y4u9w7co+BMkLUcJ2huDutpBd27yMFOKQBOc3Baa4HKNtP2jsnfHjhsILJvBp4x5AUxX/mTtZtDGIZvGJE6JcIRjUiTAuS+1wF8PzJHMxWEtM/OafgmQMeHD/iw/pmhLMVhPMnfX2HWJlY/YzC2h3bb0hGeA4W5hWcOubF1liYN3Lv/Kb5B04d9fWaCw4IOWsQokrYUgCJO6i5jc3lXzS/wADmphEaDwiufhu5YIQjB5QFYRS+ejOAe7xG1p7TVosTUmcbJRY2PLFnRnFMdHD0/hhvdOa4r4VKu/xNX5vdxUhtpxm/bS2xvgn0wfWA1jcZCAN4+8WcFUhJmmvZqEGQ93CrmDCW+PRmSK01s+zsiRwHIGqhB+cRpX+vxefTGpBL31eOKT0uQL74LpDMsHoBUSxbLMFj2h1t2NIlrb8JLn7ZBwEimp857umZhaq1wq8ScVowvvysT88f8jSAS9f77JpIZuI4SEsWS+g2WRjjjtiExoyiqQCRALy2EurZg/MmHn76JYwz8IdbIUpMXBQArWEjYypbfA1isQrrfpsgyOKI/ZZmSAMExN/uWTZDLhEareRdsdq713pGU7SMLjlh+w6IsJM5tJisoLAX5JDN6K8zKgsg6SdV0rWVAMY3YcyErAQuGp9pprcpugxQ3EtjgiJFVEjDYJAGNxxmVMLYotaqjuplSqyhEgHlUSBSmwzWh+QUguya7DjGYEbKcJbgA6w5lq4wq2X2iBwRbvZ4SKxGbnNyuWGlxGwOJEc5NKunoTSKrAZ2+fytHBpugK1Aj1202Qf46sdQagAJTG0JBrFkNPT5OeiMFmm12QLAtlo+Z3hCuJusbTVZmemRgZk5soV4/msTSyRiTWerujKTHa9d6eHgZAILCdN1QyqTpLLK8+dJpYS0axpwflaRhaA9EmdHezRtZ1It6Wcm3VNcgSXAB0S545zIkVZylI+p7qyyaQCjhCONeXGEKGFIc3ISJEDEHbincx8fQWUo5UzAGLLhf/rszZHZkR7ADsfN61cMXaMlJ139ctfDmK6NKw0bp2KCa37YyGaHVMQ2mmG72VHiNflc1n1cSKHEhFTccvkexwEHitJYSIOg33t7o/LGMPdM5rninlTx2d9lBYsT/w5io0cwVTRs5ChJNhQQU0UklokMBH2PwABB0paoNRrw11yNq/voMofJWSfwiTJyStlKCBV99HVfDElpfyZlWqL9rmll1ti1+rsjJ1YCrBRRK8egyFMiRscEDz74OWrvg363qz70A++TjQBzpHpq5zTc8T1FkfGrCVJ7DMZfXIo3dPNo6kc085qTUacugKcACxOgLcFgGBTKmF6l3XH75KEAbmmPUgXW+hOFiqKNvpJPNnnZFULOvPKmmDEi98XlyjahYfu1AulSUkCw2RXHxgSSxJnPchXGZwe3OtDiIoQ3+HN9ba7Sg1XAWreMlVK0ygt3SE1t5TuhMeWZqEWruMZEzkUuO2SZ0ptyJnCKeGwcVk6TGP/uDR/Fru6pA959I3y1F6r3wghq8RL7wWu3xxicvhMO8ShaF/KfWAN0jOjMAN+HVQ+is/8A+94DIRF94lwAAAAASUVORK5CYII="},D9Z3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FORCE_LAYOUT_TYPE_MAP=e.LAYOUT_MESSAGE=void 0,e.LAYOUT_MESSAGE={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},e.FORCE_LAYOUT_TYPE_MAP={gForce:!0,force2:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0}},DGeK:function(t,e,n){t.exports=n.p+"static/img/modelFairDebiasIcon.8359eec.png"},DJt5:function(t,e){t.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAB3RJTUUH2AceBzUZ80q0rQAAByNJREFUSIl1VmtvXcUVXWvvOec+fW3sOIkDiMQJrSCU8qhKP/ZLJdSf2V9Q9RNSHyqqEFCFFloKBCUhxvHbvr72fd8ze+9+uNdJDO3o6Dzmsdbae9bMHP7uw0okkgolRCEECIKYl4vnpRIA43ITnzUBEREBd4YhFUVSCVVSQgTkRe9nt/moS3TzGv4f+gAiEA4XJKETwaDMm30xLAIE4oLhgpdgPKd0TsOL74vw8OwlJaEIVMkF9pwoFogX4nmBveC6rJ0LuAgEKQAkSIYTKfJsEiwKUSU8VEBezEIE+cNMMy4RP4NHUKBgRDxVJQzud/1kgO4g9yeWUpldLEJ+lN1LgD9KvUckZfe0+/Dh9ubmS6urq24AGBHpX59+BHLn4OybB3s/f/v19VffdUsXwhAXQfCp2B8SBwDCU9L7Dx5+/Ok/rl97/8rqmi/qmb745rGbVdVsMjw6Pemsbr4hKCM8fpiI5ybucjQREOVwMNzZPeh0Gu1W0wNPXZg6y2s5V2bTRrOVK8xGg9RaikUanl8RFxT8H7Ylub1zMD7tXb+yUqvVw0FEkAikjY0XJtVMGWdnw7JeFql0N9rYqZTSzRcAF+qDEFCEAcAXHLNp9fj+t8WTr1ev/bKo1flcZtO1q1fOh5O1lc7hyVlZptrSUj/rbHgOLZsrDYRSEFisnbloc1SVK6mJ2aNUfn9wuv/w62LrXvNntymAx9OJS7//4KPxeLbaaff6o7W1zku3xlpr3Fhvno/y1nffCYNMc2eLkEKl1kpd7rSz+6g/YyqDsXdwEp01XV5urb1YpsIqm9scgdQ9eqQq0lm/c3NVU/1gZ6uu8fLqGzay7vau+STCiKyaREiKFM21Tnn3pbu9/ujgYIe1zmDkvd6kXF4v3/z10vWNwclho/2CqEQAEUmQWo32yxsbjXbzfNyY2HQynPztk22CwhCWQrXZWaSQsIBqq9GdNO993TO3Ya77LPdHU4YlaU2WNrvDqorDG81OhIMhAP/84adnveGgf/bVgyeDqhlppV4vp9NZWDigIhGoptOpwSvLQU8NEVVhKopaIUUt1VJKiaqcjnorrcZSu6jXa5PJuCib7XabVVV9/uXjz/79ZP+4W6vVa2WRiqSki1ggqGY4PZ8NhiN3R4i71wu9fqWdEm9cXWo1ynqhy0tlo65u07C8tdPt9auz/mjryeHu/mHa2et+8eWj8XB068ZyUabpeDycDiySk5YdWh9M0/7u4d07V1++urR3eH7eO9xYb11f9/Gon2w86k5Ox4M9aK8/7Z1Pznpnj3dHOwfTyXS2vFKOp7P0Qqf+7t2N8WTU650dn5yYeTWajMYTd7jl0HI8zRweHm9tldWtaXrx0bdfffzHzw0oGq31ay8G0vkwuj1Mnf2BdY/64wxzD5vdvrVWuUq3119eWb77+mvt5tLw6HipIdPB/t7O1uYr1997687gdE9scvPG2vePvv3ggz+UKS+trhWda6/89J3fvP/bt955e/ug+Px+9Z8Hp9MqDBzNsgrLUsuycKCqLH38p79O8uz2nZs7O0fHJ8fLa3qyvz2bNJKUo+Ho3t8/ee3NX7x2652OytHpYdN3H92/Nxjl9361ubZ6pT+e3LjWWmqX1Wyp1S6nU7/S1gA9AM8ry8W0kgQfaeT97e/OTvuD8XA28ldv/iRDBofbh8fHEsZJd9R93Ei4sb56erA9PN3P2az/ZPfRMUTf3CzhBalBesC9jaBbuLtIqCg/++SfFFcgVzaznFQDMHehgKgqI4MBN7dwiFRV5TmXRUER8wCCgcU+QpCBQHhYIAKJlra++ouFg66qKmJm5vPtLUAINAIWATgiECApIoGICFLC3T0AiNDDESEUdwdDSQjTydG+uUliBMNNVEghEHA3uDnEOacjSTFzMgJwdxFFRGB+CQERpqQRgXAlKZqKek3chOI+j5Gcb88Rrottl8KIAKGiCETAI+aRAhDCEe4eAVUBQIG5BUFIOjobAzLHFEIIiri5mWuSbKYigFdmIJKIigJB0s3MLYmKiru5OxBCpqTmbp5VtUxFGp6dklIkVRULqKqqkKLweiohEEGucqOUoixUWCQVoUeQBbDo7+5J1d1JihCYq7SUNK0tN4TSbDWKlPIsF2VChLmDEGGSFA40Sy0oksI9SQKRPaoqA6ymXjEXRarCAQqRs6kmm2Uz02QpQrUo3cUyIphzVqVKAITHLE8ApqSzGXKeIkJIklSaZfcQ1fBQcXO4mTDMLOYZJ80kBcQsVGNmVQTgVItaISTNwnx+MIWoyuJXQ0BRUlRzVCJKkKGIha9SKssyLQ7aQEqpKMtULwtV4unBy4U9JIKApiRCdw93iojqfE2kohERFBKgWVIhSFFQzQxwACmlEgFzkkpGtqwibgGEiFIJwNyzPXOwBwCoSkSoFph7OFQYIpKzV5VHwCzc/b9Hm3HMDLKi6wAAAABJRU5ErkJggg=="},DRaW:function(t,e,n){"use strict";e.g=g,e.c=function(t,e){var n=g(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return b(n,4===n.length?"rgba":"rgb")}},e.a=y,e.b=m,e.f=function(t,e,n,r){var i=g(t);if(t)return i=function(t){if(!t)return;var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a,l=(s+a)/2;if(0===u)e=0,n=0;else{n=l<.5?u/(s+a):u/(2-s-a);var c=((s-r)/6+u/2)/u,h=((s-i)/6+u/2)/u,d=((s-o)/6+u/2)/u;r===s?e=d-h:i===s?e=1/3+c-d:o===s&&(e=2/3+h-c),e<0&&(e+=1),e>1&&(e-=1)}var f=[360*e,n,l];null!=t[3]&&f.push(t[3]);return f}(i),null!=e&&(i[0]=(o=e,(o=Math.round(o))<0?0:o>360?360:o)),null!=n&&(i[1]=s(n)),null!=r&&(i[2]=s(r)),b(v(i),"rgba");var o},e.e=function(t,e){var n=g(t);if(n&&null!=e)return n[3]=o(e),b(n,"rgba")},e.h=b,e.d=function(t,e){var n=g(t);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*e:0};var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function i(t){return(t=Math.round(t))<0?0:t>255?255:t}function o(t){return t<0?0:t>1?1:t}function a(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?i(parseFloat(e)/100*255):i(parseInt(e,10))}function s(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?o(parseFloat(e)/100):o(parseFloat(e))}function u(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function l(t,e,n){return t+(e-t)*n}function c(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var d=new(n("zMj2").a)(20),f=null;function p(t,e){f&&h(f,e),f=d.put(t,f||e.slice())}function g(t,e){if(t){e=e||[];var n=d.get(t);if(n)return h(e,n);var i=(t+="").replace(/ /g,"").toLowerCase();if(i in r)return h(e,r[i]),p(t,e),e;var o,u=i.length;if("#"===i.charAt(0))return 4===u||5===u?(o=parseInt(i.slice(1,4),16))>=0&&o<=4095?(c(e,(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,5===u?parseInt(i.slice(4),16)/15:1),p(t,e),e):void c(e,0,0,0,1):7===u||9===u?(o=parseInt(i.slice(1,7),16))>=0&&o<=16777215?(c(e,(16711680&o)>>16,(65280&o)>>8,255&o,9===u?parseInt(i.slice(7),16)/255:1),p(t,e),e):void c(e,0,0,0,1):void 0;var l=i.indexOf("("),f=i.indexOf(")");if(-1!==l&&f+1===u){var g=i.substr(0,l),y=i.substr(l+1,f-(l+1)).split(","),m=1;switch(g){case"rgba":if(4!==y.length)return 3===y.length?c(e,+y[0],+y[1],+y[2],1):c(e,0,0,0,1);m=s(y.pop());case"rgb":return y.length>=3?(c(e,a(y[0]),a(y[1]),a(y[2]),3===y.length?m:s(y[3])),p(t,e),e):void c(e,0,0,0,1);case"hsla":return 4!==y.length?void c(e,0,0,0,1):(y[3]=s(y[3]),v(y,e),p(t,e),e);case"hsl":return 3!==y.length?void c(e,0,0,0,1):(v(y,e),p(t,e),e);default:return}}c(e,0,0,0,1)}}function v(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=s(t[1]),o=s(t[2]),a=o<=.5?o*(r+1):o+r-o*r,l=2*o-a;return c(e=e||[],i(255*u(l,a,n+1/3)),i(255*u(l,a,n)),i(255*u(l,a,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function y(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),a=Math.floor(r),s=Math.ceil(r),u=e[a],c=e[s],h=r-a;return n[0]=i(l(u[0],c[0],h)),n[1]=i(l(u[1],c[1],h)),n[2]=i(l(u[2],c[2],h)),n[3]=o(l(u[3],c[3],h)),n}}function m(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),a=Math.floor(r),s=Math.ceil(r),u=g(e[a]),c=g(e[s]),h=r-a,d=b([i(l(u[0],c[0],h)),i(l(u[1],c[1],h)),i(l(u[2],c[2],h)),o(l(u[3],c[3],h))],"rgba");return n?{color:d,leftIndex:a,rightIndex:s,value:r}:d}}function b(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}},Dgox:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("IgWN"),i=u(n("Jsh2")),o=u(n("ncSy")),a=n("NTMn"),s=n("6klO");function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t,e,n,r){for(var i=e.length,o=2*r,a=0,s=0;s<i;s++)for(var u=t[s].clusterId,l=0;l<i;l++){if(u===t[l].clusterId)a+=(e[s][l]||0)-(n[s]||0)*(n[l]||0)/o}return a*=1/o},c=function(t,e){void 0===t&&(t=[]);for(var n=t.length,r=new o.default([]),i=0;i<n;i++)r=r.add(new o.default(e[i]));var a=r.avg(n);a.normalize();var s=0;for(i=0;i<n;i++){s+=(l=new o.default(e[i])).squareEuclideanDistance(a)}var u=[];t.forEach(function(){u.push([])});for(i=0;i<n;i++){var l=new o.default(e[i]);t[i].clusterInertial=0;for(var c=0;c<n;c++)if(i!==c){var h=new o.default(e[c]);u[i][c]=l.squareEuclideanDistance(h),t[i].clusterInertial+=u[i][c]}else u[i][c]=0}var d=0,f=2*n*s;for(i=0;i<n;i++){var p=t[i].clusterId;for(c=0;c<n;c++){var g=t[c].clusterId;if(i!==c&&p===g)d+=t[i].clusterInertial*t[c].clusterInertial/Math.pow(f,2)-u[i][c]/f}}return Number(d.toFixed(4))},h=function(t,e,n,o,u,h,d,f,p){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===o&&(o=1e-4),void 0===u&&(u=!1),void 0===h&&(h=void 0),void 0===d&&(d=[]),void 0===f&&(f=["id"]),void 0===p&&(p=1);var g=t.nodes,v=void 0===g?[]:g,y=t.edges,m=void 0===y?[]:y,b=[];if(u){v.forEach(function(t,e){t.properties=t.properties||{},t.originIndex=e});var x=[];v.every(function(t){return t.hasOwnProperty("nodeType")})&&(x=Array.from(new Set(v.map(function(t){return t.nodeType}))),v.forEach(function(t){t.properties.nodeType=x.findIndex(function(e){return e===t.nodeType})}));var A=(0,a.getAllProperties)(v,h);b=(0,s.oneHot)(A,d,f)}var w=1,_={},M={};v.forEach(function(t,e){var n=String(w++);t.clusterId=n,_[n]={id:n,nodes:[t]},M[t.id]={node:t,idx:e}});var S=(0,i.default)(t,e),O=[],I={},E=0;S.forEach(function(t,e){var n=0,r=v[e].id;I[r]={},t.forEach(function(t,e){if(t){n+=t;var i=v[e].id;I[r][i]=t,E+=t}}),O.push(n)}),E/=2;for(var C=1/0,k=1/0,T=0,D=[],j={};;){C=u&&v.every(function(t){return t.hasOwnProperty("properties")})?l(v,S,O,E)+c(v,b)*p:l(v,S,O,E),0===T&&(k=C,D=v,j=_);var L=C>0&&C>k&&C-k<o;if(C>k&&(D=v.map(function(t){return{node:t,clusterId:t.clusterId}}),j=(0,r.clone)(_),k=C),L||T>100)break;T++,Object.keys(_).forEach(function(t){var e=0;m.forEach(function(r){var i=r.source,o=r.target,a=M[i].node.clusterId,s=M[o].node.clusterId;(a===t&&s!==t||s===t&&a!==t)&&(e+=r[n]||1)}),_[t].sumTot=e}),v.forEach(function(t,e){var r,i=_[t.clusterId],o=0,a=O[e]/(2*E),s=0,l=i.nodes;l.forEach(function(t){var n=M[t.id].idx;s+=S[e][n]||0});var h=s-i.sumTot*a,d=l.filter(function(e){return e.id!==t.id}),f=[];d.forEach(function(t,e){f[e]=b[t.originIndex]});var g=c(d,b)*p,v=I[t.id];if(Object.keys(v).forEach(function(n){var i=M[n].node.clusterId;if(i!==t.clusterId){var s=_[i],l=s.nodes;if(l&&l.length){var d=0;l.forEach(function(t){var n=M[t.id].idx;d+=S[e][n]||0});var f=d-s.sumTot*a,v=l.concat([t]),y=[];v.forEach(function(t,e){y[e]=b[t.originIndex]});var m=c(v,b)*p,x=f-h;u&&(x=f+m-(h+g)),x>o&&(o=x,r=s)}}}),o>0){r.nodes.push(t);var y=t.clusterId;t.clusterId=r.id;var x=i.nodes.indexOf(t);i.nodes.splice(x,1);var A=0,w=0;m.forEach(function(t){var e=t.source,i=t.target,o=M[e].node.clusterId,a=M[i].node.clusterId;(o===r.id&&a!==r.id||a===r.id&&o!==r.id)&&(A+=t[n]||1),(o===y&&a!==y||a===y&&o!==y)&&(w+=t[n]||1)}),r.sumTot=A,i.sumTot=w}})}var P={},N=0;Object.keys(j).forEach(function(t){var e=j[t];if(e.nodes&&e.nodes.length){var n=String(N+1);n!==t&&(e.id=n,e.nodes=e.nodes.map(function(t){return{id:t.id,clusterId:n}}),j[n]=e,P[t]=n,delete j[t],N++)}else delete j[t]}),D.forEach(function(t){var e=t.node,n=t.clusterId;e&&(e.clusterId=n,e.clusterId&&P[e.clusterId]&&(e.clusterId=P[e.clusterId]))});var R=[],B={};m.forEach(function(t){var e=t.source,r=t.target,i=t[n]||1,o=M[e].node.clusterId,a=M[r].node.clusterId;if(o&&a){var s="".concat(o,"---").concat(a);if(B[s])B[s].weight+=i,B[s].count++;else{var u={source:o,target:a,weight:i,count:1};B[s]=u,R.push(u)}}});var z=[];return Object.keys(j).forEach(function(t){z.push(j[t])}),{clusters:z,clusterEdges:R}};e.default=h},DmAK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.feasibleTreeWithLayer=e.feasibleTree=void 0;var r=n("FlGC"),i=n("+ZTV"),o=n("3MGd"),a=function(t){var e,n,i=new o.Graph({directed:!1}),a=t.nodes()[0],u=t.nodeCount();for(i.setNode(a,{});s(i,t)<u;)e=c(i,t),n=i.hasNode(e.v)?(0,r.slack)(t,e):-(0,r.slack)(t,e),h(i,t,n);return i};e.feasibleTree=a;var s=function(t,e){var n=function(i){e.nodeEdges(i).forEach(function(o){var a=o.v,s=i===a?o.w:a;t.hasNode(s)||(0,r.slack)(e,o)||(t.setNode(s,{}),t.setEdge(i,s,{}),n(s))})};return t.nodes().forEach(n),t.nodeCount()},u=function(t){var e,n,i=new o.Graph({directed:!1}),a=t.nodes()[0],s=t.nodes().filter(function(e){return!!t.node(e)}).length;for(i.setNode(a,{});l(i,t)<s;)e=c(i,t),n=i.hasNode(e.v)?(0,r.slack)(t,e):-(0,r.slack)(t,e),h(i,t,n);return i};e.feasibleTreeWithLayer=u;var l=function(t,e){var n=function(i){var o;null===(o=e.nodeEdges(i))||void 0===o||o.forEach(function(o){var a=o.v,s=i===a?o.w:a;t.hasNode(s)||void 0===e.node(s).layer&&(0,r.slack)(e,o)||(t.setNode(s,{}),t.setEdge(i,s,{}),n(s))})};return t.nodes().forEach(n),t.nodeCount()},c=function(t,e){return(0,i.minBy)(e.edges(),function(n){return t.hasNode(n.v)!==t.hasNode(n.w)?(0,r.slack)(e,n):1/0})},h=function(t,e,n){t.nodes().forEach(function(t){e.node(t).rank||(e.node(t).rank=0),e.node(t).rank+=n})};e.default={feasibleTree:a,feasibleTreeWithLayer:u}},E9gP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("7N6o"))&&r.__esModule?r:{default:r},o=n("lSAc");var a=function(t,e,n){"number"!=typeof e&&(e=1e-6),"number"!=typeof n&&(n=.85);for(var r,a=1,s=0,u=1e3,l=t.nodes,c=void 0===l?[]:l,h=t.edges,d=void 0===h?[]:h,f=c.length,p={},g={},v=0;v<f;++v)p[m=(_=c[v]).id]=1/f,g[m]=1/f;for(var y=(0,i.default)(t);u>0&&a>e;){for(s=0,v=0;v<f;++v){var m=(_=c[v]).id;if(r=0,0===y[_.id].inDegree)p[m]=0;else{for(var b=(0,o.getNeighbors)(m,d,"source"),x=0;x<b.length;++x){var A=b[x],w=y[A].outDegree;w>0&&(r+=g[A]/w)}p[m]=n*r,s+=p[m]}}for(s=(1-s)/f,a=0,v=0;v<f;++v){var _;r=p[m=(_=c[v]).id]+s,a+=Math.abs(r-g[m]),g[m]=r}u-=1}return g};e.default=a},En79:function(t,e,n){var r=n("n8ER")();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},FaAE:function(t,e,n){"use strict";n.d(e,"q",function(){return l}),n.d(e,"n",function(){return c}),n.d(e,"p",function(){return d}),n.d(e,"r",function(){return f}),n.d(e,"c",function(){return p}),n.d(e,"j",function(){return g}),n.d(e,"i",function(){return x}),n.d(e,"g",function(){return v}),n.d(e,"f",function(){return b}),n.d(e,"k",function(){return A}),n.d(e,"h",function(){return S}),n.d(e,"e",function(){return w}),n.d(e,"b",function(){return _}),n.d(e,"m",function(){return M}),n.d(e,"s",function(){return O}),n.d(e,"l",function(){return I}),n.d(e,"a",function(){return E}),n.d(e,"o",function(){return h}),n.d(e,"d",function(){return C});var r=n("Gu7T"),i=n.n(r),o=n("pFYg"),a=n.n(o),s=n("XLwt"),u=n("Ns9M");function l(t,e,n,r){var i,o=[],a=[];for(var u in e)o.push({name:u,value:e[u].toFixed(2)}),a.push(u);i={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"5%",left:"center"},color:["rgba(91,143,249,0.85)","rgba(90,216,166,0.85)"],series:[{name:r,type:"pie",radius:["60%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"left"},emphasis:{label:{show:!0,fontSize:20,fontWeight:"bold"}},labelLine:{show:!1},data:o}]},setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),i&&e.setOption(i)},500)}function c(t,e,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[0,1,.2];r={title:{text:i,textStyle:{fontFamily:"HONOR Sans CN",fontStyle:"normal",fontWeight:700,fontSize:14,color:"#000000"},x:"center",y:"bottom"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{x:"8%",y:"10%",x2:"10%",y2:"15%"},xAxis:{type:"category",name:o,data:n,axisLabel:{show:!0,textStyle:{color:"#3E4453",fontSize:12,fontFamily:"HONOR Sans CN",fontStyle:"normal",fontWeight:400}},axisLine:{onZero:!0,lineStyle:{color:"#B4B9C5"}}},yAxis:{name:a,type:"value",min:u[0],max:u[1],interval:u[.2],axisLabel:{show:!0,textStyle:{color:"#6C7385",fontSize:12,fontFamily:"HONOR Sans CN",fontStyle:"normal",fontWeight:400}},axisLine:{show:!1,lineStyle:{color:"#B4B9C5"}},splitLine:{show:!0,lineStyle:{color:"#E0E3EB",type:"solid"}}},series:[{data:e,type:"bar",showBackground:!1,barMaxWidth:"100",itemStyle:{normal:{color:"rgba(11, 85, 244, 0.8)",label:{show:!0,position:"top",fontSize:12,color:"rgba(0, 0, 0, 1)",fontFamily:"HONOR Sans CN",fontStyle:"normal",fontWeight:400}}}}]},setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),r&&e.setOption(r)},500)}function h(t,e,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=Math.round(Math.max.apply(null,e)+1),l=Math.round(u/10);r={title:{text:i,textStyle:{fontFamily:"HONOR Sans CN",fontStyle:"normal",fontWeight:700,fontSize:14,color:"#000000"},x:"center",y:"bottom"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{x:"8%",y:"10%",x2:"10%",y2:"15%"},xAxis:{type:"category",name:o,data:n,axisLabel:{show:!0,textStyle:{color:"#3E4453",fontSize:12,fontFamily:"HONOR Sans CN",fontStyle:"normal",fontWeight:400}},axisLine:{onZero:!0,lineStyle:{color:"#B4B9C5"}}},yAxis:{name:a,type:"value",min:0,max:u,interval:l,axisLabel:{show:!0,textStyle:{color:"#6C7385",fontSize:12,fontFamily:"HONOR Sans CN",fontStyle:"normal",fontWeight:400}},axisLine:{show:!1,lineStyle:{color:"#B4B9C5"}},splitLine:{show:!0,lineStyle:{color:"#E0E3EB",type:"solid"}}},series:[{data:e,type:"bar",showBackground:!1,barMaxWidth:"100",itemStyle:{normal:{color:"rgba(11, 85, 244, 0.8)",label:{show:!0,position:"top",fontSize:12,color:"rgba(0, 0, 0, 1)",fontFamily:"HONOR Sans CN",fontStyle:"normal",fontWeight:400}}}}]},setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),r&&e.setOption(r)},500)}function d(t,e,n,r,i){var o;o={title:{text:i,textStyle:{fontSize:18,color:"rgba(0, 0, 0, 1)"},x:"center",y:"bottom"},xAxis:{type:"category",data:r,axisLabel:{show:!0,textStyle:{color:"rgba(0, 0, 0, 1)",fontSize:14}},axisLine:{onZero:!0,lineStyle:{color:"rgba(0, 0, 0, 1)"}}},yAxis:{type:"value",min:-.1,max:1.1,interval:.2,axisLabel:{show:!0,textStyle:{color:"rgba(0, 0, 0, 1)",fontSize:14}},axisLine:{show:!1,lineStyle:{color:"rgba(0, 0, 0, 1)"}},splitLine:{show:!0,lineStyle:{type:"dashed"}}},legend:{data:["origin","improved"],textStyle:{color:"rgba(0, 0, 0, 1)",fontSize:14},x:"right"},series:[{name:"origin",data:e,type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"},itemStyle:{normal:{color:"#91c7ae",label:{show:!0,position:"top",color:"rgba(0, 0, 0, 1)"}}}},{name:"improved",data:n,type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"},itemStyle:{normal:{color:"rgb(61,163,216)",label:{show:!0,position:"top",color:"rgba(0, 0, 0, 1)"}}}}]},setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),o&&e.setOption(o)},500)}function f(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#0B55F4",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";console.log(e),n={series:[{type:"gauge",center:["50%","60%"],radius:150,min:0,max:100,splitNumber:5,itemStyle:{color:r},progress:{show:!0,width:15},pointer:{show:!1},axisLine:{lineStyle:{width:15}},axisTick:{distance:10,splitNumber:5,lineStyle:{width:1,color:"#999"}},splitLine:{distance:10,length:10,lineStyle:{width:2,color:"#999"}},axisLabel:{distance:18,color:"#999",fontSize:12},anchor:{show:!1},title:{show:!1},detail:{valueAnimation:!0,width:"60%",lineHeight:70,borderRadius:8,offsetCenter:[0,"0%"],fontSize:66,fontWeight:"bolder",formatter:"{value}",color:"inherit"},data:[{value:e}]}]},""!=i&&(n.title={text:i,textStyle:{color:"rgba(0, 0, 0, 1)",fontSize:18},x:"center",y:280}),setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),n&&e.setOption(n)},500)}function p(t,e,n,r){var i,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[-1,1];n.map(function(t){return[t[1],t[0],t[2]||"-"]});i={tooltip:{position:"top"},grid:{height:"50%",top:"10%"},xAxis:{type:"category",data:e,splitArea:{show:!0},axisLabel:{rotate:"90"}},yAxis:{type:"category",data:e,splitArea:{show:!0}},visualMap:{min:a[0],max:a[1],calculable:!0,orient:"horizontal",left:"center",inRange:{color:r},bottom:"20px"},series:[{name:"系数",type:"heatmap",data:n,label:{show:o},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),i&&e.setOption(i)},500)}function g(t,e,n,r,i){var o,a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[-1,1];r.map(function(t){return[t[1],t[0],t[2]||"-"]});o={tooltip:{position:"top"},grid:{height:"50%",top:"10%"},xAxis:{type:"category",data:e,splitArea:{show:!0},axisLabel:{rotate:"90"}},yAxis:{type:"category",data:n,splitArea:{show:!0}},visualMap:{min:u[0],max:u[1],calculable:!0,orient:"horizontal",left:"center",inRange:{color:i},bottom:"20px"},series:[{name:"鲁棒性",type:"heatmap",data:r,label:{show:a},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),o&&e.setOption(o)},500)}function v(t,e,n,r){var i,o=[];for(var a in e){var u={};u.name=e[a],u.type="line",u.data=n[e[a]],o.push(u)}i={tooltip:{trigger:"axis"},legend:{data:e,y:"bottom",x:"center"},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:r},yAxis:{type:"value",name:"准确率%"},series:o},setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),i&&e.setOption(i)},500)}var y=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null;if("object"==(void 0===e?"undefined":a()(e))&&null!==e)for(var r in n=e instanceof Array?[]:{},e)n[r]=t(e[r]);else n=e;return n};function m(t,e,n,r){var i=function(t,e,n){var r=[],i=[],o=[],a=[],s=y(t);return s.sort(function(t,e){return t[0]-e[0]}),t.forEach(function(t,u){r.push(t[1]<=0?t[1]:t[0]<=0?0:t[0]),o.push(t[1]<=0||t[0]>=0?0:t[0]);var l=n?[t[0],u]:[u,t[0]];a.push({value:t[0],coord:t[0]||s[0][0]?l:[]}),i.push({value:t[1]<=0?t[0]-t[1]:t[0]<=0?t[1]:t[1]-t[0],range:t,name:e,label:{formatter:""+t[1]},itemStyle:{color:t[2]}})}),{min:r,max:i,negative:o,minLabel:a}}(t,e,r),o=i.min,a=i.max,s=i.minLabel;return[{type:"bar",stack:e,tooltip:{show:!1},itemStyle:{barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"},emphasis:{itemStyle:{barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"}},label:{show:!1},data:o},{type:"bar",stack:e,name:e,tooltip:{show:!1},label:{show:!1},data:i.negative},{type:"bar",stack:e,name:e,tooltip:{show:!0},label:{show:n,position:r?"right":"top"},markPoint:{symbol:"rect",symbolSize:1e-15,label:{show:n,position:r?"left":"bottom"},data:s},data:a}]}function b(t,e,n){var r=["置信度"],o=[];o.push(e);var a=[];o.forEach(function(t,e){a=[].concat(i()(a),i()(m(t,r[e],!0,!0)))});var u={type:"value"},l={type:"category",axisLine:{onZero:!1},splitLine:{show:!1},data:n},c=[u,l],h={title:{text:"类别"},color:["dodgerblue","violet","orange"],legend:{data:r},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){var e="",n="";t.forEach(function(t){n=t.axisValue;var r=t.data.range;e+=t.marker+t.name+": "+r[0]+" ~ "+r[1]+"<br/>"});var r=t[0];r.name,r.data.range;return n+"<br/>"+e}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:l=c[0],yAxis:u=c[1],series:a};setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),h&&e.setOption(h)},500)}function x(t,e,n,r){var i=[40,120];document.getElementById(t);setTimeout(function(){var o=new u.a.Tooltip({offsetX:10,offsetY:10,itemTypes:["node"],getContent:function(t){var e=document.createElement("div"),n=t.item.getModel(),r="";if(n.isLeaf)r=n.label+"</br>占比是: "+n.population;else if(-1!==n.id.indexOf("center"))r=n.label+"数据集";else if(-1!==n.id.indexOf("second"))for(var i in r=n.label+"属性占比情况：",n.children)r=r+"</br>"+n.children[i].label+"占比是："+n.children[i].population;else r=n.label+"</br>占比是: "+n.population;return e.style.width="fit-content",e.innerHTML="<div>"+r+"</div>",e}}),a=new u.a.TreeGraph({container:t,width:960,height:600,fitView:!0,fitViewPadding:20,linkCenter:!0,defaultNode:{size:30,style:{lineWidth:0,fill:"rgba(57, 117, 245, 1)"}},defaultEdge:{color:"rgba(11, 85, 244, 1)",style:{lineWidth:.3,shadowBlur:20,shadowColor:"#FF4654"}},nodeStateStyles:{hover:{stroke:"rgba(57, 117, 245, 1)",lineWidth:10}},modes:{default:[{type:"collapse-expand",onChange:function(t,e){return t.get("model").collapsed=e,!0}},"drag-canvas","zoom-canvas"]},layout:{type:"compactBox",direction:"LR",nodeSep:20,rankSep:50,radial:!0,getId:function(t){return t.id},getHeight:function(){return 30},getWidth:function(t){return-1!==t.id.indexOf("center")?300:20},getVGap:function(){return 20},getHGap:function(){return 100}},plugins:[o]});a.node(function(t){return{label:t.label,labelCfg:{position:"center"}}});var s=i[1]-i[0],l={center:{src:n,width:160,height:160},second:{src:r,width:120,height:120}};u.a.Util.traverseTree(e,function(t){t.isLeaf?(t.size=t.population*s+i[0],t.labelCfg={style:{fontSize:14,fill:"#FFF"}}):(-1!==t.id.indexOf("center")?(t.img=l.center.src,t.type="image",t.size=[1*l.center.width,1*l.center.height],t.labelCfg={style:{fontSize:20,fill:"#FFF"}}):-1!==t.id.indexOf("second")?(t.img=l.second.src,t.type="image",t.size=[1*l.second.width,1*l.second.height],t.labelCfg={style:{fontSize:18,fill:"rgba(11, 85, 244, 1)"}}):t.size=30,t.style={shadowColor:"rgba(11, 85, 244, 0.08)",shadowBlur:200})}),a.data(e),a.render(),a.fitView(),a.on("node:mouseenter",function(t){a.setItemState(t.item,"hover",!0)}),a.on("node:mouseleave",function(t){a.setItemState(t.item,"hover",!1)})},500)}function A(t,e,n,r,i){var o;o={title:{text:i,textStyle:{fontFamily:"HONOR Sans CN",fontStyle:"normal",fontWeight:700,fontSize:14,color:"#000000"},x:"center",y:"bottom"},tooltip:{trigger:"axis"},legend:{data:n},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{name:"扰动系数",type:"category",boundaryGap:!1,data:r},yAxis:{name:"攻击成功率",type:"value",min:0,max:1},series:[{name:n[0],type:"line",data:e[0]},{name:n[1],type:"line",data:e[1]}]},setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),o&&e.setOption(o)},500)}function w(t,e){var n;console.log(e);var r=e,i=Array(r[0].length).fill("");console.log(i),n={baseOption:{textStyle:{fontSize:15},timeline:{axisType:"category",autoPlay:!0,playInterval:1e3,data:["0%","25%","50%","75%","100%"],label:{formatter:function(t){return t}}},dataZoom:[{type:"inside"}],tooltip:{},legend:{left:"right",data:["重要性"]},calculable:!0,grid:{top:80,bottom:100,tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0,formatter:function(t){return t.value.replace("\n","")}}}}},xAxis:[{type:"category",axisLabel:{interval:0},data:i,splitLine:{show:!1},name:"神经元"}],yAxis:[{type:"value",name:"重要性"}],series:[{name:"重要性",type:"bar"}]},options:[{title:{text:"开始运行"},series:[{data:r[0]}]},{title:{text:"运行25%"},series:[{data:r[1]}]},{title:{text:"运行50%"},series:[{data:r[2]}]},{title:{text:"运行75%"},series:[{data:r[3]}]},{title:{text:"运行结束"},series:[{data:r[4]}]}]},setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),n&&e.setOption(n)},500)}function _(t,e,n){var r;console.log(e),r={tooltip:{trigger:"axis"},legend:{data:n},xAxis:{type:"category"},yAxis:{type:"value"},series:[{name:n[0],data:e[0],type:"line",smooth:!0},{name:n[1],data:e[1],type:"line",smooth:!0}]},setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),r&&e.setOption(r)},500)}function M(t,e,n){console.log(e);for(var r,i=["#126BFE","#5E0BF4","#FE7E07"],o=[],a=0;a<n.length;a++)o.push({value:e[a],label:n[a],color:i[a]});r={title:[{}],polar:{center:["50%","50%"],radius:[50,"80%"]},angleAxis:{max:.5,startAngle:90,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1},clockwise:!1},radiusAxis:{type:"category",data:n,z:100,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},tooltip:{show:!0,trigger:"item"},visualMap:{top:40,x:"left",orient:"vertical",textStyle:{color:"#000"},pieces:o,outOfRange:{color:"#999"}},series:{type:"bar",data:e,coordinateSystem:"polar"}},setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),r&&e.setOption(r)},500)}function S(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["防御前的模型分类精度","防御后的模型分类精度"],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,1,.2],a={color:["#5470C6","#91CC75"],tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{x:"8%",y:"10%",x2:"10%",y2:"15%"},legend:{textStyle:{color:"#3E4453",fontSize:12,fontFamily:"HONOR Sans CN",fontStyle:"normal",fontWeight:400},right:"10%",data:i},xAxis:[{name:"算法名称",nameGap:40,textStyle:{color:"#3E4453;",fontSize:12,fontFamily:"HONOR Sans CN",fontStyle:"normal",fontWeight:400},type:"category",axisTick:{alignWithLabel:!0},axisLabel:{rotate:20,textStyle:{color:"#3E4453;",fontSize:12,fontFamily:"HONOR Sans CN",fontStyle:"normal",fontWeight:400}},data:n}],yAxis:{name:"模型分类精度",nameGap:40,axisLine:{show:!1,lineStyle:{color:"#B4B9C5"}},splitLine:{lineStyle:{color:"#E0E3EB",type:"solid"}},type:"value",axisLabel:{textStyle:{color:"#6C7385",fontSize:12,fontFamily:"HONOR Sans CN",fontStyle:"normal",fontWeight:400}},min:o[0],max:o[1],interval:o[2]},series:[{data:e,name:i[1],type:"bar",animationDuration:3e3,itemStyle:{normal:{color:"#5470C6"},emphasis:{color:"#37D2D4"}},showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}},{data:r,name:i[0],type:"line",animationDuration:3e3,itemStyle:{normal:{color:"red"},emphasis:{color:"#37D2D4"}},showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}]};setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),a&&e.setOption(a)},500)}function O(t,e){for(var n=[],r=0;r<e.len;r++)n.push(r);var i,o=e["50-all-1"];i={tooltip:{trigger:"axis",axisPointer:{lineStyle:{color:"#ffffff"}}},grid:{top:30},xAxis:{type:"category",data:n,name:"时间",axisLine:{lineStyle:{color:"#57617B"}},splitLine:{lineStyle:{color:"#57617B"}},axisLabel:{fontSize:12,color:"#000000",fontWeight:"normal"}},yAxis:{type:"value",name:"mV",axisLine:{lineStyle:{color:"#000"}},splitLine:{lineStyle:{color:"#57617B"}},axisLabel:{fontSize:10,color:"#000000",fontWeight:"normal"}},series:[{name:"功耗",data:o,type:"line",animationDuration:2500,lineStyle:{width:.2},symbolSize:1,itemStyle:{normal:{color:"#0B55F4"}}}]},setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),i&&e.setOption(i)},500)}function I(t,e,n){var r;r={tooltip:{trigger:"axis"},xAxis:{type:"category",name:"曲线点数",data:e},yAxis:{max:Math.max(5,Math.max.apply(Math,n)),min:-5,type:"value",name:"检测阈值"},series:[{data:n,type:"line",markLine:{data:[{name:"阈值",yAxis:4.5},{name:"阈值",yAxis:-4.5}],silent:!0}}]},setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),r&&e.setOption(r)},500)}function E(t,e,n,r){var i;i={tooltip:{trigger:"axis"},legend:{data:e},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:n},yAxis:{type:"value",name:"相关性系数"},series:r},setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),i&&e.setOption(i)},500)}function C(t,e,n,r,i){var o;o={tooltip:{trigger:"axis"},legend:{data:e},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:n},yAxis:{type:"value",name:i,max:100},series:r},setTimeout(function(){var e=s.b(document.getElementById(t));window.addEventListener("resize",function(){e.resize()}),o&&e.setOption(o)},500)}},Fg8h:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FruchtermanLayout=void 0;var o=n("w9t0"),a=n("ZE1E"),s=function(t){function e(e){var n=t.call(this)||this;return n.maxIteration=1e3,n.workerEnabled=!1,n.gravity=10,n.speed=5,n.clustering=!1,n.clusterGravity=10,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.onLayoutEnd=function(){},n.tick=function(){},n.animate=!0,n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10,animate:!0}},e.prototype.execute=function(){var t,e,n=this,r=this.nodes;if(void 0!==this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval),r&&0!==r.length){this.width||"undefined"==typeof window||(this.width=window.innerWidth),this.height||"undefined"==typeof window||(this.height=window.innerHeight),this.center||(this.center=[this.width/2,this.height/2]);var i=this.center;if(1===r.length)return r[0].x=i[0],r[0].y=i[1],void(null===(e=this.onLayoutEnd)||void 0===e||e.call(this));var o={},s={};return r.forEach(function(t,e){(0,a.isNumber)(t.x)||(t.x=Math.random()*n.width),(0,a.isNumber)(t.y)||(t.y=Math.random()*n.height),o[t.id]=t,s[t.id]=e}),this.nodeMap=o,this.nodeIdxMap=s,this.run()}null===(t=this.onLayoutEnd)||void 0===t||t.call(this)},e.prototype.run=function(){var t,e=this,n=e.nodes;if(n){var r=e.edges,i=e.maxIteration,o=e.workerEnabled,a=e.clustering,s=e.animate,u={};if(a&&n.forEach(function(t){void 0===u[t.cluster]&&(u[t.cluster]={name:t.cluster,cx:0,cy:0,count:0})}),o||!s){for(var l=0;l<i;l++)e.runOneStep(u);null===(t=e.onLayoutEnd)||void 0===t||t.call(e)}else{if("undefined"==typeof window)return;var c=0;this.timeInterval=window.setInterval(function(){var t;e.runOneStep(u),++c>=i&&(null===(t=e.onLayoutEnd)||void 0===t||t.call(e),window.clearInterval(e.timeInterval))},0)}return{nodes:n,edges:r}}},e.prototype.runOneStep=function(t){var e,n=this.nodes;if(n){var r=this.edges,i=this.center,o=this.gravity,s=this.speed,u=this.clustering,l=this.height*this.width,c=Math.sqrt(l)/10,h=l/(n.length+1),d=Math.sqrt(h),f=[];if(n.forEach(function(t,e){f[e]={x:0,y:0}}),this.applyCalculate(n,r,f,d,h),u){for(var p in t)t[p].cx=0,t[p].cy=0,t[p].count=0;for(var p in n.forEach(function(e){var n=t[e.cluster];(0,a.isNumber)(e.x)&&(n.cx+=e.x),(0,a.isNumber)(e.y)&&(n.cy+=e.y),n.count++}),t)t[p].cx/=t[p].count,t[p].cy/=t[p].count;var g=this.clusterGravity||o;n.forEach(function(e,n){if((0,a.isNumber)(e.x)&&(0,a.isNumber)(e.y)){var r=t[e.cluster],i=Math.sqrt((e.x-r.cx)*(e.x-r.cx)+(e.y-r.cy)*(e.y-r.cy)),o=d*g;f[n].x-=o*(e.x-r.cx)/i,f[n].y-=o*(e.y-r.cy)/i}})}n.forEach(function(t,e){if((0,a.isNumber)(t.x)&&(0,a.isNumber)(t.y)){var n=.01*d*o;f[e].x-=n*(t.x-i[0]),f[e].y-=n*(t.y-i[1])}}),n.forEach(function(t,e){if((0,a.isNumber)(t.fx)&&(0,a.isNumber)(t.fy))return t.x=t.fx,void(t.y=t.fy);if((0,a.isNumber)(t.x)&&(0,a.isNumber)(t.y)){var n=Math.sqrt(f[e].x*f[e].x+f[e].y*f[e].y);if(n>0){var r=Math.min(c*(s/800),n);t.x+=f[e].x/n*r,t.y+=f[e].y/n*r}}}),null===(e=this.tick)||void 0===e||e.call(this)}},e.prototype.applyCalculate=function(t,e,n,r,i){this.calRepulsive(t,n,i),e&&this.calAttractive(e,n,r)},e.prototype.calRepulsive=function(t,e,n){t.forEach(function(r,i){e[i]={x:0,y:0},t.forEach(function(t,o){if(i!==o&&(0,a.isNumber)(r.x)&&(0,a.isNumber)(t.x)&&(0,a.isNumber)(r.y)&&(0,a.isNumber)(t.y)){var s=r.x-t.x,u=r.y-t.y,l=s*s+u*u;if(0===l){l=1;var c=i>o?1:-1;s=.01*c,u=.01*c}var h=n/l;e[i].x+=s*h,e[i].y+=u*h}})})},e.prototype.calAttractive=function(t,e,n){var r=this;t.forEach(function(t){var i=(0,a.getEdgeTerminal)(t,"source"),o=(0,a.getEdgeTerminal)(t,"target");if(i&&o){var s=r.nodeIdxMap[i],u=r.nodeIdxMap[o];if(s!==u){var l=r.nodeMap[i],c=r.nodeMap[o];if((0,a.isNumber)(c.x)&&(0,a.isNumber)(l.x)&&(0,a.isNumber)(c.y)&&(0,a.isNumber)(l.y)){var h=c.x-l.x,d=c.y-l.y,f=Math.sqrt(h*h+d*d),p=f*f/n;e[u].x-=h/f*p,e[u].y-=d/f*p,e[s].x+=h/f*p,e[s].y+=d/f*p}}}})},e.prototype.stop=function(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval)},e.prototype.destroy=function(){this.stop(),this.tick=null,this.nodes=null,this.edges=null,this.destroyed=!0},e.prototype.getType=function(){return"fruchterman"},e}(o.Base);e.FruchtermanLayout=s},FlGC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.slack=e.longestPathWithLayer=e.longestPath=void 0;var r=function(t){var e,n={},r=function(e){var i,o,a=t.node(e);return a?n[e]?a.rank:(n[e]=!0,null===(i=t.outEdges(e))||void 0===i||i.forEach(function(e){var n=r(e.w)-t.edge(e).minlen;n&&(void 0===o||n<o)&&(o=n)}),o||(o=0),a.rank=o,o):0};null===(e=t.sources())||void 0===e||e.forEach(function(t){return r(t)})};e.longestPath=r;var i=function(t){var e,n,r={},i=function(e){var o,a,s=t.node(e);return s?r[e]?s.rank:(r[e]=!0,null===(o=t.outEdges(e))||void 0===o||o.forEach(function(e){var n=i(e.w)-t.edge(e).minlen;n&&(void 0===a||n<a)&&(a=n)}),a||(a=0),(void 0===n||a<n)&&(n=a),s.rank=a,a):0};null===(e=t.sources())||void 0===e||e.forEach(function(e){t.node(e)&&i(e)}),void 0===n&&(n=0);var o={},a=function(e,n){var r,i=t.node(e),s=isNaN(i.layer)?n:i.layer;(void 0===i.rank||i.rank<s)&&(i.rank=s),o[e]||(o[e]=!0,null===(r=t.outEdges(e))||void 0===r||r.map(function(e){a(e.w,s+t.edge(e).minlen)}))};t.nodes().forEach(function(e){var r=t.node(e);r&&(isNaN(r.layer)?r.rank-=n:a(e,r.layer))})};e.longestPathWithLayer=i;var o=function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen};e.slack=o,e.default={longestPath:r,longestPathWithLayer:i,slack:o}},GL62:function(t,e,n){t.exports=n.p+"static/img/center.502e072.png"},GY9q:function(t,e,n){var r;r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){var r;void 0===(r=function(t){return{clustering:n(1),regression:n(5),statistics:n(6),histogram:n(15),transform:{regression:n(18),histogram:n(21),clustering:n(22)}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(2),r=e.dataPreprocess,i=e.normalizeDimensions,o=n(3),a=n(4),s=o.size,u=o.sumOfColumn,l=o.sum,c=o.zeros,h=(a=n(4)).isNumber,d=Math.pow,f={SINGLE:"single",MULTIPLE:"multiple"};function p(t,e,n){for(var r,i,o,a,s=c(t.length,2),u=function(t,e){for(var n=c(t,e.length),r=0;r<e.length;r++)for(var i=e[r],o=0;o<t;o++)n[o][r]=i.min+i.span*Math.random();return n}(e,m(t,n.dimensions)),l=!0;l;){l=!1;for(var h=0;h<t.length;h++){r=1/0,i=-1;for(var d=0;d<e;d++)(o=y(t[h],u[d],n))<r&&(r=o,i=d);s[h][0]!==i&&(l=!0),s[h][0]=i,s[h][1]=r}for(h=0;h<e;h++){a=[];for(d=0;d<s.length;d++)s[d][0]===h&&a.push(t[d]);u[h]=g(a,n)}}return{centroids:u,clusterAssigned:s}}function g(t,e){for(var n,r,i=[],o=0;o<e.dimensions.length;o++){var a=e.dimensions[o];n=0;for(var s=0;s<t.length;s++)n+=t[s][a];r=n/t.length,i.push(r)}return i}function v(t,e){var n=e.outputCentroidDimensions;if(e.outputType===f.SINGLE&&null!=n)for(var r=t.data,i=t.centroids,o=0;o<r.length;o++)for(var a=r[o],s=i[a[e.outputClusterIndexDimension]],u=Math.min(s.length,n.length),l=0;l<u;l++)a[n[l]]=s[l]}function y(t,e,n){for(var r=0,i=n.dimensions,o=n.rawExtents,a=0;a<i.length;a++){var s=o[a].span;if(s){var u=(t[i[a]]-e[a])/s;r+=d(u,2)}}return r}function m(t,e){for(var n=[],r=e.length,i=0;i<r;i++)n.push({min:1/0,max:-1/0});for(i=0;i<t.length;i++)for(var o=t[i],a=0;a<r;a++){var s=n[a],u=o[e[a]];s.min>u&&(s.min=u),s.max<u&&(s.max=u)}for(i=0;i<r;i++)n[i].span=n[i].max-n[i].min;return n}return{OutputType:f,hierarchicalKMeans:function(t,e,n){var o=(h(e)?{clusterCount:e,stepByStep:n}:e)||{clusterCount:2},d=o.clusterCount;if(!(d<2)){var b,x,A,w=function(t,e){var n=s(t);if(n.length<1)throw new Error("The input data of clustering should be two-dimension array.");for(var r=n[1],o=[],u=0;u<r;u++)o.push(u);var l=i(e.dimensions,o),c=e.outputType||f.MULTIPLE,h=e.outputClusterIndexDimension;if(c===f.SINGLE&&!a.isNumber(h))throw new Error("outputClusterIndexDimension is required as a number.");var d=m(t,l);return{dimensions:l,rawExtents:d,outputType:c,outputClusterIndexDimension:h,outputCentroidDimensions:e.outputCentroidDimensions}}(t,o),_=w.outputType===f.SINGLE,M=r(t,{dimensions:w.dimensions}),S=c(M.length,2);if(_){b=[];var O=w.outputClusterIndexDimension;x=function(t,e){b[t][O]=e},A=function(t){return b[t][O]};for(var I=0;I<M.length;I++)b.push(M[I].slice()),B(I,0),x(I,0)}else x=function(t,e){S[t][0]=e},A=function(t){return S[t][0]};var E,C,k,T,D,j,L=g(M,w),P=[L];for(I=0;I<M.length;I++)B(I,y(M[I],L,w));var N=1,R={data:b,centroids:P,isEnd:!1};if(_||(R.clusterAssment=S),o.stepByStep)R.next=function(){return z(),v(R,w),R};else for(;z(),!R.isEnd;);return v(R,w),R}function B(t,e){S[t][1]=e}function z(){if(N<d){var t,e,n;E=1/0;for(var r=0;r<P.length;r++){C=[],k=[];for(var i=0;i<M.length;i++)A(i)===r?C.push(M[i]):k.push(S[i][1]);T=p(C,2,w),D=u(T.clusterAssigned,1),j=l(k),D+j<E&&(E=j+D,t=r,e=T.centroids,n=T.clusterAssigned)}for(i=0;i<n.length;i++)0===n[i][0]?n[i][0]=t:1===n[i][0]&&(n[i][0]=P.length);for(P[t]=e[0],P.push(e[1]),i=0,r=0;i<M.length&&r<n.length;i++)A(i)===t&&(x(i,n[r][0]),B(i,n[r++][1]));var o=[];if(!_){for(i=0;i<P.length;i++)for(o[i]=[],r=0;r<M.length;r++)A(r)===i&&o[i].push(M[r]);R.pointsInCluster=o}N++}else R.isEnd=!0}}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(3),r=e.isArray,i=e.size,o=n(4).isNumber;return{normalizeDimensions:function(t,e){return"number"==typeof t?[t]:null==t?e:t},dataPreprocess:function(t,e){var n=(e=e||{}).dimensions,a={};if(null!=n)for(var s=0;s<n.length;s++)a[n[s]]=!0;var u=e.toOneDimensionArray?n?n[0]:0:null;if(!r(t))throw new Error("Invalid data type, you should input an array");var l,c=[],h=i(t);if(1===h.length)for(s=0;s<h[0];s++){var d=t[s];o(d)&&c.push(d)}else if(2===h.length)for(s=0;s<h[0];s++){for(var f=!0,p=(d=t[s],0);p<h[1];p++)l=p,n&&!a.hasOwnProperty(l)||o(d[p])||(f=!1);f&&c.push(null!=u?d[u]:d)}return c},getPrecision:function(t){var e=t.toString(),n=e.indexOf(".");return n<0?0:e.length-1-n}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=Object.prototype.toString,n=Array.prototype.map;function r(t){return"[object Array]"===e.call(t)}function i(t,e){return t>e?1:t<e?-1:t===e?0:NaN}return{size:function(t){for(var e=[];r(t);)e.push(t.length),t=t[0];return e},isArray:r,zeros:function(t,e){for(var n=[],r=0;r<t;r++){n[r]=[];for(var i=0;i<e;i++)n[r][i]=0}return n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e},sumOfColumn:function(t,e){for(var n=0,r=0;r<t.length;r++)n+=t[r][e];return n},ascending:i,bisect:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var o=Math.floor((n+r)/2),a=i(t[o],e);if(a>0)r=o;else{if(!(a<0))return o+1;n=o+1}}return n},map:function(t,e,r){if(t&&e){if(t.map&&t.map===n)return t.map(e,r);for(var i=[],o=0,a=t.length;o<a;o++)i.push(e.call(r,t[o],o,t));return i}}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){return{isNumber:function(t){return"number"==typeof(t=null===t?NaN:+t)&&!isNaN(t)},isInteger:function(t){return isFinite(t)&&t===Math.round(t)},quantityExponent:function(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(2),r=e.dataPreprocess,i=e.normalizeDimensions,o={linear:function(t,e){for(var n=e.dimensions[0],r=e.dimensions[1],i=0,o=0,a=0,s=0,u=t.length,l=0;l<u;l++){i+=(p=t[l])[n],o+=p[r],a+=p[n]*p[r],s+=p[n]*p[n]}for(var c=(u*a-i*o)/(u*s-i*i),h=o/u-c*i/u,d=[],f=0;f<t.length;f++){var p,g=(p=t[f]).slice();g[n]=p[n],g[r]=c*p[n]+h,d.push(g)}return{points:d,parameter:{gradient:c,intercept:h},expression:"y = "+Math.round(100*c)/100+"x + "+Math.round(100*h)/100}},linearThroughOrigin:function(t,e){for(var n=e.dimensions[0],r=e.dimensions[1],i=0,o=0,a=0;a<t.length;a++){i+=(c=t[a])[n]*c[n],o+=c[n]*c[r]}for(var s=o/i,u=[],l=0;l<t.length;l++){var c,h=(c=t[l]).slice();h[n]=c[n],h[r]=c[n]*s,u.push(h)}return{points:u,parameter:{gradient:s},expression:"y = "+Math.round(100*s)/100+"x"}},exponential:function(t,e){for(var n=e.dimensions[0],r=e.dimensions[1],i=0,o=0,a=0,s=0,u=0,l=0;l<t.length;l++){(g=t[l])[n],i+=g[r],u+=g[n]*g[r],o+=g[n]*g[n]*g[r],a+=g[r]*Math.log(g[r]),s+=g[n]*g[r]*Math.log(g[r])}for(var c=i*o-u*u,h=Math.pow(Math.E,(o*a-u*s)/c),d=(i*s-u*a)/c,f=[],p=0;p<t.length;p++){var g,v=(g=t[p]).slice();v[n]=g[n],v[r]=h*Math.pow(Math.E,d*g[n]),f.push(v)}return{points:f,parameter:{coefficient:h,index:d},expression:"y = "+Math.round(100*h)/100+"e^("+Math.round(100*d)/100+"x)"}},logarithmic:function(t,e){for(var n=e.dimensions[0],r=e.dimensions[1],i=0,o=0,a=0,s=0,u=0;u<t.length;u++){var l=t[u];i+=Math.log(l[n]),o+=l[r]*Math.log(l[n]),a+=l[r],s+=Math.pow(Math.log(l[n]),2)}for(var c=(u*o-a*i)/(u*s-i*i),h=(a-c*i)/u,d=[],f=0;f<t.length;f++){var p=(l=t[f]).slice();p[n]=l[n],p[r]=c*Math.log(l[n])+h,d.push(p)}return{points:d,parameter:{gradient:c,intercept:h},expression:"y = "+Math.round(100*h)/100+" + "+Math.round(100*c)/100+"ln(x)"}},polynomial:function(t,e){var n=e.dimensions[0],r=e.dimensions[1],i=e.order;null==i&&(i=2);for(var o=[],a=[],s=i+1,u=0;u<s;u++){for(var l=0,c=0;c<t.length;c++){l+=(m=t[c])[r]*Math.pow(m[n],u)}a.push(l);for(var h=[],d=0;d<s;d++){for(var f=0,p=0;p<t.length;p++)f+=Math.pow(t[p][n],u+d);h.push(f)}o.push(h)}o.push(a);var g=function(t,e){for(var n=0;n<t.length-1;n++){for(var r=n,i=n+1;i<t.length-1;i++)Math.abs(t[n][i])>Math.abs(t[n][r])&&(r=i);for(var o=n;o<t.length;o++){var a=t[o][n];t[o][n]=t[o][r],t[o][r]=a}for(var s=n+1;s<t.length-1;s++)for(var u=t.length-1;u>=n;u--)t[u][s]-=t[u][n]/t[n][n]*t[n][s]}for(var l=new Array(e),c=t.length-1,i=t.length-2;i>=0;i--){for(var a=0,n=i+1;n<t.length-1;n++)a+=t[n][i]*l[n];l[i]=(t[c][i]-a)/t[i][i]}return l}(o,s),v=[];for(u=0;u<t.length;u++){var y=0,m=t[u];for(c=0;c<g.length;c++)y+=g[c]*Math.pow(m[n],c);var b=m.slice();b[n]=m[n],b[r]=y,v.push(b)}var x="y = ";for(u=g.length-1;u>=0;u--)x+=u>1?Math.round(g[u]*Math.pow(10,u+1))/Math.pow(10,u+1)+"x^"+u+" + ":1===u?Math.round(100*g[u])/100+"x + ":Math.round(100*g[u])/100;return{points:v,parameter:g,expression:x}}};return function(t,e,n){var a="number"==typeof n?{order:n}:n||{},s=i(a.dimensions,[0,1]),u=r(e,{dimensions:s}),l=o[t](u,{order:a.order,dimensions:s}),c=s[0];return l.points.sort(function(t,e){return t[c]-e[c]}),l}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e={};return e.max=n(7),e.deviation=n(8),e.mean=n(10),e.median=n(12),e.min=n(14),e.quantile=n(13),e.sampleVariance=n(9),e.sum=n(11),e}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(4).isNumber;return function(t){for(var n=-1/0,r=0;r<t.length;r++)e(t[r])&&t[r]>n&&(n=t[r]);return n}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(9);return function(t){var n=e(t);return n?Math.sqrt(n):n}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(4).isNumber,r=n(10);return function(t){var n=t.length;if(!n||n<2)return 0;if(t.length>=2){for(var i,o=r(t),a=0,s=0;s<t.length;s++)e(t[s])&&(a+=(i=t[s]-o)*i);return a/(t.length-1)}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(11);return function(t){return t.length?e(t)/t.length:0}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(4).isNumber;return function(t){var n=t.length;if(!n)return 0;for(var r=0,i=0;i<n;i++)e(t[i])&&(r+=t[i]);return r}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(13);return function(t){return e(t,.5)}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){return function(t,e){var n=t.length;if(!n)return 0;if(e<=0||n<2)return t[0];if(e>=1)return t[n-1];var r=(n-1)*e,i=Math.floor(r),o=t[i];return o+(t[i+1]-o)*(r-i)}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(4).isNumber;return function(t){for(var n=1/0,r=0;r<t.length;r++)e(t[r])&&t[r]<n&&(n=t[r]);return n}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(7),r=n(14),i=n(13),o=n(8),a=n(2),s=a.dataPreprocess,u=a.normalizeDimensions,l=n(3),c=l.ascending,h=l.map,d=n(16),f=l.bisect,p=n(17);var g={squareRoot:function(t){var e=Math.ceil(Math.sqrt(t.length));return e>50?50:e},scott:function(t,e,n){return Math.ceil((n-e)/(3.5*o(t)*Math.pow(t.length,-1/3)))},freedmanDiaconis:function(t,e,n){return t.sort(c),Math.ceil((n-e)/(2*(i(t,.75)-i(t,.25))*Math.pow(t.length,-1/3)))},sturges:function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}};return function(t,n){for(var i="string"==typeof n?{method:n}:n||{},o=null==i.method?g.squareRoot:g[i.method],a=u(i.dimensions),l=s(t,{dimensions:a,toOneDimensionArray:!0}),c=e(l),v=r(l),y=o(l,v,c),m=p(v,c,y),b=m.step,x=m.toFixedPrecision,A=d(+(Math.ceil(v/b)*b).toFixed(x),+(Math.floor(c/b)*b).toFixed(x),b,x),w=A.length,_=new Array(w+1),M=0;M<=w;M++)_[M]={},_[M].sample=[],_[M].x0=M>0?A[M-1]:A[M]-v===b?v:A[M]-b,_[M].x1=M<w?A[M]:c-A[M-1]===b?c:A[M-1]+b;for(M=0;M<l.length;M++)v<=l[M]&&l[M]<=c&&_[f(A,l[M],0,w)].sample.push(l[M]);return{bins:_,data:t=h(_,function(t){return[+((t.x0+t.x1)/2).toFixed(x),t.sample.length,t.x0,t.x1,t.x0+" - "+t.x1]}),customData:h(_,function(t){return[t.x0,t.x1,t.sample.length]})}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(2).getPrecision;return function(t,n,r,i){var o=arguments.length;o<2?(n=t,t=0,r=1):o<3?r=1:i=o<4?e(r=+r):+i;for(var a=Math.ceil(((n-t)/r).toFixed(i)),s=new Array(a+1),u=0;u<a+1;u++)s[u]=+(t+u*r).toFixed(i);return s}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(4);return function(t,n,r){var i=Math.abs(n-t)/r,o=e.quantityExponent(i),a=Math.pow(10,o),s=i/a;s>=Math.sqrt(50)?a*=10:s>=Math.sqrt(10)?a*=5:s>=Math.sqrt(2)&&(a*=2);var u=o<0?-o:0;return{step:+(n>=t?a:-a).toFixed(u),toFixedPrecision:u}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(5),r=n(19);return{type:"ecStat:regression",transform:function(t){var n,i=t.upstream,o=t.config||{},a=o.method||"linear",s=e(a,i.cloneRawData(),{order:o.order,dimensions:r.normalizeExistingDimensions(t,o.dimensions)}),u=s.points,l=o.formulaOn;if(null==l&&(l="end"),"none"!==l){for(var c=0;c<u.length;c++)u[c][2]="start"===l&&0===c||"all"===l||"end"===l&&c===u.length-1?s.expression:"";(n=i.cloneAllDimensionInfo())[2]={}}return[{dimensions:n,data:u}]}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(3),r=n(4),i=n(20);return{normalizeExistingDimensions:function(t,n){if(null!=n){var r=t.upstream;if(e.isArray(n)){for(var i=[],o=0;o<n.length;o++){var a;s(a=r.getDimensionInfo(n[o]),n[o]),i[o]=a.index}return i}return s(a=r.getDimensionInfo(n),n),a.index}function s(t,e){if(!t)throw new Error("Can not find dimension by "+e)}},normalizeNewDimensions:function(t){if(e.isArray(t)){for(var n=[],o=[],a=0;a<t.length;a++){var s=u(t[a]);n.push(s.name),o.push(s.index)}return{name:n,index:o}}if(null!=t)return u(t);function u(t){if(r.isNumber(t))return{index:t};if(i.isObject(t)&&r.isNumber(t.index))return t;throw new Error("Illegle new dimensions config. Expect `{ name: string, index: number }`.")}}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){return{extend:function(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},isObject:function(t){const e=typeof t;return"function"===e||!!t&&"object"===e}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(15),r=n(19);return{type:"ecStat:histogram",transform:function(t){var n=t.upstream,i=t.config||{},o=e(n.cloneRawData(),{method:i.method,dimensions:r.normalizeExistingDimensions(t,i.dimensions)});return[{dimensions:["MeanOfV0V1","VCount","V0","V1","DisplayableName"],data:o.data},{data:o.customData}]}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(1),r=n(4),i=n(19),o=r.isNumber;return{type:"ecStat:clustering",transform:function(t){var n=t.upstream,r=t.config||{},a=r.clusterCount;if(!o(a)||a<=0)throw new Error('config param "clusterCount" need to be specified as an interger greater than 1.');if(1===a)return[{},{data:[]}];var s=i.normalizeNewDimensions(r.outputClusterIndexDimension),u=i.normalizeNewDimensions(r.outputCentroidDimensions);if(null==s)throw new Error("outputClusterIndexDimension is required as a number.");for(var l=e.hierarchicalKMeans(n.cloneRawData(),{clusterCount:a,stepByStep:!1,dimensions:i.normalizeExistingDimensions(t,r.dimensions),outputType:e.OutputType.SINGLE,outputClusterIndexDimension:s.index,outputCentroidDimensions:(u||{}).index}),c=n.cloneAllDimensionInfo(),h=[],d=0;d<c.length;d++){var f=c[d];h.push(f.name)}if(h[s.index]=s.name,u)for(d=0;d<u.index.length;d++)null!=u.name[d]&&(h[u.index[d]]=u.name[d]);return[{dimensions:h,data:l.data},{data:l.centroids}]}}}.call(e,n,e,t))||(t.exports=r)}])},t.exports=r()},H7FV:function(t,e,n){"use strict";var r=n("TToO"),i=n("i6H2"),o=n("85Et"),a=n("qNZ/"),s=n("IpCj"),u=n("8ALn"),l=n("o2t7"),c=n("iaRc"),h=n("IgWN"),d=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,f=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,p=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function g(t){var e=t.match(p);if(!e)return"";var n="";return e.sort(function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])}),Object(h.each)(e,function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'}),n}var v=function(){function t(t){this.cfg={};var e,n,r,i,o,a,s,l=null,c=Object(h.uniqueId)("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,r,i=d.exec(t),o=Object(h.mod)(Object(h.toRadian)(parseFloat(i[1])),2*Math.PI),a=i[2];o>=0&&o<.5*Math.PI?(n={x:0,y:0},r={x:1,y:1}):.5*Math.PI<=o&&o<Math.PI?(n={x:1,y:0},r={x:0,y:1}):Math.PI<=o&&o<1.5*Math.PI?(n={x:1,y:1},r={x:0,y:0}):(n={x:0,y:1},r={x:1,y:0});var s=Math.tan(o),u=s*s,l=(r.x-n.x+s*(r.y-n.y))/(u+1)+n.x,c=s*(r.x-n.x+s*(r.y-n.y))/(u+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",l),e.setAttribute("y2",c),e.innerHTML=g(a)}(t,l=Object(u.b)("linearGradient")):(l=Object(u.b)("radialGradient"),e=t,n=l,r=f.exec(e),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4],n.setAttribute("cx",i),n.setAttribute("cy",o),n.setAttribute("r",a),n.innerHTML=g(s)),l.setAttribute("id",c),this.el=l,this.id=c,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),y={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},m={x:"-40%",y:"-40%",width:"200%",height:"200%"},b=function(){function t(t){this.type="filter",this.cfg={},this.type="filter";var e=Object(u.b)("filter");return Object(h.each)(m,function(t,n){e.setAttribute(n,t)}),this.el=e,this.id=Object(h.uniqueId)("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return t.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,r=this.cfg;return Object(h.each)(Object.keys(r),function(t){if(r[t]!==e[t])return n=!1,!1}),n},t.prototype.update=function(t,e){var n=this.cfg;return n[y[t]]=e,this._parseShadow(n,this.el),this},t.prototype._parseShadow=function(t,e){var n='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}(),x=function(){function t(t,e){this.cfg={};var n=Object(u.b)("marker"),r=Object(h.uniqueId)("marker_");n.setAttribute("id",r);var i=Object(u.b)("path");i.setAttribute("stroke",t.stroke||"none"),i.setAttribute("fill",t.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r;var o=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===o?this._setDefaultPath(e,i):(this.cfg=o,this._setMarker(t.lineWidth,i)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},t.prototype._setMarker=function(t,e){var n=this.el,r=this.cfg.path,i=this.cfg.d;Object(h.isArray)(r)&&(r=r.map(function(t){return t.join(" ")}).join("")),e.setAttribute("d",r),n.appendChild(e),i&&n.setAttribute("refX",""+i/t)},t.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}(),A=function(){function t(t){this.type="clip",this.cfg={};var e=Object(u.b)("clipPath");this.el=e,this.id=Object(h.uniqueId)("clip_"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}(),w=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,_=function(){function t(t){this.cfg={};var e=Object(u.b)("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=Object(u.b)("image");e.appendChild(n);var r=Object(h.uniqueId)("pattern_");e.id=r,this.el=e,this.id=r,this.cfg=t;var i=w.exec(t)[2];n.setAttribute("href",i);var o=new Image;function a(){e.setAttribute("width",""+o.width),e.setAttribute("height",""+o.height)}return i.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=i,o.complete?a():(o.onload=a,o.src=o.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),M=function(){function t(t){var e=Object(u.b)("defs"),n=Object(h.uniqueId)("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return t.prototype.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},t.prototype.findById=function(t){for(var e=this.children,n=null,r=0;r<e.length;r++)if(e[r].id===t){n=e[r];break}return n},t.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},t.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new x(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},t.prototype.addGradient=function(t){var e=new v(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addArrow=function(t,e){var n=new x(t,e);return this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addShadow=function(t){var e=new b(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addPattern=function(t){var e=new _(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addClip=function(t){var e=new A(t);return this.el.appendChild(e.el),this.add(e),e.id},t}(),S=function(t){function e(e){return t.call(this,Object(r.__assign)(Object(r.__assign)({},e),{autoDraw:!0,renderer:"svg"}))||this}return Object(r.__extends)(e,t),e.prototype.getShapeBase=function(){return l},e.prototype.getGroupBase=function(){return c.a},e.prototype.getShape=function(t,e,n){var r=n.target||n.srcElement;if(!o.a[r.tagName]){for(var i=r.parentNode;i&&!o.a[i.tagName];)i=i.parentNode;r=i}return this.find(function(t){return t.get("el")===r})},e.prototype.createDom=function(){var t=Object(u.b)("svg"),e=new M(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},e.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if("sort"===t){var r=this.get("children");r&&r.length&&Object(u.d)(this,function(t,e){return r.indexOf(t)-r.indexOf(e)?1:0})}else if("clear"===t){if(n){n.innerHTML="";var i=e.el;i.innerHTML="",n.appendChild(i)}}else"matrix"===t?Object(s.c)(this):"clip"===t?Object(s.a)(this,e):"changeSize"===t&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();Object(s.a)(this,t),e.length&&Object(a.a)(t,e)},e}(i.AbstractCanvas);e.a=S},HGwa:function(t,e,n){t.exports=n.p+"static/img/ImageNet9.6030904.png"},HL68:function(t,e,n){t.exports=n.p+"static/img/ImageNet7.d3606ae.png"},HiaR:function(t,e){t.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAB3RJTUUH2AcfASE4LbxocQAACHtJREFUSIkllllvXlcVhtew9z7DN3hsE9c1aZq2VBSFtgiQQKUSqP8DxD+EC5BAEfQGBKQplHRIk7Sxm9ixY/ubznfOHtZaXPgXLOl59b7PwpMXHQDMZrO+XyOBqpZSRFQNVFVV0QDMAAARAcAADIGZmbkOfjwa5ZRijLmIGTARMTMzIlZVGI3GbrFYMlNKaYgDgIlITrmoFgNRMTMCdAAICADMPO+Xdz/5BJGODg+Xs8Xvfvubg4PvZdVUsqoSkTMXMDCxiMUYXd+vASDnLEXNtJQyDKkUFSVVBTMiVCJEZGYkr0A7L+12i/m9u//sFosHP/8JofZ9rwrM3jnX1E3dNI6dBCk5u/V6bWZXZMxM1RCBiNEImNWsiJWMqll0VSSuhr7EBDK8/6M3RqEu3cWjz++ZqRlegSREQFJkRCJC/PR/j0pOAOi8V7MYY4oxJVl1cblcdss5SjHTdeqK9CDJJJsUhxCIi8GqHwCAmeKQCPkqJ0AwNGYGANeOxymllNJqPZ/NL87Ozrqui8M65wxI2l0Ms9OmnWzU4y6m89inXMiAAQM550lA6roOgSvXSIGcs5lJLpBKFhEVd+fOn2az2TAMkjpmNbNSBIvevPHG5kt7loezowdHj75w1XgdSzVqt6q2Zl+7UDvP7KSIgWk2EsBsqiyqIJ4kl5xFxA2Xz2qA8cjhdNv56ujo8PnJ82vX9k5mi4fH54vL2a39a3v7bz95/tQnOhgwSBYZCLDPRVCc98MQQ/Aqpoox9UzeFFAiIhCC25huiAoAKBIx+uCnG5Obb73x2VcPu8Xy6y++dHB7d2e33Xz5pU0/PDzKBn2KdVXFEpf9erq92eWu5jqLDnkoum6qsQoPskwxqakTVVUDAEUhpo3NqffsnHPOq+hkPGnHYz9qpn48cv7O3b9XWBhBo4LB81k3nD+cbIblcew6dV6u7U1COgclAzlfL2br5AgduNiMppPN63XblFJKzkPMB6/s725uvf3mW1tb27Plgn2oJ5MloFYaTC6fnVNSNecwtQmViq8siE067ZZD2N3e3nt1wOcPn37lyHBrZ2sy2evm+fTkcBiG1XJJVX391QN2bGaXl5c+BB+qnWvX33n3/b479qU8e/j89PF3r2zvNEzd6aoeVy0ALAeZ52p3Y//6jcm1ncUyaZ8cUin9+YPHXyNNqhFPJmNmevLNw7Q4G41GpZTFcjVkJe8h9zdv3SB7TWM6enIOvtnd2vRVQB+woCYhz/s3D8Yvb1hAR1jXVZHiPn3w+MMP3ru1fWOyse+a5vj4KY762zvXv7n/78XiFIFqP/7u2cl0a+vx/fuY9dY774Vm492ffUAIW+MNtYIOyfzFxezo9Glz/eWmCUO/wpaqNrz2+q6D0Cx6P97dO5+t//b7P3z88R0g/ejXH73//i+71TKXMhlNevpcQG/s7T+499///OMvzhERAeKj9Vo0tk2znOvTFxedrO7dzTdefeX27R8ybbTt9K03v+9u3779+f3Pvg1H3Xp5584ffWB2+NeP/zzdmO5dv5HSkKt17FMCo3b8xrvvzl8cpbi+GmQjyzY4T3f/dX+wVah8iWWI/bJbWSyqbmO67xYXl0dPn13Ovjx+euSw/OKnPy5Gd+99dvjt4WvfuzX0mJIowdnz08PDJyWlNtSFab7qRKX0aTk/K7I+f3bB4IMLwfknT0/r0ebrb94yK8DBHT1+yGBEUnIctSEN/VAAkL78+gtgHYYYh2FxOTs+Pn709eej0ei92z/IOR4eHoLB2cnlg68edV23MZm+9vqN6WRc1fXJyUkW2drcPOlP66biX334Qds208m4qqt+tei71Wo9ZCkiKaXYtnUcest5Mmrauho1tZnmlBEJiZHxxcX8xcUia2pGIVRhPl9MpxtVFbquiymrggOqU+xjhmY0LsgXy8FR6Yc4nW5KtNNnL0RERcHMzFZdfnE2p6tNBiCm12/ePDg4cI7rph5PJs75pm3apgnsiIiI3Ww+X3Sry9WyWy99aKuaHfFkbGrmXSBE8EhEIQREdM7Vznvnia/UywDG7JjZANARIpkpADggMAME147Grq42d7eRUIpCMUZAMCRARFVVkStfAgAROURENDPEK4WBqeZSkAgKAFrwAQEBDMxU1U2mrQ9UJMc0xF4KApIQqCkQIhApGWhiVgRERABCRLg6oAoIxKqSimQEBKSUK0LSEplZRZy3y7Tqcx5iio7qytXIBU1KUjDwIYCJSayqysxUVJWbumXnzABA1BKixLRO0hupKqYoxGFc1yEE55zTeB4YgeJquGgnW95rLjHHwXMwg4pl3a1RkJmJqYv9eogIadw2DKBYchmc47auptzmmBDZKjSFumoRkYgcGSBgSirFuvUKsQvBFxEp0bEzgPl84dHVde2DDyEMqopWrEDJ6BRRVBDBiRJDg1cPFEOMJYRgBg6MSkHvm2u7DQPEGB27pqWciw+BkTc3dxyAcw4AgvcvVS0yFUuZkU1LTgDG5OWKn6ioIBAZ55y99y6rFRMGdD6AAZEhECH7ukZEFalDo5DFBIqpCLN5DpqLmXRxiENf1ei8OsasaZWGIabaVaPQMNAwJFdE+xRbDkmzEaqaqDjGCklFmMiIhih1CI69GhlATpmB0ZC4rdu6bhpT7ft1Z+l5t7i4WO5Oturtqq4rS+hyxlKIfe0YihXvfSlFRdB77z0RoSrnSgQpVIAlqyBRCEFKASNAMyF2Xvu4WvWzy1WKIhVIQclYudYBuVSGPuXKsGgi4lKyY3dFEBGJGcByyhIqRNRcxpMJEREDIyJhTlmS1lxvh43t/Z26qgnIxEhJTV0uvVhKBQkZyXLOZooMV9UdhkFUi2RmVhUyYCYEUykqQkQI6JgRMXjv2IGBgakqsUOAUsr/AfMFs6eQrgGtAAAAAElFTkSuQmCC"},"Hm+t":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAgCAYAAAABtRhCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATpSURBVHgBnVe/cxtVEN59dydLluJRugwD5AI1M05N41SUKDOQmMqioaFwMkOvc89M4ooy9gxFCDBRS+cMBSX+ByDyZGCGSnJsOdLdvbd8+05yIku2Je/4fOf3Y7993/54a6IrSHm9G5cb3ZiuILzI4nqjW89KUYuEHoy279gs3Rq0r3fm1TE3YOX+yaZxLlHcMyo6xCbpP6vszqPnUsDaF0drwuYRkaxeoqojzj48+XWlfeGq8ybUT4GNnuBzbcZ0D1vxSDxD5YU0TwGqn9JSaZNF1E/1qQ1OtkNbSwblQT3IswR0bsxSLMyJS9Pds8ATgO8fHG4ebZskf8X1GSpesFBy/Mu1vXdHy+tvwIR9js8ZlE/71wPe+L27xte4FVR47eiJofwvvnDTLKl+edzE2tY5NHcwfrf/c22f3/vtdcMtyXOuCHGZqP9jQHnHA/ZA63aY1x732uqv+QRBloDO1hQkVDrr7oYup7roiBk9ovxL26Xhw0G70plSuH60RnkRSHke7kRBtgoATyfoVsoT0Lwz9i+AelxDLDgmTk09tH2LkxnMsQcMV6V5+P3KufRh7RPXL2gLw3zPkWnAMePASfTX4Kk3tLnyzeE+15FSKZM7cdgcSkgZeU+6AHgAjG7ag/PAVr47atFrgPVpLjG33D4NA1EG2TIZxaA0IIEFNIQVKeLwePbmetKNzTI3uTQ5HuXVBzYLbukztSkEUMkxL4l/KLQc0gA+U78Z/IBZWjrH2mq4IZnEEk2m7jB6sxGQa4z+vDMxiSBkjQtXPAG2hm5QzOmEjIJm6nQ/dGO2kqjFeLTKnOapEXcbZq7RDAkBiPMJO0LAQ7PA41ZPOCRPq77zwfTGoBK0uALleKRL2zSvwEBT0AlqQemyKYJGAvjOYELZspN7bjzvxkgd0OkDa8ceSmfeS0ZPaFW/1ZLIUmTe6IQ+aPQ9CCd36enKyNuydOyS3aJFRFWVfEERf8KyAmpaDGGAgiFK8/zt+vgP+K4iTVoG/xW32/tq/ovWSw0nWyJPp75NWW3QI4MiHzQBrHiH0rRsWozc4cwdDA09pkUlLABxviIYB45DDRpEETAxat7GaPyyG2cpKkgqFEQm6X26Mnc9PZXTtBANV6/cp4UBnJY2QDL/Z7Uu7tmAVk2JdrXqvvrkbamDXR0QtEOF4WrEno7OwrMvKQ4+Ip8Wmoei1a26/rqp9ZERqXIih5ioq0JLuLWfLuizkdTRLaQufBR9SI3qfYc6ihQcADPjpjEOVmqkan0EmI94kY1Qope1e/3WQkDoFpaxJ7PRn0iCz/UyKIKF/TuK7KE5erbSRp7cBs6BjOqM0YwsUq1Vvd//u3rveOMyML2As1IJQKhIwNYCozoQoSSRe0GBu/PvZ9fbExms9KKutOCRm77C+/Ci4otk3w6zu2d7FH8/Wly4vrx5ekAQ+1s1/IB6tW+zrX8+vn4a4dNNFHqUnPKmtgu60YOqAi7ARbsyTrfKA+r5pph4k0ZreLxGBN0CzewWzq1RCpyJbWFBUxkWKQLRF2HmA4zU8VUvLBlbJFqk93BVfT2rW7gQcCzX7qHnQSMMjbGultFJxrSdKhHax+TDs13dwoBjqa6jKxP4SiTmwlWj7dID7Fb/p9pclWihf2Z8Ny6RBlXTBxWjqxvWkkW6uiuJ+rfceBPTFeR/twVTr3/wLhgAAAAASUVORK5CYII="},"I+x0":function(t,e,n){"use strict";var r=n("pFYg"),i=n.n(r),o=n("L/O1"),a={name:"loginDialog",props:{isShow:{type:Boolean,default:!1,required:!0},widNum:{type:Number,default:50},leftSite:{type:Number,default:25.2},topDistance:{type:Number,default:10},pdt:{type:Number,default:22},pdb:{type:Number,default:47}},data:function(){return{labelCol:{span:4},wrapperCol:{span:20},userinfo:{username:"",password:""},registerinfo:{newUsername:"",newPassword:""},regrules:{newUsername:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:5,message:"字符长度3 到8 位",trigger:"blur"}],newPassword:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:function(t,e,n){/^(?![\d]+$)(?![a-zA-Z]+$)(?![_]+$)[\da-zA-Z_]{6,20}$/.test(e)?n():n(new Error("数字、字母、下划线任意两种组合，且不能少于6位大于20位"))},trigger:"blur"}]},showLogin:!0,showRegister:!1}},mounted:function(){this.userinfo.username=Object(o.b)("username"),Object(o.b)("username")&&this.$emit("clientUserlogin",this.userinfo.username,!1)},methods:{closeMyself:function(){this.$emit("on-close")},_stopPropagation:function(t){t.stopPropagation()},login:function(){var t=this;if(""==this.userinfo.username||""==this.userinfo.password)return this.$message.error("请输入用户名或者密码"),-1;var e=new URLSearchParams;e.append("username",this.userinfo.username),e.append("password",this.userinfo.password),console.log(e),this.$axios.post("/login",e).then(function(e){console.log(e.data),console.log(i()(e.data)),-1==e.data.code?t.$message.error("用户名密码错误"):1==e.data.code?(t.$message.success("登录成功"),Object(o.c)("username",t.userinfo.username,6e4),setTimeout(function(){this.$emit("clientUserlogin",this.userinfo.username,!1)}.bind(t),1e3)):t.$message.error("未知错误")})},ToRegister:function(){this.showRegister=!0,this.showLogin=!1},ToLogin:function(){this.showRegister=!1,this.showLogin=!0},register:function(){var t=this;if(""==this.registerinfo.newUsername||""==this.registerinfo.newPassword)return this.$message.error("请输入用户名或者密码"),-1;var e=new URLSearchParams;e.append("username",this.registerinfo.newUsername),e.append("password",this.registerinfo.newPassword),this.$axios.post("/register",e).then(function(e){console.log(e),console.log(e.data),1==e.data.code?(t.$message.success("注册成功"),t.registerinfo.newUsername="",t.registerinfo.newPassword="",setTimeout(function(){this.showRegister=!1,this.showLogin=!0}.bind(t),1e3)):-1==e.data.code&&t.$message.error("用户名已存在")})}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog"},[t.isShow?n("div",{staticClass:"dialog-cover back",on:{click:t.closeMyself}}):t._e(),t._v(" "),n("transition",{attrs:{name:"drop"}},[t.isShow?n("div",{staticClass:"dialog-content",on:{click:function(e){return e.stopPropagation(),t._stopPropagation(e)}}},[n("div",{staticClass:"dialog_head back"},[n("div",{staticClass:"close_button"},[n("a-icon",{staticClass:"closebutton",staticStyle:{"font-size":"20px",color:"#6C7385"},attrs:{type:"close"},on:{click:t.closeMyself}})],1),t._v(" "),t._t("header",function(){return[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showLogin,expression:"showLogin"}],staticClass:"dialog_title"},[n("p",{staticClass:"titleName"},[t._v("登录")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showRegister,expression:"showRegister"}],staticClass:"dialog_title"},[n("p",{staticClass:"titleName"},[t._v("注册")])])]})],2),t._v(" "),n("div",{staticClass:"dialog_main"},[t._t("main",function(){return[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showLogin,expression:"showLogin"}],staticClass:"login-wrap"},[n("a-form-model",{attrs:{model:t.userinfo,"label-col":t.labelCol,"wrapper-col":t.wrapperCol},on:{submit:t.login},nativeOn:{submit:function(t){t.preventDefault()}}},[n("a-form-model-item",{attrs:{label:"用户名"}},[n("a-input",{attrs:{size:"large",placeholder:"请输入用户名"},model:{value:t.userinfo.username,callback:function(e){t.$set(t.userinfo,"username",e)},expression:"userinfo.username"}},[n("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),t._v(" "),n("a-form-model-item",{attrs:{label:"密码"}},[n("a-input",{attrs:{size:"large",type:"password",placeholder:"请输入密码"},model:{value:t.userinfo.password,callback:function(e){t.$set(t.userinfo,"password",e)},expression:"userinfo.password"}},[n("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),t._v(" "),n("a-form-model-item",{attrs:{wrapperCol:{span:24}}},[n("a-button",{attrs:{type:"primary","html-type":"submit",size:"large",disabled:""===t.userinfo.username||""===t.userinfo.password}},[t._v("\n                                    登录\n                                ")])],1)],1),t._v(" "),n("span",{on:{click:t.ToRegister}},[t._v("没有账号?马上注册")])],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showRegister,expression:"showRegister"}],staticClass:"register-wrap"},[n("a-form-model",{attrs:{model:t.registerinfo,rules:t.regrules,"label-col":t.labelCol,"wrapper-col":t.wrapperCol},on:{submit:t.register},nativeOn:{submit:function(t){t.preventDefault()}}},[n("a-form-model-item",{ref:"name",attrs:{label:"用户名",prop:"newUsername"}},[n("a-input",{attrs:{size:"large",placeholder:"请输入用户名"},on:{blur:function(){t.$refs.name.onFieldBlur()}},model:{value:t.registerinfo.newUsername,callback:function(e){t.$set(t.registerinfo,"newUsername",e)},expression:"registerinfo.newUsername"}},[n("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),t._v(" "),n("a-form-model-item",{attrs:{label:"密码",prop:"newPassword"}},[n("a-input",{attrs:{size:"large",type:"password",placeholder:"请输入密码"},model:{value:t.registerinfo.newPassword,callback:function(e){t.$set(t.registerinfo,"newPassword",e)},expression:"registerinfo.newPassword"}},[n("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),t._v(" "),n("a-form-model-item",{attrs:{wrapperCol:{span:24}}},[n("a-button",{attrs:{type:"primary",size:"large","html-type":"submit",disabled:""===t.registerinfo.newUsername||""===t.registerinfo.newPassword}},[t._v("\n                                    注册\n                                ")])],1)],1),t._v(" "),n("span",{on:{click:t.ToLogin}},[t._v("已有账号?马上登录")])],1)]})],2)]):t._e()])],1)},staticRenderFns:[]};var u=n("VU/8")(a,s,!1,function(t){n("T7DD")},"data-v-7b35bd3b",null);e.a=u.exports},IDe4:function(t,e,n){t.exports=n.p+"static/img/robustTrainingIcon.ed18938.png"},IJ9V:function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.DistanceType=void 0,e.DistanceType=r,function(t){t.EuclideanDistance="euclideanDistance"}(r||(e.DistanceType=r={}))},IgWN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},i=function(t,e){return!!r(t)&&t.indexOf(e)>-1},o=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];e(o,i)&&n.push(o)}return n},a=function(t,e){return void 0===e&&(e=[]),o(t,function(t){return!i(e,t)})},s={}.toString,u=function(t,e){return s.call(t)==="[object "+e+"]"},l=function(t){return u(t,"Function")},c=function(t){return null===t||void 0===t},h=function(t){return Array.isArray?Array.isArray(t):u(t,"Array")},d=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var f=function(t,e){if(t)if(h(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(d(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break},p=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return f(t,function(n,r){l(t)&&"prototype"===r||e.push(r)}),e};var g=function(t,e){var n=p(e),r=n.length;if(c(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0},v=function(t){return"object"==typeof t&&null!==t},y=function(t){if(!v(t)||!u(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var m=function(t,e){if(!h(t))return null;var n;if(l(e)&&(n=e),y(e)&&(n=function(t){return g(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null};var b=function(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1},x=function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r][e];if(!c(i)){n=h(i)?i[0]:i;break}}return n},A=function(t){if(!h(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},w=function(t,e){if(void 0===e&&(e=[]),h(t))for(var n=0;n<t.length;n+=1)w(t[n],e);else e.push(t);return e},_=w,M=function(t){if(h(t))return t.reduce(function(t,e){return Math.max(t,e)},t[0])},S=function(t){if(h(t))return t.reduce(function(t,e){return Math.min(t,e)},t[0])},O=function(t){var e=t.filter(function(t){return!isNaN(t)});if(!e.length)return{min:0,max:0};if(h(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=M(e);return{min:S(e),max:i}},I=Array.prototype,E=I.splice,C=I.indexOf,k=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var i=e[r],o=-1;(o=C.call(t,i))>-1;)E.call(t,o,1);return t},T=Array.prototype.splice,D=function(t,e){if(!r(t))return[];for(var n=t?e.length:0,i=n-1;n--;){var o=void 0,a=e[n];n!==i&&a===o||(o=a,T.call(t,a,1))}return t},j=function(t,e,n){if(!h(t)&&!y(t))return t;var r=n;return f(t,function(t,n){r=e(r,t,n)}),r},L=function(t,e){var n=[];if(!r(t))return n;for(var i=-1,o=[],a=t.length;++i<a;){var s=t[i];e(s,i,t)&&(n.push(s),o.push(i))}return D(t,o),n},P=function(t){return u(t,"String")};var N=function(t,e){var n;if(l(e))n=function(t,n){return e(t)-e(n)};else{var r=[];P(e)?r.push(e):h(e)&&(r=e),n=function(t,e){for(var n=0;n<r.length;n+=1){var i=r[n];if(t[i]>e[i])return 1;if(t[i]<e[i])return-1}return 0}}return t.sort(n),t};function R(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r];e.has(o)||(n.push(o),e.set(o,!0))}return n}var B=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return R([].concat.apply([],t))},z=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i][e];if(!c(o)){h(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];r[s]||(n.push(s),r[s]=!0)}}}return n};function F(t){if(r(t))return t[0]}function G(t){if(r(t)){return t[t.length-1]}}var V=function(t,e){return!(!h(t)&&!P(t))&&t[0]===e};var U=function(t,e){return!(!h(t)&&!P(t))&&t[t.length-1]===e},W=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},H=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},Y=Object.prototype.hasOwnProperty;var X=function(t,e){if(!e||!h(t))return{};for(var n,r={},i=l(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=i(a),Y.call(r,n)?r[n].push(a):r[n]=[a]}return r};function q(t,e){if(!e)return{0:t};if(!l(e)){var n=h(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return X(t,e)}var Q=function(t,e){if(!e)return[t];var n=q(t,e),r=[];for(var i in n)r.push(n[i]);return r};var Z=function(t,e){return t["_wrap_"+e]};var K=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n},J={};var $=function(t){var e=J[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,J[t]=e}return e};var tt=function(t){var e=0,n=0,r=0,i=0;return h(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}},et=function(t,e,n){return t<e?e:t>n?n:t},nt=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))},rt=function(t){return u(t,"Number")},it=function(t){return rt(t)&&t%1!=0},ot=function(t){return rt(t)&&t%2==0},at=Number.isInteger?Number.isInteger:function(t){return rt(t)&&t%1==0},st=function(t){return rt(t)&&t<0},ut=1e-5;function lt(t,e,n){return void 0===n&&(n=ut),Math.abs(t-e)<n}var ct=function(t){return rt(t)&&t%2!=0},ht=function(t){return rt(t)&&t>0},dt=function(t,e){if(h(t)){for(var n,r=-1/0,i=0;i<t.length;i++){var o=t[i],a=l(e)?e(o):o[e];a>r&&(n=o,r=a)}return n}},ft=function(t,e){if(h(t)){for(var n,r=1/0,i=0;i<t.length;i++){var o=t[i],a=l(e)?e(o):o[e];a<r&&(n=o,r=a)}return n}},pt=function(t,e){return(t%e+e)%e},gt=180/Math.PI,vt=function(t){return gt*t},yt=parseInt,mt=Math.PI/180,bt=function(t){return mt*t},xt=f,At=function(t,e){return t.hasOwnProperty(e)},wt=At,_t=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return f(t,function(n,r){l(t)&&"prototype"===r||e.push(n)}),e},Mt=function(t,e){return i(_t(t),e)},St=function(t){return c(t)?"":t.toString()},Ot=function(t){return St(t).toLowerCase()},It=function(t){var e=St(t);return e.charAt(0).toLowerCase()+e.substring(1)};var Et=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]}):t},Ct=function(t){return St(t).toUpperCase()},kt=function(t){var e=St(t);return e.charAt(0).toUpperCase()+e.substring(1)},Tt={}.toString,Dt=function(t){return Tt.call(t).replace(/^\[object /,"").replace(/]$/,"")},jt=function(t){return u(t,"Arguments")},Lt=function(t){return u(t,"Boolean")},Pt=function(t){return u(t,"Date")},Nt=function(t){return u(t,"Error")},Rt=function(t){return rt(t)&&isFinite(t)},Bt=function(t){return null===t},zt=Object.prototype,Ft=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||zt)},Gt=function(t){return u(t,"RegExp")},Vt=function(t){return void 0===t},Ut=function(t){return t instanceof Element||t instanceof HTMLDocument};function Wt(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function Ht(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function Yt(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Xt(t,e,n,r){return e&&Yt(t,e),n&&Yt(t,n),r&&Yt(t,r),t}var qt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],r=1;r<t.length;r++){var i=t[r];l(i)&&(i=i.prototype),Xt(n.prototype,i)}},Qt=function(t){if("object"!=typeof t||null===t)return t;var e;if(h(t)){e=[];for(var n=0,r=t.length;n<r;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=Qt(t[n]):e[n]=t[n]}else for(var i in e={},t)"object"==typeof t[i]&&null!=t[i]?e[i]=Qt(t[i]):e[i]=t[i];return e},Zt=Qt;var Kt=function(t,e,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(i,o)},e),a&&t.apply(i,o)}},Jt=function(t,e){if(!l(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n},$t=5;function te(t,e,n,r){for(var i in n=n||0,r=r||$t,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&y(o)?(y(t[i])||(t[i]={}),n<r?te(t[i],o,n+1,r):t[i]=e[i]):h(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var ee=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)te(t,e[r]);return t},ne=function(t,e,n,r){l(e)||(n=e,e=t,t=function(){});var i=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},o=i(e.prototype,t);return t.prototype=Xt(o,t.prototype),t.superclass=i(e.prototype,e),Xt(o,n),Xt(t,r),t},re=function(t,e){if(!r(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,o=0;o<t.length;o++)if(t[o]===e){i=o;break}return i},ie=Object.prototype.hasOwnProperty;var oe=function(t){if(c(t))return!0;if(r(t))return!t.length;var e=Dt(t);if("Map"===e||"Set"===e)return!t.size;if(Ft(t))return!Object.keys(t).length;for(var n in t)if(ie.call(t,n))return!1;return!0},ae=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(P(t)||P(e))return!1;if(r(t)||r(e)){if(t.length!==e.length)return!1;for(var n=!0,i=0;i<t.length&&(n=ae(t[i],e[i]));i++);return n}if(v(t)||v(e)){var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(n=!0,i=0;i<o.length&&(n=ae(t[o[i]],e[o[i]]));i++);return n}return!1},se=ae,ue=function(t,e,n){return l(n)?!!n(t,e):se(t,e)},le=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];n.push(e(o,i))}return n},ce=function(t){return t},he=function(t,e){void 0===e&&(e=ce);var n={};return d(t)&&!c(t)&&Object.keys(t).forEach(function(r){n[r]=e(t[r],r)}),n},de=function(t,e,n){for(var r=0,i=P(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t},fe=function(t,e,n){var r=t,i=P(e)?e.split("."):e;return i.forEach(function(t,e){e<i.length-1?(d(r[t])||(r[t]=rt(i[e+1])?[]:{}),r=r[t]):r[t]=n}),t},pe=Object.prototype.hasOwnProperty,ge=function(t,e){if(null===t||!y(t))return{};var n={};return f(e,function(e){pe.call(t,e)&&(n[e]=t[e])}),n},ve=function(t,e){return j(t,function(t,n,r){return e.includes(r)||(t[r]=n),t},{})},ye=function(t,e,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)},l=function(){var l=Date.now();s||!1!==n.leading||(s=l);var c=e-(l-s);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=l,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l},me=function(t){return r(t)?Array.prototype.slice.call(t):[]},be={},xe=function(t){return be[t=t||"g"]?be[t]+=1:be[t]=1,t+be[t]},Ae=function(){},we=function(t){return t};function _e(t){return c(t)?0:r(t)?t.length:Object.keys(t).length}var Me,Se=n("TToO"),Oe=Jt(function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return Me||(Me=document.createElement("canvas").getContext("2d")),Me.font=[o,a,i,n+"px",r].join(" "),Me.measureText(P(t)?t:"").width},function(t,e){return void 0===e&&(e={}),Object(Se.__spreadArrays)([t],_t(e)).join("")}),Ie=function(t,e,n,r){void 0===r&&(r="...");var i,o,a=Oe(r,n),s=P(t)?t:St(t),u=e,l=[];if(Oe(t,n)<=e)return t;for(;i=s.substr(0,16),!((o=Oe(i,n))+a>u&&o>u);)if(l.push(i),u-=o,!(s=s.substr(16)))return l.join("");for(;i=s.substr(0,1),!((o=Oe(i,n))+a>u);)if(l.push(i),u-=o,!(s=s.substr(1)))return l.join("");return""+l.join("")+r},Ee=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}();n.d(e,"contains",function(){return i}),n.d(e,"includes",function(){return i}),n.d(e,"difference",function(){return a}),n.d(e,"find",function(){return m}),n.d(e,"findIndex",function(){return b}),n.d(e,"firstValue",function(){return x}),n.d(e,"flatten",function(){return A}),n.d(e,"flattenDeep",function(){return _}),n.d(e,"getRange",function(){return O}),n.d(e,"pull",function(){return k}),n.d(e,"pullAt",function(){return D}),n.d(e,"reduce",function(){return j}),n.d(e,"remove",function(){return L}),n.d(e,"sortBy",function(){return N}),n.d(e,"union",function(){return B}),n.d(e,"uniq",function(){return R}),n.d(e,"valuesOfKey",function(){return z}),n.d(e,"head",function(){return F}),n.d(e,"last",function(){return G}),n.d(e,"startsWith",function(){return V}),n.d(e,"endsWith",function(){return U}),n.d(e,"filter",function(){return o}),n.d(e,"every",function(){return W}),n.d(e,"some",function(){return H}),n.d(e,"group",function(){return Q}),n.d(e,"groupBy",function(){return X}),n.d(e,"groupToMap",function(){return q}),n.d(e,"getWrapBehavior",function(){return Z}),n.d(e,"wrapBehavior",function(){return K}),n.d(e,"number2color",function(){return $}),n.d(e,"parseRadius",function(){return tt}),n.d(e,"clamp",function(){return et}),n.d(e,"fixedBase",function(){return nt}),n.d(e,"isDecimal",function(){return it}),n.d(e,"isEven",function(){return ot}),n.d(e,"isInteger",function(){return at}),n.d(e,"isNegative",function(){return st}),n.d(e,"isNumberEqual",function(){return lt}),n.d(e,"isOdd",function(){return ct}),n.d(e,"isPositive",function(){return ht}),n.d(e,"max",function(){return M}),n.d(e,"maxBy",function(){return dt}),n.d(e,"min",function(){return S}),n.d(e,"minBy",function(){return ft}),n.d(e,"mod",function(){return pt}),n.d(e,"toDegree",function(){return vt}),n.d(e,"toInteger",function(){return yt}),n.d(e,"toRadian",function(){return bt}),n.d(e,"forIn",function(){return xt}),n.d(e,"has",function(){return At}),n.d(e,"hasKey",function(){return wt}),n.d(e,"hasValue",function(){return Mt}),n.d(e,"keys",function(){return p}),n.d(e,"isMatch",function(){return g}),n.d(e,"values",function(){return _t}),n.d(e,"lowerCase",function(){return Ot}),n.d(e,"lowerFirst",function(){return It}),n.d(e,"substitute",function(){return Et}),n.d(e,"upperCase",function(){return Ct}),n.d(e,"upperFirst",function(){return kt}),n.d(e,"getType",function(){return Dt}),n.d(e,"isArguments",function(){return jt}),n.d(e,"isArray",function(){return h}),n.d(e,"isArrayLike",function(){return r}),n.d(e,"isBoolean",function(){return Lt}),n.d(e,"isDate",function(){return Pt}),n.d(e,"isError",function(){return Nt}),n.d(e,"isFunction",function(){return l}),n.d(e,"isFinite",function(){return Rt}),n.d(e,"isNil",function(){return c}),n.d(e,"isNull",function(){return Bt}),n.d(e,"isNumber",function(){return rt}),n.d(e,"isObject",function(){return d}),n.d(e,"isObjectLike",function(){return v}),n.d(e,"isPlainObject",function(){return y}),n.d(e,"isPrototype",function(){return Ft}),n.d(e,"isRegExp",function(){return Gt}),n.d(e,"isString",function(){return P}),n.d(e,"isType",function(){return u}),n.d(e,"isUndefined",function(){return Vt}),n.d(e,"isElement",function(){return Ut}),n.d(e,"requestAnimationFrame",function(){return Wt}),n.d(e,"clearAnimationFrame",function(){return Ht}),n.d(e,"augment",function(){return qt}),n.d(e,"clone",function(){return Zt}),n.d(e,"debounce",function(){return Kt}),n.d(e,"memoize",function(){return Jt}),n.d(e,"deepMix",function(){return ee}),n.d(e,"each",function(){return f}),n.d(e,"extend",function(){return ne}),n.d(e,"indexOf",function(){return re}),n.d(e,"isEmpty",function(){return oe}),n.d(e,"isEqual",function(){return se}),n.d(e,"isEqualWith",function(){return ue}),n.d(e,"map",function(){return le}),n.d(e,"mapValues",function(){return he}),n.d(e,"mix",function(){return Xt}),n.d(e,"assign",function(){return Xt}),n.d(e,"get",function(){return de}),n.d(e,"set",function(){return fe}),n.d(e,"pick",function(){return ge}),n.d(e,"omit",function(){return ve}),n.d(e,"throttle",function(){return ye}),n.d(e,"toArray",function(){return me}),n.d(e,"toString",function(){return St}),n.d(e,"uniqueId",function(){return xe}),n.d(e,"noop",function(){return Ae}),n.d(e,"identity",function(){return we}),n.d(e,"size",function(){return _e}),n.d(e,"measureTextWidth",function(){return Oe}),n.d(e,"getEllipsisText",function(){return Ie}),n.d(e,"Cache",function(){return Ee})},IjT6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},Iker:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ERLayout=void 0;var a=n("w9t0"),s=o(n("17Ia")),u=function(t){function e(e){var n=t.call(this)||this;return n.width=300,n.height=300,n.nodeMinGap=50,n.onLayoutEnd=function(){},e&&n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{width:300,height:300,nodeMinGap:50}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges;return null===e||void 0===e||e.forEach(function(t){t.size||(t.size=[50,50])}),(0,s.default)({nodes:e,edges:n},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then(function(){t.onLayoutEnd&&t.onLayoutEnd()})},e.prototype.getType=function(){return"er"},e}(a.Base);e.ERLayout=u},IpCj:function(t,e,n){"use strict";e.b=function(t,e){var n=t.cfg.el,r=t.attr(),i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(i.dx||i.dy||i.blur||i.color){var o=e.find("filter",i);o||(o=e.addShadow(i)),n.setAttribute("filter","url(#"+o+")")}else n.removeAttribute("filter")},e.c=function(t){var e=t.attr().matrix;if(e){for(var n=t.cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+","+e[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)}},e.a=function(t,e){var n=t.getClip(),i=t.get("el");if(n){if(n&&!i.hasAttribute("clip-path")){Object(r.a)(n),n.createPath(e);var o=e.addClip(n);i.setAttribute("clip-path","url(#"+o+")")}}else i.removeAttribute("clip-path")};var r=n("8ALn")},IzBs:function(t,e,n){"use strict";var r={};n.d(r,"leftTranslate",function(){return o}),n.d(r,"leftRotate",function(){return a}),n.d(r,"leftScale",function(){return s}),n.d(r,"transform",function(){return u}),n.d(r,"direction",function(){return l}),n.d(r,"angleTo",function(){return c}),n.d(r,"vertical",function(){return h});var i=n("lVvd");function o(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return i.mat3.fromTranslation(r,n),i.mat3.multiply(t,r,e)}function a(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return i.mat3.fromRotation(r,n),i.mat3.multiply(t,r,e)}function s(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return i.mat3.fromScaling(r,n),i.mat3.multiply(t,r,e)}function u(t,e){for(var n,r,u,l=t?[].concat(t):[1,0,0,0,1,0,0,0,1],c=0,h=e.length;c<h;c++){var d=e[c];switch(d[0]){case"t":o(l,l,[d[1],d[2]]);break;case"s":s(l,l,[d[1],d[2]]);break;case"r":a(l,l,d[1]);break;case"m":n=l,r=l,u=d[1],i.mat3.multiply(n,u,r)}}return l}function l(t,e){return t[0]*e[1]-e[0]*t[1]}function c(t,e,n){var r=i.vec2.angle(t,e),o=l(t,e)>=0;return n?o?2*Math.PI-r:r:o?r:2*Math.PI-r}function h(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}n.d(e,"b",function(){return i.mat3}),n.d(e,"c",function(){return i.vec2}),n.d(e,"d",function(){return i.vec3}),n.d(e,"a",function(){return r})},J009:function(t,e,n){var r=n("aCM0"),i=n("UnEC"),o="[object Number]";t.exports=function(t){return"number"==typeof t||i(t)&&r(t)==o}},J598:function(t,e){t.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAB3RJTUUH2AceDi063OdmCQAABrtJREFUSIl9VluPHFcR/qrO6dOXuXns9TWA48SyclEk8hqJSETigTzAAxL8H/5auEhEvEAQCQqBEBOc2N717s5sd885VR8PPbOOw+Wou6e7qudUfVX9VZX8/JcfikaSJPF8EfCDcK+ZHkVkkrz4/vQfgiA53UwrpqaWUAFwd9IPKl7u+B8Gpvv/Z+CbwljPOhwQTLrD9duOfgPlCwrZnwDkmz6JiIjEZj6bDLj7QUdSQLlEsf/FwQBBOolpDx4AX2IAib0SsVu00Ljf3p8jIeUS8XO3SAIOISBkQIksER4UjpgRi4sRTuwBQGK3iKLR3OlTZOG+x8/Jp8tjnyAvCBRNPq7sfO3HTTk7O37y9XnJ4WqaXUvzdeiuIHXUuMsW20UQjfsET8b9MhJ7G+4AZQqV0pwC2jKfv4zH1/vPHn364R8++NVHf/tq11yb33z56O5r1+6+Hla32SwXR7fiaq2i6jaFR+h0F5JOOcRHLsGREKZCiZ7XQ37JT5Ynnwybj1f2aGYnF8+2T8fN5uLs0cnx4qUHi9v3VnduxqM1JNCdbnR3Ot3pFIf4IUQ+gXMnYdCREhkXfVz2uQt9XQfMrvar2fzqKw/efufuG28317+rq+thvvYqxfXCQlTyECIXn65QAnSQMiWGVDoFw06SF95o0I4X/fnJZw+f/CsvX3733dd++OPvPHhQL1YlxN2UU8nxjiCqEMIA50RfcYiJEtP3ABKOKW5UagmwjFu1hK82n3/56OMvtkdvvPf9X/zs5ptvWlAnjUWEKhR4vO0hUgn4lF1RFzrhQkJc6FPdAB10AKiKCoJfFS2JPeIQ1vdfvX/v1Rtt5wdayJ5/EuMyqQbZ8xDsh56Cum7CFCIIAYM7CIhZERETioQWfMYikusaR4v6VhMTXByHD3xiGuIff/+7GAIgEBn7iz999FEM4d6rrywWcxWAzLs8DMN2u23b9uHDL24crZuuDWhmclbnr7MNZv3jf3z2l998EDQqVSBmVsxSVZmbvP+Dd4KqAEFViLEfVKVp65TU3XLOdaqF3J5vRESBZhabuo7sbl2tfvTedz/95M+//u1XYzzq1nO4qYiqAjLVEjOLX/7zy6AhigZVhVQxBtVx6LWCWfFi866D+TgMKVYxhu22H7bbBvmUgXJXYnJH/+ysjBchmAKqGkKgezYLqhGIpJjoVImtmCqUUCKEKCGcX+yEiKEu0FycMORo8Hm7yyaDhx628RyLRJq6Rw1VoBAucrHL8XSzMTPSAVEV1ZBS1dSpTjGqTFRWSlAHoCqgq4l6HstgotvBR0MWZDM1q0RqKKEigGimx8enx2bm7pe1XVVnbXNlMVvMZnWVRMQmCrgHFaiom6HUbQSx3ZRxlFIAWoA7saMFVRGBiMYQsxkAqF52uULb9n0ed9tNv1wsZt0siDoIihlQkBSGcX7l2kW/Oz4e+0E9hCAUqpmZW6wCnW4WDVEuG9PzTicgs5fz7XaXSy62nC+DyFRjfUeGojp8796dzUV/fNKPu+BJHJlUUA2Ss5tZEFERneqDOIW4PEAQ4kQ/DE+Pj09OnzkoKqoiEEW+fr27f//eycnm9HRwh3nJpbhTRAHkUpwQCeaMENm3vBeW7CEJdmZnm7NYade1TaqTo4njT3/y/pXl8u9//Xq7KRoqV3NY4dRDXOki6vTRTb+98/MRQbivIMglP3n69MmTp5vN+TD0N27dfu2Ntz7/4vHnDx/3425XsplP/g67HSB1SnTzkhWURv+rDcVhPhG4ClSkquK861IVV4vqzu316fGzs5NedU6JVVtBUbLFEFQEJL0AVIE0qodx6kUDqoKpIbiACqRUzboO4n1/MfRFiPVqub6ynnJpBAVVDAIqOPYXTYptnf6ngUkkgMo0w1AEqmKcZp6qbbr5rImKFCtl3BU3OOFB2NWJtqujHq1XoREoILKvzPv0CgAG+rJOR8uFeJkmFqWkVLdt1zZdlaq6TgBLKQDc3UoGnXQBm7p257DLsRIWghDguQ0HBR7ARQw35zPrt6GuUmqT1qGOrjKOI2kKVnXT9332XFUxpRRUgyqBMZtq2GWPsUqeszuFnJoQZc+5KBp1Iqc38+7K+hpMKDg+fTZVlHEcx3Gcwquiqaqml1UPbDCLdTcP40WbqvV6dXa+Pd9eZKdrqKq4DHGeajMzsklVoXuhucUY27YdhqGUUtf1xPAQg7kNwxBCaJpmt9u5u5mFtm6aSlfz+u23Xq8rLSVXdd22s1nbzqo0TcWboWdUh4I6jqOoxBjdvaqqlBLJnDOAKsZJ7u4iMp/Pzezf3ZIkK0Iv/48AAAAASUVORK5CYII="},JHWa:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n("LXZJ")),a=i(n("TEXG")),s=i(n("OiFs")),u=n("+ZTV"),l=i(n("+RLJ")),c=i(n("uX+9")),h=i(n("yO1k")),d=i(n("MicU")),f=i(n("yWcq")),p=i(n("kdcY")),g=i(n("v/lF")),v=n("3MGd"),y=function(t,e,n){e("    removeSelfEdges",function(){B(t)}),e("    acyclic",function(){o.default.run(t)}),e("    nestingGraph.run",function(){c.default.run(t)}),e("    rank",function(){(0,s.default)((0,u.asNonCompoundGraph)(t))}),e("    injectEdgeLabelProxies",function(){k(t)}),e("    removeEmptyRanks",function(){(0,u.removeEmptyRanks)(t)}),e("    nestingGraph.cleanup",function(){c.default.cleanup(t)}),e("    normalizeRanks",function(){(0,u.normalizeRanks)(t)}),e("    assignRankMinMax",function(){T(t)}),e("    removeEdgeLabelProxies",function(){D(t)}),e("    normalize.run",function(){a.default.run(t)}),e("    parentDummyChains",function(){(0,l.default)(t)}),e("    addBorderSegments",function(){(0,h.default)(t)}),n&&n.keepNodeOrder&&e("    initDataOrder",function(){(0,g.default)(t,n.nodeOrder)}),e("    order",function(){(0,f.default)(t,null===n||void 0===n?void 0:n.keepNodeOrder)}),e("    insertSelfEdges",function(){z(t)}),e("    adjustCoordinateSystem",function(){d.default.adjust(t)}),e("    position",function(){(0,p.default)(t)}),e("    positionSelfEdges",function(){F(t)}),e("    removeBorderNodes",function(){R(t)}),e("    normalize.undo",function(){a.default.undo(t)}),e("    fixupEdgeLabelCoords",function(){P(t)}),e("    undoCoordinateSystem",function(){d.default.undo(t)}),e("    translateGraph",function(){j(t)}),e("    assignNodeIntersects",function(){L(t)}),e("    reversePoints",function(){N(t)}),e("    acyclic.undo",function(){o.default.undo(t)})},m=function(t,e){t.nodes().forEach(function(n){var r=t.node(n),i=e.node(n);void 0!==i?(r.fixorder=i._order,delete i._order):delete r.fixorder})},b=function(t,e){t.nodes().forEach(function(n){var r,i=t.node(n);if(i){var o=e.node(n);i.x=o.x,i.y=o.y,i._order=o.order,i._rank=o.rank,(null===(r=e.children(n))||void 0===r?void 0:r.length)&&(i.width=o.width,i.height=o.height)}}),t.edges().forEach(function(n){var r=t.edge(n),i=e.edge(n);r.points=i?i.points:[],i&&i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height},x=["nodesep","edgesep","ranksep","marginx","marginy"],A={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},w=["acyclicer","ranker","rankdir","align"],_=["width","height","layer","fixorder"],M={width:0,height:0},S=["minlen","weight","width","height","labeloffset"],O={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},I=["labelpos"],E=function(t){var e=new v.Graph({multigraph:!0,compound:!0}),n=V(t.graph()),i={};return null===w||void 0===w||w.forEach(function(t){void 0!==n[t]&&(i[t]=n[t])}),e.setGraph(Object.assign({},A,G(n,x),i)),t.nodes().forEach(function(n){var i=V(t.node(n)),o=r(r({},M),i),a=G(o,_);e.setNode(n,a),e.setParent(n,t.parent(n))}),t.edges().forEach(function(n){var r=V(t.edge(n)),i={};null===I||void 0===I||I.forEach(function(t){void 0!==r[t]&&(i[t]=r[t])}),e.setEdgeObj(n,Object.assign({},O,G(r,S),i))}),e},C=function(t){var e=t.graph();e.ranksep||(e.ranksep=0),e.ranksep/=2,t.nodes().forEach(function(e){var n=t.node(e);isNaN(n.layer)||n.layer||(n.layer=0)}),t.edges().forEach(function(n){var r,i=t.edge(n);i.minlen*=2,"c"!==(null===(r=i.labelpos)||void 0===r?void 0:r.toLowerCase())&&("TB"===e.rankdir||"BT"===e.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)})},k=function(t){t.edges().forEach(function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i={e:e,rank:(t.node(e.w).rank-r.rank)/2+r.rank};(0,u.addDummyNode)(t,"edge-proxy",i,"_ep")}})},T=function(t){var e=0;t.nodes().forEach(function(n){var r,i,o=t.node(n);o.borderTop&&(o.minRank=null===(r=t.node(o.borderTop))||void 0===r?void 0:r.rank,o.maxRank=null===(i=t.node(o.borderBottom))||void 0===i?void 0:i.rank,e=Math.max(e,o.maxRank||-1/0))}),t.graph().maxRank=e},D=function(t){t.nodes().forEach(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})},j=function(t){var e,n,r=0,i=0,o=t.graph(),a=o.marginx||0,s=o.marginy||0,u=function(t){if(t){var o=t.x,a=t.y,s=t.width,u=t.height;isNaN(o)||isNaN(s)||(void 0===e&&(e=o-s/2),e=Math.min(e,o-s/2),r=Math.max(r,o+s/2)),isNaN(a)||isNaN(u)||(void 0===n&&(n=a-u/2),n=Math.min(n,a-u/2),i=Math.max(i,a+u/2))}};t.nodes().forEach(function(e){u(t.node(e))}),t.edges().forEach(function(e){var n=t.edge(e);(null===n||void 0===n?void 0:n.hasOwnProperty("x"))&&u(n)}),e-=a,n-=s,t.nodes().forEach(function(r){var i=t.node(r);i&&(i.x-=e,i.y-=n)}),t.edges().forEach(function(r){var i,o=t.edge(r);null===(i=o.points)||void 0===i||i.forEach(function(t){t.x-=e,t.y-=n}),o.hasOwnProperty("x")&&(o.x-=e),o.hasOwnProperty("y")&&(o.y-=n)}),o.width=r-e+a,o.height=i-n+s},L=function(t){t.edges().forEach(function(e){var n,r,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift((0,u.intersectRect)(o,n)),i.points.push((0,u.intersectRect)(a,r))})},P=function(t){t.edges().forEach(function(e){var n=t.edge(e);if(null===n||void 0===n?void 0:n.hasOwnProperty("x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})},N=function(t){t.edges().forEach(function(e){var n,r=t.edge(e);r.reversed&&(null===(n=r.points)||void 0===n||n.reverse())})},R=function(t){t.nodes().forEach(function(e){var n,r,i;if(null===(n=t.children(e))||void 0===n?void 0:n.length){var o=t.node(e),a=t.node(o.borderTop),s=t.node(o.borderBottom),u=t.node(o.borderLeft[(null===(r=o.borderLeft)||void 0===r?void 0:r.length)-1]),l=t.node(o.borderRight[(null===(i=o.borderRight)||void 0===i?void 0:i.length)-1]);o.width=Math.abs((null===l||void 0===l?void 0:l.x)-(null===u||void 0===u?void 0:u.x))||10,o.height=Math.abs((null===s||void 0===s?void 0:s.y)-(null===a||void 0===a?void 0:a.y))||10,o.x=((null===u||void 0===u?void 0:u.x)||0)+o.width/2,o.y=((null===a||void 0===a?void 0:a.y)||0)+o.height/2}}),t.nodes().forEach(function(e){var n;"border"===(null===(n=t.node(e))||void 0===n?void 0:n.dummy)&&t.removeNode(e)})},B=function(t){t.edges().forEach(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdgeObj(e)}})},z=function(t){var e=(0,u.buildLayerMatrix)(t);null===e||void 0===e||e.forEach(function(e){var n=0;null===e||void 0===e||e.forEach(function(e,r){var i,o=t.node(e);o.order=r+n,null===(i=o.selfEdges)||void 0===i||i.forEach(function(e){(0,u.addDummyNode)(t,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:r+ ++n,e:e.e,label:e.label},"_se")}),delete o.selfEdges})})},F=function(t){t.nodes().forEach(function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;t.setEdgeObj(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{y:o,x:i+a},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})},G=function(t,e){var n={};return null===e||void 0===e||e.forEach(function(e){void 0!==t[e]&&(n[e]=+t[e])}),n},V=function(t){void 0===t&&(t={});var e={};return Object.keys(t).forEach(function(n){e[n.toLowerCase()]=t[n]}),e};e.default=function(t,e){var n=e&&e.debugTiming?u.time:u.notime;n("layout",function(){e&&!e.keepNodeOrder&&e.prevGraph&&n("  inheritOrder",function(){m(t,e.prevGraph)});var r=n("  buildLayoutGraph",function(){return E(t)});e&&!1===e.edgeLabelSpace||n("  makeSpaceForEdgeLabels",function(){C(r)});try{n("  runLayout",function(){y(r,n,e)})}catch(t){if("Not possible to find intersection inside of the rectangle"===t.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",t);throw t}n("  updateInputGraph",function(){b(t,r)})})}},JKCU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7hDC"),i=n.n(r),o=n("fKPv"),a=n.n(o),s=n("Z60a"),u=n.n(s),l=n("C9uT"),c=n.n(l),h=n("YsVG"),d=n.n(h),f=n("J009"),p=n.n(f),g=n("NGEn"),v=n.n(g),y=n("En79"),m=n.n(y),b=1;function x(){return b++}var A,w;(w=A||(A={}))[w.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",w[w.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",w[w.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",w[w.POINTS=0]="POINTS",w[w.LINES=1]="LINES",w[w.LINE_LOOP=2]="LINE_LOOP",w[w.LINE_STRIP=3]="LINE_STRIP",w[w.TRIANGLES=4]="TRIANGLES",w[w.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",w[w.TRIANGLE_FAN=6]="TRIANGLE_FAN",w[w.ZERO=0]="ZERO",w[w.ONE=1]="ONE",w[w.SRC_COLOR=768]="SRC_COLOR",w[w.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",w[w.SRC_ALPHA=770]="SRC_ALPHA",w[w.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",w[w.DST_ALPHA=772]="DST_ALPHA",w[w.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",w[w.DST_COLOR=774]="DST_COLOR",w[w.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",w[w.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",w[w.FUNC_ADD=32774]="FUNC_ADD",w[w.BLEND_EQUATION=32777]="BLEND_EQUATION",w[w.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",w[w.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",w[w.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",w[w.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",w[w.MAX_EXT=32776]="MAX_EXT",w[w.MIN_EXT=32775]="MIN_EXT",w[w.BLEND_DST_RGB=32968]="BLEND_DST_RGB",w[w.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",w[w.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",w[w.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",w[w.CONSTANT_COLOR=32769]="CONSTANT_COLOR",w[w.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",w[w.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",w[w.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",w[w.BLEND_COLOR=32773]="BLEND_COLOR",w[w.ARRAY_BUFFER=34962]="ARRAY_BUFFER",w[w.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",w[w.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",w[w.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",w[w.STREAM_DRAW=35040]="STREAM_DRAW",w[w.STATIC_DRAW=35044]="STATIC_DRAW",w[w.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",w[w.BUFFER_SIZE=34660]="BUFFER_SIZE",w[w.BUFFER_USAGE=34661]="BUFFER_USAGE",w[w.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",w[w.FRONT=1028]="FRONT",w[w.BACK=1029]="BACK",w[w.FRONT_AND_BACK=1032]="FRONT_AND_BACK",w[w.CULL_FACE=2884]="CULL_FACE",w[w.BLEND=3042]="BLEND",w[w.DITHER=3024]="DITHER",w[w.STENCIL_TEST=2960]="STENCIL_TEST",w[w.DEPTH_TEST=2929]="DEPTH_TEST",w[w.SCISSOR_TEST=3089]="SCISSOR_TEST",w[w.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",w[w.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",w[w.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",w[w.NO_ERROR=0]="NO_ERROR",w[w.INVALID_ENUM=1280]="INVALID_ENUM",w[w.INVALID_VALUE=1281]="INVALID_VALUE",w[w.INVALID_OPERATION=1282]="INVALID_OPERATION",w[w.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",w[w.CW=2304]="CW",w[w.CCW=2305]="CCW",w[w.LINE_WIDTH=2849]="LINE_WIDTH",w[w.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",w[w.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",w[w.CULL_FACE_MODE=2885]="CULL_FACE_MODE",w[w.FRONT_FACE=2886]="FRONT_FACE",w[w.DEPTH_RANGE=2928]="DEPTH_RANGE",w[w.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",w[w.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",w[w.DEPTH_FUNC=2932]="DEPTH_FUNC",w[w.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",w[w.STENCIL_FUNC=2962]="STENCIL_FUNC",w[w.STENCIL_FAIL=2964]="STENCIL_FAIL",w[w.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",w[w.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",w[w.STENCIL_REF=2967]="STENCIL_REF",w[w.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",w[w.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",w[w.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",w[w.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",w[w.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",w[w.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",w[w.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",w[w.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",w[w.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",w[w.VIEWPORT=2978]="VIEWPORT",w[w.SCISSOR_BOX=3088]="SCISSOR_BOX",w[w.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",w[w.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",w[w.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",w[w.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",w[w.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",w[w.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",w[w.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",w[w.RED_BITS=3410]="RED_BITS",w[w.GREEN_BITS=3411]="GREEN_BITS",w[w.BLUE_BITS=3412]="BLUE_BITS",w[w.ALPHA_BITS=3413]="ALPHA_BITS",w[w.DEPTH_BITS=3414]="DEPTH_BITS",w[w.STENCIL_BITS=3415]="STENCIL_BITS",w[w.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",w[w.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",w[w.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",w[w.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",w[w.SAMPLES=32937]="SAMPLES",w[w.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",w[w.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",w[w.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",w[w.DONT_CARE=4352]="DONT_CARE",w[w.FASTEST=4353]="FASTEST",w[w.NICEST=4354]="NICEST",w[w.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",w[w.BYTE=5120]="BYTE",w[w.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",w[w.SHORT=5122]="SHORT",w[w.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",w[w.INT=5124]="INT",w[w.UNSIGNED_INT=5125]="UNSIGNED_INT",w[w.FLOAT=5126]="FLOAT",w[w.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",w[w.ALPHA=6406]="ALPHA",w[w.RGB=6407]="RGB",w[w.RGBA=6408]="RGBA",w[w.LUMINANCE=6409]="LUMINANCE",w[w.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",w[w.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",w[w.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",w[w.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",w[w.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",w[w.VERTEX_SHADER=35633]="VERTEX_SHADER",w[w.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",w[w.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",w[w.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",w[w.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",w[w.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",w[w.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",w[w.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",w[w.SHADER_TYPE=35663]="SHADER_TYPE",w[w.DELETE_STATUS=35712]="DELETE_STATUS",w[w.LINK_STATUS=35714]="LINK_STATUS",w[w.VALIDATE_STATUS=35715]="VALIDATE_STATUS",w[w.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",w[w.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",w[w.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",w[w.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",w[w.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",w[w.NEVER=512]="NEVER",w[w.LESS=513]="LESS",w[w.EQUAL=514]="EQUAL",w[w.LEQUAL=515]="LEQUAL",w[w.GREATER=516]="GREATER",w[w.NOTEQUAL=517]="NOTEQUAL",w[w.GEQUAL=518]="GEQUAL",w[w.ALWAYS=519]="ALWAYS",w[w.KEEP=7680]="KEEP",w[w.REPLACE=7681]="REPLACE",w[w.INCR=7682]="INCR",w[w.DECR=7683]="DECR",w[w.INVERT=5386]="INVERT",w[w.INCR_WRAP=34055]="INCR_WRAP",w[w.DECR_WRAP=34056]="DECR_WRAP",w[w.VENDOR=7936]="VENDOR",w[w.RENDERER=7937]="RENDERER",w[w.VERSION=7938]="VERSION",w[w.NEAREST=9728]="NEAREST",w[w.LINEAR=9729]="LINEAR",w[w.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",w[w.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",w[w.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",w[w.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",w[w.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",w[w.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",w[w.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",w[w.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",w[w.TEXTURE_2D=3553]="TEXTURE_2D",w[w.TEXTURE=5890]="TEXTURE",w[w.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",w[w.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",w[w.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",w[w.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",w[w.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",w[w.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",w[w.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",w[w.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",w[w.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",w[w.TEXTURE0=33984]="TEXTURE0",w[w.TEXTURE1=33985]="TEXTURE1",w[w.TEXTURE2=33986]="TEXTURE2",w[w.TEXTURE3=33987]="TEXTURE3",w[w.TEXTURE4=33988]="TEXTURE4",w[w.TEXTURE5=33989]="TEXTURE5",w[w.TEXTURE6=33990]="TEXTURE6",w[w.TEXTURE7=33991]="TEXTURE7",w[w.TEXTURE8=33992]="TEXTURE8",w[w.TEXTURE9=33993]="TEXTURE9",w[w.TEXTURE10=33994]="TEXTURE10",w[w.TEXTURE11=33995]="TEXTURE11",w[w.TEXTURE12=33996]="TEXTURE12",w[w.TEXTURE13=33997]="TEXTURE13",w[w.TEXTURE14=33998]="TEXTURE14",w[w.TEXTURE15=33999]="TEXTURE15",w[w.TEXTURE16=34e3]="TEXTURE16",w[w.TEXTURE17=34001]="TEXTURE17",w[w.TEXTURE18=34002]="TEXTURE18",w[w.TEXTURE19=34003]="TEXTURE19",w[w.TEXTURE20=34004]="TEXTURE20",w[w.TEXTURE21=34005]="TEXTURE21",w[w.TEXTURE22=34006]="TEXTURE22",w[w.TEXTURE23=34007]="TEXTURE23",w[w.TEXTURE24=34008]="TEXTURE24",w[w.TEXTURE25=34009]="TEXTURE25",w[w.TEXTURE26=34010]="TEXTURE26",w[w.TEXTURE27=34011]="TEXTURE27",w[w.TEXTURE28=34012]="TEXTURE28",w[w.TEXTURE29=34013]="TEXTURE29",w[w.TEXTURE30=34014]="TEXTURE30",w[w.TEXTURE31=34015]="TEXTURE31",w[w.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",w[w.REPEAT=10497]="REPEAT",w[w.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",w[w.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",w[w.FLOAT_VEC2=35664]="FLOAT_VEC2",w[w.FLOAT_VEC3=35665]="FLOAT_VEC3",w[w.FLOAT_VEC4=35666]="FLOAT_VEC4",w[w.INT_VEC2=35667]="INT_VEC2",w[w.INT_VEC3=35668]="INT_VEC3",w[w.INT_VEC4=35669]="INT_VEC4",w[w.BOOL=35670]="BOOL",w[w.BOOL_VEC2=35671]="BOOL_VEC2",w[w.BOOL_VEC3=35672]="BOOL_VEC3",w[w.BOOL_VEC4=35673]="BOOL_VEC4",w[w.FLOAT_MAT2=35674]="FLOAT_MAT2",w[w.FLOAT_MAT3=35675]="FLOAT_MAT3",w[w.FLOAT_MAT4=35676]="FLOAT_MAT4",w[w.SAMPLER_2D=35678]="SAMPLER_2D",w[w.SAMPLER_CUBE=35680]="SAMPLER_CUBE",w[w.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",w[w.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",w[w.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",w[w.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",w[w.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",w[w.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",w[w.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",w[w.COMPILE_STATUS=35713]="COMPILE_STATUS",w[w.LOW_FLOAT=36336]="LOW_FLOAT",w[w.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",w[w.HIGH_FLOAT=36338]="HIGH_FLOAT",w[w.LOW_INT=36339]="LOW_INT",w[w.MEDIUM_INT=36340]="MEDIUM_INT",w[w.HIGH_INT=36341]="HIGH_INT",w[w.FRAMEBUFFER=36160]="FRAMEBUFFER",w[w.RENDERBUFFER=36161]="RENDERBUFFER",w[w.RGBA4=32854]="RGBA4",w[w.RGB5_A1=32855]="RGB5_A1",w[w.RGB565=36194]="RGB565",w[w.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",w[w.STENCIL_INDEX=6401]="STENCIL_INDEX",w[w.STENCIL_INDEX8=36168]="STENCIL_INDEX8",w[w.DEPTH_STENCIL=34041]="DEPTH_STENCIL",w[w.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",w[w.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",w[w.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",w[w.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",w[w.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",w[w.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",w[w.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",w[w.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",w[w.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",w[w.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",w[w.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",w[w.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",w[w.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",w[w.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",w[w.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",w[w.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",w[w.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",w[w.NONE=0]="NONE",w[w.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",w[w.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",w[w.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",w[w.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",w[w.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",w[w.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",w[w.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",w[w.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",w[w.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",w[w.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",w[w.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",w[w.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",w[w.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",w[w.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",w[w.COPY_SRC=1]="COPY_SRC",w[w.COPY_DST=2]="COPY_DST",w[w.SAMPLED=4]="SAMPLED",w[w.STORAGE=8]="STORAGE",w[w.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT";var _,M,S,O,I=function(){function t(){u()(this,t),this.config=void 0}return c()(t,[{key:"get",value:function(){return this.config}},{key:"set",value:function(t){this.config=t}}]),t}();"undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);!function(t){t.Void="Void",t.Boolean="Boolean",t.Float="Float",t.Uint32="Uint32",t.Int32="Int32",t.Vector="Vector",t.Vector2Float="vec2<f32>",t.Vector3Float="vec3<f32>",t.Vector4Float="vec4<f32>",t.Vector2Boolean="vec2<bool>",t.Vector3Boolean="vec3<bool>",t.Vector4Boolean="vec4<bool>",t.Vector2Uint="vec2<u32>",t.Vector3Uint="vec3<u32>",t.Vector4Uint="vec4<u32>",t.Vector2Int="vec2<i32>",t.Vector3Int="vec3<i32>",t.Vector4Int="vec4<i32>",t.Matrix="Matrix",t.Matrix3x3Float="mat3x3<f32>",t.Matrix4x4Float="mat4x4<i32>",t.Struct="Struct",t.FloatArray="Float[]",t.Vector4FloatArray="vec4<f32>[]"}(_||(_={})),function(t){t.Program="Program",t.Identifier="Identifier",t.VariableDeclaration="VariableDeclaration",t.BlockStatement="BlockStatement",t.ReturnStatement="ReturnStatement",t.FunctionDeclaration="FunctionDeclaration",t.VariableDeclarator="VariableDeclarator",t.AssignmentExpression="AssignmentExpression",t.LogicalExpression="LogicalExpression",t.BinaryExpression="BinaryExpression",t.ArrayExpression="ArrayExpression",t.UnaryExpression="UnaryExpression",t.UpdateExpression="UpdateExpression",t.FunctionExpression="FunctionExpression",t.MemberExpression="MemberExpression",t.ConditionalExpression="ConditionalExpression",t.ExpressionStatement="ExpressionStatement",t.CallExpression="CallExpression",t.NumThreadStatement="NumThreadStatement",t.StorageStatement="StorageStatement",t.DoWhileStatement="DoWhileStatement",t.WhileStatement="WhileStatement",t.ForStatement="ForStatement",t.BreakStatement="BreakStatement",t.ContinueStatement="ContinueStatement",t.IfStatement="IfStatement",t.ImportedFunctionStatement="ImportedFunctionStatement"}(M||(M={})),function(t){t.Input="Input",t.Output="Output",t.Uniform="Uniform",t.Workgroup="Workgroup",t.UniformConstant="UniformConstant",t.Image="Image",t.StorageBuffer="StorageBuffer",t.Private="Private",t.Function="Function"}(S||(S={})),function(t){t.GLSL100="GLSL100",t.GLSL450="GLSL450",t.WGSL="WGSL"}(O||(O={}));function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var k,T,D,j,L,P,N,R,B,z,F,G,V,U,W=function(){function t(e,n){u()(this,t),this.engine=e,this.configService=n,this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return c()(t,[{key:"init",value:function(){var t=this.configService.get(),e=t.canvas,n=t.engineOptions;this.initPromise=this.engine.init(C({canvas:e||function(){if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(),antialiasing:!1},n))}},{key:"setBundle",value:function(t){this.compiledBundle=JSON.parse(JSON.stringify(t))}},{key:"setDispatch",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=t),this}},{key:"setMaxIteration",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=t),this}},{key:"setBinding",value:function(t,e){var n=this;if("string"==typeof t){var r=p()(e)||d()(e)||v()(e);if(this.compiledBundle&&this.compiledBundle.context){var i=this.compiledBundle.context.defines.find(function(e){return e.name===t});if(i)return i.value=e,this;var o=this.compiledBundle.context.uniforms.find(function(e){return e.name===t});o&&(r?(o.data=e,o.isReferer=!1,o.storageClass===S.Uniform?this.model&&this.model.updateUniform(t,e):this.model&&this.model.updateBuffer(t,e)):(o.isReferer=!0,o.data=e))}}else Object.keys(t).forEach(function(e){n.setBinding(e,t[e])});return this}},{key:"execute",value:function(){var t=i()(m.a.mark(function t(){var e,n,r=this,i=arguments;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:1,!this.dirty){t.next=6;break}return this.compiledBundle.context&&(e>1?this.compiledBundle.context.maxIteration=e:this.compiledBundle.context.maxIteration++),t.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(t){return t.isReferer}).forEach(function(t){var e=t.data,n=t.name;r.model.confirmInput(e.model,n)}),n=0;n<e;n++)this.model.run();return this.engine.endFrame(),t.abrupt("return",this);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getOutput",value:function(){var t=i()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.model.readData());case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"compile",value:function(){var t=i()(m.a.mark(function t(){var e,n,r;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initPromise;case 2:return e=C({},this.compiledBundle.context),n=this.engine.supportWebGPU?this.engine.useWGSL?O.WGSL:O.GLSL450:O.GLSL100,r=this.compiledBundle.shaders[n],e.defines.filter(function(t){return t.runtime}).forEach(function(t){var e="".concat("__DefineValuePlaceholder__").concat(t.name);r=r.replace(e,"".concat(t.value))}),e.shader=r,e.uniforms.forEach(function(t){if(!t.data&&t.storageClass===S.StorageBuffer){var n=1;t.type===_.FloatArray?n=1:t.type===_.Vector4FloatArray&&(n=4),t.data=new Float32Array(e.output.length*n).fill(0)}}),this.compiledBundle.context=e,t.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=t.sent;case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}(),H=n("8a/n"),Y=n.n(H),X=function(){function t(e,n){u()(this,t),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,i=n.offset,o=n.stride,a=n.normalized,s=n.size,l=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:i||0,stride:o||0,normalized:a||!1,divisor:l||0},s&&(this.attribute.size=s)}return c()(t,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),q=(k={},a()(k,A.POINTS,"points"),a()(k,A.LINES,"lines"),a()(k,A.LINE_LOOP,"line loop"),a()(k,A.LINE_STRIP,"line strip"),a()(k,A.TRIANGLES,"triangles"),a()(k,A.TRIANGLE_FAN,"triangle fan"),a()(k,A.TRIANGLE_STRIP,"triangle strip"),k),Q=(T={},a()(T,A.STATIC_DRAW,"static"),a()(T,A.DYNAMIC_DRAW,"dynamic"),a()(T,A.STREAM_DRAW,"stream"),T),Z=(D={},a()(D,A.BYTE,"int8"),a()(D,A.UNSIGNED_INT,"int16"),a()(D,A.INT,"int32"),a()(D,A.UNSIGNED_BYTE,"uint8"),a()(D,A.UNSIGNED_SHORT,"uint16"),a()(D,A.UNSIGNED_INT,"uint32"),a()(D,A.FLOAT,"float"),D),K=(j={},a()(j,A.ALPHA,"alpha"),a()(j,A.LUMINANCE,"luminance"),a()(j,A.LUMINANCE_ALPHA,"luminance alpha"),a()(j,A.RGB,"rgb"),a()(j,A.RGBA,"rgba"),a()(j,A.RGBA4,"rgba4"),a()(j,A.RGB5_A1,"rgb5 a1"),a()(j,A.RGB565,"rgb565"),a()(j,A.DEPTH_COMPONENT,"depth"),a()(j,A.DEPTH_STENCIL,"depth stencil"),j),J=(L={},a()(L,A.DONT_CARE,"dont care"),a()(L,A.NICEST,"nice"),a()(L,A.FASTEST,"fast"),L),$=(P={},a()(P,A.NEAREST,"nearest"),a()(P,A.LINEAR,"linear"),a()(P,A.LINEAR_MIPMAP_LINEAR,"mipmap"),a()(P,A.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),a()(P,A.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),a()(P,A.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),P),tt=(N={},a()(N,A.REPEAT,"repeat"),a()(N,A.CLAMP_TO_EDGE,"clamp"),a()(N,A.MIRRORED_REPEAT,"mirror"),N),et=(R={},a()(R,A.NONE,"none"),a()(R,A.BROWSER_DEFAULT_WEBGL,"browser"),R),nt=(B={},a()(B,A.NEVER,"never"),a()(B,A.ALWAYS,"always"),a()(B,A.LESS,"less"),a()(B,A.LEQUAL,"lequal"),a()(B,A.GREATER,"greater"),a()(B,A.GEQUAL,"gequal"),a()(B,A.EQUAL,"equal"),a()(B,A.NOTEQUAL,"notequal"),B),rt=(z={},a()(z,A.FUNC_ADD,"add"),a()(z,A.MIN_EXT,"min"),a()(z,A.MAX_EXT,"max"),a()(z,A.FUNC_SUBTRACT,"subtract"),a()(z,A.FUNC_REVERSE_SUBTRACT,"reverse subtract"),z),it=(F={},a()(F,A.ZERO,"zero"),a()(F,A.ONE,"one"),a()(F,A.SRC_COLOR,"src color"),a()(F,A.ONE_MINUS_SRC_COLOR,"one minus src color"),a()(F,A.SRC_ALPHA,"src alpha"),a()(F,A.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),a()(F,A.DST_COLOR,"dst color"),a()(F,A.ONE_MINUS_DST_COLOR,"one minus dst color"),a()(F,A.DST_ALPHA,"dst alpha"),a()(F,A.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),a()(F,A.CONSTANT_COLOR,"constant color"),a()(F,A.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),a()(F,A.CONSTANT_ALPHA,"constant alpha"),a()(F,A.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),a()(F,A.SRC_ALPHA_SATURATE,"src alpha saturate"),F),ot=(G={},a()(G,A.NEVER,"never"),a()(G,A.ALWAYS,"always"),a()(G,A.LESS,"less"),a()(G,A.LEQUAL,"lequal"),a()(G,A.GREATER,"greater"),a()(G,A.GEQUAL,"gequal"),a()(G,A.EQUAL,"equal"),a()(G,A.NOTEQUAL,"notequal"),G),at=(V={},a()(V,A.ZERO,"zero"),a()(V,A.KEEP,"keep"),a()(V,A.REPLACE,"replace"),a()(V,A.INVERT,"invert"),a()(V,A.INCR,"increment"),a()(V,A.DECR,"decrement"),a()(V,A.INCR_WRAP,"increment wrap"),a()(V,A.DECR_WRAP,"decrement wrap"),V),st=(U={},a()(U,A.FRONT,"front"),a()(U,A.BACK,"back"),U),ut=function(){function t(e,n){u()(this,t),this.buffer=void 0;var r=n.data,i=n.usage,o=n.type;this.buffer=e.buffer({data:r,usage:Q[i||A.STATIC_DRAW],type:Z[o||A.UNSIGNED_BYTE]})}return c()(t,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(t){var e=t.data,n=t.offset;this.buffer.subdata(e,n)}}]),t}(),lt=n("rzQm"),ct=n.n(lt);function ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var ft="attribute vec3 a_Position;\nattribute vec2 a_TexCoord;\n\nvarying vec2 v_TexCoord;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 1.0);\n  v_TexCoord = a_TexCoord;\n}",pt=0,gt=!1,vt=function(){function t(e,n){var r=this;u()(this,t),this.reGl=e,this.context=n,this.entity=x(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var i={};this.context.uniforms.forEach(function(t){var e=t.name,n=t.type,o=t.data,a=t.isReferer,s=t.storageClass;if(s===S.StorageBuffer){if(a)r.textureCache[e]={data:void 0},i["".concat(e,"Size")]=function(){return o.compiledBundle.context.output.textureSize};else{r.textureCache[e]=r.calcDataTexture(e,n,o);var u=r.textureCache[e],l=u.textureWidth,c=u.isOutput;i["".concat(e,"Size")]=[l,l],c&&(r.outputTextureName=e,r.context.needPingpong&&(r.outputTextureName="".concat(e,"Output"),r.textureCache[r.outputTextureName]=r.calcDataTexture(e,n,o)))}i[e]=function(){return gt&&console.log("[".concat(r.entity,"]: ").concat(e," ").concat(r.textureCache[e].id)),r.textureCache[e].texture}}else if(s===S.Uniform){if(o&&(Array.isArray(o)||d()(o))&&o.length>16)throw new Error("invalid data type ".concat(n));i[e]=function(){return t.data}}});var o=this.getOuputDataTexture(),a=o.textureWidth,s=o.texelCount;i.u_OutputTextureSize=[a,a],i.u_OutputTexelCount=s,this.context.output.textureSize=[a,a];var l={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(this.context.shader),uniforms:i,vert:ft,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(l)}return c()(t,[{key:"run",value:function(){var t=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){t.computeCommand()}),gt&&console.log("[".concat(this.entity,"]: output ").concat(this.getOuputDataTexture().id))}},{key:"readData",value:function(){var t=i()(m.a.mark(function t(){var e,n,r,i,o,a,s,u,l=this;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){e=l.reGl.read()}),!e){t.next=6;break}if(n=this.getOuputDataTexture(),r=n.originalDataLength,i=n.elementsPerTexel,o=n.typedArrayConstructor,a=void 0===o?Float32Array:o,s=[],4!==i)for(u=0;u<e.length;u+=4)1===i?s.push(e[u]):2===i?s.push(e[u],e[u+1]):s.push(e[u],e[u+1],e[u+2]);else s=e;return t.abrupt("return",new a(s.slice(0,r)));case 6:return t.abrupt("return",new Float32Array);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"confirmInput",value:function(t,e){var n;this.entity===t.entity?(this.dynamicPingpong=!0,n=this):n=t,this.textureCache[e].id=n.getOuputDataTexture().id,this.textureCache[e].texture=n.getOuputDataTexture().texture,gt&&console.log("[".concat(this.entity,"]: confirm input ").concat(e," from model ").concat(n.entity,", ").concat(n.getOuputDataTexture().id))}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=this.context.uniforms.find(function(e){return e.name===t});if(n){var r=this.calcDataTexture(t,n.type,e),i=r.texture,o=r.data;this.textureCache[t].data=o,this.textureCache[t].texture=i}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var t=this.context.output.name;this.textureCache[t].id=this.getOuputDataTexture().id,this.textureCache[t].texture=this.getOuputDataTexture().texture}var e=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=e,gt&&console.log("[".concat(this.entity,"]: after swap, output ").concat(this.getOuputDataTexture().id))}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var t=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=t}},{key:"cloneDataTexture",value:function(t){var e=t.data,n=t.textureWidth;return dt(dt({},t),{},{id:pt++,texture:this.reGl.texture({width:n,height:n,data:e,type:"float"})})}},{key:"calcDataTexture",value:function(t,e,n){var r=1;e===_.Vector4FloatArray&&(r=4);for(var i=[],o=0;o<n.length;o+=r)1===r?i.push(n[o],0,0,0):2===r?i.push(n[o],n[o+1],0,0):3===r?i.push(n[o],n[o+1],n[o+2],0):4===r&&i.push(n[o],n[o+1],n[o+2],n[o+3]);var a=n.length,s=Math.ceil(a/r),u=Math.ceil(Math.sqrt(s)),l=u*u;s<l&&i.push.apply(i,ct()(new Array(4*(l-s)).fill(0)));var c=this.reGl.texture({width:u,height:u,data:i,type:"float"});return{id:pt++,data:i,originalDataLength:a,typedArrayConstructor:d()(n)?n.constructor:void 0,textureWidth:u,texture:c,texelCount:s,elementsPerTexel:r,isOutput:t===this.context.output.name}}}]),t}(),yt=function(){function t(e,n){u()(this,t),this.elements=void 0;var r=n.data,i=n.usage,o=n.type,a=n.count;this.elements=e.elements({data:r,usage:Q[i||A.STATIC_DRAW],type:Z[o||A.UNSIGNED_BYTE],count:a})}return c()(t,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(t){var e=t.data;this.elements.subdata(e)}},{key:"destroy",value:function(){this.elements.destroy()}}]),t}(),mt=function(){function t(e,n){u()(this,t),this.framebuffer=void 0;var r=n.width,i=n.height,o=n.color,a=n.colors,s=(n.depth,n.stencil,{width:r,height:i});Array.isArray(a)&&(s.colors=a.map(function(t){return t.get()})),o&&"boolean"!=typeof o&&(s.color=o.get()),this.framebuffer=e.framebuffer(s)}return c()(t,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.framebuffer.resize(e,n)}}]),t}(),bt=n("Oy1H"),xt=n.n(bt),At=n("9UkZ"),wt=n.n(At);function _t(t){var e={};return Object.keys(t).forEach(function(n){!function t(e,n,r,i){if(null===n||"number"==typeof n||"boolean"==typeof n||Array.isArray(n)&&"number"==typeof n[0]||d()(n)||""===n||void 0!==n.resize)return void(r["".concat(i&&i+".").concat(e)]=n);wt()(n)&&Object.keys(n).forEach(function(o){t(o,n[o],r,"".concat(i&&i+".").concat(e))});Array.isArray(n)&&n.forEach(function(n,o){Object.keys(n).forEach(function(a){t(a,n[a],r,"".concat(i&&i+".").concat(e,"[").concat(o,"]"))})})}(n,t[n],e,"")}),e}function Mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Ot=function(){function t(e,n){u()(this,t),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=e;var r=n.vs,i=n.fs,o=n.defines,a=n.attributes,s=n.uniforms,l=n.primitive,c=n.count,h=n.elements,d=n.depth,f=n.blend,p=n.stencil,g=n.cull,v=n.instances,y=n.scissor,m=n.viewport,b={};s&&(this.uniforms=_t(s),Object.keys(s).forEach(function(t){b[t]=e.prop(t)}));var x={};Object.keys(a).forEach(function(t){x[t]=a[t].get()});var w=o&&this.generateDefines(o)||"",_={attributes:x,frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(w,"\n").concat(i),uniforms:b,vert:"\n".concat(w,"\n").concat(r),primitive:q[void 0===l?A.TRIANGLES:l]};v&&(_.instances=v),c&&(_.count=c),h&&(_.elements=h.get()),y&&(_.scissor=y),m&&(_.viewport=m),this.initDepthDrawParams({depth:d},_),this.initBlendDrawParams({blend:f},_),this.initStencilDrawParams({stencil:p},_),this.initCullDrawParams({cull:g},_),this.drawCommand=e(_)}return c()(t,[{key:"addUniforms",value:function(t){this.uniforms=St(St({},this.uniforms),_t(t))}},{key:"draw",value:function(t){var e=St(St({},this.uniforms),_t(t.uniforms||{})),n={};Object.keys(e).forEach(function(t){var r=xt()(e[t]);"boolean"===r||"number"===r||Array.isArray(e[t])||e[t].BYTES_PER_ELEMENT?n[t]=e[t]:"string"===r||(n[t]=e[t].get())}),this.drawCommand(n)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(t,e){var n=t.depth;n&&(e.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:nt[n.func||A.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(t,e){var n=t.blend;if(n){var r=n.enable,i=n.func,o=n.equation,a=n.color,s=void 0===a?[0,0,0,0]:a;e.blend={enable:!!r,func:{srcRGB:it[i&&i.srcRGB||A.SRC_ALPHA],srcAlpha:it[i&&i.srcAlpha||A.SRC_ALPHA],dstRGB:it[i&&i.dstRGB||A.ONE_MINUS_SRC_ALPHA],dstAlpha:it[i&&i.dstAlpha||A.ONE_MINUS_SRC_ALPHA]},equation:{rgb:rt[o&&o.rgb||A.FUNC_ADD],alpha:rt[o&&o.alpha||A.FUNC_ADD]},color:s}}}},{key:"initStencilDrawParams",value:function(t,e){var n=t.stencil;if(n){var r=n.enable,i=n.mask,o=void 0===i?-1:i,a=n.func,s=void 0===a?{cmp:A.ALWAYS,ref:0,mask:-1}:a,u=n.opFront,l=void 0===u?{fail:A.KEEP,zfail:A.KEEP,zpass:A.KEEP}:u,c=n.opBack,h=void 0===c?{fail:A.KEEP,zfail:A.KEEP,zpass:A.KEEP}:c;e.stencil={enable:!!r,mask:o,func:St(St({},s),{},{cmp:ot[s.cmp]}),opFront:{fail:at[l.fail],zfail:at[l.zfail],zpass:at[l.zpass]},opBack:{fail:at[h.fail],zfail:at[h.zfail],zpass:at[h.zpass]}}}}},{key:"initCullDrawParams",value:function(t,e){var n=t.cull;if(n){var r=n.enable,i=n.face,o=void 0===i?A.BACK:i;e.cull={enable:!!r,face:st[o]}}}},{key:"generateDefines",value:function(t){return Object.keys(t).map(function(e){return"#define ".concat(e," ").concat(Number(t[e]))}).join("\n")}}]),t}(),It=function(){function t(e,n){u()(this,t),this.texture=void 0,this.width=void 0,this.height=void 0;var r=n.data,i=n.type,o=void 0===i?A.UNSIGNED_BYTE:i,a=n.width,s=n.height,l=n.flipY,c=void 0!==l&&l,h=n.format,d=void 0===h?A.RGBA:h,f=n.mipmap,p=void 0!==f&&f,g=n.wrapS,v=void 0===g?A.CLAMP_TO_EDGE:g,y=n.wrapT,m=void 0===y?A.CLAMP_TO_EDGE:y,b=n.aniso,x=void 0===b?0:b,w=n.alignment,_=void 0===w?1:w,M=n.premultiplyAlpha,S=void 0!==M&&M,O=n.mag,I=void 0===O?A.NEAREST:O,E=n.min,C=void 0===E?A.NEAREST:E,k=n.colorSpace,T=void 0===k?A.BROWSER_DEFAULT_WEBGL:k;this.width=a,this.height=s;var D={width:a,height:s,type:Z[o],format:K[d],wrapS:tt[v],wrapT:tt[m],mag:$[I],min:$[C],alignment:_,flipY:c,colorSpace:et[T],premultiplyAlpha:S,aniso:x};r&&(D.data=r),"number"==typeof p?D.mipmap=J[p]:"boolean"==typeof p&&(D.mipmap=p),this.texture=e.texture(D)}return c()(t,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.texture.resize(e,n),this.width=e,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),t}(),Et=function(){function t(){var e=this;u()(this,t),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var t=i()(m.a.mark(function t(n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.uniforms){t.next=3;break}return t.next=3,Promise.all(Object.keys(n.uniforms).map(function(){var t=i()(m.a.mark(function t(e){var r;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.uniforms[e]||void 0===n.uniforms[e].load){t.next=5;break}return t.next=3,n.uniforms[e].load();case 3:r=t.sent,n.uniforms[e]=r;case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 3:return t.abrupt("return",new Ot(e.gl,n));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new X(e.gl,t)},this.createBuffer=function(t){return new ut(e.gl,t)},this.createElements=function(t){return new yt(e.gl,t)},this.createTexture2D=function(t){return new It(e.gl,t)},this.createFramebuffer=function(t){return new mt(e.gl,t)},this.useFramebuffer=function(t,n){e.gl({framebuffer:t?t.get():null})(n)},this.createComputeModel=function(){var t=i()(m.a.mark(function t(n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new vt(e.gl,n));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),this.clear=function(t){var n=t.color,r=t.depth,i=t.stencil,o=t.framebuffer,a=void 0===o?null:o,s={color:n,depth:r,stencil:i};s.framebuffer=null===a?a:a.get(),e.gl.clear(s)},this.setScissor=function(t){e.gl&&e.gl._gl&&(t.enable&&t.box?(e.gl._gl.enable(A.SCISSOR_TEST),e.gl._gl.scissor(t.box.x,t.box.y,t.box.width,t.box.height)):e.gl._gl.disable(A.SCISSOR_TEST),e.gl._refresh())},this.viewport=function(t){var n=t.x,r=t.y,i=t.width,o=t.height;e.gl&&e.gl._gl&&(e.gl._gl.viewport(n,r,i,o),e.gl._refresh())},this.readPixels=function(t){var n=t.framebuffer,r={x:t.x,y:t.y,width:t.width,height:t.height};return n&&(r.framebuffer=n.get()),e.gl.read(r)},this.getCanvas=function(){return e.$canvas},this.getGLContext=function(){return e.gl._gl},this.destroy=function(){e.gl&&(e.gl.destroy(),e.inited=!1)}}return c()(t,[{key:"init",value:function(){var t=i()(m.a.mark(function t(e){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.inited){t.next=2;break}return t.abrupt("return");case 2:return this.$canvas=e.canvas,t.next=5,new Promise(function(t,n){Y()({canvas:e.canvas,attributes:{alpha:!0,antialias:e.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(e,r){!e&&r||n(e),t(r)}})});case 5:this.gl=t.sent,this.inited=!0;case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),t}(),Ct=function(){function t(){u()(this,t),this.engine=void 0,this.configService=new I}return c()(t,[{key:"setConfig",value:function(t){this.configService.set(t)}},{key:"setEngine",value:function(t){this.engine=t}},{key:"createEntity",value:function(){return x()}},{key:"createKernel",value:function(t){var e=new W(this.engine,this.configService);return"string"==typeof t?e.setBundle(JSON.parse(t)):e.setBundle(t),e.init(),e}},{key:"destroy",value:function(){this.engine.destroy()}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new t;return n.setConfig(e),n.setEngine(new Et),n}}]),t}();n.d(e,"World",function(){return Ct}),n.d(e,"Kernel",function(){return W})},JL8M:function(t,e,n){"use strict";var r=n("TToO"),i=n("fzH7"),o=n("MdiT"),a=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,a=t.maxY;if(e){var s=Object(o.c)(e,[t.minX,t.minY]),u=Object(o.c)(e,[t.maxX,t.minY]),l=Object(o.c)(e,[t.minX,t.maxY]),c=Object(o.c)(e,[t.maxX,t.maxY]);n=Math.min(s[0],u[0],l[0],c[0]),i=Math.max(s[0],u[0],l[0],c[0]),r=Math.min(s[1],u[1],l[1],c[1]),a=Math.max(s[1],u[1],l[1],c[1])}var h=this.attrs;if(h.shadowColor){var d=h.shadowBlur,f=void 0===d?0:d,p=h.shadowOffsetX,g=void 0===p?0:p,v=h.shadowOffsetY,y=void 0===v?0:v,m=n-f+g,b=i+f+g,x=r-f+y,A=a+f+y;n=Math.min(n,m),i=Math.max(i,b),r=Math.min(r,x),a=Math.max(a,A)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:a,width:i-n,height:a-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[t,e,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},e}(i.a);e.a=a},"JUN/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=t&&(this.quad=t)}return t.prototype.insert=function(e){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new t(this.quad.NW()),this.NE=new t(this.quad.NE()),this.SW=new t(this.quad.SW()),this.SE=new t(this.quad.SE())),this._putBody(this.body),this._putBody(e),this.body=this.body.add(e)):(this.body=this.body.add(e),this._putBody(e)):this.body=e},t.prototype._putBody=function(t){this.quad&&(t.in(this.quad.NW())&&this.NW?this.NW.insert(t):t.in(this.quad.NE())&&this.NE?this.NE.insert(t):t.in(this.quad.SW())&&this.SW?this.SW.insert(t):t.in(this.quad.SE())&&this.SE&&this.SE.insert(t))},t.prototype._isExternal=function(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE},t.prototype.updateForce=function(t){null!=this.body&&t!==this.body&&(this._isExternal()?t.addForce(this.body):(this.quad?this.quad.getLength():0)/this.body.distanceTo(t)<this.theta?t.addForce(this.body):(this.NW&&this.NW.updateForce(t),this.NE&&this.NE.updateForce(t),this.SW&&this.SW.updateForce(t),this.SE&&this.SE.updateForce(t)))},t}();e.default=r},Jsh2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){var n=t.nodes,r=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(t,e){o[t.id]=e,i.push([])}),r&&r.forEach(function(t){var n=t.source,r=t.target,a=o[n],s=o[r];!a&&0!==a||!s&&0!==s||(i[a][s]=1,e||(i[s][a]=1))}),i};e.default=r},"JwB+":function(t,e,n){"use strict";var r=n("TToO"),i=n("IgWN"),o=n("fzH7"),a=n("BuFP"),s={},u="_INDEX";var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,o=[],s=[],u=this.getChildren().filter(function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)});return u.length>0?(Object(a.a)(u,function(t){var e=t.getBBox();o.push(e.minX,e.maxX),s.push(e.minY,e.maxY)}),t=Object(i.min)(o),e=Object(i.max)(o),n=Object(i.min)(s),r=Object(i.max)(s)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,o=[],s=[],u=this.getChildren().filter(function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)});return u.length>0?(Object(a.a)(u,function(t){var e=t.getCanvasBBox();o.push(e.minX,e.maxX),s.push(e.minY,e.maxY)}),t=Object(i.min)(o),e=Object(i.max)(o),n=Object(i.min)(s),r=Object(i.max)(s)):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();Object(a.a)(e,function(e){e.applyMatrix(t)})},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];Object(a.f)(n)?r=n:r.type=n;var i=s[r.type];i||(i=Object(a.k)(r.type),s[r.type]=i);var o=new(this.getShapeBase()[i])(r);return this.add(o),o},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if(Object(a.d)(r))n=new r(i||{parent:this});else{var o=r||{};n=new(this.getGroupBase())(o)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!Object(a.b)(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;o>=0;o--){var s=t[o];if(Object(a.b)(s)&&(s.isGroup()?i=s.getShape(e,n,r):s.isHit(e,n)&&(i=s)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=t.getParent();i&&function(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),Object(a.j)(t.getChildren(),e)}(i,t,!1),t.set("parent",this),e&&function t(e,n){if(e.set("canvas",n),e.isGroup()){var r=e.get("children");r.length&&r.forEach(function(e){t(e,n)})}}(t,e),r&&function t(e,n){if(e.set("timeline",n),e.isGroup()){var r=e.get("children");r.length&&r.forEach(function(e){t(e,n)})}}(t,r),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t,e=this.getChildren();Object(a.a)(e,function(t,e){return t[u]=e,t}),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var r=t(e,n);return 0===r?e[u]-n[u]:r})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return Object(a.a)(n,function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))}),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return Object(a.a)(n,function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1}),e},e.prototype.findById=function(t){return this.find(function(e){return e.get("id")===t})},e.prototype.findByClassName=function(t){return this.find(function(e){return e.get("className")===t})},e.prototype.findAllByName=function(t){return this.findAll(function(e){return e.get("name")===t})},e}(o.a);e.a=l},KdR5:function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wgARCACoAKMDASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAYHAQQFAgP/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGvwAAAAAAAAAAAAADJsd75WSV7H7krIj7OAAAAAAAADvWVWFlm9WdmVmRrGcAAAAAAADOBJLJqeyDr19Y3GKl+Pc4YAAAAAAABmwK+n5O9He0StY7Io6AAAAAAAAJ/AJ+TvQ39IrSOyaMgAAAAAAACfQGXll/L57JBIHbNbnLAAAAAAAA7PG+hb/XiEtOfW9sV6Ql68gAAAAAAD15EusOobDJHX0xg5EPPryAAAAAAAAetnUG78PiAAAAPQAAAAAAAAAAP/8QAJRAAAQMDAwQDAQAAAAAAAAAAAQACEgMEQAURMRAhIjMUMDJQ/9oACAEBAAEFAv6VKnM09NLw/TC0VKcHYAWn0930KYa2uzwvWbPPOBYP2fbu3bW9d9+zzgWI8rUbNreu+/Z5+8LTx50R41fxe0u727HAtKsHWVaYPdXVAQuqexwAdlpDielz67znB0fpc+u85wdH6XPrvOcHR+lwN2Xrdjg6P0e2Q1Kj2cNjgaZVgqT5BX1OTbpkTgWlSJs3yYrlsm37CDgMPlpz/BvBHbVR3OAObGvsqJ3YeNV5ODbvi62u2hny6e2p1WvJwQdkLh4XyqidUc7NiVEqJUSolRKiVEqJUSolRKiVEqJUSolRKiVEqJX/xAAUEQEAAAAAAAAAAAAAAAAAAABg/9oACAEDAQE/AXP/xAAUEQEAAAAAAAAAAAAAAAAAAABg/9oACAECAQE/AXP/xAAcEAADAQADAQEAAAAAAAAAAAAAATFAEBEhUGD/2gAIAQEABj8C+r1leV5XleV5WPIx5GPI/wAkhcvEly8frKPrJT3bCEIQhCEIQhCEIQhCEP/EACEQAAICAwACAgMAAAAAAAAAAAABEWEhMUAQQSBxUFGR/9oACAEBAAE/IfyTIkT7JPsj+EZMQqf2IMCm4jhQnBAEcbvA2cLWv2PQbvA2cGwpp9iksCSyGN0DWcMBkQvIkIHWQKdHCzRijL+Envlye+XJ748SHMPfHxBC7SGs4ZUEW/CGSJfwoWLQIeyBrnhYixkjSFN5Eot+DFSSEezb42/AtkbkVEgcnD+khEb8LdDUvwNq7bRaLRaLRaLRaLRaLRaLRaLRaLRaLRaLR//aAAwDAQACAAMAAAAQwwwwwwwwwwwAAAAU0oAAAAAAAQo8oAAAAAAAQUIkAAAAAAAAwo8AAAAAAAAA40AAAAAAAAQ0cAAAAAAAAUQEIAAAAAAAE88oAAAAAAAAAgAAAAAA8gAAAcgAA//EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQMBAT8Qc//EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQIBAT8Qc//EACMQAAMAAQQCAgMBAAAAAAAAAAABEVExQEHxIaFxgRBhkTD/2gAIAQEAAT8QryyvLK8sryyvLK8sryyvLK8sryyvLK8sryyvLK8sryyvLK8sryyvLK8v/KEezUEWsnK8lgd20foemvgajmwRQYq4EALQZsWjGhOWLGWwoo2N8jrHwemz3HsYldCDVCgYPSF/o9lJFuCilofFheWV8HiabBeC2ceRRKvAmrQflLMEvcj1ewZWAgJj8I4XwesewPVsEaPpHC+B/wCR7A9WwRo+kcL4PSPYHq2CNH0jhfA5Jyh+tPUerYIZJfSFovgoh5AlGudjBR4GfqBKkuZIrnYptuVofafA18kYcDvR6jTWwij5G2eR58krgniFmwtRhjKGBdDVI9H8bX2HghZvwqNIyWrGMWGgx8Ma7E/rCKPnyNql/wBHDbH9lu86A6A6A6A6o6A6A6A6A6A6A6A6A6A6A646A6A6A6A6A//Z"},KgSl:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(t){this.count=t.length,this.parent={};for(var e=0,n=t;e<n.length;e++){var r=n[e];this.parent[r]=r}}return t.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},t.prototype.union=function(t,e){var n=this.find(t),r=this.find(e);n!==r&&(n<r?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},t.prototype.connected=function(t,e){return this.find(t)===this.find(e)},t}();e.default=r},LTpj:function(t,e){},LXZJ:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("mFJn")),o=function(t){var e=[],n={},r={},i=function(o){var a;r[o]||(r[o]=!0,n[o]=!0,null===(a=t.outEdges(o))||void 0===a||a.forEach(function(t){n[t.w]?e.push(t):i(t.w)}),delete n[o])};return t.nodes().forEach(i),e};e.default={run:function(t){var e="greedy"===t.graph().acyclicer?(0,i.default)(t,function(t){return function(e){var n;return(null===(n=t.edge(e))||void 0===n?void 0:n.weight)||1}}(t)):o(t);null===e||void 0===e||e.forEach(function(e){var n=t.edge(e);t.removeEdgeObj(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,"rev-".concat(Math.random()))})},undo:function(t){t.edges().forEach(function(e){var n=t.edge(e);if(n.reversed){t.removeEdgeObj(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}}},LsnM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MESSAGE=e.ALGORITHM=void 0;e.ALGORITHM={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};e.MESSAGE={SUCCESS:"SUCCESS",FAILURE:"FAILURE"}},MTK1:function(t,e,n){"use strict";var r=new Map;function i(t,e){r.set(t,e)}function o(t){return r.get(t)}var a=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}},s=function(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}},u=n("6zlC");function l(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function c(t,e){var n=t.get("startArrowShape"),r=t.get("endArrowShape");return n&&(e=l(e,n.getCanvasBBox())),r&&(e=l(e,r.getCanvasBBox())),e}var h=n("Tb0P"),d=n("wHEO"),f=n("IgWN");function p(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),u=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!u||0===Math.sin(u)||Object(f.isNumberEqual)(u,0))return{xExtra:0,yExtra:0};var l=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),c=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return l=l>Math.PI/2?Math.PI-l:l,c=c>Math.PI/2?Math.PI-c:c,{xExtra:Math.cos(u/2-l)*(e/2*(1/Math.sin(u/2)))-e/2||0,yExtra:Math.cos(c-u/2)*(e/2*(1/Math.sin(u/2)))-e/2||0}}n.d(e,"a",function(){return o}),n.d(e,!1,function(){return i}),i("rect",a),i("image",a),i("circle",s),i("marker",s),i("polyline",function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}var a=u.f.getBBoxByArray(n,r),s=a.x,l=a.y,h={minX:s,minY:l,maxX:s+a.width,maxY:l+a.height};return{x:(h=c(t,h)).minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}}),i("polygon",function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}return u.f.getBBoxByArray(n,r)}),i("text",function(t){var e=t.attr(),n=e.x,r=e.y,i=e.text,o=e.fontSize,a=e.lineHeight,s=e.font;s||(s=Object(h.a)(e));var u,l=Object(h.c)(i,s);if(l){var c=e.textAlign,d=e.textBaseline,f=Object(h.b)(i,o,a),p={x:n,y:r-f};c&&("end"===c||"right"===c?p.x-=l:"center"===c&&(p.x-=l/2)),d&&("top"===d?p.y+=f:"middle"===d&&(p.y+=f/2)),u={x:p.x,y:p.y,width:l,height:f}}else u={x:n,y:r,width:0,height:0};return u}),i("path",function(t){var e=t.attr(),n=e.path,r=e.stroke?e.lineWidth:0,i=function(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var a=(m=t[o]).currentPoint,s=m.params,l=m.prePoint,c=void 0;switch(m.command){case"Q":c=u.e.box(l[0],l[1],s[1],s[2],s[3],s[4]);break;case"C":c=u.b.box(l[0],l[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var h=m.arcParams;c=u.a.box(h.cx,h.cy,h.rx,h.ry,h.xRotation,h.startAngle,h.endAngle);break;default:n.push(a[0]),r.push(a[1])}c&&(m.box=c,n.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),e&&("L"===m.command||"M"===m.command)&&m.prePoint&&m.nextPoint&&i.push(m)}n=n.filter(function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0}),r=r.filter(function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0});var d=Object(f.min)(n),g=Object(f.min)(r),v=Object(f.max)(n),y=Object(f.max)(r);if(0===i.length)return{x:d,y:g,width:v-d,height:y-g};for(o=0;o<i.length;o++){var m;(a=(m=i[o]).currentPoint)[0]===d?d-=p(m,e).xExtra:a[0]===v&&(v+=p(m,e).xExtra),a[1]===g?g-=p(m,e).yExtra:a[1]===y&&(y+=p(m,e).yExtra)}return{x:d,y:g,width:v-d,height:y-g}}(t.get("segments")||Object(d.d)(n),r),o=i.x,a=i.y,s={minX:o,minY:a,maxX:o+i.width,maxY:a+i.height};return{x:(s=c(t,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}}),i("line",function(t){var e=t.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a={minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,o),maxY:Math.max(r,o)};return{x:(a=c(t,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}}),i("ellipse",function(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}})},MdiT:function(t,e,n){"use strict";e.b=function(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],d=e[0],f=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return n[0]=d*r+f*a+p*l,n[1]=d*i+f*s+p*c,n[2]=d*o+f*u+p*h,n[3]=g*r+v*a+y*l,n[4]=g*i+v*s+y*c,n[5]=g*o+v*u+y*h,n[6]=m*r+b*a+x*l,n[7]=m*i+b*s+x*c,n[8]=m*o+b*u+x*h,n},e.c=function(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n},e.a=function(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=c*a-s*l,d=-c*o+s*u,f=l*o-a*u,p=n*h+r*d+i*f;if(!p)return null;return p=1/p,e[0]=h*p,e[1]=(-c*r+i*l)*p,e[2]=(s*r-i*a)*p,e[3]=d*p,e[4]=(c*n-i*u)*p,e[5]=(-s*n+i*o)*p,e[6]=f*p,e[7]=(-l*n+r*u)*p,e[8]=(a*n-r*o)*p,e}},MicU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){t.nodes().forEach(function(e){i(t.node(e))}),t.edges().forEach(function(e){i(t.edge(e))})},i=function(t){var e=t.width;t.width=t.height,t.height=e},o=function(t){t.nodes().forEach(function(e){a(t.node(e))}),t.edges().forEach(function(e){var n,r=t.edge(e);null===(n=r.points)||void 0===n||n.forEach(function(t){return a(t)}),r.hasOwnProperty("y")&&a(r)})},a=function(t){(null===t||void 0===t?void 0:t.y)&&(t.y=-t.y)},s=function(t){t.nodes().forEach(function(e){u(t.node(e))}),t.edges().forEach(function(e){var n,r=t.edge(e);null===(n=r.points)||void 0===n||n.forEach(function(t){return u(t)}),r.hasOwnProperty("x")&&u(r)})},u=function(t){var e=t.x;t.x=t.y,t.y=e};e.default={adjust:function(t){var e,n=null===(e=t.graph().rankdir)||void 0===e?void 0:e.toLowerCase();"lr"!==n&&"rl"!==n||r(t)},undo:function(t){var e,n=null===(e=t.graph().rankdir)||void 0===e?void 0:e.toLowerCase();"bt"!==n&&"rl"!==n||o(t),"lr"!==n&&"rl"!==n||(s(t),r(t))}}},Mkwl:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.width=e.sep=e.positionX=e.balance=e.alignCoordinates=e.findSmallestWidthAlignment=e.buildBlockGraph=e.horizontalCompaction=e.verticalAlignment=e.hasConflict=e.addConflict=e.findOtherInnerSegmentNode=e.findType2Conflicts=e.findType1Conflicts=void 0;var o=n("1we+"),a=n("+ZTV"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(o.Graph);e.findType1Conflicts=function(t,n){var r={};return(null===n||void 0===n?void 0:n.length)&&n.reduce(function(n,i){var o=0,a=0,s=n.length,u=null===i||void 0===i?void 0:i[(null===i||void 0===i?void 0:i.length)-1];return null===i||void 0===i||i.forEach(function(n,l){var c,h=(0,e.findOtherInnerSegmentNode)(t,n),d=h?t.node(h).order:s;(h||n===u)&&(null===(c=i.slice(a,l+1))||void 0===c||c.forEach(function(n){var i;null===(i=t.predecessors(n))||void 0===i||i.forEach(function(i){var a,s=t.node(i),u=s.order;!(u<o||d<u)||s.dummy&&(null===(a=t.node(n))||void 0===a?void 0:a.dummy)||(0,e.addConflict)(r,i,n)})}),a=l+1,o=d)}),i}),r};e.findType2Conflicts=function(t,n){var r={};function i(n,i){var o=function(t){return JSON.stringify(t.slice(1))}(n);i.get(o)||(function(n,i,o,a,s){for(var u,l,c,h=i;h<o;h++)c=n[h],(null===(u=t.node(c))||void 0===u?void 0:u.dummy)&&(null===(l=t.predecessors(c))||void 0===l||l.forEach(function(n){var i=t.node(n);i.dummy&&(i.order<a||i.order>s)&&(0,e.addConflict)(r,n,c)}))}.apply(void 0,n),i.set(o,!0))}return(null===n||void 0===n?void 0:n.length)&&n.reduce(function(e,n){var r,o=-1,a=0,s=new Map;return null===n||void 0===n||n.forEach(function(u,l){var c;if("border"===(null===(c=t.node(u))||void 0===c?void 0:c.dummy)){var h=t.predecessors(u)||[];h.length&&(r=t.node(h[0]).order,i([n,a,l,o,r],s),a=l,o=r)}i([n,a,n.length,r,e.length],s)}),n}),r};e.findOtherInnerSegmentNode=function(t,e){var n,r;if(null===(n=t.node(e))||void 0===n?void 0:n.dummy)return null===(r=t.predecessors(e))||void 0===r?void 0:r.find(function(e){return t.node(e).dummy})};e.addConflict=function(t,e,n){var r=e,i=n;if(r>i){var o=r;r=i,i=o}var a=t[r];a||(t[r]=a={}),a[i]=!0};e.hasConflict=function(t,e,n){var r=e;r>n&&(r=n);return!!t[r]};e.verticalAlignment=function(t,n,r,i){var o={},a={},s={};return null===n||void 0===n||n.forEach(function(t){null===t||void 0===t||t.forEach(function(t,e){o[t]=t,a[t]=t,s[t]=e})}),null===n||void 0===n||n.forEach(function(t){var n=-1;null===t||void 0===t||t.forEach(function(t){var u=i(t);if(u.length)for(var l=((u=u.sort(function(t,e){return s[t]-s[e]})).length-1)/2,c=Math.floor(l),h=Math.ceil(l);c<=h;++c){var d=u[c];a[t]===t&&n<s[d]&&!(0,e.hasConflict)(r,t,d)&&(a[d]=t,a[t]=o[t]=o[d],n=s[d])}})}),{root:o,align:a}};e.horizontalCompaction=function(t,n,r,i,o){var a,s={},u=(0,e.buildBlockGraph)(t,n,r,o),l=o?"borderLeft":"borderRight",c=function(t,e){for(var n=u.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()};return c(function(t){s[t]=(u.inEdges(t)||[]).reduce(function(t,e){return Math.max(t,(s[e.v]||0)+u.edge(e))},0)},u.predecessors.bind(u)),c(function(e){var n=(u.outEdges(e)||[]).reduce(function(t,e){return Math.min(t,(s[e.w]||0)-u.edge(e))},Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==l&&(s[e]=Math.max(s[e],n))},u.successors.bind(u)),null===(a=Object.values(i))||void 0===a||a.forEach(function(t){s[t]=s[r[t]]}),s};e.buildBlockGraph=function(t,n,r,i){var o=new s,a=t.graph(),u=(0,e.sep)(a.nodesep,a.edgesep,i);return null===n||void 0===n||n.forEach(function(e){var n;null===e||void 0===e||e.forEach(function(e){var i=r[e];if(o.setNode(i),n){var a=r[n],s=o.edgeFromArgs(a,i);o.setEdge(a,i,Math.max(u(t,e,n),s||0))}n=e})}),o};function u(t,e){var n=Object.values(e),r=Math.min.apply(Math,n),i=Math.max.apply(Math,n);["u","d"].forEach(function(n){["l","r"].forEach(function(o){var a,s=n+o,u=t[s];if(u!==e){var l=Object.values(u);(a="l"===o?r-Math.min.apply(Math,l):i-Math.max.apply(Math,l))&&(t[s]={},Object.keys(u).forEach(function(e){t[s][e]=u[e]+a}))}})})}e.findSmallestWidthAlignment=function(t,n){return(0,a.minBy)(Object.values(n),function(n){var r,i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return null===(r=Object.keys(n))||void 0===r||r.forEach(function(r){var a=n[r],s=(0,e.width)(t,r)/2;i=Math.max(a+s,i),o=Math.min(a-s,o)}),i-o})},e.alignCoordinates=u;e.balance=function(t,e){var n={};return Object.keys(t.ul).forEach(function(r){if(e)n[r]=t[e.toLowerCase()][r];else{var i=Object.values(t).map(function(t){return t[r]});n[r]=(i[0]+i[1])/2}}),n};e.positionX=function(t){var n,r=(0,a.buildLayerMatrix)(t),i=Object.assign((0,e.findType1Conflicts)(t,r),(0,e.findType2Conflicts)(t,r)),o={};["u","d"].forEach(function(a){n="u"===a?r:Object.values(r).reverse(),["l","r"].forEach(function(r){"r"===r&&(n=n.map(function(t){return Object.values(t).reverse()}));var s=("u"===a?t.predecessors:t.successors).bind(t),u=(0,e.verticalAlignment)(t,n,i,s),l=(0,e.horizontalCompaction)(t,n,u.root,u.align,"r"===r);"r"===r&&Object.keys(l).forEach(function(t){l[t]=-l[t]}),o[a+r]=l})});var s=(0,e.findSmallestWidthAlignment)(t,o);return u(o,s),(0,e.balance)(o,t.graph().align)};e.sep=function(t,e,n){return function(r,i,o){var a,s=r.node(i),u=r.node(o),l=0;if(l+=s.width/2,s.hasOwnProperty("labelpos"))switch((s.labelpos||"").toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(l+=n?a:-a),a=0,l+=(s.dummy?e:t)/2,l+=(u.dummy?e:t)/2,l+=u.width/2,u.labelpos)switch((u.labelpos||"").toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(l+=n?a:-a),a=0,l}};e.width=function(t,e){return t.node(e).width||0}},N8pi:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFuncByUnknownType=e.getFunc=e.isFunction=void 0;var r=n("ZE1E"),i=n("yKiC");e.isFunction=function(t){return"function"==typeof t};e.getFunc=function(t,e,n){return n||((0,i.isNumber)(t)?function(){return t}:function(){return e})};e.getFuncByUnknownType=function(t,n,o){return void 0===o&&(o=!0),n||0===n?(0,e.isFunction)(n)?n:(0,i.isNumber)(n)?function(){return n}:(0,r.isArray)(n)?function(){if(o){var e=Math.max.apply(Math,n);return isNaN(e)?t:e}return n}:(0,r.isObject)(n)?function(){if(o){var e=Math.max(n.width,n.height);return isNaN(e)?t:e}return[n.width,n.height]}:function(){return t}:function(e){return e.size?(0,r.isArray)(e.size)?e.size[0]>e.size[1]?e.size[0]:e.size[1]:(0,r.isObject)(e.size)?e.size.width>e.size.height?e.size.width:e.size.height:e.size:t}}},NPXF:function(t,e){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},NTMn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPropertyWeight=e.getAllSortProperties=e.getAllProperties=e.default=void 0;var r=n("wRLm"),i=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=100);var n={};t.forEach(function(t){t.properties&&Object.keys(t.properties).forEach(function(e){"id"===e||!"".concat(t.properties[e]).match(r.secondReg)&&!"".concat(t.properties[e]).match(r.dateReg)&&isNaN(Number(t.properties[e]))?n.hasOwnProperty(e)&&delete n[e]:n.hasOwnProperty(e)?n[e]+=1:n[e]=1})});var i=Object.keys(n).sort(function(t,e){return n[e]-n[t]});return i.length<e?i:i.slice(0,e)};e.getAllSortProperties=i;var o=function(t,e){return e.map(function(e){return t.hasOwnProperty(e)?t[e]:0})},a=function(t){for(var e=i(t),n=[],r=0;r<t.length;r++)n[r]=o(t[r].properties,e);return n};e.getPropertyWeight=a;var s=function(t,e){void 0===e&&(e=void 0);var n=[];return t.forEach(function(t){void 0===e&&n.push(t),void 0!==t[e]&&n.push(t[e])}),n};e.getAllProperties=s;var u={getAllSortProperties:i,getPropertyWeight:a,getAllProperties:s};e.default=u},NVY2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"EPSILON",function(){return r}),n.d(e,"ARRAY_TYPE",function(){return i}),n.d(e,"RANDOM",function(){return o}),e.setMatrixArrayType=function(t){i=t},e.toRadian=function(t){return t*a},e.equals=function(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))};var r=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;var a=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},NgyD:function(t,e){t.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAB3RJTUUH2AcfARAOJFv6WgAACSxJREFUSIlFVlmPHUcVPufU0t23+66zeGY8nvGMHRsSx1kBEyDBVggSTyEPSDyBBP+An8ALEogHXkCIFxAREkIkxIqEgAAKCELAW8bEcRxvg69nvXfmzvS93V3b4aGReCuVqs631HeqCr/1nW8TURInRBqRlFJSSgAwxhRFMc7HkdbtVktHESKGEBCRmRGRUCARACBAYB9CcM4hoVKaEISURIIQpSAppSSSiFiXCCEQETMDAAkKHHwIzMwhBOb/wQC44EjKwIgAzA4REBGZrS1YSgwQIcZAUqlICIFIITCzo5oUojHGeRdCgMDOOWttDcnMUkoGCMzgrEDgEBwAIgohmBmQkQCq0rnSJQ3JjNZ6AAKAEEJdBQCc88EHa22k9P/kI9YLnLOAAkkJO47QSCWrEAGSc04IyQGkr7LSCI9Oaum9r6qqZo2I3nvvvRCCORRFAQxE5Jxz3gkStYIQAiMFtsocuMON3tSMkV1AycwRSc9CQ0jHk0Q3tgNLay0RGWO894hY02fmekYp5Tlg8EQUvDPGSCFCYOuM1mqwt3/3X5ceeeSMWIk0xsAi8B7JbFRxoyqiKK6YZFVVUkoiqrkrpQCgNgQRrbXWWiml1loIgYg+BACQWiHiRzc++vvfLt+8u/vSV9rdXtZuth8/u0KBHmzu55tyxznnKsnM9QFWVSWEqAUJIYQQdaLqQZ7nAFDDAIBn0EKGvESOdgc7vHMva4jpZPqYbi8sLjx7Krt0vbrVD0WeSymltdYYU8fg/xFyjohCCHEcK6W01saYyWTCDEJQHWAJFYLKYp6nwSw627/71mvXVh9/6pHjM3OpOnn+uas3tuXe3l5dS0pZR7C2AgCstbVLtWNSyiRJQgjWeRVCYnbitHTer0ynS62RGk8iihHNrWvvDu8lX/jyK72unhyflfXm2nfnnDGm1lHn1TlHiIjIBMaa4FEQS4ldLc6tLqTN8r13+4ttlHZDUtN6kGLcAet8OjhEHhxsP9ySQghgrjGklNa6/OAgsNNRTEKRQPSVtWCjQF6RU0tTcnm6aOzfmw69EyE/f6yxfLKL8n4ZgBRRUMG5ALy5OzKqHJaRrJtACEGIHBgAGo2GNZOqnAiSKo4dNWIhNFUL7WQm2j4xnXTUXr59Z/vuncTQ8093qoVltFXSgMqMy8JmvcVHPvU5PXMCo6mN4W1ZGRO8R0QppJJSSskMIUjggMymNAZ4rmeffLy52jnYWrvSMVONKKkQggTD2yfOnvlLX/3u94NHT2anPtbrHU1PPvFZ1V0Jen5zUG5uPJSEiEIAgDWmLAoiAkChEkHK+omS9hOnoxfP9hLc3r17pXi4tXjqjOg2+jc+UNjIEmn9AavTGwPxwY0bX46f+ubLX8tBF9zxLvntWxcrW0mlVN3DAsl7b51zphJu0kzl8vLU02dPLMQPxPD+1LHn1dyxUf93d+9vRpMMtKrGhbAcpay0++o3zk32Fz/30oUdS0BTpLq/efPN//TvdHvTsqqq+pZHxsAshWzEdinz555c/eQzH5udbr/zh8vj8XaygLOPnjx6cHm4fegmlGk1saUbV81IHGs1Pv/Cs/n+/oMhqnhFy+7rv3nz9t2bOzsPGVBWZcHMBBhTUjGlbu8zq/zSly6cOn2anSknxerpZ405tjtY846C0FlrGtnus1NJK+7MLjxxfn7pudv37ty9vf/Y2RfbveUf/+gHt27fLkxuDAid4vMvv6yUAiAKblYPL5xdeumFM73pJeeFkJFIGjpNAlV2vFONhsXE2AqVsMYMhEiTbndg05v3R/nB+MmnnhOi8/NXX11b+xcK2d/YXlhaaU3PSUR0zrY7vZNHG+em/IVPrYjFRRekECppt1FGHBKgOO6lydRyB9BX0jgzKUeb27vvrH04Mcnc/Klnnjy9O9z/8U9+ePPWh0msR/m41e0lWQYAMoqi8XgSIXzxxPHlJC52EeyeaDRA64OxA6UFJSxwUoxHg9294d5h7rb3DvbzfG5hpdVaeezM2aPzK++/v/a97393vX+v3esMNveb7W7W7npGBSCNMUopa6s/XLn80fq/gVRKIIBBKpaSGY+0OwbCuChD5dIsO7a82unOPHb6meOrj6btti38r3/5q5/94qd7B8MjizNbOzvOK+05JQkkmVnmeU5EUtJAdaosKyo/Aq3QCSaNCfvgR3ZxdbWbdWZ6s7Pz80fnjmRJlsUZElxaW7v4+ht//fOfkoaeW5irTKWiOIs6Siejw3FRuW67JXWkq7Lc3dm98OlzX3/llaIwFlRAi4BRFI/zMQH2pmeEirwLgujI7AyG0P9P//XXfvXaxTce9NdXjy/NHT1qjNkb7kdpM221AclY54x52N+Q1loSZIyZlFVrZrXhnPfeswvMznumqBnFEIICTJPYVebW9fcvXb508Y2Ll69cAgjzC0caSTwY7FaVkzJWOvM+NNKk2WwCYFVaWZUVIgYftnd2jDHM7L1nZEIkgGYjjaV01m5tbl5fu/7e1atXr15dX79vrdWR6nSa09Nd7+3ORl/Grflj8xQlIfB4PHbOaR0pJSUiGWOsMQ/7/clkkqZp4OBCAM/EMNodXrtz+5//fPedd/5x586dclyqiJRWrVbWbGXNZiNpxMFLJWWz3SmtZ8WATggqigIBpVKyqlwI4D1vbm1tbW3Nzs4OhoPDIh+PDvr31m+8d/29a1fur697F4TEJFNKiWaz1el0lBKAYTw+zPNJlLWb7c5h4YrJGBsqBIGIecjTNJEcIAQmkvt7o7W1tfPnzw/39m5+dPP6lasfXLu+/XDD2EoIETU0QCCBnU632cwA2JjSeWtMmbbaWXdex+lULCZFkee51lprbUxlbSnBh/oX6kG+/bd/LK4sv/2XP7791h83Hzz0lYmUimINwAxOa92b6qVpXBQFBzjM91HK7syRrDeNJEpTNuJ0qteRh3R4eCAQUVBRGFz6+NMsKQCIgEIEnfDmxvrh1kCREEIQEQMzhzSNe72eNR7Jk5BlYUejYWdmLmr1lI7SWHgXALDZbMZxXJZlnucqioGEtM5yQESigMH54f7QHk7SJKmfTyJSSglJ7XbqvfchADu2LniRtWey5hSTNpUXzADsvQOAqqriOI7j2FgXN/R/AVtCgavh6mEHAAAAAElFTkSuQmCC"},Ns9M:function(t,e,n){"use strict";var r={};n.d(r,"getAdjMatrix",function(){return A}),n.d(r,"breadthFirstSearch",function(){return C}),n.d(r,"connectedComponent",function(){return D}),n.d(r,"getDegree",function(){return L}),n.d(r,"getInDegree",function(){return P}),n.d(r,"getOutDegree",function(){return N}),n.d(r,"detectCycle",function(){return G}),n.d(r,"detectDirectedCycle",function(){return zt}),n.d(r,"detectAllCycles",function(){return F}),n.d(r,"detectAllDirectedCycle",function(){return z}),n.d(r,"detectAllUndirectedCycle",function(){return B}),n.d(r,"depthFirstSearch",function(){return R}),n.d(r,"dijkstra",function(){return V}),n.d(r,"findAllPath",function(){return Y}),n.d(r,"findShortestPath",function(){return H}),n.d(r,"floydWarshall",function(){return X}),n.d(r,"labelPropagation",function(){return q}),n.d(r,"louvain",function(){return nt}),n.d(r,"iLouvain",function(){return rt}),n.d(r,"kCore",function(){return it}),n.d(r,"kMeans",function(){return at}),n.d(r,"cosineSimilarity",function(){return st}),n.d(r,"nodesCosineSimilarity",function(){return ut}),n.d(r,"minimumSpanningTree",function(){return pt}),n.d(r,"pageRank",function(){return gt}),n.d(r,"getNeighbors",function(){return O}),n.d(r,"Stack",function(){return Bt}),n.d(r,"GADDI",function(){return Rt}),n.d(r,"default",function(){return Ft});var i={};n.d(i,"compare",function(){return Vt}),n.d(i,"getLineIntersect",function(){return Wt}),n.d(i,"getRectIntersectByPoint",function(){return Ht}),n.d(i,"getCircleIntersectByPoint",function(){return Yt}),n.d(i,"getEllipseIntersectByPoint",function(){return Xt}),n.d(i,"applyMatrix",function(){return qt}),n.d(i,"invertMatrix",function(){return Qt}),n.d(i,"getCircleCenterByPoints",function(){return Zt}),n.d(i,"distance",function(){return Kt}),n.d(i,"scaleMatrix",function(){return Jt}),n.d(i,"floydWarshall",function(){return $t}),n.d(i,"getAdjMatrix",function(){return te}),n.d(i,"translate",function(){return ee}),n.d(i,"move",function(){return ne}),n.d(i,"scale",function(){return re}),n.d(i,"rotate",function(){return ie}),n.d(i,"getDegree",function(){return oe}),n.d(i,"isPointInPolygon",function(){return se}),n.d(i,"intersectBBox",function(){return ue}),n.d(i,"isPolygonsIntersect",function(){return le}),n.d(i,"Line",function(){return ce}),n.d(i,"getBBoxBoundLine",function(){return he}),n.d(i,"itemIntersectByLine",function(){return fe}),n.d(i,"fractionToLine",function(){return pe}),n.d(i,"getPointsCenter",function(){return ge}),n.d(i,"squareDist",function(){return ve}),n.d(i,"pointLineSquareDist",function(){return ye}),n.d(i,"isPointsOverlap",function(){return me}),n.d(i,"pointRectSquareDist",function(){return be}),n.d(i,"pointLineDistance",function(){return xe}),n.d(i,"lerp",function(){return Ae}),n.d(i,"lerpArray",function(){return we});var o={};n.d(o,"getBBox",function(){return ze}),n.d(o,"getLoopCfgs",function(){return Fe}),n.d(o,"getLabelPosition",function(){return Ge}),n.d(o,"traverseTree",function(){return Ve}),n.d(o,"traverseTreeUp",function(){return Ue}),n.d(o,"getLetterWidth",function(){return We}),n.d(o,"getTextSize",function(){return He}),n.d(o,"truncateLabelByLength",function(){return Ye}),n.d(o,"plainCombosToTrees",function(){return Xe}),n.d(o,"reconstructTree",function(){return qe}),n.d(o,"getComboBBox",function(){return Qe}),n.d(o,"shouldRefreshEdge",function(){return Ze}),n.d(o,"cloneBesidesImg",function(){return Ke}),n.d(o,"getAnimateCfgWithCallback",function(){return Je});var a={};n.d(a,"uniqueId",function(){return nn}),n.d(a,"formatPadding",function(){return rn}),n.d(a,"cloneEvent",function(){return on}),n.d(a,"isViewportChanged",function(){return an}),n.d(a,"isNaN",function(){return sn}),n.d(a,"calculationItemsBBox",function(){return un}),n.d(a,"processParallelEdges",function(){return ln});var s={};n.d(s,"getSpline",function(){return jn}),n.d(s,"getControlPoint",function(){return Ln}),n.d(s,"pointsToPolygon",function(){return Pn}),n.d(s,"pathToPoints",function(){return Nn}),n.d(s,"getClosedSpline",function(){return Rn}),n.d(s,"roundedHull",function(){return Gn}),n.d(s,"paddedHull",function(){return Vn}),n.d(s,"getStarPath",function(){return Un});var u={};n.d(u,"defaultSubjectColors",function(){return mr});var l={};n.d(l,"isForce",function(){return br});var c={};n.d(c,"mixColor",function(){return ei}),n.d(c,"getColorsWithSubjectColor",function(){return ni}),n.d(c,"getColorSetsBySubjectColors",function(){return ri});var h={};n.d(h,"proccessToFunc",function(){return vi}),n.d(h,"buildTextureData",function(){return yi}),n.d(h,"buildTextureDataWithOneEdgeAttr",function(){return mi}),n.d(h,"buildTextureDataWithTwoEdgeAttr",function(){return bi}),n.d(h,"attributesToTextureData",function(){return xi}),n.d(h,"arrayToTextureData",function(){return Ai}),n.d(h,"radialLayout",function(){return wi});var d={};n.d(d,"gpuDetector",function(){return _i});var f={};n.d(f,"default",function(){return ea}),n.d(f,"assign",function(){return Po}),n.d(f,"format",function(){return $o}),n.d(f,"parse",function(){return ta}),n.d(f,"defaultI18n",function(){return zo}),n.d(f,"setGlobalDateI18n",function(){return Go}),n.d(f,"setGlobalDateMasks",function(){return Jo});var p=n("TToO"),g=n("IgWN"),v={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(t){return Object.assign(this,t),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(t){var e=this,n=this.events;this.graph=t,"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||t.get("canvas").set("draggable",!0),Object(g.each)(n,function(e,n){t.on(n,e)}),document.addEventListener("visibilitychange",function(){e.keydown=!1})},unbind:function(t){var e=this.events,n=t.get("canvas").get("draggable");"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||t.get("canvas").set("draggable",!1),Object(g.each)(e,function(e,n){t.off(n,e)}),t.get("canvas").set("draggable",n)},get:function(t){return this[t]},set:function(t,e){return this[t]=e,this}},y=function(){function t(){}return t.registerBehavior=function(e,n){if(!n)throw new Error("please specify handler for this behavior: ".concat(e));var r=Object(g.clone)(v);Object.assign(r,n);var i=function(t){var e=this;Object.assign(this,this.getDefaultCfg(),t);var n=this.getEvents();this.events=null;var r={};n&&(Object(g.each)(n,function(t,n){r[n]=Object(g.wrapBehavior)(e,t)}),this.events=r)};i.prototype=r,t.types[e]=i},t.hasBehavior=function(e){return!!t.types[e]},t.getBehavior=function(e){return t.types[e]},t.types={},t}(),m=y,b=n("oEtn"),x=n("IzBs"),A=function(t,e){var n=t.nodes,r=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(t,e){o[t.id]=e,i.push([])}),r&&r.forEach(function(t){var n=t.source,r=t.target,a=o[n],s=o[r];!a&&0!==a||!s&&0!==s||(i[a][s]=1,e||(i[s][a]=1))}),i},w=function(t,e){return t===e},_=function(){function t(t,e){void 0===e&&(e=null),this.value=t,this.next=e}return t.prototype.toString=function(t){return t?t(this.value):"".concat(this.value)},t}(),M=function(){function t(t){void 0===t&&(t=w),this.head=null,this.tail=null,this.compare=t}return t.prototype.prepend=function(t){var e=new _(t,this.head);return this.head=e,this.tail||(this.tail=e),this},t.prototype.append=function(t){var e=new _(t);return this.head?(this.tail.next=e,this.tail=e,this):(this.head=e,this.tail=e,this)},t.prototype.delete=function(t){if(!this.head)return null;for(var e=null;this.head&&this.compare(this.head.value,t);)e=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,t)?(e=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),e},t.prototype.find=function(t){var e=t.value,n=void 0===e?void 0:e,r=t.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},t.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var e=this.head;e.next;)e.next.next?e=e.next:e.next=null;return this.tail=e,t},t.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},t.prototype.fromArray=function(t){var e=this;return t.forEach(function(t){return e.append(t)}),this},t.prototype.toArray=function(){for(var t=[],e=this.head;e;)t.push(e),e=e.next;return t},t.prototype.reverse=function(){for(var t=this.head,e=null,n=null;t;)n=t.next,t.next=e,e=t,t=n;this.tail=this.head,this.head=e},t.prototype.toString=function(t){return void 0===t&&(t=void 0),this.toArray().map(function(e){return e.toString(t)}).toString()},t}(),S=function(){function t(){this.linkedList=new M}return t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},t.prototype.enqueue=function(t){this.linkedList.append(t)},t.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toString=function(t){return this.linkedList.toString(t)},t}(),O=function(t,e,n){void 0===e&&(e=[]);var r=e.filter(function(e){return e.source===t||e.target===t});if("target"===n){return r.filter(function(e){return e.source===t}).map(function(t){return t.target})}if("source"===n){return r.filter(function(e){return e.target===t}).map(function(t){return t.source})}return r.map(function(e){return e.source===t?e.target:e.source})},I=function(t,e){return e.filter(function(e){return e.source===t||e.target===t})},E=function(t){void 0===t&&(t=0);var e="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(t,"-").concat(e).concat(n)};var C=function(t,e,n,r){void 0===r&&(r=!0);var i=function(t){void 0===t&&(t={});var e,n=t,r=function(){},i=(e={},function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)});return n.allowTraversal=t.allowTraversal||i,n.enter=t.enter||r,n.leave=t.leave||r,n}(n),o=new S,a=t.edges,s=void 0===a?[]:a;o.enqueue(e);for(var u="",l=function(){var t=o.dequeue();i.enter({current:t,previous:u}),O(t,s,r?"target":void 0).forEach(function(e){i.allowTraversal({previous:u,current:t,next:e})&&o.enqueue(e)}),i.leave({current:t,previous:u}),u=t};!o.isEmpty();)l()},k=function(t){for(var e=t.nodes,n=void 0===e?[]:e,r=t.edges,i=void 0===r?[]:r,o=[],a={},s=[],u=function t(e){s.push(e),a[e.id]=!0;for(var r=O(e.id,i),o=function(e){var i=r[e];if(!a[i]){var o=n.filter(function(t){return t.id===i});o.length>0&&t(o[0])}},u=0;u<r.length;++u)o(u)},l=0;l<n.length;l++){var c=n[l];if(!a[c.id]){u(c);for(var h=[];s.length>0;)h.push(s.pop());o.push(h)}}return o},T=function(t){for(var e=t.nodes,n=void 0===e?[]:e,r=t.edges,i=void 0===r?[]:r,o=[],a={},s={},u={},l=[],c=0,h=function t(e){s[e.id]=c,u[e.id]=c,c+=1,o.push(e),a[e.id]=!0;for(var r=O(e.id,i,"target").filter(function(t){return n.map(function(t){return t.id}).indexOf(t)>-1}),h=function(i){var o=r[i];if(s[o]||0===s[o])a[o]&&(u[e.id]=Math.min(u[e.id],s[o]));else{var l=n.filter(function(t){return t.id===o});l.length>0&&t(l[0]),u[e.id]=Math.min(u[e.id],u[o])}},d=0;d<r.length;d++)h(d);if(u[e.id]===s[e.id]){for(var f=[];o.length>0;){var p=o.pop();if(a[p.id]=!1,f.push(p),p===e)break}f.length>0&&l.push(f)}},d=0,f=n;d<f.length;d++){var p=f[d];s[p.id]||0===s[p.id]||h(p)}return l};function D(t,e){return e?T(t):k(t)}var j=function(t){var e={},n=t.nodes,r=void 0===n?[]:n,i=t.edges,o=void 0===i?[]:i;return r.forEach(function(t){e[t.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(t){e[t.source].degree++,e[t.source].outDegree++,e[t.target].degree++,e[t.target].inDegree++}),e},L=j,P=function(t,e){return j(t)[e]?j(t)[e].inDegree:0},N=function(t,e){return j(t)[e]?j(t)[e].outDegree:0};function R(t,e,n){!function t(e,n,r,i){i.enter({current:n,previous:r});var o=e.edges;O(n,void 0===o?[]:o,"target").forEach(function(o){i.allowTraversal({previous:r,current:n,next:o})&&t(e,o,n,i)}),i.leave({current:n,previous:r})}(t,e,"",function(t){void 0===t&&(t={});var e,n=t,r=function(){},i=(e={},function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)});return n.allowTraversal=t.allowTraversal||i,n.enter=t.enter||r,n.leave=t.leave||r,n}(n))}var B=function(t,e,n){var r,i;void 0===n&&(n=!0);for(var o=[],a=0,s=D(t,!1);a<s.length;a++){var u=s[a];if(u.length)for(var l=u[0],c=l.id,h=[l],d=((r={})[c]=l,r),f=((i={})[c]=new Set,i);h.length>0;)for(var p=h.pop(),g=p.id,v=O(g,t.edges),y=function(r){var i,a=v[r],s=t.nodes.find(function(t){return t.id===a});if(a===g)o.push(((i={})[a]=p,i));else if(a in f){if(!f[g].has(s)){for(var u=!0,l=[s,p],c=d[g];f[a].size&&!f[a].has(c)&&(l.push(c),c!==d[c.id]);)c=d[c.id];if(l.push(c),e&&n?(u=!1,l.findIndex(function(t){return e.indexOf(t.id)>-1})>-1&&(u=!0)):e&&!n&&l.findIndex(function(t){return e.indexOf(t.id)>-1})>-1&&(u=!1),u){for(var y={},m=1;m<l.length;m+=1)y[l[m-1].id]=l[m];l.length&&(y[l[l.length-1].id]=l[0]),o.push(y)}f[a].add(p)}}else d[a]=p,h.push(s),f[a]=new Set([p])},m=0;m<v.length;m+=1)y(m)}return o},z=function(t,e,n){void 0===n&&(n=!0);for(var r=[],i=new Set,o=[],a=[],s={},u={},l=function t(u,l,c){var h=!1;if(e&&!1===n&&e.indexOf(u.id)>-1)return h;r.push(u),i.add(u);for(var d=c[u.id],f=0;f<d.length;f+=1){if((v=s[d[f]])===l){for(var p={},g=1;g<r.length;g+=1)p[r[g-1].id]=r[g];r.length&&(p[r[r.length-1].id]=r[0]),a.push(p),h=!0}else i.has(v)||t(v,l,c)&&(h=!0)}if(h)!function(t){for(var e=[t];e.length>0;){var n=e.pop();i.has(n)&&(i.delete(n),o[n.id].forEach(function(t){e.push(t)}),o[n.id].clear())}}(u);else for(f=0;f<d.length;f+=1){var v=s[d[f]];o[v.id].has(u)||o[v.id].add(u)}return r.pop(),h},c=t.nodes,h=void 0===c?[]:c,d=0;d<h.length;d+=1){var f=h[d],p=f.id;u[p]=d,s[d]=f}if(e&&n){var g=function(t){var n=e[t];u[h[t].id]=u[n],u[n]=0,s[0]=h.find(function(t){return t.id===n}),s[u[h[t].id]]=h[t]};for(d=0;d<e.length;d++)g(d)}for(var v=function(r){for(var i,o,s=1/0,l=0;l<r.length;l+=1)for(var c=r[l],h=0;h<c.length;h++){var d=u[c[h].id];d<s&&(s=d,o=l)}var f=r[o],p=[];for(l=0;l<f.length;l+=1){var g=f[l];p[g.id]=[];for(var v=0,y=O(g.id,t.edges,"target").filter(function(t){return f.map(function(t){return t.id}).indexOf(t)>-1});v<y.length;v++){var m=y[v];m!==g.id||!1===n&&e.indexOf(g.id)>-1?p[g.id].push(u[m]):a.push(((i={})[g.id]=g,i))}}return{component:f,adjList:p,minIdx:s}},y=0;y<h.length;){var m=h.filter(function(t){return u[t.id]>=y}),b=T({nodes:m,edges:t.edges}).filter(function(t){return t.length>1});if(0===b.length)break;var x=v(b),A=x.minIdx,w=x.adjList,_=x.component;if(!(_.length>1))break;_.forEach(function(t){o[t.id]=new Set});var M=s[A];if(e&&n&&-1===e.indexOf(M.id))return a;l(M,M,w),y=A+1}return a},F=function(t,e,n,r){return void 0===r&&(r=!0),e?z(t,n,r):B(t,n,r)},G=function(t){var e=null,n=t.nodes,r={},i={},o={},a={};(void 0===n?[]:n).forEach(function(t){i[t.id]=t});for(var s={enter:function(t){var n=t.current,a=t.previous;if(o[n]){e={};for(var s=n,u=a;u!==n;)e[s]=u,s=u,u=r[u];e[s]=u}else o[n]=n,delete i[n],r[n]=a},leave:function(t){var e=t.current;a[e]=e,delete o[e]},allowTraversal:function(t){var n=t.next;return!e&&!a[n]}};Object.keys(i).length;)R(t,Object.keys(i)[0],s);return e},V=function(t,e,n,r){var i=t.nodes,o=void 0===i?[]:i,a=t.edges,s=void 0===a?[]:a,u=[],l={},c={},h={};o.forEach(function(t,n){var r=t.id;u.push(r),c[r]=1/0,r===e&&(c[r]=0)});for(var d=o.length,f=function(t){var e=function(t,e,n){for(var r,i=1/0,o=0;o<e.length;o++){var a=e[o].id;!n[a]&&t[a]<=i&&(i=t[a],r=e[o])}return r}(c,o,l),i=e.id;if(l[i]=!0,c[i]===1/0)return"continue";(n?function(t,e){return e.filter(function(e){return e.source===t})}(i,s):I(i,s)).forEach(function(t){var n=t.target,o=t.source,a=n===i?o:n,s=r&&t[r]?t[r]:1;c[a]>c[e.id]+s?(c[a]=c[e.id]+s,h[a]=[e.id]):c[a]===c[e.id]+s&&h[a].push(e.id)})},p=0;p<d;p++)f();h[e]=[e];var g={};for(var v in c)c[v]!==1/0&&U(e,v,h,g);var y={};for(var v in g)y[v]=g[v][0];return{length:c,path:y,allPath:g}};function U(t,e,n,r){if(t===e)return[t];if(r[e])return r[e];for(var i=[],o=0,a=n[e];o<a.length;o++){var s=U(t,a[o],n,r);if(!s)return;for(var u=0,l=s;u<l.length;u++){var c=l[u];Object(g.isArray)(c)?i.push(Object(p.__spreadArray)(Object(p.__spreadArray)([],c,!0),[e],!1)):i.push([c,e])}}return r[e]=i,r[e]}var W,H=function(t,e,n,r,i){var o=V(t,e,r,i),a=o.length,s=o.path,u=o.allPath;return{length:a[n],path:s[n],allPath:u[n]}},Y=function(t,e,n,r){var i;if(e===n)return[[e]];var o=t.edges,a=void 0===o?[]:o,s=[e],u=((i={})[e]=!0,i),l=[],c=[],h=r?O(e,a,"target"):O(e,a);for(l.push(h);s.length>0&&l.length>0;){var d=l[l.length-1];if(d.length){var f=d.shift();if(f&&(s.push(f),u[f]=!0,h=r?O(f,a,"target"):O(f,a),l.push(h.filter(function(t){return!u[t]}))),s[s.length-1]===n){var p=s.map(function(t){return t});c.push(p);g=s.pop();u[g]=!1,l.pop()}}else{var g=s.pop();u[g]=!1,l.pop()}}return c},X=function(t,e){for(var n=A(t,e),r=[],i=n.length,o=0;o<i;o+=1){r[o]=[];for(var a=0;a<i;a+=1)o===a?r[o][a]=0:0!==n[o][a]&&n[o][a]?r[o][a]=n[o][a]:r[o][a]=1/0}for(var s=0;s<i;s+=1)for(o=0;o<i;o+=1)for(a=0;a<i;a+=1)r[o][a]>r[o][s]+r[s][a]&&(r[o][a]=r[o][s]+r[s][a]);return r},q=function(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e3);var i=t.nodes,o=void 0===i?[]:i,a=t.edges,s=void 0===a?[]:a,u={},l={};o.forEach(function(t,e){var n=E();t.clusterId=n,u[n]={id:n,nodes:[t]},l[t.id]={node:t,idx:e}});var c=[],h={};A(t,e).forEach(function(t,e){var n=0,r=o[e].id;h[r]={},t.forEach(function(t,e){if(t){n+=t;var i=o[e].id;h[r][i]=t}}),c.push(n)});for(var d=0,f=function(){var t=!1;if(o.forEach(function(e){var n={};Object.keys(h[e.id]).forEach(function(t){var r=h[e.id][t],i=l[t].node.clusterId;n[i]||(n[i]=0),n[i]+=r});var r=-1/0,i=[];if(Object.keys(n).forEach(function(t){r<n[t]?(r=n[t],i=[t]):r===n[t]&&i.push(t)}),1!==i.length||i[0]!==e.clusterId){var o=i.indexOf(e.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){t=!0;var a=u[e.clusterId],s=a.nodes.indexOf(e);a.nodes.splice(s,1);var c=Math.floor(Math.random()*i.length),d=u[i[c]];d.nodes.push(e),e.clusterId=d.id}}}),!t)return"break";d++};d<r&&"break"!==f(););Object.keys(u).forEach(function(t){var e=u[t];e.nodes&&e.nodes.length||delete u[t]});var p=[],g={};s.forEach(function(t){var e=t.source,r=t.target,i=t[n]||1,o=l[e].node.clusterId,a=l[r].node.clusterId,s="".concat(o,"---").concat(a);if(g[s])g[s].weight+=i,g[s].count++;else{var u={source:o,target:a,weight:i,count:1};g[s]=u,p.push(u)}});var v=[];return Object.keys(u).forEach(function(t){v.push(u[t])}),{clusters:v,clusterEdges:p}},Q=function(){function t(t){this.arr=t}return t.prototype.getArr=function(){return this.arr||[]},t.prototype.add=function(e){var n,r=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(r);if(!(null===r||void 0===r?void 0:r.length))return new t(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]+r[o];return new t(i)}},t.prototype.subtract=function(e){var n,r=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(r);if(!(null===r||void 0===r?void 0:r.length))return new t(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]-r[o];return new t(i)}},t.prototype.avg=function(e){var n=[];if(0!==e)for(var r in this.arr)n[r]=this.arr[r]/e;return new t(n)},t.prototype.negate=function(){var e=[];for(var n in this.arr)e[n]=-this.arr[n];return new t(e)},t.prototype.squareEuclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-t.arr[i],2);return r}},t.prototype.euclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-t.arr[i],2);return Math.sqrt(r)}console.error("The two vectors are unequal in length.")},t.prototype.normalize=function(){var e=[],n=Object(g.clone)(this.arr);n.sort(function(t,e){return t-e});var r=n[n.length-1],i=n[0];for(var o in this.arr)e[o]=(this.arr[o]-i)/(r-i);return new t(e)},t.prototype.norm2=function(){var t;if(!(null===(t=this.arr)||void 0===t?void 0:t.length))return 0;var e=0;for(var n in this.arr)e+=Math.pow(this.arr[n],2);return Math.sqrt(e)},t.prototype.dot=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=this.arr[i]*t.arr[i];return r}console.error("The two vectors are unequal in length.")},t.prototype.equal=function(t){var e,n=t.arr;if((null===(e=this.arr)||void 0===e?void 0:e.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},t}(),Z=function(t,e){void 0===e&&(e=void 0);var n=[];return t.forEach(function(t){void 0===e&&n.push(t),void 0!==t[e]&&n.push(t[e])}),n};!function(t){t.EuclideanDistance="euclideanDistance"}(W||(W={}));var K=function(t,e,n){var r=[];(null===e||void 0===e?void 0:e.length)?r=e:(t.forEach(function(t){r=r.concat(Object.keys(t))}),r=Object(g.uniq)(r));var i={};return r.forEach(function(e){var r=[];t.forEach(function(t){void 0!==t[e]&&""!==t[e]&&r.push(t[e])}),r.length&&!(null===n||void 0===n?void 0:n.includes(e))&&(i[e]=Object(g.uniq)(r))}),i},J=function(t,e,n){var r=K(t,e,n),i=[];if(!Object.keys(r).length)return i;var o=Object.values(r).every(function(t){return t.every(function(t){return"number"==typeof t})});return t.forEach(function(t,e){var n=[];Object.keys(r).forEach(function(e){var i=t[e],a=r[e],s=a.findIndex(function(t){return i===t}),u=[];if(o)u.push(i);else for(var l=0;l<a.length;l++)l===s?u.push(1):u.push(0);n=n.concat(u)}),i[e]=n}),i},$=function(t,e,n,r){void 0===n&&(n=W.EuclideanDistance);var i=0;switch(n){case W.EuclideanDistance:i=new Q(t).euclideanDistance(new Q(e))}return i},tt=function(t,e,n,r){for(var i=e.length,o=2*r,a=0,s=0;s<i;s++)for(var u=t[s].clusterId,l=0;l<i;l++){if(u===t[l].clusterId)a+=(e[s][l]||0)-(n[s]||0)*(n[l]||0)/o}return a*=1/o},et=function(t,e){void 0===t&&(t=[]);for(var n=t.length,r=new Q([]),i=0;i<n;i++)r=r.add(new Q(e[i]));var o=r.avg(n);o.normalize();var a=0;for(i=0;i<n;i++){a+=(u=new Q(e[i])).squareEuclideanDistance(o)}var s=[];t.forEach(function(){s.push([])});for(i=0;i<n;i++){var u=new Q(e[i]);t[i].clusterInertial=0;for(var l=0;l<n;l++)if(i!==l){var c=new Q(e[l]);s[i][l]=u.squareEuclideanDistance(c),t[i].clusterInertial+=s[i][l]}else s[i][l]=0}var h=0,d=2*n*a;for(i=0;i<n;i++){var f=t[i].clusterId;for(l=0;l<n;l++){var p=t[l].clusterId;if(i!==l&&f===p)h+=t[i].clusterInertial*t[l].clusterInertial/Math.pow(d,2)-s[i][l]/d}}return Number(h.toFixed(4))},nt=function(t,e,n,r,i,o,a,s,u){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===a&&(a=[]),void 0===s&&(s=["id"]),void 0===u&&(u=1);var l=t.nodes,c=void 0===l?[]:l,h=t.edges,d=void 0===h?[]:h,f=[];if(i){c.forEach(function(t,e){t.properties=t.properties||{},t.originIndex=e});var p=[];c.every(function(t){return t.hasOwnProperty("nodeType")})&&(p=Array.from(new Set(c.map(function(t){return t.nodeType}))),c.forEach(function(t){t.properties.nodeType=p.findIndex(function(e){return e===t.nodeType})}));var v=Z(c,o);f=J(v,a,s)}var y=1,m={},b={};c.forEach(function(t,e){var n=String(y++);t.clusterId=n,m[n]={id:n,nodes:[t]},b[t.id]={node:t,idx:e}});var x=A(t,e),w=[],_={},M=0;x.forEach(function(t,e){var n=0,r=c[e].id;_[r]={},t.forEach(function(t,e){if(t){n+=t;var i=c[e].id;_[r][i]=t,M+=t}}),w.push(n)}),M/=2;for(var S=1/0,O=1/0,I=0,E=[],C={};;){S=i&&c.every(function(t){return t.hasOwnProperty("properties")})?tt(c,x,w,M)+et(c,f)*u:tt(c,x,w,M),0===I&&(O=S,E=c,C=m);var k=S>0&&S>O&&S-O<r;if(S>O&&(E=c.map(function(t){return{node:t,clusterId:t.clusterId}}),C=Object(g.clone)(m),O=S),k||I>100)break;I++,Object.keys(m).forEach(function(t){var e=0;d.forEach(function(r){var i=r.source,o=r.target,a=b[i].node.clusterId,s=b[o].node.clusterId;(a===t&&s!==t||s===t&&a!==t)&&(e+=r[n]||1)}),m[t].sumTot=e}),c.forEach(function(t,e){var r,o=m[t.clusterId],a=0,s=w[e]/(2*M),l=0,c=o.nodes;c.forEach(function(t){var n=b[t.id].idx;l+=x[e][n]||0});var h=l-o.sumTot*s,p=c.filter(function(e){return e.id!==t.id}),g=[];p.forEach(function(t,e){g[e]=f[t.originIndex]});var v=et(p,f)*u,y=_[t.id];if(Object.keys(y).forEach(function(n){var o=b[n].node.clusterId;if(o!==t.clusterId){var l=m[o],c=l.nodes;if(c&&c.length){var d=0;c.forEach(function(t){var n=b[t.id].idx;d+=x[e][n]||0});var p=d-l.sumTot*s,g=c.concat([t]),y=[];g.forEach(function(t,e){y[e]=f[t.originIndex]});var A=et(g,f)*u,w=p-h;i&&(w=p+A-(h+v)),w>a&&(a=w,r=l)}}}),a>0){r.nodes.push(t);var A=t.clusterId;t.clusterId=r.id;var S=o.nodes.indexOf(t);o.nodes.splice(S,1);var O=0,I=0;d.forEach(function(t){var e=t.source,i=t.target,o=b[e].node.clusterId,a=b[i].node.clusterId;(o===r.id&&a!==r.id||a===r.id&&o!==r.id)&&(O+=t[n]||1),(o===A&&a!==A||a===A&&o!==A)&&(I+=t[n]||1)}),r.sumTot=O,o.sumTot=I}})}var T={},D=0;Object.keys(C).forEach(function(t){var e=C[t];if(e.nodes&&e.nodes.length){var n=String(D+1);n!==t&&(e.id=n,e.nodes=e.nodes.map(function(t){return{id:t.id,clusterId:n}}),C[n]=e,T[t]=n,delete C[t],D++)}else delete C[t]}),E.forEach(function(t){var e=t.node,n=t.clusterId;e&&(e.clusterId=n,e.clusterId&&T[e.clusterId]&&(e.clusterId=T[e.clusterId]))});var j=[],L={};d.forEach(function(t){var e=t.source,r=t.target,i=t[n]||1,o=b[e].node.clusterId,a=b[r].node.clusterId;if(o&&a){var s="".concat(o,"---").concat(a);if(L[s])L[s].weight+=i,L[s].count++;else{var u={source:o,target:a,weight:i,count:1};L[s]=u,j.push(u)}}});var P=[];return Object.keys(C).forEach(function(t){P.push(C[t])}),{clusters:P,clusterEdges:j}},rt=function(t,e,n,r,i,o,a,s){return void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===i&&(i=void 0),void 0===o&&(o=[]),void 0===a&&(a=["id"]),void 0===s&&(s=1),nt(t,e,n,r,!0,i,o,a,s)},it=function(t,e){var n;void 0===e&&(e=1);for(var r=Object(g.clone)(t),i=r.nodes,o=void 0===i?[]:i,a=r.edges,s=void 0===a?[]:a,u=function(){var t=L({nodes:o,edges:s}),r=Object.keys(t);r.sort(function(e,n){var r,i;return(null===(r=t[e])||void 0===r?void 0:r.degree)-(null===(i=t[n])||void 0===i?void 0:i.degree)});var i=r[0];if(!o.length||(null===(n=t[i])||void 0===n?void 0:n.degree)>=e)return"break";var a=o.findIndex(function(t){return t.id===i});o.splice(a,1),s=s.filter(function(t){return!(t.source===i||t.target===i)})};"break"!==u(););return{nodes:o,edges:s}},ot=function(t,e,n){var r=[];switch(t){case W.EuclideanDistance:r=e[n];break;default:r=[]}return r},at=function(t,e,n,r,i,o){void 0===e&&(e=3),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===i&&(i=["id"]),void 0===o&&(o=W.EuclideanDistance);var a=t.nodes,s=void 0===a?[]:a,u=t.edges,l=void 0===u?[]:u,c={clusters:[{id:"0",nodes:s}],clusterEdges:[]};if(o===W.EuclideanDistance&&!s.every(function(t){return t.hasOwnProperty(n)}))return c;var h=[],d=[];if(o===W.EuclideanDistance&&(h=Z(s,n),d=J(h,r,i)),!d.length)return c;for(var f=Object(g.uniq)(d.map(function(t){return t.join("")})),p=Math.min(e,s.length,f.length),v=0;v<s.length;v++)s[v].originIndex=v;var y=[],m=[],b=[];for(v=0;v<p;v++)if(0===v){var x=Math.floor(Math.random()*s.length);switch(o){case W.EuclideanDistance:y[v]=d[x];break;default:y[v]=[]}m.push(x),b[v]=[s[x]],s[x].clusterId=String(v)}else{for(var A=-1/0,w=0,_=function(t){if(!m.includes(t)){for(var e=0,n=0;n<y.length;n++){var r=0;switch(o){case W.EuclideanDistance:r=$(d[s[t].originIndex],y[n],o)}e+=r}var i=e/y.length;i>A&&!y.find(function(e){return Object(g.isEqual)(e,ot(o,d,s[t].originIndex))})&&(A=i,w=t)}},M=0;M<s.length;M++)_(M);y[v]=ot(o,d,w),m.push(w),b[v]=[s[w]],s[w].clusterId=String(v)}for(var S=0;;){for(v=0;v<s.length;v++){var O=0,I=1/0;if(0!==S||!m.includes(v)){for(var E=0;E<y.length;E++){var C=0;switch(o){case W.EuclideanDistance:C=$(d[v],y[E],o)}C<I&&(I=C,O=E)}if(void 0!==s[v].clusterId)for(var k=b[Number(s[v].clusterId)].length-1;k>=0;k--)b[Number(s[v].clusterId)][k].id===s[v].id&&b[Number(s[v].clusterId)].splice(k,1);s[v].clusterId=String(O),b[O].push(s[v])}}var T=!1;for(v=0;v<b.length;v++){var D=b[v],j=new Q([]);for(E=0;E<D.length;E++)j=j.add(new Q(d[D[E].originIndex]));var L=j.avg(D.length);L.equal(new Q(y[v]))||(T=!0,y[v]=L.getArr())}if(S++,s.every(function(t){return void 0!==t.clusterId})&&T||S>=1e3)break}var P=[],N={};return l.forEach(function(t){var e,n,r=t.source,i=t.target,o=null===(e=s.find(function(t){return t.id===r}))||void 0===e?void 0:e.clusterId,a=null===(n=s.find(function(t){return t.id===i}))||void 0===n?void 0:n.clusterId,u="".concat(o,"---").concat(a);if(N[u])N[u].count++;else{var l={source:o,target:a,count:1};N[u]=l,P.push(l)}}),{clusters:b,clusterEdges:P}},st=function(t,e){var n=new Q(e),r=n.norm2(),i=new Q(t),o=i.norm2(),a=n.dot(i),s=r*o,u=s?a/s:0;return u},ut=function(t,e,n,r,i){void 0===t&&(t=[]),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===i&&(i=[]);var o=Object(g.clone)(t.filter(function(t){return t.id!==e.id})),a=t.findIndex(function(t){return t.id===e.id}),s=Z(t,n),u=J(s,r,i),l=u[a],c=[];return o.forEach(function(t,n){if(t.id!==e.id){var r=u[n],i=st(r,l);c.push(i),t.cosineSimilarity=i}}),o.sort(function(t,e){return e.cosineSimilarity-t.cosineSimilarity}),{allCosineSimilarity:c,similarNodes:o}},lt=function(){function t(t){this.count=t.length,this.parent={};for(var e=0,n=t;e<n.length;e++){var r=n[e];this.parent[r]=r}}return t.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},t.prototype.union=function(t,e){var n=this.find(t),r=this.find(e);n!==r&&(n<r?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},t.prototype.connected=function(t,e){return this.find(t)===this.find(e)},t}(),ct=function(t,e){return t-e},ht=function(){function t(t){void 0===t&&(t=ct),this.compareFn=t,this.list=[]}return t.prototype.getLeft=function(t){return 2*t+1},t.prototype.getRight=function(t){return 2*t+2},t.prototype.getParent=function(t){return 0===t?null:Math.floor((t-1)/2)},t.prototype.isEmpty=function(){return this.list.length<=0},t.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},t.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return this.list.length>0&&(this.list[0]=e,this.moveDown(0)),t},t.prototype.insert=function(t){if(null!==t){this.list.push(t);var e=this.list.length-1;return this.moveUp(e),!0}return!1},t.prototype.moveUp=function(t){for(var e=this.getParent(t);t&&t>0&&this.compareFn(this.list[e],this.list[t])>0;){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,t=e,e=this.getParent(t)}},t.prototype.moveDown=function(t){var e,n=t,r=this.getLeft(t),i=this.getRight(t),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),t!==n&&(e=[this.list[n],this.list[t]],this.list[t]=e[0],this.list[n]=e[1],this.moveDown(n))},t}(),dt=function(t,e){var n=[],r=t.nodes,i=void 0===r?[]:r,o=t.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=i[0],u=new Set;u.add(s);var l=new ht(function(t,n){return e?t.weight-n.weight:0});for(I(s.id,a).forEach(function(t){l.insert(t)});!l.isEmpty();){var c=l.delMin(),h=c.source,d=c.target;u.has(h)&&u.has(d)||(n.push(c),u.has(h)||(u.add(h),I(h,a).forEach(function(t){l.insert(t)})),u.has(d)||(u.add(d),I(d,a).forEach(function(t){l.insert(t)})))}return n},ft=function(t,e){var n=[],r=t.nodes,i=void 0===r?[]:r,o=t.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=a.map(function(t){return t});e&&s.sort(function(t,e){return t.weight-e.weight});for(var u=new lt(i.map(function(t){return t.id}));s.length>0;){var l=s.shift(),c=l.source,h=l.target;u.connected(c,h)||(n.push(l),u.union(c,h))}return n},pt=function(t,e,n){return n?{prim:dt,kruskal:ft}[n](t,e):ft(t,e)},gt=function(t,e,n){"number"!=typeof e&&(e=1e-6),"number"!=typeof n&&(n=.85);for(var r,i=1,o=0,a=1e3,s=t.nodes,u=void 0===s?[]:s,l=t.edges,c=void 0===l?[]:l,h=u.length,d={},f={},p=0;p<h;++p)d[v=(A=u[p]).id]=1/h,f[v]=1/h;for(var g=L(t);a>0&&i>e;){for(o=0,p=0;p<h;++p){var v=(A=u[p]).id;if(r=0,0===g[A.id].inDegree)d[v]=0;else{for(var y=O(v,c,"source"),m=0;m<y.length;++m){var b=y[m],x=g[b].outDegree;x>0&&(r+=f[b]/x)}d[v]=n*r,o+=d[v]}}for(o=(1-o)/h,i=0,p=0;p<h;++p){var A;r=d[v=(A=u[p]).id]+o,i+=Math.abs(r-f[v]),f[v]=r}a-=1}return f},vt=-1,yt=-1,mt="-1",bt="-1",xt=function(){return function(t,e,n,r){void 0===t&&(t=vt),void 0===e&&(e=yt),void 0===n&&(n=yt),void 0===r&&(r=mt),this.id=t,this.from=e,this.to=n,this.label=r}}(),At=function(){function t(t,e){void 0===t&&(t=yt),void 0===e&&(e=bt),this.id=t,this.label=e,this.edges=[],this.edgeMap={}}return t.prototype.addEdge=function(t){this.edges.push(t),this.edgeMap[t.id]=t},t}(),wt=function(){function t(t,e,n){void 0===t&&(t=yt),void 0===e&&(e=!0),void 0===n&&(n=!1),this.id=t,this.edgeIdAutoIncrease=e,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return t.prototype.getNodeNum=function(){return this.nodes.length},t.prototype.addNode=function(t,e){if(!this.nodeMap[t]){var n=new At(t,e);this.nodes.push(n),this.nodeMap[t]=n,this.nodeLabelMap[e]||(this.nodeLabelMap[e]=[]),this.nodeLabelMap[e].push(t)}},t.prototype.addEdge=function(t,e,n,r){if((this.edgeIdAutoIncrease||void 0===t)&&(t=this.counter++),!(this.nodeMap[e]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[t])){var i=new xt(t,e,n,r);if(this.edges.push(i),this.edgeMap[t]=i,this.nodeMap[e].addEdge(i),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(i),!this.directed){var o=new xt(t,n,e,r);this.nodeMap[n].addEdge(o),this.edgeLabelMap[r].push(o)}}},t}(),_t=function(){function t(t,e,n,r,i){this.fromNode=t,this.toNode=e,this.nodeEdgeNodeLabel={nodeLabel1:n||bt,edgeLabel:r||mt,nodeLabel2:i||bt}}return t.prototype.equalTo=function(t){return this.fromNode===t.formNode&&this.toNode===t.toNode&&this.nodeEdgeNodeLabel===t.nodeEdgeNodeLabel},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t}(),Mt=function(){function t(){this.rmpath=[],this.dfsEdgeList=[]}return t.prototype.equalTo=function(t){var e=this.dfsEdgeList.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(this.dfsEdgeList[n]!==t[n])return!1;return!0},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t.prototype.pushBack=function(t,e,n,r,i){return this.dfsEdgeList.push(new _t(t,e,n,r,i)),this.dfsEdgeList},t.prototype.toGraph=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=!1);var n=new wt(t,!0,e);return this.dfsEdgeList.forEach(function(t){var e=t.fromNode,r=t.toNode,i=t.nodeEdgeNodeLabel,o=i.nodeLabel1,a=i.edgeLabel,s=i.nodeLabel2;o!==bt&&n.addNode(e,o),s!==bt&&n.addNode(r,s),o!==bt&&s!==o&&n.addEdge(void 0,e,r,a)}),n},t.prototype.buildRmpath=function(){this.rmpath=[];for(var t=void 0,e=this.dfsEdgeList.length-1;e>=0;e--){var n=this.dfsEdgeList[e],r=n.fromNode,i=n.toNode;r<i&&(void 0===t||i===t)&&(this.rmpath.push(e),t=r)}return this.rmpath},t.prototype.getNodeNum=function(){var t={};return this.dfsEdgeList.forEach(function(e){t[e.fromNode]||(t[e.fromNode]=!0),t[e.toNode]||(t[e.toNode]=!0)}),Object.keys(t).length},t}(),St=function(){function t(t){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],t){for(;t;){var e=t.edge;this.edges.push(e),this.nodesUsed[e.from]=1,this.nodesUsed[e.to]=1,this.edgesUsed[e.id]=1,t=t.preNode}this.edges=this.edges.reverse()}}return t.prototype.hasNode=function(t){return 1===this.nodesUsed[t.id]},t.prototype.hasEdge=function(t){return 1===this.edgesUsed[t.id]},t}(),Ot=function(){function t(t){var e=t.graphs,n=t.minSupport,r=void 0===n?2:n,i=t.minNodeNum,o=void 0===i?1:i,a=t.maxNodeNum,s=void 0===a?4:a,u=t.top,l=void 0===u?10:u,c=t.directed,h=void 0!==c&&c,d=t.verbose,f=void 0!==d&&d;this.graphs=e,this.dfsCode=new Mt,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=l,this.directed=h,this.counter=0,this.maxNodeNum=s,this.minNodeNum=o,this.verbose=f,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return t.prototype.findForwardRootEdges=function(t,e){var n=this,r=[],i=t.nodeMap;return e.edges.forEach(function(t){(n.directed||e.label<=i[t.to].label)&&r.push(t)}),r},t.prototype.findBackwardEdge=function(t,e,n,r){if(!this.directed&&e===n)return null;for(var i=t.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var u=o[s];if(!r.hasEdge(u)&&u.to===e.from)if(this.directed){if(i[e.from].label<i[n.to].label||i[e.from].label===i[n.to].label&&e.label<=u.label)return u}else if(e.label<u.label||e.label===u.label&&i[e.to].label<=i[n.to].label)return u}return null},t.prototype.findForwardPureEdges=function(t,e,n,r){for(var i=[],o=e.to,a=t.nodeMap[o].edges,s=a.length,u=0;u<s;u++){var l=a[u],c=t.nodeMap[l.to];n<=c.label&&!r.hasNode(c)&&i.push(l)}return i},t.prototype.findForwardRmpathEdges=function(t,e,n,r){for(var i=[],o=t.nodeMap,a=o[e.to].label,s=o[e.from].edges,u=s.length,l=0;l<u;l++){var c=s[l],h=o[c.to].label;e.to===c.to||n>h||r.hasNode(o[c.to])||(e.label<c.label||e.label===c.label&&a<=h)&&i.push(c)}return i},t.prototype.getSupport=function(t){var e={};return t.forEach(function(t){e[t.graphId]||(e[t.graphId]=!0)}),Object.keys(e).length},t.prototype.findMinLabel=function(t){var e=void 0;return Object.keys(t).forEach(function(n){var r=t[n],i=r.nodeLabel1,o=r.edgeLabel,a=r.nodeLabel2;e?(i<e.nodeLabel1||i===e.nodeLabel1&&o<e.edgeLabel||i===e.nodeLabel1&&o===e.edgeLabel&&a<e.nodeLabel2)&&(e={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}):e={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}}),e},t.prototype.isMin=function(){var t=this,e=this.dfsCode;if(this.verbose&&console.log("isMin checking",e),1===e.dfsEdgeList.length)return!0;var n=this.directed,r=e.toGraph(-1,n),i=r.nodeMap,o=new Mt,a={};r.nodes.forEach(function(e){t.findForwardRootEdges(r,e).forEach(function(t){var n=i[t.to],o="".concat(e.label,"-").concat(t.label,"-").concat(n.label);a[o]||(a[o]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:n.label});var s={graphId:r.id,edge:t,preNode:null};a[o].projected.push(s)})});var s=this.findMinLabel(a);if(s){o.dfsEdgeList.push(new _t(0,1,s.nodeLabel1,s.edgeLabel,s.nodeLabel2));var u="".concat(s.nodeLabel1,"-").concat(s.edgeLabel,"-").concat(s.nodeLabel2);return function a(s){for(var u=o.buildRmpath(),l=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,c=o.dfsEdgeList[u[0]].toNode,h={},d=!1,f=0,p=n?-1:0,g=function(e){if(d)return"break";s.forEach(function(n){var i=new St(n),a=t.findBackwardEdge(r,i.edges[u[e]],i.edges[u[0]],i);a&&(h[a.label]||(h[a.label]={projected:[],edgeLabel:a.label}),h[a.label].projected.push({graphId:r.id,edge:h,preNode:n}),f=o.dfsEdgeList[u[e]].fromNode,d=!0)})},v=u.length-1;v>p&&"break"!==g(v);v--);if(d){var y=t.findMinLabel(h);o.dfsEdgeList.push(new _t(c,f,bt,y.edgeLabel,bt));var m=o.dfsEdgeList.length-1;return t.dfsCode.dfsEdgeList[m]===o.dfsEdgeList[m]&&a(h[y.edgeLabel].projected)}var b={};d=!1;var x=0;s.forEach(function(e){var n=new St(e),o=t.findForwardPureEdges(r,n.edges[u[0]],l,n);o.length>0&&(d=!0,x=c,o.forEach(function(t){var n="".concat(t.label,"-").concat(i[t.to].label);b[n]||(b[n]={projected:[],edgeLabel:t.label,nodeLabel2:i[t.to].label}),b[n].projected.push({graphId:r.id,edge:t,preNode:e})}))});var A=u.length,w=function(e){if(d)return"break";var n=u[e];s.forEach(function(e){var a=new St(e),s=t.findForwardRmpathEdges(r,a.edges[n],l,a);s.length>0&&(d=!0,x=o.dfsEdgeList[n].fromNode,s.forEach(function(t){var n="".concat(t.label,"-").concat(i[t.to].label);b[n]||(b[n]={projected:[],edgeLabel:t.label,nodeLabel2:i[t.to].label}),b[n].projected.push({graphId:r.id,edge:t,preNode:e})}))})};for(v=0;v<A&&"break"!==w(v);v++);if(!d)return!0;var _=t.findMinLabel(b);o.dfsEdgeList.push(new _t(x,c+1,bt,_.edgeLabel,_.nodeLabel2));var M=o.dfsEdgeList.length-1;return e.dfsEdgeList[M]===o.dfsEdgeList[M]&&a(b["".concat(_.edgeLabel,"-").concat(_.nodeLabel2)].projected)}(a[u].projected)}},t.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var t=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push(Object(g.clone)(t))}},t.prototype.subGraphMining=function(t){var e=this;if(!(this.getSupport(t)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),i=this.dfsCode.dfsEdgeList[r[0]].toNode,o=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,a={},s={};t.forEach(function(t){for(var u=e.graphs[t.graphId],l=u.nodeMap,c=new St(t),h=r.length-1;h>=0;h--){var d=e.findBackwardEdge(u,c.edges[r[h]],c.edges[r[0]],c);if(d){var f="".concat(e.dfsCode.dfsEdgeList[r[h]].fromNode,"-").concat(d.label);s[f]||(s[f]={projected:[],toNodeId:e.dfsCode.dfsEdgeList[r[h]].fromNode,edgeLabel:d.label}),s[f].projected.push({graphId:t.graphId,edge:d,preNode:t})}}if(!(n>=e.maxNodeNum)){e.findForwardPureEdges(u,c.edges[r[0]],o,c).forEach(function(e){var n="".concat(i,"-").concat(e.label,"-").concat(l[e.to].label);a[n]||(a[n]={projected:[],fromNodeId:i,edgeLabel:e.label,nodeLabel2:l[e.to].label}),a[n].projected.push({graphId:t.graphId,edge:e,preNode:t})});var p=function(n){e.findForwardRmpathEdges(u,c.edges[r[n]],o,c).forEach(function(i){var o="".concat(e.dfsCode.dfsEdgeList[r[n]].fromNode,"-").concat(i.label,"-").concat(l[i.to].label);a[o]||(a[o]={projected:[],fromNodeId:e.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:i.label,nodeLabel2:l[i.to].label}),a[o].projected.push({graphId:t.graphId,edge:i,preNode:t})})};for(h=0;h<r.length;h++)p(h)}}),Object.keys(s).forEach(function(t){var n=s[t],r=n.toNodeId,o=n.edgeLabel;e.dfsCode.dfsEdgeList.push(new _t(i,r,"-1",o,"-1")),e.subGraphMining(s[t].projected),e.dfsCode.dfsEdgeList.pop()}),Object.keys(a).forEach(function(t){var n=a[t],r=n.fromNodeId,o=n.edgeLabel,s=n.nodeLabel2;e.dfsCode.dfsEdgeList.push(new _t(r,i+1,bt,o,s)),e.subGraphMining(a[t].projected),e.dfsCode.dfsEdgeList.pop()})}},t.prototype.generate1EdgeFrequentSubGraphs=function(){var t=this.graphs,e=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},a={},s={};return Object.keys(t).forEach(function(n){var r=t[n],u=r.nodeMap;r.nodes.forEach(function(t,r){var l=t.label,c="".concat(n,"-").concat(l);if(!a[c]){var h=i[l]||0;h++,i[l]=h}a[c]={graphKey:n,label:l},t.edges.forEach(function(t){var r=l,i=u[t.to].label;if(!e&&r>i){var a=i;i=r,r=a}var c=t.label,h="".concat(n,"-").concat(r,"-").concat(c,"-").concat(i),d="".concat(r,"-").concat(c,"-").concat(i);if(!o[d]){var f=o[d]||0;f++,o[d]=f}s[h]={graphId:n,nodeLabel1:r,edgeLabel:c,nodeLabel2:i}})})}),Object.keys(i).forEach(function(t){if(!(i[t]<n)){var e={nodes:[],edges:[]};e.nodes.push({id:"0",label:t}),r.push(e)}}),r},t.prototype.run=function(){var t=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var e=this.graphs,n=(this.directed,{});Object.keys(e).forEach(function(r){var i=e[r],o=i.nodeMap;i.nodes.forEach(function(e){t.findForwardRootEdges(i,e).forEach(function(t){var i=o[t.to],a="".concat(e.label,"-").concat(t.label,"-").concat(i.label);n[a]||(n[a]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:i.label});var s={graphId:r,edge:t,preNode:null};n[a].projected.push(s)})})}),Object.keys(n).forEach(function(e){var r=n[e],i=r.projected,o=r.nodeLabel1,a=r.edgeLabel,s=r.nodeLabel2;t.dfsCode.dfsEdgeList.push(new _t(0,1,o,a,s)),t.subGraphMining(i),t.dfsCode.dfsEdgeList.pop()})}},t}(),It=function(t){var e=t.graphs,n=t.directed,r=void 0!==n&&n,i=t.nodeLabelProp,o=void 0===i?"cluster":i,a=t.edgeLabelProp,s=void 0===a?"cluster":a,u=function(t,e,n,r){var i={};return Object.keys(t).forEach(function(o,a){var s=t[o],u=new wt(a,!0,e),l={};s.nodes.forEach(function(t,e){u.addNode(e,t[n]),l[t.id]=e}),s.edges.forEach(function(t,e){var n=l[t.source],i=l[t.target];u.addEdge(-1,n,i,t[r])}),u&&u.getNodeNum()&&(i[u.id]=u)}),i}(e,r,o,s),l=t.minSupport,c=t.maxNodeNum,h=t.minNodeNum,d=t.verbose,f=t.top,p=new Ot({graphs:u,minSupport:l,maxNodeNum:c,minNodeNum:h,top:f,verbose:d,directed:r});return p.run(),function(t,e,n){var r=[];return t.forEach(function(t){var i={nodes:[],edges:[]};t.nodes.forEach(function(t){var n;i.nodes.push(((n={id:"".concat(t.id)})[e]=t.label,n))}),t.edges.forEach(function(t){var e;i.edges.push(((e={source:"".concat(t.from),target:"".concat(t.to)})[n]=t.label,e))}),r.push(i)}),r}(p.frequentSubgraphs,o,s)},Et=function(t,e,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=t.nodes;return e.forEach(function(t,e){i.push(Ct(o,t,e,n,r))}),i},Ct=function(t,e,n,r,i){var o=[n],a=[],s={};return e.forEach(function(e,u){if(e<=i&&n!==u){o.push(u),a.push(t[u]);var l=t[u][r];s[l]?(s[l].count++,s[l].dists.push(e)):s[l]={count:1,dists:[e]}}}),Object.keys(s).forEach(function(t){s[t].dists=s[t].dists.sort(function(t,e){return t-e})}),{nodeIdx:n,nodeId:t[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},kt=function(t,e,n,r){var i=n.nodes;return r||(r={}),Object.keys(t).forEach(function(o){var a,s;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var u=t[o],l=null===(a=e[u.start])||void 0===a?void 0:a.nodeIdxs,c=null===(s=e[u.end])||void 0===s?void 0:s.nodeIdxs;if(l&&c){var h=new Set(c),d=l.filter(function(t){return h.has(t)});if(d&&d.length){for(var f={},p=d.length,g=0;g<p;g++){var v=i[d[g]];r[o].nodes.push(v),f[v.id]=!0}n.edges.forEach(function(t){f[t.source]&&f[t.target]&&r[o].edges.push(t)})}}}}),r},Tt=function(t,e,n,r){var i,o,a={};t.nodes.forEach(function(t){a[t.id]=t});var s=0;return!(null===(i=null===e||void 0===e?void 0:e.edges)||void 0===i?void 0:i.length)||(null===(o=null===e||void 0===e?void 0:e.nodes)||void 0===o?void 0:o.length)<2?0:(t.edges.forEach(function(t){var i=a[t.source][n],o=a[t.target][n],u=null===e||void 0===e?void 0:e.nodes[0][n],l=null===e||void 0===e?void 0:e.nodes[1][n],c=null===e||void 0===e?void 0:e.edges[0][r];t[r]===c&&(i===u&&o===l||i===l&&o===u)&&s++}),s)},Dt=function(t,e){var n={},r={};return t.forEach(function(t,i){n[t.id]={idx:i,node:t,degree:0,inDegree:0,outDegree:0};var o=t[e];r[o]||(r[o]=[]),r[o].push(t)}),{nodeMap:n,nodeLabelMap:r}},jt=function(t,e,n){var r={},i={};return t.forEach(function(t,o){r["".concat(E)]={idx:o,edge:t};var a=t[e];i[a]||(i[a]=[]),i[a].push(t);var s=n[t.source];s&&(s.degree++,s.outDegree++);var u=n[t.target];u&&(u.degree++,u.inDegree++)}),{edgeMap:r,edgeLabelMap:i}},Lt=function(t,e,n){var r=e.length,i={};return e.forEach(function(e,o){for(var a=n?0:o+1,s=t[o].id,u=a;u<r;u++)if(o!==u){var l=t[u].id,c=e[u];i["".concat(s,"-").concat(l)]=c,n||(i["".concat(l,"-").concat(s)]=c)}}),i},Pt=function(t,e,n,r,i,o,a,s,u,l,c){var h,d="".concat(e.id,"-").concat(n.id);if(l&&l[d])return l[d];var f=c?c[d]:void 0;if(!f){var p=((h={})[d]={start:r[e.id].idx,end:r[n.id].idx,distance:i},h);f=(c=kt(p,o,t,c))[d]}return Tt(f,a,s,u)},Nt=function(t,e,n,r){var i,o,a,s=null===(i=t[e])||void 0===i?void 0:i.degree,u=null===(o=t[e])||void 0===o?void 0:o.inDegree,l=null===(a=t[e])||void 0===a?void 0:a.outDegree;return void 0===t[e]&&(s=1/0,u=1/0,l=1/0,r[e].forEach(function(t){var e=n[t.id].degree;s>e&&(s=e);var r=n[t.id].inDegree;u>r&&(u=r);var i=n[t.id].outDegree;l>i&&(l=i)}),t[e]={degree:s,inDegree:u,outDegree:l}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:l}},Rt=function(t,e,n,r,i,o,a){var s;if(void 0===n&&(n=!1),void 0===o&&(o="cluster"),void 0===a&&(a="cluster"),t&&t.nodes){var u=t.nodes.length;if(u){var l=X(t,n),c=X(e,n),h=Lt(t.nodes,l,n),d=Lt(e.nodes,c,n),f=Dt(t.nodes,o),g=f.nodeMap,v=f.nodeLabelMap,y=Dt(e.nodes,o),m=y.nodeMap,b=y.nodeLabelMap;jt(t.edges,a,g);var x=jt(e.edges,a,m).edgeLabelMap,A=[];null===c||void 0===c||c.forEach(function(t){A=A.concat(t)}),i||(i=Math.max.apply(Math,Object(p.__spreadArray)(Object(p.__spreadArray)([],A,!1),[2],!1))),r||(r=i);var w=Et(t,l,o,r),_=Et(e,c,o,r),M=function(t,e,n,r,i){var o=Math.ceil(n/e),a={},s=0;return r.forEach(function(t,r){for(var u=0,l=0,c=t.nodeIdxs,h=t.neighborNum-1;u<o;){for(var d=c[1+Math.floor(Math.random()*h)],f=0;(a["".concat(r,"-").concat(d)]||a["".concat(d,"-").concat(r)])&&(d=Math.floor(Math.random()*e),!(++f>2*e)););if(f<2*e&&(a["".concat(r,"-").concat(d)]={start:r,end:d,distance:i[r][d]},u++,++s>=n))return a;if(++l>2*e)break}u<o&&(o=(o+(o-u))/(e-r-1))}),a}(0,u,Math.min(100,u*(u-1)/2),w,l),S=kt(M,w,t),O=It({graphs:S,nodeLabelProp:o,edgeLabelProp:a,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n}).slice(0,10),I=O.length,E=[];O.forEach(function(t,e){E[e]={},Object.keys(S).forEach(function(n){var r=S[n],i=Tt(r,t,o,a);E[e][n]=i})});var C=function(t,e,n){for(var r=1/0,i=0,o=function(e){var n=t[e],o=[];Object.keys(n).sort(function(t,e){return n[t]-n[e]}).forEach(function(t,e){o[e%10]||(o[e%10]={graphs:[],totalCount:0,aveCount:0}),o[e%10].graphs.push(t),o[e%10].totalCount+=n[t]});var a=0,s=[];o.forEach(function(t){var e=t.totalCount/t.graphs.length;t.aveCount=e,s.push(e);var r=0,i=t.length;t.graphs.forEach(function(e,i){var o=n[e];t.graphs.forEach(function(t,e){i!==e&&(r+=Math.abs(o-n[t]))})}),a+=r/=i*(i-1)/2}),a/=o.length;var u=0;s.forEach(function(t,e){s.forEach(function(n,r){e!==r&&(u+=Math.abs(t-n))}),u/=s.length*(s.length-1)/2});var l=u-a;r<l&&(r=l,i=e)},a=0;a<e;a++)o(a);return{structure:n[i],structureCountMap:t[i]}}(E,I,O),k=C.structure,T=C.structureCountMap,D=e.nodes[0],j=[],L=null===(s=e.nodes[0])||void 0===s?void 0:s[o],P=-1/0;e.nodes.forEach(function(t){var e=t[o],n=v[e];(null===n||void 0===n?void 0:n.length)>P&&(P=n.length,j=n,L=e,D=t)});var N={},R={},B={},z={},F={},G={};Object.keys(b).forEach(function(r,i){F[r]=[],n&&(G[r]=[]);var s=-1/0,u={};b[r].forEach(function(t){var e=d["".concat(D.id,"-").concat(t.id)];if(e&&F[r].push(e),s<e&&(s=e),u["".concat(D.id,"-").concat(t.id)]={start:0,end:m[t.id].idx,distance:e},n){var i=d["".concat(t.id,"-").concat(D.id)];i&&G[r].push(i)}}),F[r]=F[r].sort(function(t,e){return t-e}),n&&(G[r]=G[r].sort(function(t,e){return t-e})),R=kt(u,_,e,R);var l=[];if(Object.keys(u).forEach(function(t){if(B[t])l.push(B[t]);else{var e=R[t];B[t]=Tt(e,k,o,a),l.push(B[t])}}),l=l.sort(function(t,e){return e-t}),z["".concat(D.id,"-").concat(r)]=l,r!==L)for(var c=function(e){var n=j[e],i=w[g[n.id].idx],s=i.nodeLabelCountMap[r],u=b[r].length;if(!s||s.count<u)return j.splice(e,1),"continue";for(var c=!1,d=0;d<u;d++)if(s.dists[d]>F[r][d]){c=!0;break}if(c)return j.splice(e,1),"continue";var f={};i.neighbors.forEach(function(t){var e=h["".concat(n.id,"-").concat(t.id)];f["".concat(n.id,"-").concat(t.id)]={start:g[n.id].idx,end:g[t.id].idx,distance:e}}),S=kt(f,w,t,S);var p=[];Object.keys(f).forEach(function(t){if(T[t])p.push(T[t]);else{var e=S[t];T[t]=Tt(e,k,o,a),p.push(T[t])}}),p=p.sort(function(t,e){return e-t});var v=!1;for(d=0;d<u;d++)if(p[d]<l[d]){v=!0;break}return v?(j.splice(e,1),"continue"):void 0},f=((null===j||void 0===j?void 0:j.length)||0)-1;f>=0;f--)c(f)});var U=[];null===j||void 0===j||j.forEach(function(r){for(var s=g[r.id].idx,u=Ct(t.nodes,l[s],s,o,i).neighbors,c=!1,d=u.length-1;d>=0;d--){if(u.length+1<e.nodes.length)return void(c=!0);var f=u[d],p=f[o];if(b[p]&&b[p].length)if(F[p]&&F[p].length){var v="".concat(r.id,"-").concat(f.id),y=h[v],x=F[p].length-1;if(y>F[p][x])u.splice(d,1);else{if(n){var A="".concat(f.id,"-").concat(r.id),_=h[A];if(x=G[p].length-1,_>G[p][x]){u.splice(d,1);continue}}var M=T[v]?T[v]:Pt(t,r,f,g,y,w,k,o,a,T,S),O="".concat(D.id,"-").concat(p);if(M<z[O][z[O].length-1])u.splice(d,1);else{var I=Nt(N,p,m,b),E=I.minPatternNodeLabelDegree;I.minPatternNodeLabelInDegree,I.minPatternNodeLabelOutDegree,g[f.id].degree<E&&u.splice(d,1)}}}else u.splice(d,1);else u.splice(d,1)}c||U.push({nodes:[r].concat(u)})});var W=V(e,D.id,!1).length,H={};n?(Object.keys(W).forEach(function(t){var e=m[t].node[o];H[e]?H[e].push(W[t]):H[e]=[W[t]]}),Object.keys(H).forEach(function(t){H[t].sort(function(t,e){return t-e})})):H=F;for(var Y=function(r){var i=U[r],s=i.nodes[0],u={},l={};i.nodes.forEach(function(t,e){l[t.id]={idx:e,node:t,degree:0,inDegree:0,outDegree:0};var n=t[o];u[n]?u[n]++:u[n]=1});var c=[],h={};t.edges.forEach(function(t){l[t.source]&&l[t.target]&&(c.push(t),h[t[a]]?h[t[a]]++:h[t[a]]=1,l[t.source].degree++,l[t.target].degree++,l[t.source].outDegree++,l[t.target].inDegree++)});for(var d=Object.keys(x).length,f=!1,p=0;p<d;p++){var v=Object.keys(x)[p];if(!h[v]||h[v]<x[v].length){f=!0;break}}if(f)return U.splice(r,1),"continue";var y=c.length;if(y<e.edges.length)return U.splice(r,1),"break";var A=!1,w=function(t){var e=c[t],r=e[a],i=x[r];if(!i||!i.length)return h[r]--,i&&h[r]<i.length?(A=!0,"break"):(c.splice(t,1),l[e.source].degree--,l[e.target].degree--,l[e.source].outDegree--,l[e.target].inDegree--,"continue");var s=l[e.source].node[o],u=l[e.target].node[o],d=!1;return i.forEach(function(t){var e=m[t.source].node,r=m[t.target].node;e[o]===s&&r[o]===u&&(d=!0),n||e[o]!==u||r[o]!==s||(d=!0)}),d?void 0:(h[r]--,i&&h[r]<i.length?(A=!0,"break"):(c.splice(t,1),l[e.source].degree--,l[e.target].degree--,l[e.source].outDegree--,l[e.target].inDegree--,"continue"))};for(p=y-1;p>=0&&"break"!==w(p);p--);if(A)return U.splice(r,1),"continue";i.edges=c;var _=V(i,i.nodes[0].id,!1).length;if(Object.keys(_).reverse().forEach(function(t){if(t!==i.nodes[0].id&&!A){if(_[t]===1/0){var e=l[t].node[o];if(u[e]--,u[e]<b[e].length)return void(A=!0);var n=i.nodes.indexOf(l[t].node);return i.nodes.splice(n,1),void(l[t]=void 0)}var r=g[t].node[o];if(!H[r]||!H[r].length||_[t]>H[r][H[r].length-1]){if(e=l[t].node[o],u[e]--,u[e]<b[e].length)return void(A=!0);n=i.nodes.indexOf(l[t].node),i.nodes.splice(n,1),l[t]=void 0}}}),A)return U.splice(r,1),"continue";for(var M=!0,S=0;M&&!A;){if(M=!1,n?l[s.id].degree<m[D.id].degree||l[s.id].inDegree<m[D.id].inDegree||l[s.id].outDegree<m[D.id].outDegree:l[s.id].degree<m[D.id].degree){A=!0;break}if(u[s[o]]<b[s[o]].length){A=!0;break}for(var O=i.nodes.length-1;O>=0;O--){var I=i.nodes[O],E=l[I.id].degree,C=l[I.id].inDegree,k=l[I.id].outDegree,T=I[o],j=Nt(N,T,m,b),L=j.minPatternNodeLabelDegree,P=j.minPatternNodeLabelInDegree,R=j.minPatternNodeLabelOutDegree;if(n?E<L||C<P||k<R:E<L){if(u[I[o]]--,u[I[o]]<b[I[o]].length){A=!0;break}i.nodes.splice(O,1),l[I.id]=void 0,M=!0}}if(A||!M&&0!==S)break;for(var B=(y=c.length)-1;B>=0;B--){var z=c[B];if(!l[z.source]||!l[z.target]){c.splice(B,1);var F=z[a];if(h[F]--,l[z.source]&&(l[z.source].degree--,l[z.source].outDegree--),l[z.target]&&(l[z.target].degree--,l[z.target].inDegree--),x[F]&&h[F]<x[F].length){A=!0;break}M=!0}}S++}return A?(U.splice(r,1),"continue"):A||i.nodes.length<e.nodes.length||c.length<e.edges.length?(U.splice(r,1),"continue"):void 0},q=U.length-1;q>=0&&"break"!==Y(q);q--);var Q=U.length,Z=function(t){var e={};U[t].edges.forEach(function(t){var n="".concat(t.source,"-").concat(t.target,"-").concat(t.label);e[n]?e[n]++:e[n]=1});for(var n=function(t){var n={};U[t].edges.forEach(function(t){var e="".concat(t.source,"-").concat(t.target,"-").concat(t.label);n[e]?n[e]++:n[e]=1});var r=!0;Object.keys(n).length!==Object.keys(e).length?r=!1:Object.keys(e).forEach(function(t){n[t]!==e[t]&&(r=!1)}),r&&U.splice(t,1)},r=Q-1;r>t;r--)n(r);Q=U.length};for(q=0;q<=Q-1;q++)Z(q);return U}}},Bt=function(){function t(t){void 0===t&&(t=10),this.linkedList=new M,this.maxStep=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},t.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},t.prototype.push=function(t){this.linkedList.prepend(t),this.length>this.maxStep&&this.linkedList.deleteTail()},t.prototype.pop=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toArray=function(){return this.linkedList.toArray().map(function(t){return t.value})},t.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},t}(),zt=G,Ft={getAdjMatrix:A,breadthFirstSearch:C,connectedComponent:D,getDegree:L,getInDegree:P,getOutDegree:N,detectCycle:G,detectDirectedCycle:zt,detectAllCycles:F,detectAllDirectedCycle:z,detectAllUndirectedCycle:B,depthFirstSearch:R,dijkstra:V,findAllPath:Y,findShortestPath:H,floydWarshall:X,labelPropagation:q,louvain:nt,iLouvain:rt,kCore:it,kMeans:at,cosineSimilarity:st,nodesCosineSimilarity:ut,minimumSpanningTree:pt,pageRank:gt,getNeighbors:O,Stack:Bt,GADDI:Rt},Gt=x.a.transform,Vt=function(t){return function(e,n){return e[t]-n[t]}},Ut=function(t,e,n){return t>=e&&t<=n},Wt=function(t,e,n,r){var i=n.x-t.x,o=n.y-t.y,a=e.x-t.x,s=e.y-t.y,u=r.x-n.x,l=r.y-n.y,c=a*l-s*u,h=1/c;if(c*c>1e-4*(a*a+s*s)*(u*u+l*l)){var d=(i*l-o*u)*h,f=(i*s-o*a)*h;return Ut(d,0,1)&&Ut(f,0,1)?{x:t.x+d*a,y:t.y+d*s}:null}return null},Ht=function(t,e){var n=t.x,r=t.y,i=t.width,o=t.height,a=[],s={x:n+i/2,y:r+o/2};a.push({x:n,y:r}),a.push({x:n+i,y:r}),a.push({x:n+i,y:r+o}),a.push({x:n,y:r+o}),a.push({x:n,y:r});for(var u=null,l=1;l<a.length&&!(u=Wt(a[l-1],a[l],s,e));l++);return u},Yt=function(t,e){var n=t.x,r=t.y,i=t.r,o=e.x-n,a=e.y-r;if(o*o+a*a<i*i)return null;var s=Math.atan(a/o);return{x:n+Math.abs(i*Math.cos(s))*Math.sign(o),y:r+Math.abs(i*Math.sin(s))*Math.sign(a)}},Xt=function(t,e){var n=t.rx,r=t.ry,i=t.x,o=t.y,a=e.x-i,s=e.y-o,u=Math.atan2(s/r,a/n);return u<0&&(u+=2*Math.PI),{x:i+n*Math.cos(u),y:o+r*Math.sin(u)}},qt=function(t,e,n){void 0===n&&(n=1);var r=[t.x,t.y,n];return e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]),x.d.transformMat3(r,r,e),{x:r[0],y:r[1]}},Qt=function(t,e,n){void 0===n&&(n=1),e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]);var r=x.b.invert([1,0,0,0,1,0,0,0,1],e);r||(r=[1,0,0,0,1,0,0,0,1]);var i=[t.x,t.y,n];return x.d.transformMat3(i,i,r),{x:i[0],y:i[1]}},Zt=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=t.x-n.x,a=t.y-n.y,s=(t.x*t.x-e.x*e.x-e.y*e.y+t.y*t.y)/2,u=(t.x*t.x-n.x*n.x-n.y*n.y+t.y*t.y)/2,l=i*o-r*a;return{x:-(a*s-i*u)/l,y:-(r*u-o*s)/l}},Kt=function(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)},Jt=function(t,e){var n=[];return t.forEach(function(t){var r=[];t.forEach(function(t){r.push(t*e)}),n.push(r)}),n},$t=function(t){for(var e=[],n=t.length,r=0;r<n;r+=1){e[r]=[];for(var i=0;i<n;i+=1)r===i?e[r][i]=0:0!==t[r][i]&&t[r][i]?e[r][i]=t[r][i]:e[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)e[r][i]>e[r][o]+e[o][i]&&(e[r][i]=e[r][o]+e[o][i]);return e},te=function(t,e){var n=t.nodes,r=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(t,e){o[t.id]=e;i.push([])}),r&&r.forEach(function(t){var n=t.source,r=t.target,a=o[n],s=o[r];i[a][s]=1,e||(i[s][a]=1)}),i},ee=function(t,e){t.translate(e.x,e.y)},ne=function(t,e,n,r){void 0===r&&(r={duration:500});var i=t.getMatrix();i||(i=[1,0,0,0,1,0,0,0,1]);var o=t.getCanvasBBox(),a=e.x-o.minX,s=e.y-o.minY;if(n){var u=a*i[0],l=s*i[4],c=0,h=0,d=0,f=0;t.animate(function(t){return i=Gt(i,[["t",(d=u*t)-c,(f=l*t)-h]]),c=d,h=f,{matrix:i}},r)}else{var p=Gt(i,[["t",a,s]]);t.setMatrix(p)}},re=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=e;Object(g.isArray)(e)||(r=[e,e]),Object(g.isArray)(e)&&1===e.length&&(r=[e[0],e[0]]),n=Gt(n,[["s",r[0],r[1]]]),t.setMatrix(n)},ie=function(t,e){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]),n=Gt(n,[["r",e]]),t.setMatrix(n)},oe=function(t,e,n){for(var r=[],i=0;i<t;i++)r[i]=0;return n.forEach(function(t){t.source&&(r[e[t.source]]+=1),t.target&&(r[e[t.target]]+=1)}),r};function ae(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}var se=function(t,e,n){var r=!1,i=t.length,o=1e-6;function a(t){return Math.abs(t)<o?0:t<0?-1:1}if(i<=2)return!1;for(var s=0;s<i;s++){var u=t[s],l=t[(s+1)%i];if(ae(u,l,[e,n]))return!0;a(u[1]-n)>0!=a(l[1]-n)>0&&a(e-(n-u[1])*(u[0]-l[0])/(u[1]-l[1])-u[0])<0&&(r=!r)}return r},ue=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},le=function(t,e){var n=function(t){var e=t.map(function(t){return t[0]}),n=t.map(function(t){return t[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}},r=function(t){for(var e=[],n=t.length,r=0;r<n-1;r++){var i=t[r],o=t[r+1];e.push({from:{x:i[0],y:i[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var a=t[0],s=t[n-1];e.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return e};if(t.length<2||e.length<2)return!1;var i=n(t),o=n(e);if(!ue(i,o))return!1;var a=!1;if(Object(g.each)(e,function(e){if(se(t,e[0],e[1]))return a=!0,!1}),a)return!0;if(Object(g.each)(t,function(t){if(se(e,t[0],t[1]))return a=!0,!1}),a)return!0;var s=r(t),u=r(e),l=!1;return Object(g.each)(u,function(t){if(function(t,e){var n=!1;return Object(g.each)(t,function(t){if(Wt(t.from,t.to,e.from,e.to))return n=!0,!1}),n}(s,t))return l=!0,!1}),l},ce=function(){function t(t,e,n,r){this.x1=t,this.y1=e,this.x2=n,this.y2=r}return t.prototype.getBBox=function(){var t=Math.min(this.x1,this.x2),e=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),r=Math.max(this.y1,this.y2);return{x:t,y:e,minX:t,minY:e,maxX:n,maxY:r,width:n-t,height:r-e}},t}(),he=function(t,e){return{top:[t.minX,t.minY,t.maxX,t.minY],left:[t.minX,t.minY,t.minX,t.maxY],bottom:[t.minX,t.maxY,t.maxX,t.maxY],right:[t.maxX,t.minY,t.maxX,t.maxY]}[e]},de=function(t,e){var n=(e.x2-e.x1)*(t.y1-e.y1)-(e.y2-e.y1)*(t.x1-e.x1),r=(t.x2-t.x1)*(t.y1-e.y1)-(t.y2-t.y1)*(t.x1-e.x1),i=(e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1);if(i){var o=n/i,a=r/i;if(o>=0&&o<=1&&a>=0&&a<=1)return o}return Number.POSITIVE_INFINITY},fe=function(t,e){for(var n=["top","left","bottom","right"],r=t.getBBox(),i=0,o=[],a=0;a<4;a++){var s=he(r,n[a]),u=s[0],l=s[1],c=s[2],h=s[3];o[a]=Wt({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},{x:u,y:l},{x:c,y:h}),o[a]&&(i+=1)}return[o,i]},pe=function(t,e){for(var n=["top","left","bottom","right"],r=t.getBBox(),i=Number.POSITIVE_INFINITY,o=0,a=0;a<4;a++){var s=he(r,n[a]),u=s[0],l=s[1],c=s[2],h=s[3],d=de(e,new ce(u,l,c,h));(d=Math.abs(d-.5))>=0&&d<=1&&(o+=1,i=d<i?d:i)}return 0===o?-1:i},ge=function(t){var e=0,n=0;if(t.length>0){for(var r=0,i=t;r<i.length;r++){var o=i[r];e+=o.x,n+=o.y}e/=t.length,n/=t.length}return{x:e,y:n}},ve=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},ye=function(t,e){var n,r=e.x1,i=e.y1,o=e.x2-r,a=e.y2-i,s=t.x-r,u=t.y-i,l=s*o+u*a;n=l<=0?0:(l=(s=o-s)*o+(u=a-u)*a)<=0?0:l*l/(o*o+a*a);var c=s*s+u*u-n;return c<0&&(c=0),c},me=function(t,e,n){return void 0===n&&(n=.001),Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(n,2)},be=function(t,e){var n=t.x<e.x,r=t.x>e.x+e.width,i=t.y>e.y+e.height,o=t.y<e.y;if(!(n||r||i||o))return 0;if(i&&!n&&!r)return Math.pow(e.y+e.height-t.y,2);if(o&&!n&&!r)return Math.pow(t.y-e.y,2);if(n&&!i&&!o)return Math.pow(e.x-t.x,2);if(r&&!i&&!o)return Math.pow(e.x+e.width-t.x,2);var a=Math.min(Math.abs(e.x-t.x),Math.abs(e.x+e.width-t.x)),s=Math.min(Math.abs(e.y-t.y),Math.abs(e.y+e.height-t.y));return a*a+s*s},xe=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e.x,s=e.y,u=[i-n,o-r];if(x.c.exactEquals(u,[0,0]))return NaN;var l=[-u[1],u[0]];x.c.normalize(l,l);var c=[a-n,s-r];return Math.abs(x.c.dot(c,l))},Ae=function(t,e,n){return t+(e-t)*n},we=function(t,e,n){for(var r=Math.min(t.length,e.length),i=new Array(r),o=0;o<r;o++)i[o]=Ae(t[o],e[o],n);return i},_e="rgb(253, 253, 253)",Me="rgb(95, 149, 255)",Se="rgb(95, 149, 255)",Oe="rgb(247, 250, 255)",Ie="rgb(95, 149, 255)",Ee="rgb(224, 224, 224)",Ce="rgb(95, 149, 255)",ke="rgb(224, 224, 224)",Te="rgb(95, 149, 255)",De={version:"0.8.9",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Me,fill:"rgb(239, 244, 255)"},size:20,color:Me,linkPoints:{size:8,lineWidth:1,fill:Oe,stroke:Se}},nodeStateStyles:{active:{fill:Oe,stroke:Se,lineWidth:2,shadowColor:Me,shadowBlur:10},selected:{fill:"rgb(255, 255, 255)",stroke:Ie,lineWidth:4,shadowColor:Ie,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:"rgb(223, 234, 255)",stroke:"#4572d9",lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:"rgb(247, 250, 255)",stroke:"rgb(191, 213, 255)",lineWidth:1},disable:{fill:"rgb(250, 250, 250)",stroke:"rgb(224, 224, 224)",lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Ee,lineAppendWidth:2},color:Ee},edgeStateStyles:{active:{stroke:"rgb(95, 149, 255)",lineWidth:1},selected:{stroke:Ce,lineWidth:2,shadowColor:Ce,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:"rgb(95, 149, 255)",lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(234, 234, 234)",lineWidth:1},disable:{stroke:"rgb(245, 245, 245)",lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:_e,lineWidth:1,stroke:ke,r:5,width:20,height:10},size:[20,5],color:ke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:"rgb(95, 149, 255)",lineWidth:1,fill:"rgb(247, 250, 255)"},selected:{stroke:Te,lineWidth:2,fill:_e,shadowColor:Te,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:"#4572d9",lineWidth:2,fill:_e,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(224, 224, 224)",fill:_e,lineWidth:1},disable:{stroke:"rgb(234, 234, 234)",fill:"rgb(250, 250, 250)",lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:"undefined"!=typeof window&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},je={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Le=Math.PI,Pe=Math.sin,Ne=Math.cos,Re=Pe(Le/8),Be=Ne(Le/8),ze=function(t,e){var n=t.getBBox(),r={x:n.minX,y:n.minY},i={x:n.maxX,y:n.maxY};if(e){var o=e.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),r=qt(r,o),i=qt(i,o)}var a=r.x,s=r.y,u=i.x,l=i.y;return{x:a,y:s,minX:a,minY:s,maxX:u,maxY:l,width:u-a,height:l-s}},Fe=function(t){var e=t.sourceNode||t.targetNode,n=e.get("group").getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=e.getKeyShape(),i=r.getBBox(),o=t.loopCfg||{},a=o.dist||2*Math.max(i.width,i.height),s=o.position||De.defaultLoopPosition,u=[(i.minX+i.maxX)/2+n[6],(i.minY+i.maxY)/2+n[7]],l=[t.startPoint.x,t.startPoint.y],c=[t.endPoint.x,t.endPoint.y],h=i.height/2,d=i.width/2,f=h,p=h,g=f*Re,v=f*Be,y=p*Re,m=p*Be,b=r.get("type"),A=Math.min(h/2,d/2),w=Math.min(h,d),_=(null===o||void 0===o?void 0:o.pointPadding)?Math.min(w,null===o||void 0===o?void 0:o.pointPadding):A;if(l[0]===c[0]&&l[1]===c[1]){switch(s){case"top":"circle"===b?(l=[u[0]-g,u[1]-v],c=[u[0]+y,u[1]-m]):(l=[u[0]-_,u[1]-h],c=[u[0]+_,u[1]-h]);break;case"top-right":f=h,p=d,"circle"===b?(l=[u[0]+(g=f*Re),u[1]-(v=f*Be)],c=[u[0]+(m=p*Be),u[1]-(y=p*Re)]):(l=[u[0]+d-_,u[1]-h],c=[u[0]+d,u[1]-h+_]);break;case"right":f=d,p=d,"circle"===b?(l=[u[0]+(v=f*Be),u[1]-(g=f*Re)],c=[u[0]+(m=p*Be),u[1]+(y=p*Re)]):(l=[u[0]+d,u[1]-_],c=[u[0]+d,u[1]+_]);break;case"bottom-right":f=d,p=h,"circle"===b?(l=[u[0]+(v=f*Be),u[1]+(g=f*Re)],c=[u[0]+(y=p*Re),u[1]+(m=p*Be)]):(l=[u[0]+d,u[1]+h-_],c=[u[0]+d-_,u[1]+h]);break;case"bottom":f=h,p=h,"circle"===b?(l=[u[0]+(g=f*Re),u[1]+(v=f*Be)],c=[u[0]-(y=p*Re),u[1]+(m=p*Be)]):(l=[u[0]-_,u[1]+h],c=[u[0]+_,u[1]+h]);break;case"bottom-left":f=h,p=d,"circle"===b?(l=[u[0]-(g=f*Re),u[1]+(v=f*Be)],c=[u[0]-(m=p*Be),u[1]+(y=p*Re)]):(l=[u[0]-d,u[1]+h-_],c=[u[0]-d+_,u[1]+h]);break;case"left":f=d,p=d,"circle"===b?(l=[u[0]-(v=f*Be),u[1]+(g=f*Re)],c=[u[0]-(m=p*Be),u[1]-(y=p*Re)]):(l=[u[0]-d,u[1]-_],c=[u[0]-d,u[1]+_]);break;case"top-left":f=d,p=h,"circle"===b?(l=[u[0]-(v=f*Be),u[1]-(g=f*Re)],c=[u[0]-(y=p*Re),u[1]-(m=p*Be)]):(l=[u[0]-d+_,u[1]-h],c=[u[0]-d,u[1]-h+_]);break;default:l=[u[0]-(g=(f=d)*Re),u[1]-(v=f*Be)],c=[u[0]+(y=(p=d)*Re),u[1]-(m=p*Be)]}if(!1===o.clockwise){var M=[l[0],l[1]];l=[c[0],c[1]],c=[M[0],M[1]]}}var S=[l[0]-u[0],l[1]-u[1]],O=(f+a)/f,I=(p+a)/p;!1===o.clockwise&&(O=(p+a)/p,I=(f+a)/f);var E=x.c.scale([0,0],S,O),C=[u[0]+E[0],u[1]+E[1]],k=[c[0]-u[0],c[1]-u[1]],T=x.c.scale([0,0],k,I),D=[u[0]+T[0],u[1]+T[1]];return t.startPoint={x:l[0],y:l[1]},t.endPoint={x:c[0],y:c[1]},t.controlPoints=[{x:C[0],y:C[1]},{x:D[0],y:D[1]}],t},Ge=function(t,e,n,r,i){var o=[],a=null===t||void 0===t?void 0:t.getPoint(e);if(!a)return{x:0,y:0,angle:0};if(e<1e-4)o=t.getStartTangent().reverse();else if(e>.9999)o=t.getEndTangent();else{var s=null===t||void 0===t?void 0:t.getPoint(e+1e-4);o.push([a.x,a.y]),o.push([s.x,s.y])}var u=Math.atan2(o[1][1]-o[0][1],o[1][0]-o[0][0]);if(u<0&&(u+=2*Le),n&&(a.x+=Ne(u)*n,a.y+=Pe(u)*n),r){var l=u-Le/2;u>.5*Le&&u<1.5*Le&&(l-=Le),a.x+=Ne(l)*r,a.y+=Pe(l)*r}var c={x:a.x,y:a.y,angle:u};return i?(u>.5*Le&&u<1.5*Le&&(u-=Le),Object(p.__assign)({rotate:u},c)):c},Ve=function(t,e){"function"==typeof e&&function t(e,n,r,i){if(!1===i(e,n,r))return!1;if(e&&e.children)for(var o=e.children.length-1;o>=0;o--)if(!t(e.children[o],e,o,i))return!1;return!0}(t,null,-1,e)},Ue=function(t,e){"function"==typeof e&&function t(e,n,r,i){if(e&&e.children)for(var o=e.children.length-1;o>=0;o--)if(!t(e.children[o],e,o,i))return;return!1!==i(e,n,r)}(t,null,-1,e)},We=function(t,e){return e*(je[t]||1)},He=function(t,e){var n=0,r=new RegExp("[一-龥]+");return t.split("").forEach(function(t){r.test(t)?n+=e:n+=We(t,e)}),[n,e]},Ye=function(t,e){return"number"!=typeof e||e<=0||e>=t.length?t:t.substring(0,e)+"..."},Xe=function(t,e){var n=[],r={},i={};t.forEach(function(t){i[t.id]=t}),t.forEach(function(t,e){var o=Object(g.clone)(t);o.itemType="combo",o.children=void 0,o.parentId===o.id?(console.warn("The parentId for combo ".concat(o.id," can not be the same as the combo's id")),delete o.parentId):o.parentId&&!i[o.parentId]&&(console.warn("The parent combo for combo ".concat(o.id," does not exist!")),delete o.parentId);var a=r[o.id];if(a){if(o.children=a.children,r[o.id]=o,!(a=o).parentId)return void n.push(a);var s=r[a.parentId];if(s)s.children?s.children.push(o):s.children=[o];else{var u={id:a.parentId,children:[a]};r[a.parentId]=u,r[o.id]=o}}else if(Object(g.isString)(t.parentId)){var l=r[t.parentId];if(l)l.children?l.children.push(o):l.children=[o],r[o.id]=o;else{var c={id:t.parentId,children:[o]};r[c.id]=c,r[o.id]=o}}else n.push(o),r[o.id]=o});var o={};(e||[]).forEach(function(t){o[t.id]=t;var e=r[t.comboId];if(e){var n={id:t.id,comboId:t.comboId};e.children?e.children.push(n):e.children=[n],n.itemType="node",r[t.id]=n}});var a=0;return n.forEach(function(t){t.depth=a+10,Ve(t,function(t){var e,n=r[t.id].itemType;e="node"===n?r[t.comboId]:r[t.parentId],t.depth=e&&"node"===n?a+1:a+10,a<t.depth&&(a=t.depth);var i=o[t.id];return i&&(i.depth=t.depth),!0})}),n},qe=function(t,e,n){var r,i,o=t,a={root:{children:t}},s=!1,u="root";(t||[]).forEach(function(t){if(!s)return t.id===e?(i=t,"combo"===t.itemType?i.parentId=n:i.comboId=n,void(s=!0)):void Ve(t,function(t){var r;return a[t.id]={children:(null===t||void 0===t?void 0:t.children)||[]},o=null===(r=a[t.parentId||t.comboId||"root"])||void 0===r?void 0:r.children,!t||!t.removed&&e!==t.id||!o||(u=t.parentId||t.comboId||"root",i=t,"combo"===t.itemType?i.parentId=n:i.comboId=n,s=!0,!1)})});var l=(o=null===(r=a[u])||void 0===r?void 0:r.children)?o.indexOf(i):-1;if(l>-1&&o.splice(l,1),s||(i={id:e,itemType:"node",comboId:n},a[e]={children:void 0}),e){var c=!1;if(n){var h=0;(t||[]).forEach(function(t){c||Ve(t,function(t){return n!==t.id||(c=!0,t.children?t.children.push(i):t.children=[i],h=t.depth,"node"===i.itemType?i.depth=h+2:i.depth=h+1,!1)})})}else n&&c||"node"===i.itemType||t.push(i);var d=i.depth;Ve(i,function(t){return"node"===t.itemType?d+=2:d+=1,t.depth=d,!0})}return t},Qe=function(t,e,n){var r={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!t||0===t.length){var i=(null===n||void 0===n?void 0:n.getModel())||{},o=i.x,a=i.y,s=i.fixSize,u=i.collapsed,l=i.fixCollapseSize,c=u?l:s,h=Object(g.isArray)(c)?c:[c,c],d=h[0],f=h[1],p=[d/2,f/2];return{minX:o-p[0],minY:a-p[1],maxX:o+p[0],maxY:a+p[1],x:o,y:a,width:d,height:f}}return t.forEach(function(t){var n=e.findById(t.id);if(n&&n.isVisible()){n.set("bboxCanvasCache",void 0);var i=n.getCanvasBBox();i.x&&r.minX>i.minX&&(r.minX=i.minX),i.y&&r.minY>i.minY&&(r.minY=i.minY),i.x&&r.maxX<i.maxX&&(r.maxX=i.maxX),i.y&&r.maxY<i.maxY&&(r.maxY=i.maxY)}}),r.x=(r.minX+r.maxX)/2,r.y=(r.minY+r.maxY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,"circle"===(null===n||void 0===n?void 0:n.getKeyShape().get("type"))&&(r.width=Math.hypot(r.height,r.width),r.height=r.width),Object.keys(r).forEach(function(t){r[t]!==1/0&&r[t]!==-1/0||(r[t]=void 0)}),r},Ze=function(t){var e=Object(g.isNumber)(t.x)||Object(g.isNumber)(t.y)||t.type||t.anchorPoints||t.size;return t.style&&(e=e||Object(g.isNumber)(t.style.r)||Object(g.isNumber)(t.style.width)||Object(g.isNumber)(t.style.height)||Object(g.isNumber)(t.style.rx)||Object(g.isNumber)(t.style.ry)),e},Ke=function(t){var e={};return Object.keys(t).forEach(function(n){var r=t[n];if(Object(g.isObject)(r)&&!Object(g.isArray)(r)){var i={};Object.keys(r).forEach(function(t){var e=r[t];("img"!==t||Object(g.isString)(e))&&(i[t]=Object(g.clone)(e))}),e[n]=i}else e[n]=Object(g.clone)(r)}),e},Je=function(t){var e,n=t.animateCfg,r=t.callback;if(n)if(e=Object(g.clone)(n),n.callback){var i=n.callback;e.callback=function(){r(),i()}}else e.callback=r;else e={duration:500,callback:r};return e},$e=function(t){if(!t)return console.error("G6 Error Tips: the data must be defined"),!1;var e=t.nodes,n=t.edges,r=t.combos,i=void 0===r?[]:r;if(!e&&!n){var o=!0;return Ve(t,function(t){return!!Object(g.isString)(t.id)||(o=!1,!1)}),o}var a=(e||[]).find(function(t){return!Object(g.isString)(t.id)});if(a)return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(a.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1;var s=(e||[]).map(function(t){return t.id}),u=null===i||void 0===i?void 0:i.map(function(t){return t.id}),l=Object(p.__spreadArray)(Object(p.__spreadArray)([],s,!0),u,!0),c=(n||[]).find(function(t){return!l.includes(t.source)||!l.includes(t.target)});return!c||(console.warn("G6 Warning Tips: The source %c".concat(c.source,"%c or the target %c").concat(c.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1)},tn=function(){function t(t){this.graph=t,this.destroyed=!1,this.modes=t.get("modes")||{default:[]},this.formatModes(),this.mode=t.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return t.prototype.formatModes=function(){var t=this.modes;Object(g.each)(t,function(t){Object(g.each)(t,function(e,n){Object(g.isString)(e)&&(t[n]={type:e})})})},t.prototype.setBehaviors=function(t){var e,n=this.graph,r=this.modes[t],i=[];Object(g.each)(r||[],function(t){var r=y.getBehavior(t.type||t);r&&(e=new r(t))&&(e.bind(n),i.push(e))}),this.currentBehaves=i},t.mergeBehaviors=function(t,e){return Object(g.each)(e,function(e){t.indexOf(e)<0&&(Object(g.isString)(e)&&(e={type:e}),t.push(e))}),t},t.filterBehaviors=function(t,e){var n=[];return t.forEach(function(t){var r="";r=Object(g.isString)(t)?t:t.type,e.indexOf(r)<0&&n.push(t)}),n},t.prototype.setMode=function(t){var e=this.modes,n=this.graph,r=t;e[r]&&(n.emit("beforemodechange",{mode:t}),Object(g.each)(this.currentBehaves,function(t){t.delegate&&t.delegate.remove(),t.unbind(n)}),this.setBehaviors(r),n.emit("aftermodechange",{mode:t}),this.mode=t)},t.prototype.getMode=function(){return this.mode},t.prototype.manipulateBehaviors=function(e,n,r){var i,o=this;if(i=Object(g.isArray)(e)?e:[e],Object(g.isArray)(n))return Object(g.each)(n,function(e){o.modes[e]?o.modes[e]=r?t.mergeBehaviors(o.modes[e]||[],i):t.filterBehaviors(o.modes[e]||[],i):r&&(o.modes[e]=i)}),this;var a=n;return n||(a=this.mode),this.modes[a]||r&&(this.modes[a]=i),this.modes[a]=r?t.mergeBehaviors(this.modes[a]||[],i):t.filterBehaviors(this.modes[a]||[],i),this.formatModes(),this.setMode(this.mode),this},t.prototype.updateBehavior=function(t,e,n){Object(g.isString)(t)&&(t={type:t});var r=[];if(n&&n!==this.mode&&"default"!==n){if(!(r=this.modes[n])||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;var i=r.length;for(a=0;a<i;a++){if((s=r[a]).type===t.type||s===t.type)return s===t.type&&(s={type:s}),Object.assign(s,e),r[a]=s,this;a===i-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(!(r=this.currentBehaves)||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var o=r.length,a=0;a<o;a++){var s;if((s=r[a]).type===t.type)return s.updateCfg(e),this;a===o-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},t.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},t}(),en=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.item=n.item,r.canvasX=n.canvasX,r.canvasY=n.canvasY,r.wheelDelta=n.wheelDelta,r.detail=n.detail,r}return Object(p.__extends)(e,t),e}(n("i6H2").Event),nn=function(t){return"".concat(t,"-").concat(Math.random()).concat(Date.now())},rn=function(t){if(Object(g.isArray)(t))switch(t.length){case 4:return t;case 3:return t.push(t[1]),t;case 2:return t.concat(t);case 1:return[t[0],t[0],t[0],t[0]];default:return[0,0,0,0]}if(Object(g.isNumber)(t))return[t,t,t,t];if(Object(g.isString)(t)){var e=parseInt(t,10);return[e,e,e,e]}return[0,0,0,0]},on=function(t){var e=new en(t.type,t);return e.clientX=t.clientX,e.clientY=t.clientY,e.x=t.x,e.y=t.y,e.target=t.target,e.currentTarget=t.currentTarget,e.bubbles=!0,e.item=t.item,e},an=function(t){if(!t)return!1;for(var e=[1,0,0,0,1,0,0,0,1],n=0;n<9;n++)if(t[n]!==e[n])return!0;return!1},sn=function(t){return Number.isNaN(Number(t))},un=function(t){for(var e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++){var a=t[o].getBBox(),s=a.minX,u=a.minY,l=a.maxX,c=a.maxY;s<e&&(e=s),u<r&&(r=u),l>n&&(n=l),c>i&&(i=c)}return{x:Math.floor(e),y:Math.floor(r),width:Math.ceil(n)-Math.floor(e),height:Math.ceil(i)-Math.floor(r),minX:e,minY:r,maxX:n,maxY:i}},ln=function(t,e,n,r,i){void 0===e&&(e=15),void 0===n&&(n="quadratic"),void 0===r&&(r=void 0),void 0===i&&(i=void 0);for(var o=t.length,a=2*e,s=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],u={},l=[],c={},h=0;h<o;h++){var d=t[h],f=d.source,p=d.target,g="".concat(f,"-").concat(p);if(!l[h]){u[g]||(u[g]=[]),l[h]=!0,u[g].push(d);for(var v=0;v<o;v++)if(h!==v){var y=t[v],m=y.source,b=y.target;l[v]||(f===b&&p===m?(u[g].push(y),l[v]=!0,c["".concat(m,"|").concat(b,"|").concat(u[g].length-1)]=!0):f===m&&p===b&&(u[g].push(y),l[v]=!0))}}}for(var x in u)for(var A=u[x],w=A.length,_=0;_<w;_++){var M=A[_];if(M.source!==M.target)if(1===w&&r&&M.source!==M.target)M.type=r;else{M.type=n;var S=(_%2==0?1:-1)*(c["".concat(M.source,"|").concat(M.target,"|").concat(_)]?-1:1);M.curveOffset=w%2==1?S*Math.ceil(_/2)*a:S*(Math.floor(_/2)*a+e)}else i&&(M.type=i),M.loopCfg={position:s[_%8],dist:20*Math.floor(_/8)+50}}return t},cn=n("pf7h"),hn=function(){function t(t){this.destroyed=!1,this.graph=t,this.destroyed=!1}return t.prototype.getViewCenter=function(){var t=this.getFormatPadding(),e=this.graph,n=this.graph.get("width"),r=e.get("height");return{x:(n-t[1]-t[3])/2+t[3],y:(r-t[0]-t[2])/2+t[0]}},t.prototype.fitCenter=function(t,e){var n,r=this.graph,i=r.get("group"),o=r.getNodes();if(o.length>r.get("optimizeThreshold")){var a=1/0,s=1/0,u=-1/0,l=-1/0;o.forEach(function(t){var e=t.getModel(),n=e.x,r=e.y;a>n&&(a=n),s>r&&(s=r),u<n&&(u=n),l<r&&(l=r)});var c=i.getMatrix()||[1,0,0,0,1,0,0,0,1],h=qt({x:a,y:s},c),d=h.x,f=h.y,p=qt({x:u,y:l},c),g=p.x,v=p.y;n={minX:d,maxX:g,minY:f,maxY:v,width:g-d,height:v-f,x:d,y:f}}else n=i.getCanvasBBox();if(0!==n.width&&0!==n.height){var y=this.getViewCenter(),m=n.x+n.width/2,b=n.y+n.height/2;r.translate(y.x-m,y.y-b,t,e)}},t.prototype.animatedFitView=function(t,e,n,r,i,o,a,s){var u=this.graph;n=n||{duration:500,easing:"easeCubic"};var l=r.x+i.x-o.x-r.minX,c=r.y+i.y-o.y-r.minY;if(!sn(l)&&!sn(c)){var h=Object(cn.transform)([1,0,0,0,1,0,0,0,1],[["t",l,c]]);if(s){var d=u.get("minZoom"),f=u.get("maxZoom"),p=a;d&&a<d?(p=d,console.warn("fitview failed, ratio out of range, ratio: %f",a,"graph minzoom has been used instead")):f&&a>f&&(p=f,console.warn("fitview failed, ratio out of range, ratio: %f",a,"graph maxzoom has been used instead"));var g=Object(cn.transform)(h,[["t",-i.x,-i.y],["s",p,p],["t",i.x,i.y]]),v=Je({animateCfg:n,callback:function(){t.setMatrix(g),u.emit("viewportchange",{action:"translate",matrix:h}),u.emit("viewportchange",{action:"zoom",matrix:g})}});t.stopAnimate(),t.setMatrix(e),t.animate(function(t){return{matrix:we(e,g,t)}},v)}else{var y=Je({animateCfg:n,callback:function(){u.emit("viewportchange",{action:"translate",matrix:h})}});t.animate(function(t){return{matrix:we(e,h,t)}},y)}}},t.prototype.fitView=function(t,e){var n,r=this.graph,i=this.getFormatPadding(),o=r.get("width"),a=r.get("height"),s=r.get("group"),u=s.getMatrix()||[1,0,0,0,1,0,0,0,1];s.resetMatrix();var l=r.getNodes();if(l.length>r.get("optimizeThreshold")){var c=1/0,h=1/0,d=-1/0,f=-1/0;l.forEach(function(t){var e=t.getModel(),n=e.x,r=e.y;c>n&&(c=n),h>r&&(h=r),d<n&&(d=n),f<r&&(f=r)}),n={minX:c,maxX:d,minY:h,maxY:f,width:d-c,height:f-h,x:c,y:h}}else n=s.getCanvasBBox();if(0!==n.width&&0!==n.height){var p=this.getViewCenter(),g={x:n.x+n.width/2,y:n.y+n.height/2},v=(o-i[1]-i[3])/n.width,y=(a-i[0]-i[2])/n.height,m=v;if(v>y&&(m=y),t)this.animatedFitView(s,u,e,n,p,g,m,!0);else{var b=p.x-g.x,x=p.y-g.y;if(sn(b)||sn(x))return;r.translate(b,x),r.zoom(m,p)||console.warn("zoom failed, ratio out of range, ratio: %f",m)}}},t.prototype.fitViewByRules=function(t,e,n){var r,i=t.onlyOutOfViewPort,o=void 0!==i&&i,a=t.direction,s=void 0===a?"both":a,u=t.ratioRule,l=void 0===u?"min":u,c=this.graph,h=this.getFormatPadding(),d=c.get("width"),f=c.get("height"),p=c.get("group"),g=p.getMatrix()||[1,0,0,0,1,0,0,0,1];p.resetMatrix();var v=c.getNodes();if(v.length>c.get("optimizeThreshold")){var y=1/0,m=1/0,b=-1/0,x=-1/0;v.forEach(function(t){var e=t.getModel(),n=e.x,r=e.y;y>n&&(y=n),m>r&&(m=r),b<n&&(b=n),x<r&&(x=r)}),r={minX:y,maxX:b,minY:m,maxY:x,width:b-y,height:x-m,x:y,y:m}}else r=p.getCanvasBBox();if(0!==r.width&&0!==r.height){var A,w=this.getViewCenter(),_={x:r.x+r.width/2,y:r.y+r.height/2},M=(d-h[1]-h[3])/r.width,S=(f-h[0]-h[2])/r.height;if(A="x"===s?M:"y"===s?S:"max"===l?Math.max(M,S):Math.min(M,S),o&&(A=A<1?A:1),e)this.animatedFitView(p,g,n,r,w,_,A,!0);else{var O=c.getZoom()*A,I=c.get("minZoom");O<I&&(O=I,console.warn("fitview failed, ratio out of range, ratio: %f",A,"graph minzoom has been used instead")),c.translate(w.x-_.x,w.y-_.y),c.zoomTo(O,w)}}},t.prototype.getFormatPadding=function(){var t=this.graph.get("fitViewPadding");return rn(t)},t.prototype.focusPoint=function(t,e,n){var r=this,i=this.getViewCenter(),o=this.getPointByCanvas(i.x,i.y),a=this.graph.get("group").getMatrix();if(a||(a=[1,0,0,0,1,0,0,0,1]),e){var s=(o.x-t.x)*a[0],u=(o.y-t.y)*a[4],l=0,c=0,h=0,d=0;this.graph.get("canvas").animate(function(t){h=s*t,d=u*t,r.graph.translate(h-l,d-c),l=h,c=d},Object(p.__assign)({},n))}else this.graph.translate((o.x-t.x)*a[0],(o.y-t.y)*a[4])},t.prototype.getPointByCanvas=function(t,e){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),Qt({x:t,y:e},n)},t.prototype.getPointByClient=function(t,e){var n=this.graph.get("canvas").getPointByClient(t,e);return this.getPointByCanvas(n.x,n.y)},t.prototype.getClientByPoint=function(t,e){var n=this.graph.get("canvas"),r=this.getCanvasByPoint(t,e),i=n.getClientByPoint(r.x,r.y);return{x:i.x,y:i.y}},t.prototype.getCanvasByPoint=function(t,e){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),qt({x:t,y:e},n)},t.prototype.focus=function(t,e,n){if(Object(g.isString)(t)&&(t=this.graph.findById(t)),t){var r=0,i=0;if(t.getType&&"edge"===t.getType()){var o=t.getSource().get("group").getMatrix(),a=t.getTarget().get("group").getMatrix();o&&a?(r=(o[6]+a[6])/2,i=(o[7]+a[7])/2):(o||a)&&(r=o?o[6]:a[6],i=o?o[7]:a[7])}else{var s=t.get("group").getMatrix();s||(s=[1,0,0,0,1,0,0,0,1]),r=s[6],i=s[7]}this.focusPoint({x:r,y:i},e,n)}},t.prototype.focusItems=function(t,e,n,r){if(t.length){var i=this.graph,o=this.getFormatPadding(),a=i.get("width"),s=i.get("height"),u=i.get("group"),l=u.getMatrix()||[1,0,0,0,1,0,0,0,1];u.resetMatrix();for(var c={x:0,y:0,minX:Number.MAX_SAFE_INTEGER,minY:Number.MAX_SAFE_INTEGER,maxX:Number.MIN_SAFE_INTEGER,maxY:Number.MIN_SAFE_INTEGER,width:0,height:0},h=0,d=t;h<d.length;h++){var f=d[h].getBBox();f.minX<c.minX&&(c.minX=f.minX),f.minY<c.minY&&(c.minY=f.minY),f.maxX>c.maxX&&(c.maxX=f.maxX),f.maxY>c.maxY&&(c.maxY=f.maxY)}if(c.x=c.minX,c.y=c.minY,c.width=c.maxX-c.minX,c.height=c.maxY-c.minY,0!==c.width&&0!==c.height){var p=this.getViewCenter(),g={x:c.x+c.width/2,y:c.y+c.height/2},v=(a-o[1]-o[3])/c.width,y=(s-o[0]-o[2])/c.height,m=v;v>y&&(m=y),n?this.animatedFitView(u,l,r,c,p,g,m,e):(i.translate(p.x-g.x,p.y-g.y),e&&!i.zoom(m,p)&&console.warn("zoom failed, ratio out of range, ratio: %f",m))}}},t.prototype.changeSize=function(t,e){var n=this.graph;if(!Object(g.isNumber)(t)||!Object(g.isNumber)(e))throw Error("invalid canvas width & height, please make sure width & height type is number");n.set({width:t,height:e}),n.get("canvas").changeSize(t,e),n.get("plugins").forEach(function(t){t.get("gridContainer")&&t.positionInit()})},t.prototype.destroy=function(){this.graph=null,this.destroyed=!1},t}();function dn(t){"@babel/helpers - typeof";return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fn(t){if("string"!=typeof t)return t;var e=function(t){if("string"!=typeof t)return t;try{return JSON.parse(t.trim())}catch(e){return t.trim()}},n=e(t);if("string"!=typeof n)return n;for(var r=function(t){return t[t.length-1]},i=t.trim(),o=[],a=[],s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.some(function(t){return r(a)===t})},u=null,l=0,c="";l<i.length;){var h=i[l],d=s('"',"'");if(d||h.trim()){var f="\\"===i[l-1],p=s("}"),g=s("]"),v=s(","),y=r(o);if(d)if(r(a)!==h||f)c+=h;else{a.pop();var m=e(c);y.push(m),u=m,c=""}else if(g&&","===h)c&&(y.push(e(c)),c="");else if(p&&":"===h)a.push(","),c&&(y.push(c),c="");else if(v&&","===h)c&&(y.push(e(c)),c=""),a.pop();else if("}"===h&&(p||v)){c&&(y.push(e(c)),c=""),v&&a.pop();for(var b={},x=1;x<y.length;x+=2)b[y[x-1]]=y[x];o.pop(),o.length&&r(o).push(b),a.pop(),u=b}else"]"===h&&g?(c&&(y.push(e(c)),c=""),o.pop(),o.length&&r(o).push(y),a.pop(),u=y):"{"===h?(o.push([]),a.push("}")):"["===h?(o.push([]),a.push("]")):'"'===h?a.push('"'):"'"===h?a.push("'"):c+=h;l+=1}else l+=1}return u||c}var pn=function(t){return t.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})},gn=function(t){return function(e){for(var n=t.length,r=[],i=0,o="";i<n;)if("{"===t[i]&&"{"===t[i+1])r.push(o),o="",i+=2;else if("}"===t[i]&&"}"===t[i+1]){if(r.length){var a=r.pop();o=Object(g.get)(e,o,a.endsWith("=")?'"{'.concat(o,'}"'):o),r.push(a+o)}i+=2,o=""}else o+=t[i],i+=1;return r.push(o),r.map(function(t,e){return r[e-1]&&r[e-1].endsWith("=")?'"{'.concat(t,'}"'):t}).join("")}};function vn(t,e){var n;void 0===e&&(e={x:0,y:0});var r=Object(p.__assign)({x:0,y:0,width:0,height:0},e);if(null===(n=t.children)||void 0===n?void 0:n.length){var i=t.attrs,o=void 0===i?{}:i,a=o.marginTop,s=Object(p.__assign)({},e);a&&(s.y+=a);for(var u=0;u<t.children.length;u++){t.children[u].attrs.key="".concat(o.key||"root"," -").concat(u," ");var l=vn(t.children[u],s);if(l.bbox){var c=l.bbox;"inline"===l.attrs.next?s.x+=l.bbox.width:s.y+=l.bbox.height,c.width+c.x>r.width&&(r.width=c.width+c.x),c.height+c.y>r.height&&(r.height=c.height+c.y)}}}return t.bbox=function(t,e,n){var r,i,o=t.attrs,a=void 0===o?{}:o,s={x:e.x||0,y:e.y||0,width:n.width||0,height:n.height||0};switch(t.type){case"maker":case"circle":a.r&&(i=2*a.r,r=2*a.r);break;case"text":a.text&&(i=He(a.text,a.fontSize||12)[0],r=16,s.y+=r,s.height=r,s.width=i,t.attrs=Object(p.__assign)({fontSize:12,fill:"#000"},a));break;default:a.width&&(i=a.width),a.height&&(r=a.height)}return r>=0&&(s.height=r),i>=0&&(s.width=i),a.marginTop&&(s.y+=a.marginTop),a.marginLeft&&(s.x+=a.marginLeft),s}(t,e,r),t.attrs=Object(p.__assign)(Object(p.__assign)({},t.attrs),t.bbox),t}function yn(t){var e={},n=function(e){var n="function"==typeof t?t(e):t,r=gn(n)(e),i=document.createElement("div");i.innerHTML=r;var o=vn(function t(e,n){var r={},i=e.getAttributeNames&&e.getAttributeNames()||[],o=e.children&&Array.from(e.children).map(function(e){return t(e,n)}),a={},s=e.tagName?e.tagName.toLowerCase():"group";return"text"===s&&(r.text=e.innerText),a.type=s,"img"===s&&(a.type="image"),Array.from(i).forEach(function(t){var n=pn(t),i=e.getAttribute(t);try{if("style"===n||"attrs"===n){var o=fn(i);r=Object(p.__assign)(Object(p.__assign)({},r),o)}else a[n]=fn(i)}catch(t){if("style"===n)throw t;a[n]=i}}),a.attrs=r,n&&n.style&&a.name&&"object"===dn(n.style[a.name])&&(a.attrs=Object(p.__assign)(Object(p.__assign)({},a.attrs),n.style[a.name])),n&&n.style&&a.keyshape&&(a.attrs=Object(p.__assign)(Object(p.__assign)({},a.attrs),n.style)),o.length&&(a.children=o),a}(i.children[0],e));return i.remove(),o};return{draw:function(t,r){var i=n(t),o=r;return function t(e){var n=e.attrs,i=void 0===n?{}:n,a=e.bbox,s=e.type,u=e.children,l=Object(p.__rest)(e,["attrs","bbox","type","children"]);if("group"!==e.type){var c=r.addShape(e.type,Object(p.__assign)({attrs:i,origin:{bbox:a,type:s,children:u}},l));e.keyshape&&(o=c)}e.children&&e.children.forEach(function(e){return t(e)})}(i),e[t.id]=[i],o},update:function(t,r){e[t.id]||(e[t.id]=[]);var i=r.getContainer(),o=i.get("children"),a=n(t),s=function t(e){var n;"group"!==e.type&&i.addShape(e.type,{attrs:e.attrs}),(null===(n=e.children)||void 0===n?void 0:n.length)&&e.children.map(function(e){return t(e)})},u=function t(e){var n,r=o.find(function(t){return t.attrs.key===e.attrs.key});r&&i.removeChild(r),(null===(n=e.children)||void 0===n?void 0:n.length)&&e.children.map(function(e){return t(e)})};!function t(e){var n=e.key;if("group"!==e.type){var i=o.find(function(t){return t.attrs.key===n});switch(e.action){case"change":if(i){var a=e.val.keyshape?r.getOriginStyle():{};i.attr(Object(p.__assign)(Object(p.__assign)({},a),e.val.attrs))}break;case"add":s(e.val);break;case"delete":u(e.val);break;case"restructure":u(e.formerTarget),s(e.nowTarget)}}e.children&&e.children.forEach(function(e){return t(e)})}(function t(e,n){var r,i,o,a,s=(e||{}).type,u=((null===n||void 0===n?void 0:n.attrs)||{}).key;if(u&&e&&(e.attrs.key=u),!e&&n)return{action:"delete",val:n,type:s,key:u};if(e&&!n)return{action:"add",val:e,type:s};if(!e&&!n)return{action:"same",type:s};var l=[];if((null===(r=e.children)||void 0===r?void 0:r.length)>0||(null===(i=n.children)||void 0===i?void 0:i.length)>0)for(var c=Math.max(null===(o=e.children)||void 0===o?void 0:o.length,null===(a=n.children)||void 0===a?void 0:a.length),h=n.children||[],d=e.children||[],f=0;f<c;f+=1)l.push(t(d[f],h[f]));var p=Object.keys(n.attrs),g=Object.keys(e.attrs);return n.type!==e.type?{action:"restructure",nowTarget:e,formerTarget:n,key:u,children:l}:p.filter(function(t){return"children"!==t}).some(function(t){return e.attrs[t]!==n.attrs[t]||!g.includes(t)})?{action:"change",val:e,children:l,type:s,key:u}:{action:"same",children:l,type:s,key:u}}(a,e[t.id].pop())),e[t.id].push(a)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var mn={};function bn(t){return mn[t]||(mn[t]=Object(g.upperFirst)(t)),mn[t]}var xn={defaultShapeType:"defaultType",className:null,getShape:function(t){return this[t]||this[this.defaultShapeType]||this["simple-circle"]},draw:function(t,e,n){var r=this.getShape(t);n.shapeMap={};var i=r.draw(e,n);return r.afterDraw&&r.afterDraw(e,n,i),i},baseUpdate:function(t,e,n,r){var i,o,a=this.getShape(t);a.update&&(a.mergeStyle=null===(i=a.getOptions)||void 0===i?void 0:i.call(a,e,r),null===(o=a.update)||void 0===o||o.call(a,e,n,r)),a.afterUpdate&&a.afterUpdate(e,n)},setState:function(t,e,n,r){this.getShape(t).setState(e,n,r)},shouldUpdate:function(t){return!!this.getShape(t).update},getControlPoints:function(t,e){return this.getShape(t).getControlPoints(e)},getAnchorPoints:function(t,e){return this.getShape(t).getAnchorPoints(e)}},An={options:{},draw:function(t,e){return this.drawShape(t,e)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var e=this.options.anchorPoints;return t.anchorPoints||e}},wn=function(){function t(){}return t.registerFactory=function(e,n){var r=bn(e),i=xn,o=Object(p.__assign)(Object(p.__assign)({},i),n);return t[r]=o,o.className=r,o},t.getFactory=function(e){return t[bn(e)]},t.registerNode=function(e,n,r){var i,o=t.Node;if("string"==typeof n||"function"==typeof n){var a=yn(n);i=Object(p.__assign)(Object(p.__assign)({},o.getShape("single-node")),a)}else if(n.jsx){a=yn(n.jsx);i=Object(p.__assign)(Object(p.__assign)(Object(p.__assign)({},o.getShape("single-node")),a),n)}else{o.getShape(r);var s=r?o.getShape(r):An;i=Object(p.__assign)(Object(p.__assign)({},s),n)}return i.type=e,i.itemType="node",o[e]=i,i},t.registerEdge=function(e,n,r){var i=t.Edge,o=r?i.getShape(r):An,a=Object(p.__assign)(Object(p.__assign)({},o),n);return a.type=e,a.itemType="edge",i[e]=a,a},t.registerCombo=function(e,n,r){var i=t.Combo,o=r?i.getShape(r):An,a=Object(p.__assign)(Object(p.__assign)({},o),n);return a.type=e,a.itemType="combo",i[e]=a,a},t}(),_n=wn;wn.registerFactory("node",{defaultShapeType:"circle"}),wn.registerFactory("edge",{defaultShapeType:"line"}),wn.registerFactory("combo",{defaultShapeType:"circle"});var Mn=function(){function t(t){this._cfg={},this.destroyed=!1,this.optimize=!1;var e={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(e,this.getDefaultCfg(),t);var n=this.get("model"),r=n.id,i=this.get("type");void 0===r?r=nn(i):"string"!=typeof r&&(r=String(r)),this.get("model").id=r,this.set("id",r);var o=t.group;o&&(o.set("item",this),o.set("id",r)),this.init(),this.draw();var a=n.shape||n.type||("edge"===i?"line":"circle"),s=this.get("shapeFactory");if(s&&s[a]){var u=s[a].options;if(u&&u.stateStyles){var l=this.get("styles")||n.stateStyles;l=Object(g.deepMix)({},u.stateStyles,l),this.set("styles",l)}}}return t.prototype.calculateBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=ze(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},t.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=ze(t,e);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},t.prototype.drawInner=function(){var t=this.get("shapeFactory"),e=this.get("group"),n=this.get("model");e.clear();var r=n.visible;if(void 0===r||r||this.changeVisibility(r),t){this.updatePosition(n);var i=this.getShapeCfg(n),o=i.type,a=t.draw(o,i,e);a&&(this.set("keyShape",a),a.set("isKeyShape",!0),a.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",o),this.restoreStates(t,o)}},t.prototype.setOriginStyle=function(){var t=this.get("group"),e=t.get("children"),n=this,r=this.getKeyShape().get("name");if(this.get("originStyle")){var i=this.get("originStyle");r&&!i[r]&&(i[r]={});var o=this.getCurrentStatesStyle(),a=function(t){var a=e[t],s=a.get("name"),u=a.attr();if(s&&s!==r){var l=o[s];i[s]||(i[s]={}),l?Object.keys(u).forEach(function(t){var e=u[t];e!==l[t]&&(i[s][t]=e)}):i[s]="image"!==a.get("type")?Object(g.clone)(u):n.getShapeStyleByName(s)}else{var c=a.attr(),h={};Object.keys(o).forEach(function(t){var e=o[t];t!==r&&Object(g.isPlainObject)(e)||(h[t]=e)}),Object.keys(c).forEach(function(t){var e=c[t];h[t]!==e&&(r?i[r][t]=e:i[t]=e)})}};for(u=0;u<e.length;u++)a(u);delete i.path,delete i.matrix,delete i.x,delete i.y,i[r]&&(delete i[r].x,delete i[r].y,delete i[r].matrix,delete i[r].path),n.set("originStyle",i)}else{for(var s={},u=0;u<e.length;u++){var l=e[u],c=l.get("type"),h=l.get("name");if(h&&h!==r)s[h]="image"!==c?Object(g.clone)(l.attr()):n.getShapeStyleByName(h),"text"===c&&s[h]&&(delete s[h].x,delete s[h].y,delete s[h].matrix);else{var d=n.getShapeStyleByName();if(delete d.path,delete d.matrix,r)if(h)s[r]=d;else{var f=nn("shape");l.set("name",f),t.shapeMap[f]=l,s[f]="image"!==c?Object(g.clone)(l.attr()):n.getShapeStyleByName(h)}else Object.assign(s,d)}}n.set("originStyle",s)}},t.prototype.restoreStates=function(t,e){var n=this,r=n.get("states");Object(g.each)(r,function(r){t.setState(e,r,!0,n)})},t.prototype.init=function(){var t=_n.getFactory(this.get("type"));this.set("shapeFactory",t)},t.prototype.get=function(t){return this._cfg[t]},t.prototype.set=function(t,e){Object(g.isPlainObject)(t)?this._cfg=Object(p.__assign)(Object(p.__assign)({},this._cfg),t):this._cfg[t]=e},t.prototype.getDefaultCfg=function(){return{}},t.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null)},t.prototype.beforeDraw=function(){},t.prototype.afterDraw=function(){},t.prototype.afterUpdate=function(){},t.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},t.prototype.getShapeStyleByName=function(t){var e,n=this.get("group");if(e=t?n.shapeMap[t]:this.getKeyShape()){var r={};return Object(g.each)(e.attr(),function(t,e){("img"!==e||Object(g.isString)(t))&&(r[e]=t)}),r}return{}},t.prototype.getShapeCfg=function(t,e){var n=this.get("styles");if(n){var r=t;return r.style=Object(p.__assign)(Object(p.__assign)({},n),t.style),r}return t},t.prototype.getStateStyle=function(t){var e=this.get("styles");return e&&e[t]},t.prototype.getOriginStyle=function(){return this.get("originStyle")},t.prototype.getCurrentStatesStyle=function(){var t=this,e={},n=t.getStates();return n&&n.length?(Object(g.each)(t.getStates(),function(n){e=Object.assign(e,t.getStateStyle(n))}),e):this.get("originStyle")},t.prototype.setState=function(t,e){var n=this.get("states"),r=this.get("shapeFactory"),i=t,o=t;Object(g.isString)(e)&&(i="".concat(t,":").concat(e),o="".concat(t,":"));var a=n;if(Object(g.isBoolean)(e)){var s=n.indexOf(o);if(e){if(s>-1)return;n.push(i)}else s>-1&&n.splice(s,1)}else if(Object(g.isString)(e)){var u=n.filter(function(t){return t.includes(o)});u.length>0&&this.clearStates(u),(a=a.filter(function(t){return!t.includes(o)})).push(i),this.set("states",a)}if(r){var l=this.get("model").type;r.setState(l,t,e,this)}},t.prototype.clearStates=function(t){var e=this,n=e.getStates(),r=e.get("shapeFactory"),i=e.get("model").type;t||(t=n),Object(g.isString)(t)&&(t=[t]);var o=n.filter(function(e){return-1===t.indexOf(e)});e.set("states",o),t.forEach(function(t){r.setState(i,t,!1,e)})},t.prototype.setOptimize=function(t){this.optimize=t},t.prototype.getContainer=function(){return this.get("group")},t.prototype.getKeyShape=function(){return this.get("keyShape")},t.prototype.getModel=function(){return this.get("model")},t.prototype.getType=function(){return this.get("type")},t.prototype.getID=function(){return this.get("id")},t.prototype.isItem=function(){return!0},t.prototype.getStates=function(){return this.get("states")},t.prototype.hasState=function(t){return this.getStates().indexOf(t)>=0},t.prototype.refresh=function(t){var e=this.get("model");this.updatePosition(e),this.updateShape(t),this.afterUpdate(),this.clearCache()},t.prototype.getUpdateType=function(t){},t.prototype.update=function(t,e){void 0===e&&(e=void 0);var n=this.get("model");if("move"===e)this.updatePosition(t);else{var r=n.visible,i=t.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o={x:n.x,y:n.y};t.x=isNaN(+t.x)?n.x:+t.x,t.y=isNaN(+t.y)?n.y:+t.y;var a=this.get("styles");if(t.stateStyles){var s=t.stateStyles;Object(g.mix)(a,s),delete t.stateStyles}Object.assign(n,t),o.x===t.x&&o.y===t.y||this.updatePosition(t),this.updateShape(e)}this.afterUpdate(),this.clearCache()},t.prototype.updateShape=function(t){var e=this.get("shapeFactory"),n=this.get("model"),r=n.type;if(e.shouldUpdate(r)&&r===this.get("currentShape")){var i=this.getShapeCfg(n,t);e.baseUpdate(r,i,this,t),"move"!==t&&this.setOriginStyle()}else this.draw();this.restoreStates(e,r)},t.prototype.updatePosition=function(t){var e=this.get("model"),n=isNaN(+t.x)?+e.x:+t.x,r=isNaN(+t.y)?+e.y:+t.y,i=this.get("group");if(isNaN(n)||isNaN(r))return!1;e.x=n,e.y=r;var o=i.getMatrix();return(!o||o[6]!==n||o[7]!==r)&&(i.resetMatrix(),ee(i,{x:n,y:r}),this.clearCache(),!0)},t.prototype.getBBox=function(){var t=this.get("bboxCache");return t||(t=this.calculateBBox(),this.set("bboxCache",t)),t},t.prototype.getCanvasBBox=function(){var t=this.get("bboxCanvasCache");return t||(t=this.calculateCanvasBBox(),this.set("bboxCanvasCache",t)),t},t.prototype.toFront=function(){this.get("group").toFront()},t.prototype.toBack=function(){this.get("group").toBack()},t.prototype.show=function(){this.changeVisibility(!0)},t.prototype.hide=function(){this.changeVisibility(!1)},t.prototype.changeVisibility=function(t){var e=this.get("group");t?e.show():e.hide(),this.set("visible",t)},t.prototype.isVisible=function(){return this.get("visible")},t.prototype.enableCapture=function(t){var e=this.get("group");e&&e.set("capture",t)},t.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),e.shapeMap={},this.clearCache(),e.remove(),this._cfg=null,this.destroyed=!0}},t}(),Sn={source:"start",target:"end"},On=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(p.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},e.prototype.setEnd=function(t,e){var n=Sn[t]+"Point",r=t+"Node",i=this.get(r);i&&!i.destroyed&&i.removeEdge(this),Object(g.isPlainObject)(e)?(this.set(n,e),this.set(r,null)):e&&(e.addEdge(this),this.set(r,e),this.set(n,null))},e.prototype.getLinkPoint=function(t,e,n){var r=Sn[t]+"Point",i=t+"Node",o=this.get(r);if(!o){var a=this.get(i),s=t+"Anchor",u=this.getPrePoint(t,n),l=e[s];Object(g.isNil)(l)||(o=a.getLinkPointByAnchor(l)),o=o||a.getLinkPoint(u),Object(g.isNil)(o.index)||this.set("".concat(t,"AnchorIndex"),o.index)}return o},e.prototype.getPrePoint=function(t,e){if(e&&e.length)return e["source"===t?0:e.length-1];var n="source"===t?"target":"source";return this.getEndPoint(n)},e.prototype.getEndPoint=function(t){var e=t+"Node",n=Sn[t]+"Point",r=this.get(e);return r&&!r.destroyed?r.get("model"):this.get(n)},e.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),r=this.get("shapeFactory"),i=t.type;return r.getControlPoints(i,{startPoint:e,endPoint:n})},e.prototype.getEndCenter=function(t){var e=t+"Node",n=Sn[t]+"Point",r=this.get(e);if(r){var i=r.getBBox();return{x:i.centerX,y:i.centerY}}return this.get(n)},e.prototype.init=function(){t.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},e.prototype.getShapeCfg=function(e,n){var r=this.get("linkCenter"),i=(null===n||void 0===n?void 0:n.includes("move"))?e:t.prototype.getShapeCfg.call(this,e);if(r)i.startPoint=this.getEndCenter("source"),i.endPoint=this.getEndCenter("target");else{var o=i.controlPoints||this.getControlPointsByCenter(i);i.startPoint=this.getLinkPoint("source",e,o),i.endPoint=this.getLinkPoint("target",e,o)}return i.sourceNode=this.get("sourceNode"),i.targetNode=this.get("targetNode"),i},e.prototype.getModel=function(){var t=this.get("model"),e=this.get("source".concat("Node")),n=this.get("target".concat("Node"));return e?delete t["source".concat("Node")]:t.source=this.get("start".concat("Point")),n?delete t["target".concat("Node")]:t.target=this.get("end".concat("Point")),Object(g.isString)(t.source)||Object(g.isPlainObject)(t.source)||(t.source=t.source.getID()),Object(g.isString)(t.target)||Object(g.isPlainObject)(t.target)||(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},e.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.getTarget=function(){return this.get("target")},e.prototype.updatePosition=function(){return!1},e.prototype.update=function(t,e){void 0===e&&(e=void 0);var n=this.get("model"),r=n.visible,i=t.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o=this.get("source"),a=this.get("target");if(o&&!o.destroyed&&a&&!a.destroyed){var s=this.get("styles");if(t.stateStyles){var u=t.stateStyles;Object(g.mix)(s,u),delete t.stateStyles}Object.assign(n,t),this.updateShape(e),this.afterUpdate(),this.clearCache()}},e.prototype.destroy=function(){var e=this.get("source".concat("Node")),n=this.get("target".concat("Node"));e&&!e.destroyed&&e.removeEdge(this),n&&!n.destroyed&&n.removeEdge(this),t.prototype.destroy.call(this)},e}(Mn),In=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(p.__extends)(e,t),e.prototype.getNearestPoint=function(t,e){for(var n=0,r=t[0],i=Kt(t[0],e),o=0;o<t.length;o++){var a=t[o],s=Kt(a,e);s<i&&(r=a,i=s,n=o)}return r.anchorIndex=n,r},e.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("target")===t})},e.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("source")===t})},e.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");if("target"===t){return n.filter(function(t){return t.getSource()===e}).map(function(t){return t.getTarget()})}if("source"===t){return n.filter(function(t){return t.getTarget()===e}).map(function(t){return t.getSource()})}return n.map(function(t){return t.getSource()===e?t.getTarget():t.getSource()})},e.prototype.getLinkPointByAnchor=function(t){return this.getAnchorPoints()[t]},e.prototype.getLinkPoint=function(t){var e,n,r=this.get("keyShape").get("type"),i=this.get("type"),o=this.getBBox();"combo"===i?(e=o.centerX||(o.maxX+o.minX)/2,n=o.centerY||(o.maxY+o.minY)/2):(e=o.centerX,n=o.centerY);var a,s=this.getAnchorPoints();switch(r){case"circle":a=Yt({x:e,y:n,r:o.width/2},t);break;case"ellipse":a=Xt({x:e,y:n,rx:o.width/2,ry:o.height/2},t);break;default:a=Ht(o,t)}var u=a;return s.length&&(u||(u=t),u=this.getNearestPoint(s,u)),u||(u={x:e,y:n}),u},e.prototype.getAnchorPoints=function(){var t=this.get("anchorPointsCache");if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),r=this.get("model"),i=this.getShapeCfg(r),o=r.type,a=e.getAnchorPoints(o,i)||[];Object(g.each)(a,function(e,r){var i={x:n.minX+e[0]*n.width,y:n.minY+e[1]*n.height,anchorIndex:r};t.push(i)}),this.set("anchorPointsCache",t)}return t},e.prototype.addEdge=function(t){this.get("edges").push(t)},e.prototype.lock=function(){this.set("locked",!0)},e.prototype.unlock=function(){this.set("locked",!1)},e.prototype.hasLocked=function(){return this.get("locked")},e.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},e.prototype.clearCache=function(){this.set("bboxCache",null),this.set("anchorPointsCache",null)},e.prototype.getUpdateType=function(t){var e,n,r,i,o;if(t){var a=!Object(g.isNil)(t.x),s=!Object(g.isNil)(t.y),u=Object.keys(t);return 1===u.length&&(a||s)||2===u.length&&a&&s?"move":Object(g.isNumber)(t.x)||Object(g.isNumber)(t.y)||t.type||t.anchorPoints||t.size||(null===t||void 0===t?void 0:t.style)&&((null===(e=null===t||void 0===t?void 0:t.style)||void 0===e?void 0:e.r)||(null===(n=null===t||void 0===t?void 0:t.style)||void 0===n?void 0:n.width)||(null===(r=null===t||void 0===t?void 0:t.style)||void 0===r?void 0:r.height)||(null===(i=null===t||void 0===t?void 0:t.style)||void 0===i?void 0:i.rx)||(null===(o=null===t||void 0===t?void 0:t.style)||void 0===o?void 0:o.ry))?"bbox|label":u.includes("label")||u.includes("labelCfg")?"style|label":"style"}},e.prototype.setState=function(e,n){var r=this;this.optimize?t.prototype.setState.call(this,e,n):this.runWithBBoxAffected(function(){return t.prototype.setState.call(r,e,n)})},e.prototype.clearStates=function(e){var n=this;this.optimize?t.prototype.clearStates.call(this,e):this.runWithBBoxAffected(function(){return t.prototype.clearStates.call(n,e)})},e.prototype.runWithBBoxAffected=function(t){var e=["r","width","height","rx","ry","lineWidth"],n=this.getKeyShape().attr(),r={};Object.keys(this.getKeyShape().attr()).forEach(function(t){e.includes(t)&&(r[t]=n[t])}),t();for(var i=this.getKeyShape().attr(),o=0;o<e.length;o++){var a=e[o];if(i[a]!==r[a]){this.clearCache(),this.getEdges().forEach(function(t){return t.refresh()});break}}},e}(Mn),En=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(p.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},e.prototype.getShapeCfg=function(t){var e=this.get("styles"),n=this.get("bbox");if(e&&n){var r=t,i=Object(g.isNumber)(t.size)?[t.size,t.size]:t.size,o=Object(g.isNumber)(t.fixSize)?[t.fixSize,t.fixSize]:t.fixSize,a=i||o||De.defaultCombo.size,s={r:(Math.max(n.width,n.height)||Math.max(a[0],a[1]))/2,width:n.width||a[0],height:n.height||a[1]};r.style=Object(p.__assign)(Object(p.__assign)(Object(p.__assign)({},e),t.style),s);var u=t.padding||De.defaultCombo.padding;return Object(g.isNumber)(u)?(s.r+=u,s.width+=2*u,s.height+=2*u):(s.r=s.r+Math.max.apply(Math,u),s.width+=u[1]+u[3]||2*u[1],s.height+=u[0]+u[2]||2*u[0]),this.set("sizeCache",s),r}return t},e.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var t=this.get("keyShape"),e=this.get("group"),n=ze(t,e);n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var r=this.get("bboxCache")||{},i=r.x,o=r.x;return n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n.x=n.minX,n.y=n.minY,n.x===i&&n.y===o||this.set("anchorPointsCache",null),n}},e.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.addChild=function(t){switch(t.getType()){case"node":this.addNode(t);break;case"combo":this.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.addCombo=function(t){return this.get("combos").push(t),!0},e.prototype.addNode=function(t){return this.get("nodes").push(t),!0},e.prototype.removeChild=function(t){switch(t.getType()){case"node":this.removeNode(t);break;case"combo":this.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.removeCombo=function(t){if(t){var e=this.getCombos(),n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)}},e.prototype.removeNode=function(t){if(t){var e=this.getNodes(),n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)}},e.prototype.getUpdateType=function(t){},e.prototype.getBBox=function(){return this.set("bboxCanvasCache",null),this.calculateCanvasBBox()},e.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null),this.set("anchorPointsCache",null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),e.shapeMap={},this.clearCache(),this.set("sizeCache",null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},e}(In),Cn=function(){function t(t){var e=this;this.edgeToBeUpdateMap={},this.throttleRefresh=Object(g.throttle)(function(t){var n=e.graph;if(n&&!n.get("destroyed")){var r=e.edgeToBeUpdateMap;if(r){var i=Object.values(r);i.length&&(i.forEach(function(t){var e=t.edge;if(e&&!e.destroyed){var n=e.getSource(),r=e.getTarget();n&&!n.destroyed&&r&&!r.destroyed&&e.refresh(t.updateType)}}),e.edgeToBeUpdateMap={})}}},16,{trailing:!0,leading:!0}),this.graph=t,this.destroyed=!1}return t.prototype.addItem=function(t,e){var n=this.graph,r="vedge"===t?"edge":t,i=n.get("".concat(r,"Group"))||n.get("group"),o=Object(g.upperFirst)(r),a=null,s=n.get(r+Object(g.upperFirst)("stateStyles"))||{},u=n.get("default"+o);e.stateStyles&&(s=e.stateStyles),u&&Object(g.each)(u,function(t,n){Object(g.isObject)(t)&&!Object(g.isArray)(t)?e[n]=Object(g.deepMix)({},t,e[n]):Object(g.isArray)(t)?e[n]=e[n]||Object(g.clone)(u[n]):e[n]=e[n]||u[n]});var l=n.get(r+"Mapper");if(l){var c=l(e);c.stateStyles&&(s=c.stateStyles,delete c.stateStyles),Object(g.each)(c,function(t,n){Object(g.isObject)(t)&&!Object(g.isArray)(t)?e[n]=Object(g.deepMix)({},e[n],t):e[n]=c[n]||e[n]})}if(n.emit("beforeadditem",{type:t,model:e}),"edge"===t||"vedge"===t){var h=void 0,d=void 0;if(h=e.source,d=e.target,h&&Object(g.isString)(h)&&(h=n.findById(h)),d&&Object(g.isString)(d)&&(d=n.findById(d)),!h||!d)return void console.warn("The source or target node of edge ".concat(e.id," does not exist!"));h.getType&&"combo"===h.getType()&&(e.isComboEdge=!0),d.getType&&"combo"===d.getType()&&(e.isComboEdge=!0),a=new On({model:e,source:h,target:d,styles:s,linkCenter:n.get("linkCenter"),group:i.addGroup()})}else if("node"===t)a=new In({model:e,styles:s,group:i.addGroup()});else if("combo"===t){var f=e.children,p=Qe(f,n),v=void 0,y=void 0;if(isNaN(p.x)?isNaN(e.x)&&(v=100*Math.random()):v=p.x,isNaN(p.y)?isNaN(e.y)&&(y=100*Math.random()):y=p.y,isNaN(e.x)||isNaN(e.y))e.x=v,e.y=y;else{var m=e.x-v,b=e.y-y;this.updateComboSucceeds(e.id,m,b,f)}var x=i.addGroup();x.setZIndex(e.depth),a=new En({model:e,styles:s,animate:n.get("animate"),bbox:e.collapsed?Qe([],n):p,group:x}),e.collapsed||"circle"!==a.getKeyShape().get("type")||(p.width=Math.hypot(p.height,p.width),p.height=p.width,a.set("bbox",p),a.refresh());var A=a.getModel();(f||[]).forEach(function(t){var e=n.findById(t.id);a.addChild(e),t.depth=A.depth+2})}if(a)return a.setOptimize(n.getNodes().length>n.get("optimizeThreshold")),n.get("".concat(t,"s")).push(a),n.get("itemMap")[a.get("id")]=a,n.emit("afteradditem",{item:a,model:e}),a},t.prototype.updateItem=function(t,e){var n,r,i=this,o=this.graph;if(Object(g.isString)(t)&&(t=o.findById(t)),t&&!t.destroyed){var a="";t.getType&&(a=t.getType());var s=o.get(a+"Mapper"),u=t.getModel(),l=u.x,c=u.y,h=t.getUpdateType(e);if(s){var d=s(Object(g.deepMix)({},u,e)),f=Object(g.deepMix)({},u,d,e);d.stateStyles&&(t.set("styles",f.stateStyles),delete f.stateStyles),Object(g.each)(f,function(t,n){e[n]=t})}else Object(g.each)(e,function(t,n){u[n]&&Object(g.isObject)(t)&&!Object(g.isArray)(t)&&(e[n]=Object(p.__assign)(Object(p.__assign)({},u[n]),e[n]))});if(o.emit("beforeupdateitem",{item:t,cfg:e}),"edge"===a){if(e.source){var v=e.source;Object(g.isString)(v)&&(v=o.findById(v)),t.setSource(v)}if(e.target){var y=e.target;Object(g.isString)(y)&&(y=o.findById(y)),t.setTarget(y)}t.update(e)}else if("node"===a){t.update(e,h);var m=t.getEdges();"move"===h?Object(g.each)(m,function(t){i.edgeToBeUpdateMap[t.getID()]={edge:t,updateType:h},i.throttleRefresh()}):(null===h||void 0===h?void 0:h.includes("bbox"))&&Object(g.each)(m,function(t){t.refresh(h)})}else if("combo"===a){if(t.update(e,h),!isNaN(e.x)||!isNaN(e.y)){var b=e.x-l||0,x=e.y-c||0;this.updateComboSucceeds(u.id,b,x)}var A=t.getEdges();if(((null===h||void 0===h?void 0:h.includes("bbox"))||"move"===h)&&"combo"===a){var w=t.get("shapeFactory"),_=u.type||"circle";(void 0===u.animate||void 0===e.animate?null===(r=null===(n=w[_])||void 0===n?void 0:n.options)||void 0===r?void 0:r.animate:u.animate||e.animate)?setTimeout(function(){if(t&&!t.destroyed){var e=t.getKeyShape();e&&!e.destroyed&&Object(g.each)(A,function(t){t&&!t.destroyed&&t.refresh()})}},201):Object(g.each)(A,function(t){t.refresh()})}}t.setOptimize(o.getNodes().length>o.get("optimizeThreshold")),o.emit("afterupdateitem",{item:t,cfg:e})}},t.prototype.updateCombo=function(t,e,n){var r,i,o=this,a=this.graph;if(Object(g.isString)(t)&&(t=a.findById(t)),t&&!t.destroyed){var s=t.getModel(),u=Qe(e,a,t),l=u.x,c=u.y;t.set("bbox",u);var h=l,d=c;n?(h=isNaN(s.x)?l:s.x,d=isNaN(s.y)?c:s.y):(h=isNaN(l)?s.x:l,d=isNaN(c)?s.y:c),t.update({x:h,y:d});var f=t.get("shapeFactory"),p=s.type||"circle";(void 0===s.animate?null===(i=null===(r=f[p])||void 0===r?void 0:r.options)||void 0===i?void 0:i.animate:s.animate)?setTimeout(function(){if(t&&!t.destroyed){var e=t.getKeyShape();e&&!e.destroyed&&(t.getShapeCfg(s),o.updateComboEdges(t))}},201):this.updateComboEdges(t)}},t.prototype.updateComboEdges=function(t){for(var e,n,r=t.getEdges()||[],i=0;i<r.length;i++){var o=r[i];(null===o||void 0===o?void 0:o.destroyed)||(null===(e=null===o||void 0===o?void 0:o.getSource())||void 0===e?void 0:e.destroyed)||(null===(n=null===o||void 0===o?void 0:o.getTarget())||void 0===n?void 0:n.destroyed)||o.refresh()}},t.prototype.collapseCombo=function(t,e){void 0===e&&(e=!0);var n=this.graph;Object(g.isString)(t)&&(t=n.findById(t));var r=t.getChildren();r.nodes.forEach(function(t){n.hideItem(t,e)}),r.combos.forEach(function(t){n.hideItem(t,e)})},t.prototype.updateComboSucceeds=function(t,e,n,r){var i=this;void 0===r&&(r=[]);var o=this.graph;if(e||n){var a=r;if(!(null===a||void 0===a?void 0:a.length)){var s=o.get("comboTrees");null===s||void 0===s||s.forEach(function(e){Ve(e,function(e){return e.id!==t||(a=e.children,!1)})})}null===a||void 0===a||a.forEach(function(t){var r=o.findById(t.id);if(r){var a=r.getModel();i.updateItem(t.id,{x:(a.x||0)+e,y:(a.y||0)+n})}})}},t.prototype.expandCombo=function(t,e){void 0===e&&(e=!0);var n=this.graph;Object(g.isString)(t)&&(t=n.findById(t));var r=t.getChildren(),i=new Set;r.nodes.forEach(function(t){n.showItem(t,e),t.getEdges().forEach(function(t){return i.add(t)})}),r.combos.forEach(function(t){t.getModel().collapsed?t.show():n.showItem(t,e),t.getEdges().forEach(function(t){return i.add(t)})}),i.forEach(function(t){return t.refresh()})},t.prototype.removeItem=function(t){var e=this,n=this.graph;if(Object(g.isString)(t)&&(t=n.findById(t)),t&&!t.destroyed){var r=Object(g.clone)(t.getModel()),i="";t.getType&&(i=t.getType()),n.emit("beforeremoveitem",{item:r,type:i});var o=n.get("".concat(i,"s")),a=o.indexOf(t);if(a>-1&&o.splice(a,1),"edge"===i){var s=n.get("v".concat(i,"s")),u=s.indexOf(t);u>-1&&s.splice(u,1)}var l=t.get("id");delete n.get("itemMap")[l];var c=n.get("comboTrees"),h=t.get("id");if("node"===i){var d=t.getModel().comboId;if(c&&d){var f=c,p=!1;c.forEach(function(t){p||Ve(t,function(t){if(t.id===h&&f){var e=f.indexOf(t);return f.splice(e,1),p=!0,!1}return f=t.children,!0})})}for(var v=(x=t.getEdges()).length-1;v>=0;v--)n.removeItem(x[v],!1);d&&n.updateCombo(d)}else if("combo"===i){var y,m=t.getModel().parentId,b=!1;(c||[]).forEach(function(t){b||Ve(t,function(t){return t.id!==h||(y=t,b=!0,!1)})}),y.removed=!0,y&&y.children&&y.children.forEach(function(t){e.removeItem(t.id)});var x;for(v=(x=t.getEdges()).length;v>=0;v--)n.removeItem(x[v],!1);m&&n.updateCombo(m)}t.destroy(),n.emit("afterremoveitem",{item:r,type:i})}},t.prototype.setItemState=function(t,e,n){var r=this.graph,i=e;Object(g.isString)(n)&&(i="".concat(e,":").concat(n)),t.hasState(i)===n&&n||Object(g.isString)(n)&&t.hasState(i)||(r.emit("beforeitemstatechange",{item:t,state:i,enabled:n}),t.setState(e,n),r.autoPaint(),r.emit("afteritemstatechange",{item:t,state:i,enabled:n}))},t.prototype.priorityState=function(t,e){var n=this.graph,r=t;Object(g.isString)(t)&&(r=n.findById(t)),this.setItemState(r,e,!1),this.setItemState(r,e,!0)},t.prototype.clearItemStates=function(t,e){var n=this.graph;Object(g.isString)(t)&&(t=n.findById(t)),n.emit("beforeitemstatesclear",{item:t,states:e}),t.clearStates(e),n.emit("afteritemstatesclear",{item:t,states:e})},t.prototype.refreshItem=function(t){var e=this.graph;Object(g.isString)(t)&&(t=e.findById(t)),e.emit("beforeitemrefresh",{item:t}),t.refresh(),e.emit("afteritemrefresh",{item:t})},t.prototype.addCombos=function(t,e){var n=this,r=this.graph;(t||[]).forEach(function(t){Ue(t,function(t){var r;return e.forEach(function(e){e.id===t.id&&(e.children=t.children,e.depth=t.depth,r=e)}),r&&n.addItem("combo",r),!0})});var i=r.get("comboGroup");i&&i.sort()},t.prototype.changeItemVisibility=function(t,e){var n=this,r=this.graph;if(Object(g.isString)(t)&&(t=r.findById(t)),t){if(r.emit("beforeitemvisibilitychange",{item:t,visible:e}),t.changeVisibility(e),t.getType&&"node"===t.getType()){var i=t.getEdges();Object(g.each)(i,function(t){(!e||t.get("source").isVisible()&&t.get("target").isVisible())&&n.changeItemVisibility(t,e)})}else if(t.getType&&"combo"===t.getType()){var o=r.get("comboTrees"),a=t.get("id"),s=[],u=!1;(o||[]).forEach(function(t){u||t.children&&0!==t.children.length&&Ve(t,function(t){return t.id!==a||(s=t.children,u=!0,!1)})}),s&&(!e||e&&!t.getModel().collapsed)&&s.forEach(function(t){var i=r.findById(t.id);n.changeItemVisibility(i,e)});i=t.getEdges();Object(g.each)(i,function(t){(!e||t.get("source").isVisible()&&t.get("target").isVisible())&&n.changeItemVisibility(t,e)})}return r.emit("afteritemvisibilitychange",{item:t,visible:e}),t}console.warn("The item to be shown or hidden does not exist!")},t.prototype.destroy=function(){this.graph=null,this.destroyed=!0},t}(),kn=function(){function t(t){this.graph=t,this.destroyed=!1}return t.prototype.updateState=function(t,e,n){var r=this.graph.get("states"),i=e;Object(g.isString)(n)&&(i="".concat(e,":").concat(n)),r[i]||(r[i]=[]),n?r[i].push(t):r[i]=r[i].filter(function(e){return e!==t}),this.graph.set("states",r),this.graph.emit("graphstatechange",{states:r})},t.prototype.updateStates=function(t,e,n){var r=this.graph.get("states");(Object(g.isString)(e)?[e]:e).forEach(function(e){var i=e;r[i]||(r[i]=[]),Object(g.isString)(n)&&(i="".concat(e,":").concat(n)),n?r[i].push(t):r[i]=r[i].filter(function(e){return e!==t})}),this.graph.set("states",r),this.graph.emit("graphstatechange",{states:e})},t.prototype.destroy=function(){this.graph=null,this.destroyed=!0},t}(),Tn=n("wHEO"),Dn=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,function(t,n){if("\\"===t.charAt(0))return t.slice(1);var r=e[n];return 0===r&&(r="0"),r||""}):t},jn=function(t){var e=[];if(t.length<2)throw new Error("point length must largn than 2, now it's ".concat(t.length));for(var n=0,r=t;n<r.length;n++){var i=r[n],o=i.x,a=i.y;e.push(o),e.push(a)}var s=Object(Tn.a)(e);return s.unshift(["M",t[0].x,t[0].y]),s},Ln=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i={x:(1-n)*t.x+n*e.x,y:(1-n)*t.y+n*e.y},o=[0,0];x.c.normalize(o,[e.x-t.x,e.y-t.y]),o&&(o[0]||o[1])||(o=[0,0]);var a=[-o[1]*r,o[0]*r];return i.x+=a[0],i.y+=a[1],i},Pn=function(t,e){var n=t.length;if(!n)return"";for(var r="",i=0;i<n;i++){var o=t[i];r+=Dn(0===i?"M{x} {y}":"L{x} {y}",o)}return e&&(r+="Z"),r},Nn=function(t){var e=[];return t.forEach(function(t){if("A"!==t[0])for(var n=1;n<t.length;n+=2)e.push([t[n],t[n+1]]);else{var r=t.length;e.push([t[r-2],t[r-1]])}}),e},Rn=function(t){if(t.length<2)throw new Error("point length must largn than 2, now it's ".concat(t.length));var e=t[0],n=t[1],r=t[t.length-1],i=t[t.length-2];t.unshift(r),t.unshift(i),t.push(e),t.push(n);for(var o=[],a=1;a<t.length-2;a+=1){var s=t[a-1].x,u=t[a-1].y,l=t[a].x,c=t[a].y,h=t[a+1].x,d=t[a+1].y,f=l+(h-s)/6,p=c+(d-u)/6,g=h-((a!==t.length-2?t[a+2].x:h)-l)/6,v=d-((a!==t.length-2?t[a+2].y:d)-c)/6;o.push(["C",f,p,g,v,h,d])}return o.unshift(["M",r.x,r.y]),o},Bn=function(t,e){return x.c.scale([0,0],x.c.normalize([0,0],t),e)},zn=function(t,e){var n=[t[1]-e[1],e[0]-t[0]],r=Math.sqrt(n[0]*n[0]+n[1]*n[1]);if(0===r)throw new Error("p0 should not be equal to p1");return[n[0]/r,n[1]/r]},Fn=function(t,e){return[e[0]-t[0],e[1]-t[1]]};function Gn(t,e){if(!t||t.length<1)return"";if(1===t.length)return function(t){var n=[t[0][0],t[0][1]-e],r=[t[0][0],t[0][1]+e];return"M ".concat(n," A ").concat(e,",").concat(e,",0,0,0,").concat(r," A ").concat(e,",").concat(e,",0,0,0,").concat(n)}(t);if(2===t.length)return function(t){var n=x.c.scale([0,0],zn(t[0],t[1]),e),r=x.c.scale([0,0],n,-1),i=x.c.add([0,0],t[0],n),o=x.c.add([0,0],t[1],n),a=x.c.add([0,0],t[1],r),s=x.c.add([0,0],t[0],r);return"M ".concat(i," L ").concat(o," A ").concat([e,e,"0,0,0",a].join(",")," L ").concat(s," A ").concat([e,e,"0,0,0",i].join(","))}(t);for(var n=new Array(t.length),r=0;r<n.length;++r){var i=0===r?t[t.length-1]:t[r-1],o=t[r],a=x.c.scale([0,0],zn(i,o),e);n[r]=[x.c.add([0,0],i,a),x.c.add([0,0],o,a)]}var s="A ".concat([e,e,"0,0,0,"].join(","));return(n=n.map(function(t,e){var r="";return 0===e&&(r="M ".concat(n[n.length-1][1]," ")),r+="".concat(s+t[0]," L ").concat(t[1])})).join(" ")}function Vn(t,e){var n,r,i,o=t.length;if(!t||o<1)return"";if(1===o)return r=[(n=t)[0][0],n[0][1]-e],i=[n[0][0],n[0][1]+e],"M ".concat(r," A ").concat([e,e,"0,0,0",i].join(",")," A ").concat([e,e,"0,0,0",r].join(","));if(2===o)return function(t){var n=Fn(t[0],t[1]),r=Bn(n,e),i=x.c.add([0,0],t[0],x.c.scale([0,0],r,-1)),o=x.c.add([0,0],t[1],r),a=1.2*e,s=Bn(x.c.normalize([0,0],n),a),u=x.c.scale([0,0],s,-1),l=x.c.add([0,0],i,u),c=x.c.add([0,0],o,u),h=x.c.add([0,0],i,s);return"M ".concat(i," C ").concat([l,c,o].join(",")," S ").concat([h,i].join(",")," Z")}(t);for(var a=t.map(function(e,n){var r=t[(n+1)%o];return{p:e,v:x.c.normalize([0,0],Fn(e,r))}}),s=0;s<a.length;++s){var u=s>0?s-1:o-1,l=x.c.normalize([0,0],x.c.add([0,0],a[u].v,x.c.scale([0,0],a[s].v,-1)));a[s].p=x.c.add([0,0],a[s].p,x.c.scale([0,0],l,e))}return a.map(function(t){var e=t.p;return{x:e[0],y:e[1]}})}var Un=function(t,e){for(var n=[],r=0;r<5;r++){var i=Math.cos((18+72*r)/180*Math.PI)*t,o=Math.sin((18+72*r)/180*Math.PI)*t,a=Math.cos((54+72*r)/180*Math.PI)*e,s=Math.sin((54+72*r)/180*Math.PI)*e;0===r?n.push(["M",i,-o]):n.push(["L",i,-o]),n.push(["L",a,-s])}return n.push(["Z"]),n},Wn=function(t,e,n){return(t.y-n.y)*(e.x-n.x)-(t.x-n.x)*(e.y-n.y)},Hn=function(t){var e=t.map(function(t){return{x:t.getModel().x,y:t.getModel().y}});e.sort(function(t,e){return t.x===e.x?t.y-e.y:t.x-e.x});for(var n={},r=e.length-1;r>=0;r--){var i=e[r],o=i.x,a=i.y;n["".concat(o,"-").concat(a)]&&e.splice(r,1),n["".concat(o,"-").concat(a)]=!0}if(1===e.length)return e;var s=[];for(r=0;r<e.length;r++){for(;s.length>=2&&Wn(s[s.length-2],s[s.length-1],e[r])<=0;)s.pop();s.push(e[r])}var u=[];for(r=e.length-1;r>=0;r--){for(;u.length>=2&&Wn(u[u.length-2],u[u.length-1],e[r])<=0;)u.pop();u.push(e[r])}return u.pop(),s.pop(),s.concat(u)},Yn={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function Xn(t,e,n){var r=!1,i=function(t,n){return e.cells[t+n*e.width]},o=function(t,e){var r=0;return i(t-1,e-1)>=n&&(r+=1),i(t,e-1)>n&&(r+=2),i(t-1,e)>n&&(r+=4),i(t,e)>n&&(r+=8),r},a=function(n,r){for(var i,a,s=n,u=r,l=0;l<e.width*e.height;l++){if(i=s,a=u,t.findIndex(function(t){return t.x===s&&t.y===u})>-1){if(t[0].x===s&&t[0].y===u)return!0}else t.push({x:s,y:u});var c=o(s,u);switch(c){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:s++;break;case 12:case 14:case 4:s--;break;case 6:0===i&&(-1===a?s-=1:s+=1);break;case 1:case 13:case 5:u--;break;case 9:1===i&&(0===a?u-=1:u+=1);break;case 10:case 8:case 11:u++;break;default:return console.warn("Marching squares invalid state: ".concat(c)),!0}}};this.march=function(){for(var t=0;t<e.width&&!r;t+=1)for(var s=0;s<e.height&&!r;s+=1)i(t,s)>n&&15!==o(t,s)&&(r=a(t,s));return r}}var qn=function(t,e,n){var r=null,i=Number.POSITIVE_INFINITY;return e.forEach(function(e){var o={x:t.getModel().x,y:t.getModel().y},a={x:e.getModel().x,y:e.getModel().y},s=ve(o,a),u=new ce(o.x,o.y,a.x,a.y),l=n.reduce(function(t,e){return pe(e,u)>0?t+1:t},0);s*Math.pow(l+1,2)<i&&(r=e,i=s*Math.pow(l+1,2))}),r},Qn=function(t,e){var n=Number.POSITIVE_INFINITY,r=null;return t.forEach(function(t){var i=pe(t,e);i>=0&&i<n&&(r=t,n=i)}),r},Zn=function(t,e,n,r){var i=[],o=[];o.push(t);for(var a=!0,s=0,u=function(t,e){var n=!1;return e.forEach(function(e){n||(me(t,{x:e.x1,y:e.y1})||me(t,{x:e.x2,y:e.y2}))&&(n=!0)}),n},l=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n].getBBox(),o=[[i.x,i.y],[i.x+i.width,i.y],[i.x,i.y+i.height],[i.x+i.width,i.y+i.height]];if(se(o,t.x,t.y))return!0}return!1};a&&s<n;){a=!1;for(var c=function(){var t=o.pop(),n=Qn(e,t);if(n){var c=fe(n,t),h=c[0];if(2===c[1]){var d=function(s){for(var c=r,d=$n(n,c,h,s),f=u(d,o)||u(d,i),p=l(d,e);!f&&p&&c>=1;)d=$n(n,c/=1.5,h,s),f=u(d,o)||u(d,i),p=l(d,e);!d||f||s&&p||(o.push(new ce(t.x1,t.y1,d.x,d.y)),o.push(new ce(d.x,d.y,t.x2,t.y2)),a=!0)};d(!0),a||d(!1)}}a||i.push(t),s+=1};!a&&o.length;)c()}for(;o.length;)i.push(o.pop());return i};var Kn=function(t,e,n){var r=Object.assign(Yn,n),i=ge(t.map(function(t){return{x:t.getModel().x,y:t.getModel().y}})),o=[],a=[];(t=t.sort(function(t,e){return ve({x:t.getModel().x,y:t.getModel().y},i)-ve({x:e.getModel().x,y:e.getModel().y},i)})).forEach(function(t){(function(t,e,n,r,i){var o=qn(t,n,e);if(null===o)return[];var a=new ce(t.getModel().x,t.getModel().y,o.getModel().x,o.getModel().y);return function(t){for(var n=[];t.length>0;){var r=t.pop();if(0===t.length){n.push(r);break}var i=t.pop(),o=new ce(r.x1,r.y1,i.x2,i.y2);Qn(e,o)?(n.push(r),t.push(i)):t.push(o)}return n}(Zn(a,e,r,i))})(t,e,o,r.maxRoutingIterations,r.morphBuffer).forEach(function(t){a.push(t)}),o.push(t)});for(var s,u,l,c,h,d=function(t,e,n){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},i=[];t.forEach(function(t){i.push(t.getBBox())}),e.forEach(function(t){i.push(t.getBBox())});for(var o=0,a=i;o<a.length;o++){var s=a[o];r.minX=(s.minX<r.minX?s.minX:r.minX)-n,r.minY=(s.minY<r.minY?s.minY:r.minY)-n,r.maxX=(s.maxX>r.maxX?s.maxX:r.maxX)+n,r.maxY=(s.maxY>r.maxY?s.maxY:r.maxY)+n}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}(t,a,r.nodeR0),f=(s=d.width,u=d.height,l=r.pixelGroupSize,c=Math.ceil(s/l),h=Math.ceil(u/l),{cells:new Float32Array(Math.max(0,c*h)).fill(0),width:c,height:h}),p=[],g=[],v=0;v<r.maxMarchingIterations;v++)if(Jn(t,e,a,d,f,r),g=[],new Xn(p=[],f,r.threshold).march()){var y=p.map(function(t){return{x:Math.round(t.x*r.pixelGroupSize+d.minX),y:Math.round(t.y*r.pixelGroupSize+d.minY)}});if(y){var m=y.length;if(r.skip>1)for(m=Math.floor(y.length/r.skip);m<3&&r.skip>1;)r.skip-=1,m=Math.floor(y.length/r.skip);for(var b=0,x=0;x<m;x+=1,b+=r.skip)g.push({x:y[b].x,y:y[b].y})}if(g&&function(){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=g.map(function(t){return[t.x,t.y]});if(!se(i,r.getBBox().centerX,r.getBBox().centerY))return!1}return!0}())return g;if(r.threshold*=.9,v<=.5*r.maxMarchingIterations)r.memberInfluenceFactor*=1.2,r.edgeInfluenceFactor*=1.2;else{if(!(0!==r.nonMemberInfluenceFactor&&e.length>0))break;r.nonMemberInfluenceFactor*=.8}}return g};function Jn(t,e,n,r,i,o){function a(t,e){var n=Math.floor((t-e)/o.pixelGroupSize);return n<0?0:n}function s(t,e){return t*o.pixelGroupSize+e}var u=(o.nodeR0-o.nodeR1)*(o.nodeR0-o.nodeR1),l=(o.edgeR0-o.edgeR1)*(o.edgeR0-o.edgeR1),c=function(t,e){return[Math.min(a(t.minX,e+r.minX),i.width),Math.min(a(t.minY,e+r.minY),i.height),Math.min(a(t.maxX,-e+r.minX),i.width),Math.min(a(t.maxY,-e+r.minY),i.height)]},h=function(t,e){for(var n=t.getBBox(),a=c(n,o.nodeR1),u=a[0],l=a[1],h=a[2],d=a[3],f=l;f<d;f+=1)for(var p=u;p<h;p+=1)if(!(e<0&&i[p+f*i.width]<=0)){var g=s(p,r.minX),v=s(f,r.minY),y=be({x:g,y:v},{x:n.minX,y:n.minY,width:n.width,height:n.height});if(y<Math.pow(o.nodeR1,2)){var m=Math.sqrt(y)-o.nodeR1;i.cells[p+f*i.width]+=e*m*m}}};o.nodeInfluenceFactor&&t.forEach(function(t){h(t,o.nodeInfluenceFactor/u)}),o.edgeInfluenceFactor&&n.forEach(function(t){!function(t,e){for(var n=t.getBBox(),a=c(n,o.edgeR1),u=a[0],l=a[1],h=a[2],d=a[3],f=l;f<d;f+=1)for(var p=u;p<h;p+=1)if(!(e<0&&i.cells[p+f*i.width]<=0)){var g=s(p,r.minX),v=s(f,r.minY),y=ye({x:g,y:v},t);if(y<Math.pow(o.edgeR1,2)){var m=Math.sqrt(y)-o.edgeR1;i.cells[p+f*i.width]+=e*m*m}}}(t,o.edgeInfluenceFactor/l)}),o.negativeNodeInfluenceFactor&&e.forEach(function(t){h(t,o.negativeNodeInfluenceFactor/u)})}function $n(t,e,n,r){var i=t.getBBox(),o=n[0],a=n[1],s=n[2],u=n[3],l={topLeft:{x:i.minX-e,y:i.minY-e},topRight:{x:i.maxX+e,y:i.minY-e},bottomLeft:{x:i.minX-e,y:i.maxY+e},bottomRight:{x:i.maxX+e,y:i.maxY+e}},c=i.height*i.width;function h(t,e){return i.width*(.5*(t.y-i.minY+(e.y-i.minY)))}if(a)return o?r?l.topLeft:l.bottomRight:s?r?l.bottomLeft:l.topRight:h(a,u)<.5*c?a.y>u.y?r?l.topLeft:l.bottomRight:r?l.topRight:l.bottomLeft:a.y<u.y?r?l.bottomLeft:l.topRight:r?l.bottomRight:l.topLeft;if(u){if(o)return r?l.topRight:l.bottomLeft;if(s)return r?l.bottomRight:l.topLeft}return h(o,s)<.5*c?o.x>s.x?r?l.topLeft:l.bottomRight:r?l.bottomLeft:l.topRight:o.x<s.x?r?l.topRight:l.bottomLeft:r?l.bottomRight:l.topLeft}var tr=function(){function t(t,e){this.cfg=Object(g.deepMix)(this.getDefaultCfg(),e),this.graph=t,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(e){return Object(g.isString)(e)?t.findById(e):e}),this.nonMembers=this.cfg.nonMembers.map(function(e){return Object(g.isString)(e)?t.findById(e):e}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return t.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},t.prototype.setPadding=function(){var t=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+t:10+t,this.cfg.bubbleCfg={nodeR0:this.padding-t,nodeR1:this.padding-t,morphBuffer:this.padding-t}},t.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),"round-convex"!==this.type&&"smooth-convex"!==this.type&&"bubble"!==this.type&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},t.prototype.calcPath=function(t,e){var n,r,i;switch(this.type){case"round-convex":i=Gn((n=Hn(t)).map(function(t){return[t.x,t.y]}),this.padding),r=Object(Tn.b)(i);break;case"smooth-convex":2===(n=Hn(t)).length?(i=Gn(n.map(function(t){return[t.x,t.y]}),this.padding),r=Object(Tn.b)(i)):n.length>2&&(i=Vn(n.map(function(t){return[t.x,t.y]}),this.padding),r=Rn(i));break;case"bubble":r=(n=Kn(t,e,this.cfg.bubbleCfg)).length>=2&&Rn(n)}return r},t.prototype.render=function(){this.group.addShape("path",{attrs:Object(p.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},t.prototype.addMember=function(t){if(t){Object(g.isString)(t)&&(t=this.graph.findById(t)),this.members.push(t);var e=this.nonMembers.indexOf(t);return e>-1&&this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},t.prototype.addNonMember=function(t){if(t){Object(g.isString)(t)&&(t=this.graph.findById(t)),this.nonMembers.push(t);var e=this.members.indexOf(t);return e>-1&&this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},t.prototype.removeMember=function(t){if(t){Object(g.isString)(t)&&(t=this.graph.findById(t));var e=this.members.indexOf(t);return e>-1&&(this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},t.prototype.removeNonMember=function(t){if(t){Object(g.isString)(t)&&(t=this.graph.findById(t));var e=this.nonMembers.indexOf(t);return e>-1&&(this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},t.prototype.updateData=function(t,e){var n=this;this.group.findById(this.id).remove(),t&&(this.members=t.map(function(t){return Object(g.isString)(t)?n.graph.findById(t):t})),e&&(this.nonMembers=e.map(function(t){return Object(g.isString)(t)?n.graph.findById(t):t})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},t.prototype.updateStyle=function(t){this.group.findById(this.id).attr(Object(p.__assign)({},t))},t.prototype.updateCfg=function(t){var e=this;this.cfg=Object(g.deepMix)(this.cfg,t),this.id=this.cfg.id,this.group=this.cfg.group,t.members&&(this.members=this.cfg.members.map(function(t){return Object(g.isString)(t)?e.graph.findById(t):t})),t.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(t){return Object(g.isString)(t)?e.graph.findById(t):t})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},t.prototype.contain=function(t){var e,n,r=this,i=(e=Object(g.isString)(t)?this.graph.findById(t):t).getKeyShape();if("path"===e.get("type"))n=Nn(i.attr("path"));else{var o=i.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(t){var e=r.graph.getPointByCanvas(t[0],t[1]);return[e.x,e.y]}),le(n,Nn(this.path))},t.prototype.destroy=function(){this.group.remove(),this.cfg=null},t}(),er=x.a.transform,nr=function(t){function e(e){var n=t.call(this)||this;return n.sortCombos=Object(g.debounce)(function(){var t=n.get("comboSorted");if(n&&!n.destroyed&&!t){n.set("comboSorted",!0);var e=[],r={};(n.get("comboTrees")||[]).forEach(function(t){Ve(t,function(t){return e[t.depth]?e[t.depth].push(t.id):e[t.depth]=[t.id],r[t.id]=t.depth,!0})}),(n.getEdges().concat(n.get("vedges"))||[]).forEach(function(t){var n=t.getModel(),i=r[n.source]||0,o=r[n.target]||0,a=Math.max(i,o);e[a]?e[a].push(n.id):e[a]=[n.id]}),e.forEach(function(t){if(t&&t.length)for(var e=t.length-1;e>=0;e--){var r=n.findById(t[e]);r&&r.toFront()}})}},500,!1),n.cfg=Object(g.deepMix)(n.getDefaultCfg(),e),n.init(),n.animating=!1,n.destroyed=!1,n.cfg.enabledStack&&(n.undoStack=new Bt(n.cfg.maxStep),n.redoStack=new Bt(n.cfg.maxStep)),n}return Object(p.__extends)(e,t),e.prototype.init=function(){this.initCanvas();var t=new hn(this),e=new tn(this),n=new Cn(this),r=new kn(this);this.set({viewController:t,modeController:e,itemController:n,stateController:r}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},e.prototype.initGroups=function(){var t=this.get("canvas");if(t){var e=(t.get("el")||{}).id,n=void 0===e?"g6":e,r=t.addGroup({id:"".concat(n,"-root"),className:De.rootContainerClassName});if(this.get("groupByTypes")){var i=r.addGroup({id:"".concat(n,"-edge"),className:De.edgeContainerClassName}),o=r.addGroup({id:"".concat(n,"-node"),className:De.nodeContainerClassName}),a=r.addGroup({id:"".concat(n,"-combo"),className:De.comboContainerClassName});a.toBack(),this.set({nodeGroup:o,edgeGroup:i,comboGroup:a})}var s=r.addGroup({id:"".concat(n,"-delegate"),className:De.delegateContainerClassName});this.set({delegateGroup:s}),this.set("group",r)}},e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.02,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[],optimizeThreshold:1e3}},e.prototype.set=function(t,e){return Object(g.isPlainObject)(t)?this.cfg=Object(p.__assign)(Object(p.__assign)({},this.cfg),t):this.cfg[t]=e,"enabledStack"!==t||!e||this.undoStack||this.redoStack||(this.undoStack=new Bt(this.cfg.maxStep),this.redoStack=new Bt(this.cfg.maxStep)),this},e.prototype.get=function(t){var e;return null===(e=this.cfg)||void 0===e?void 0:e[t]},e.prototype.getGroup=function(){return this.get("group")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.setMinZoom=function(t){return this.set("minZoom",t)},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.clearItemStates=function(t,e){Object(g.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");e||(e=t.get("states")),n.clearItemStates(t,e),this.get("stateController").updateStates(t,e,!1)},e.prototype.node=function(t){"function"==typeof t&&this.set("nodeMapper",t)},e.prototype.edge=function(t){"function"==typeof t&&this.set("edgeMapper",t)},e.prototype.combo=function(t){"function"==typeof t&&this.set("comboMapper",t)},e.prototype.findById=function(t){return this.get("itemMap")[t]},e.prototype.find=function(t,e){var n,r=this.get("".concat(t,"s"));return Object(g.each)(r,function(t,r){if(e(t,r))return n=t}),n},e.prototype.findAll=function(t,e){var n=[];return Object(g.each)(this.get("".concat(t,"s")),function(t,r){e(t,r)&&n.push(t)}),n},e.prototype.findAllByState=function(t,e,n){return n?this.findAll(t,function(t){return t.hasState(e)&&n(t)}):this.findAll(t,function(t){return t.hasState(e)})},e.prototype.translate=function(t,e,n,r){var i=this,o=this.get("group"),a=Object(g.clone)(o.getMatrix());if(a||(a=[1,0,0,0,1,0,0,0,1]),n){var s=Je({animateCfg:r,callback:function(){return i.emit("viewportchange",{action:"translate",matrix:o.getMatrix()})}});ne(o,{x:o.getCanvasBBox().x+t,y:o.getCanvasBBox().y+e},n,s||{duration:500,easing:"easeCubic"})}else a=er(a,[["t",t,e]]),o.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:a}),this.autoPaint()},e.prototype.moveTo=function(t,e,n,r){var i=this.get("group");ne(i,{x:t,y:e},n,r||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:i.getMatrix()})},e.prototype.fitView=function(t,e,n,r){t&&this.set("fitViewPadding",t);var i=this.get("viewController");e?i.fitViewByRules(e,n,r):i.fitView(n,r),this.autoPaint()},e.prototype.fitCenter=function(t,e){this.get("viewController").fitCenter(t,e),this.autoPaint()},e.prototype.addBehaviors=function(t,e){return this.get("modeController").manipulateBehaviors(t,e,!0),this},e.prototype.removeBehaviors=function(t,e){return this.get("modeController").manipulateBehaviors(t,e,!1),this},e.prototype.updateBehavior=function(t,e,n){return this.get("modeController").updateBehavior(t,e,n),this},e.prototype.zoom=function(t,e,n,r){var i=this,o=this.get("group"),a=Object(g.clone)(o.getMatrix())||[1,0,0,0,1,0,0,0,1],s=this.get("minZoom"),u=this.get("maxZoom"),l=this.getZoom()||1,c=l*t,h=t,d=!1;if(s&&c<s?(h=s/l,d=!0):u&&c>u&&(h=u/l,d=!0),a=er(a,e?[["t",-e.x,-e.y],["s",h,h],["t",e.x,e.y]]:[["s",h,h]]),n){var f=Object(g.clone)(o.getMatrix());f||(f=[1,0,0,0,1,0,0,0,1]);var p=f[0],v=p*h,y=Je({animateCfg:r,callback:function(){return i.emit("viewportchange",{action:"zoom",matrix:o.getMatrix()})}});o.animate(function(t){if(1===t)f=a;else{var n=Ae(p,v,t)/f[0];f=er(f,e?[["t",-e.x,-e.y],["s",n,n],["t",e.x,e.y]]:[["s",n,n]])}return{matrix:f}},y)}else o.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint();return!d},e.prototype.zoomTo=function(t,e,n,r){var i=t/this.getZoom();return this.zoom(i,e,n,r)},e.prototype.focusItem=function(t,e,n){var r=this.get("viewController"),i=!1;e?i=!0:void 0===e&&(i=this.get("animate"));var o={};n?o=n:void 0===n&&(o=this.get("animateCfg")),r.focus(t,i,o),this.autoPaint()},e.prototype.focusItems=function(t,e,n,r){this.get("viewController").focusItems(t,e,n,r)},e.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.prototype.getPointByClient=function(t,e){return this.get("viewController").getPointByClient(t,e)},e.prototype.getClientByPoint=function(t,e){return this.get("viewController").getClientByPoint(t,e)},e.prototype.getPointByCanvas=function(t,e){return this.get("viewController").getPointByCanvas(t,e)},e.prototype.getCanvasByPoint=function(t,e){return this.get("viewController").getCanvasByPoint(t,e)},e.prototype.getGraphCenterPoint=function(){var t=this.get("group").getCanvasBBox();return{x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2}},e.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},e.prototype.showItem=function(t,e){void 0===e&&(e=!0);var n=this.get("itemController").changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!1}],o.nodes=[{id:r,visible:!0}];break;case"edge":i.nodes=[{id:r,visible:!1}],o.edges=[{id:r,visible:!0}];break;case"combo":i.nodes=[{id:r,visible:!1}],o.combos=[{id:r,visible:!0}]}this.pushStack("visible",{before:i,after:o})}},e.prototype.hideItem=function(t,e){void 0===e&&(e=!0);var n=this.get("itemController").changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!0}],o.nodes=[{id:r,visible:!1}];break;case"edge":i.nodes=[{id:r,visible:!0}],o.edges=[{id:r,visible:!1}];break;case"combo":i.nodes=[{id:r,visible:!0}],o.combos=[{id:r,visible:!1}]}this.pushStack("visible",{before:i,after:o})}},e.prototype.refreshItem=function(t){this.get("itemController").refreshItem(t)},e.prototype.setAutoPaint=function(t){this.set("autoPaint",t),this.get("canvas").set("autoDraw",t)},e.prototype.remove=function(t,e){void 0===e&&(e=!0),this.removeItem(t,e)},e.prototype.removeItem=function(t,e){void 0===e&&(e=!0);var n=t;if(Object(g.isString)(t)&&(n=this.findById(t)),!n&&Object(g.isString)(t))console.warn("The item ".concat(t," to be removed does not exist!"));else if(n){var r="";if(n.getType&&(r=n.getType()),e&&this.get("enabledStack")){var i=Object(p.__assign)(Object(p.__assign)({},n.getModel()),{itemType:r}),o={};switch(r){case"node":o.nodes=[i],o.edges=[];for(var a=n.getEdges(),s=a.length-1;s>=0;s--)o.edges.push(Object(p.__assign)(Object(p.__assign)({},a[s].getModel()),{itemType:"edge"}));break;case"edge":o.edges=[i];break;case"combo":o.combos=[i]}this.pushStack("delete",{before:o,after:{}})}if("node"===r)n.getModel().comboId&&this.updateComboTree(n,void 0,!1);if(this.get("itemController").removeItem(n),"combo"===r){var u=qe(this.get("comboTrees"));this.set("comboTrees",u)}}},e.prototype.innerAddItem=function(t,e,n){if(!function(t,e){if("node"===t||"combo"===t){if(e.id&&!Object(g.isString)(e.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(e.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1}else if(!("edge"!==t||e.source&&e.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0}(t,e))return!1;if(!e.id||!this.findById(e.id)){var r,i=this.get("comboTrees")||[];if("combo"===t){var o=this.get("itemMap"),a=!1;if(i.forEach(function(i){a||Ue(i,function(i){if(e.parentId===i.id){a=!0;var s=Object(p.__assign)({id:e.id,depth:i.depth+2},e);i.children?i.children.push(s):i.children=[s],e.depth=s.depth,r=n.addItem(t,e)}var u=o[i.id];return a&&u&&u.getType&&"combo"===u.getType()&&n.updateCombo(u,i.children),!0})}),!a){var s=Object(p.__assign)({id:e.id,depth:0},e);e.depth=s.depth,i.push(s),r=n.addItem(t,e)}this.set("comboTrees",i),e.collapsed&&(this.collapseCombo(r,!1),this.updateCombo(r))}else if("node"===t&&Object(g.isString)(e.comboId)&&i){var u;(u=this.findById(e.comboId))&&u.getType&&"combo"!==u.getType()&&console.warn("'".concat(e.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),r=n.addItem(t,e);var l=this.get("itemMap"),c=!1,h=!1;i.forEach(function(t){h||c||Ue(t,function(t){if(t.id===e.id)return h=!0,!1;if(e.comboId===t.id&&!h){c=!0;var r=Object(g.clone)(e);r.itemType="node",t.children?t.children.push(r):t.children=[r],r.depth=t.depth+1}return c&&l[t.id].getType&&"combo"===l[t.id].getType()&&n.updateCombo(l[t.id],t.children),!0})})}else r=n.addItem(t,e);if("node"===t&&e.comboId||"combo"===t&&e.parentId)(u=this.findById(e.comboId||e.parentId))&&u.getType&&"combo"===u.getType()&&u.addChild(r);return r}console.warn("This item exists already. Be sure the id %c".concat(e.id,"%c is unique."),"font-size: 20px; color: red;","")},e.prototype.addItem=function(t,e,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var i=this.get("comboSorted");this.set("comboSorted",i&&!r);var o=this.get("itemController"),a=this.innerAddItem(t,e,o);if(!1===a||!0===a)return a;var s=this.get("combos");if(s&&s.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var u=Object(p.__assign)(Object(p.__assign)({},a.getModel()),{itemType:t}),l={};switch(t){case"node":l.nodes=[u];break;case"edge":l.edges=[u];break;case"combo":l.combos=[u]}this.pushStack("add",{before:{},after:l})}return a},e.prototype.addItems=function(t,e,n){void 0===t&&(t=[]),void 0===e&&(e=!0),void 0===n&&(n=!0);var r=this.get("comboSorted");this.set("comboSorted",r&&!n);for(var i=this.get("itemController"),o=[],a=0;a<t.length;a++){"edge"!==(s=t[a]).type&&"vedge"!==s.type?o.push(this.innerAddItem(s.type,s.model,i)):o.push(void 0)}for(a=0;a<t.length;a++){var s;"edge"!==(s=t[a]).type&&"vedge"!==s.type||(o[a]=this.innerAddItem(s.type,s.model,i))}if(n){var u=this.get("combos");u&&u.length>0&&this.sortCombos()}if(this.autoPaint(),e&&this.get("enabledStack")){var l={nodes:[],edges:[],combos:[]};for(a=0;a<t.length;a++){var c=t[a].type,h=o[a];if(h&&!0!==h){var d=Object(p.__assign)(Object(p.__assign)({},h.getModel()),{itemType:c});switch(c){case"node":l.nodes.push(d);break;case"edge":l.edges.push(d);break;case"combo":l.combos.push(d)}}}this.pushStack("addItems",{before:{},after:l})}return o},e.prototype.add=function(t,e,n,r){return void 0===n&&(n=!0),void 0===r&&(r=!0),this.addItem(t,e,n,r)},e.prototype.updateItem=function(t,e,n){var r=this;void 0===n&&(n=!0);var i,o=this.get("itemController");i=Object(g.isString)(t)?this.findById(t):t;var a,s=n&&this.get("enabledStack");s&&(a=Object(g.clone)(i.getModel()));var u="";i.getType&&(u=i.getType());var l=Object(p.__spreadArray)([],i.getStates(),!0);if("combo"===u&&Object(g.each)(l,function(t){return r.setItemState(i,t,!1)}),o.updateItem(i,e),"combo"===u&&Object(g.each)(l,function(t){return r.setItemState(i,t,!0)}),s){var c={nodes:[],edges:[],combos:[]},h={nodes:[],edges:[],combos:[]},d=Object(p.__assign)({id:a.id},e);switch(u){case"node":c.nodes.push(a),h.nodes.push(d);break;case"edge":c.edges.push(a),h.edges.push(d);break;case"combo":c.combos.push(a),h.combos.push(d)}this.pushStack("update",{before:c,after:h})}},e.prototype.update=function(t,e,n){void 0===n&&(n=!0),this.updateItem(t,e,n)},e.prototype.setItemState=function(t,e,n){Object(g.isString)(t)&&(t=this.findById(t)),this.get("itemController").setItemState(t,e,n),this.get("stateController").updateState(t,e,n)},e.prototype.priorityState=function(t,e){this.get("itemController").priorityState(t,e)},e.prototype.data=function(t){$e(t),this.set("data",t)},e.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i,a=e.combos,s=void 0===a?[]:a;if(this.clear(!0),this.emit("beforerender"),t.addItems(r.map(function(t){return{type:"node",model:t}}),!1,!1),0!==(null===s||void 0===s?void 0:s.length)){var u=Xe(s,r);this.set("comboTrees",u),t.addCombos(s)}t.addItems(o.map(function(t){return{type:"edge",model:t}}),!1,!1);var l=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var c=t.get("layoutController");if(c){if(c.layout(h),this.destroyed)return}else h();function h(){(t.get("comboTrees")||[]).forEach(function(e){Ue(e,function(e){var n=t.findById(e.id);return"combo"===n.getType()&&e.collapsed&&(t.collapseCombo(e.id,!1),t.updateCombo(n)),!0})}),t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",l),setTimeout(function(){var e;null===(e=t.getCombos())||void 0===e||e.forEach(function(t){t.set("animate",!0)})},0)}this.get("groupByTypes")||(s&&0!==s.length?this.sortCombos():e.nodes&&e.edges&&e.nodes.length<e.edges.length?this.getNodes().forEach(function(t){t.toFront()}):this.getEdges().forEach(function(t){t.toBack()}))},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,e,n){var r,i=this,o=this.get("itemMap");Object(g.each)(n,function(n){if(r=o[n.id]){if(i.get("animate")&&"node"===t){var a=r.getContainer().getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r.set("originAttrs",{x:a[6],y:a[7]})}i.updateItem(r,n,!1)}else r=i.addItem(t,n,!1);r&&e["".concat(t,"s")].push(r)})},e.prototype.changeData=function(t,e){var n,r=this;void 0===e&&(e=!0);var i=this,o=t||i.get("data");if(!$e(o))return this;this.emit("beforechangedata"),e&&this.get("enabledStack")&&this.pushStack("changedata",{before:i.save(),after:o}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(t){return i.clearItemStates(t)}),this.getEdges().map(function(t){return i.clearItemStates(t)});var a=this.get("canvas"),s=a.get("localRefresh");a.set("localRefresh",!1),i.get("data")||(i.data(o),i.render());var u=this.get("itemMap"),l={nodes:[],edges:[]},c=o.combos;if(c){var h=Xe(c,o.nodes);this.set("comboTrees",h)}else this.set("comboTrees",[]);this.diffItems("node",l,o.nodes),Object(g.each)(u,function(t,e){u[e].getModel().depth=0,t.getType&&"edge"===t.getType()||(t.getType&&"combo"===t.getType()?(delete u[e],t.destroy()):l.nodes.indexOf(t)<0&&(delete u[e],i.remove(t,!1)))});for(var d=this.getCombos(),f=d.length-1;f>=0;f--)d[f].destroyed&&d.splice(f,1);c&&(i.addCombos(c),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",l,o.edges),Object(g.each)(u,function(t,e){(!t.getType||"node"!==t.getType()&&"combo"!==t.getType())&&l.edges.indexOf(t)<0&&(delete u[e],i.remove(t,!1))}),(this.get("comboTrees")||[]).forEach(function(t){Ue(t,function(t){return"combo"===r.findById(t.id).getType()&&t.collapsed&&r.collapseCombo(t.id,!1),!0})}),this.set({nodes:l.nodes,edges:l.edges});var p=this.get("layoutController");return p&&(p.changeData(function(){setTimeout(function(){var t;null===(t=i.getCombos())||void 0===t||t.forEach(function(t){t.set("animate",!0)})},0)}),i.get("animate")&&!p.getLayoutType()?(i.positionsAnimate(),null===(n=i.getCombos())||void 0===n||n.forEach(function(t){return t.set("animate",!0)})):i.autoPaint()),setTimeout(function(){a.set("localRefresh",s)},16),this.set("data",o),this.emit("afterchangedata"),this},e.prototype.addCombos=function(t){var e=this.get("comboTrees");this.get("itemController").addCombos(e,t)},e.prototype.createCombo=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=this.get("itemController");this.set("comboSorted",!1);var o,a="";if(t){if(Object(g.isString)(t))a=t,o={id:t};else{if(!(a=t.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");o=t}var s=n&&this.get("enabledStack"),u={nodes:[],combos:[]};s&&e.forEach(function(t){var e=r.findById(t),n=e.getType();if("node"===n||"combo"===n){var i=e.getModel();u["".concat(n,"s")].push({id:t,parentId:"node"===n?i.comboId:i.parentId})}});var l=this.get("comboTrees"),c=new Set(e),h=new Map;l&&(l.forEach(function(t){Ue(t,function(t,e,n){if(c.has(t.id)){if(e){var o=r.findById(e.id),a=r.findById(t.id);e.children.splice(n,1),o.removeChild(a),i.updateCombo(o,e.children)}"combo"===t.itemType&&h.set(t.id,t)}return!0})}),l=l.filter(function(t){return!c.has(t.id)}),this.set("comboTrees",l));var d={nodes:[],combos:[]},f=e.map(function(t){var e=r.findById(t),n=e.getModel(),i="";e.getType&&(i=e.getType());var o=h.get(t)||{id:e.getID(),itemType:i};return"combo"===i?(o.parentId=a,n.parentId=a):"node"===i&&(o.comboId=a,n.comboId=a),s&&d["".concat(i,"s")].push({id:n.id,parentId:a}),o});o.children=f,this.addItem("combo",o,!1),this.set("comboSorted",!1),l&&(l.forEach(function(t){Ve(t,function(t){return t.id!==a||(t.itemType="combo",t.children=f,!1)})}),this.sortCombos()),s&&(d.combos.push(o),this.pushStack("createCombo",{before:u,after:d}));var p=this.findById(a);!p.getModel().parentId&&p.getChildren().combos.length&&this.updateComboTree(p,void 0,!1)}},e.prototype.uncombo=function(t,e){var n,r,i=this;void 0===e&&(e=!0);var o=t;if(Object(g.isString)(t)&&(o=this.findById(t)),!o||o.getType&&"combo"!==o.getType())console.warn("The item is not a combo!");else{var a=o.getModel(),s=o.getModel().parentId,u=this.get("comboTrees");u||(u=[]);var l,c=this.get("itemMap"),h=o.get("id"),d=[],f=this.get("combos"),p=this.findById(s),v=e&&this.get("enabledStack"),y={};if(v&&((y=Object(g.clone)(a)).children=[]),u.forEach(function(t){l||Ue(t,function(t){var e;if(t.id===h){l=t,o.getEdges().map(function(t){return t.getID()}).forEach(function(t){i.removeItem(t,!1)});var n=f.indexOf(o);f.splice(n,1),delete c[h];var r=Object(g.clone)(o.getModel());o.destroy(),i.emit("afterremoveitem",{item:r,type:"combo"})}return!s||!l||t.id!==s||(p.removeCombo(o),-1!==(n=(d=t.children).indexOf(l))&&d.splice(n,1),null===(e=l.children)||void 0===e||e.forEach(function(t){var e=i.findById(t.id),n=e.getModel();e.getType&&"combo"===e.getType()?(t.parentId=s,delete t.comboId,n.parentId=s,delete n.comboId):e.getType&&"node"===e.getType()&&(t.comboId=s,n.comboId=s),p.addChild(e),d.push(t)}),i.updateCombo(p),!1)})}),!s&&l){var m=u.indexOf(l);u.splice(m,1),null===(n=l.children)||void 0===n||n.forEach(function(t){t.parentId=void 0;var e=i.findById(t.id).getModel();delete e.parentId,delete e.comboId,"node"!==t.itemType&&u.push(t)})}if(v){var b={nodes:[],combos:[]},x={nodes:[],combos:[]};null===(r=l.children)||void 0===r||r.forEach(function(t){var e=i.findById(t.id).getType();"node"!==e&&"combo"!==e||(b["".concat(e,"s")].push({id:t.id,parentId:h}),x["".concat(e,"s")].push({id:t.id,parentId:s}))}),b.combos.push(y),this.pushStack("uncombo",{before:b,after:x})}}},e.prototype.updateCombos=function(t){var e=this;void 0===t&&(t=!1);var n=this.get("comboTrees"),r=this.get("itemController"),i=this.get("itemMap");(n||[]).forEach(function(n){Ue(n,function(n){var o;if(!n)return!0;var a=i[n.id];if("combo"===(null===(o=null===a||void 0===a?void 0:a.getType)||void 0===o?void 0:o.call(a))){var s=Object(p.__spreadArray)([],a.getStates(),!0);Object(g.each)(s,function(t){return e.setItemState(a,t,!1)}),r.updateCombo(a,n.children,t),Object(g.each)(s,function(t){return e.setItemState(a,t,!0)})}return!0})}),this.sortCombos()},e.prototype.updateCombo=function(t){var e,n=this,r=t;if(Object(g.isString)(t)&&(r=this.findById(t)),!r||r.getType&&"combo"!==r.getType())console.warn("The item to be updated is not a combo!");else{e=r.get("id");var i=this.get("comboTrees"),o=this.get("itemController"),a=this.get("itemMap");(i||[]).forEach(function(t){Ue(t,function(t){if(!t)return!0;var r=a[t.id];if(e===t.id&&r&&r.getType&&"combo"===r.getType()){var i=Object(p.__spreadArray)([],r.getStates(),!0);Object(g.each)(i,function(t){r.getStateStyle(t)&&n.setItemState(r,t,!1)}),o.updateCombo(r,t.children),Object(g.each)(i,function(t){r.getStateStyle(t)&&n.setItemState(r,t,!0)}),e&&(e=t.parentId)}return!0})})}},e.prototype.updateComboTree=function(t,e,n){void 0===n&&(n=!0);var r;this.set("comboSorted",!1);var i,o=(r=Object(g.isString)(t)?this.findById(t):t).getModel(),a=o.comboId||o.parentId,s="";if(r.getType&&(s=r.getType()),e&&"combo"===s){var u,l=!0;if((this.get("comboTrees")||[]).forEach(function(t){u||Ve(t,function(t){if(!u)return t.id===r.getID()&&(u=t),!0})}),Ve(u,function(t){return t.id!==e||(l=!1,!1)}),!l)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(n&&this.get("enabledStack")){var c={},h={};"combo"===s?(c.combos=[{id:o.id,parentId:o.parentId}],h.combos=[{id:o.id,parentId:e}]):"node"===s&&(c.nodes=[{id:o.id,parentId:o.comboId}],h.nodes=[{id:o.id,parentId:e}]),this.pushStack("updateComboTree",{before:c,after:h})}if(o.parentId||o.comboId){var d=this.findById(o.parentId||o.comboId);d&&d.removeChild(r)}("combo"===s?o.parentId=e:"node"===s&&(o.comboId=e),e)&&((i=this.findById(e))&&i.addChild(r));a&&((i=this.findById(a))&&i.removeChild(r));var f=qe(this.get("comboTrees"),o.id,e);this.set("comboTrees",f),this.updateCombos()},e.prototype.save=function(){var t=[],e=[],n=[];return Object(g.each)(this.get("nodes"),function(e){t.push(e.getModel())}),Object(g.each)(this.get("edges"),function(t){e.push(t.getModel())}),Object(g.each)(this.get("combos"),function(t){n.push(t.getModel())}),{nodes:t,edges:e,combos:n}},e.prototype.changeSize=function(t,e){return this.get("viewController").changeSize(t,e),this},e.prototype.refresh=function(){if(this.emit("beforegraphrefresh"),this.get("animate"))this.positionsAnimate();else{var t=this.get("nodes"),e=this.get("edges"),n=this.get("edges");Object(g.each)(t,function(t){t.refresh()}),Object(g.each)(e,function(t){t.refresh()}),Object(g.each)(n,function(t){t.refresh()})}this.emit("aftergraphrefresh"),this.autoPaint()},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.getComboChildren=function(t){if(Object(g.isString)(t)&&(t=this.findById(t)),t&&(!t.getType||"combo"===t.getType()))return t.getChildren();console.warn("The combo does not exist!")},e.prototype.positionsAnimate=function(t){var e=this;e.emit("beforeanimate");var n=e.get("animateCfg"),r=n.onFrame,i=t?e.getNodes().concat(e.getCombos()):e.getNodes(),o=i.map(function(t){var e=t.getModel();return{id:e.id,x:e.x,y:e.y}});e.stopAnimate();var a=e.get("canvas");e.animating=!0,a.animate(function(n){Object(g.each)(o,function(t){var i=e.findById(t.id);if(i&&!i.destroyed){var o=i.get("originAttrs"),a=i.get("model"),s=i.getContainer().getMatrix();if(void 0!==o&&null!==o||(s&&(o={x:s[6],y:s[7]}),i.set("originAttrs",o||0)),r){var u=r(i,n,t,o||{x:0,y:0});i.set("model",Object.assign(a,u))}else o?(a.x=o.x+(t.x-o.x)*n,a.y=o.y+(t.y-o.y)*n):(a.x=t.x,a.y=t.y)}}),e.refreshPositions(t)},{duration:n.duration,easing:n.easing,callback:function(){Object(g.each)(i,function(t){t.set("originAttrs",null)}),n.callback&&n.callback(),e.emit("afteranimate"),e.animating=!1}})},e.prototype.refreshPositions=function(t){this.emit("beforegraphrefreshposition");var e,n=this.get("nodes"),r=this.get("edges"),i=this.get("vedges"),o=this.get("combos"),a={},s=function(t){Object(g.each)(t,function(t){e=t.getModel();var n=t.get("originAttrs");if(!n||e.x!==n.x||e.y!==n.y){var r=t.updatePosition({x:e.x,y:e.y});a[e.id]=r,e.comboId&&(a[e.comboId]=a[e.comboId]||r),e.parentId&&(a[e.parentId]=a[e.parentId]||r)}})};s(o),s(n),o&&0!==o.length&&(t?(s(o),this.updateCombos()):this.updateCombos()),Object(g.each)(r,function(t){var e=t.getSource().getModel(),n=t.getTarget();if(!Object(g.isPlainObject)(n)){var r=n.getModel();(a[e.id]||a[r.id]||t.getModel().isComboEdge)&&t.refresh()}}),Object(g.each)(i,function(t){t.refresh()}),this.emit("aftergraphrefreshposition"),this.autoPaint()},e.prototype.stopAnimate=function(){this.isAnimating()&&this.get("canvas").stopAnimate()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},e.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},e.prototype.setMode=function(t){return this.get("modeController").setMode(t),this},e.prototype.clear=function(t){var e;return void 0===t&&(t=!1),null===(e=this.get("canvas"))||void 0===e||e.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],vedges:[],groups:[],combos:[],comboTrees:[]}),t||this.emit("afterrender"),this},e.prototype.updateLayout=function(t,e,n,r){var i=this;void 0===t&&(t={}),void 0===r&&(r=!0);var o=this.get("layoutController");if(Object(g.isString)(t)&&(t={type:t}),e){var a=n;a||(a="begin"===e?{x:0,y:0}:{x:this.getWidth()/2,y:this.getHeight()/2}),a=this.getPointByCanvas(a.x,a.y);var s=["force","gForce","fruchterman","force2"];s.includes(t.type)||!t.type&&s.includes(null===o||void 0===o?void 0:o.layoutType)?t.center=[a.x,a.y]:this.once("afterlayout",function(t){var n=i.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];a.x=a.x*n[0]+n[6],a.y=a.y*n[0]+n[7];var r=i.getGroup().getCanvasBBox(),o=r.minX,s=r.maxX,u=r.minY,l={x:(o+s)/2,y:(u+r.maxY)/2};"begin"===e&&(l.x=o,l.y=u),i.translate(a.x-l.x,a.y-l.y)})}var u=Object(p.__assign)({},this.get("layout")),l={};Object.assign(l,u,t),t.pipes&&!t.type?delete l.type:!t.pipes&&l.type&&delete l.pipes,this.set("layout",l),o&&(o.isLayoutTypeSame(l)&&l.gpuEnabled===u.gpuEnabled?o.updateLayoutCfg(l):o.changeLayout(l),r&&this.get("enabledStack")&&this.pushStack("layout",{before:u,after:l}))},e.prototype.destroyLayout=function(){var t=this.get("layoutController");null===t||void 0===t||t.destroyLayout()},e.prototype.layout=function(){var t,e=this.get("layoutController"),n=this.get("layout");n&&e&&(n.workerEnabled?e.layout():(null===(t=e.layoutMethods)||void 0===t?void 0:t.length)?e.relayout(!0):e.layout())},e.prototype.collapseCombo=function(t,e){var n=this;if(void 0===e&&(e=!0),!this.destroyed)if(Object(g.isString)(t)&&(t=this.findById(t)),t){this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var r=t.getModel();this.get("itemController").collapseCombo(t,e),r.collapsed=!0;var i=this.getEdges().concat(this.get("vedges")),o=[],a=!1;(this.get("comboTrees")||[]).forEach(function(t){a||Ve(t,function(t){if(a&&t.depth<=r.depth)return!1;if(r.id===t.id&&(a=!0),a){var e=n.findById(t.id);e&&e.getType&&"combo"===e.getType()&&(o=(o=o.concat(e.getNodes())).concat(e.getCombos()))}return!0})});var s={};i.forEach(function(t){var e=t.getModel(),i=e.isVEdge,a=e.size,u=void 0===a?1:a;if(!t.isVisible()||i){var l,c=t.getSource(),h=t.getTarget(),d=null;if(c.getModel().id===r.id||o.includes(c)&&!o.includes(h)?(d=h,l=!1):(h.getModel().id===r.id||!o.includes(c)&&o.includes(h))&&(d=c,l=!0),d){if(i)return void n.removeItem(t,!1);for(var f=d.getModel();!d.isVisible();){var p=f.parentId,g=f.comboId,v=p||g;if(!(d=n.findById(v))||!v)return;f=d.getModel()}var y=f.id,m=l?{source:y,target:r.id,size:u,isVEdge:!0}:{source:r.id,target:y,size:u,isVEdge:!0},b="".concat(m.source,"-").concat(m.target);if(s[b])return void(s[b].size+=u);s[b]=m}}}),this.addItems(Object.values(s).map(function(t){return{type:"vedge",model:t}}),!1),this.emit("aftercollapseexpandcombo",{action:"collapse",item:t})}else console.warn("The combo to be collapsed does not exist!")},e.prototype.expandCombo=function(t,e){var n=this;if(void 0===e&&(e=!0),Object(g.isString)(t)&&(t=this.findById(t)),!t||t.getType&&"combo"!==t.getType())console.warn("The combo to be collapsed does not exist!");else{this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var r=t.getModel();this.get("itemController").expandCombo(t,e),r.collapsed=!1;var i=this.getEdges().concat(this.get("vedges")),o=[],a=!1;(this.get("comboTrees")||[]).forEach(function(t){a||Ve(t,function(t){if(a&&t.depth<=r.depth)return!1;if(r.id===t.id&&(a=!0),a){var e=n.findById(t.id);e&&e.getType&&"combo"===e.getType()&&(o=(o=o.concat(e.getNodes())).concat(e.getCombos()))}return!0})});var s={};i.forEach(function(t){if(!t.isVisible()||t.getModel().isVEdge){var e,i=t.getSource(),a=t.getTarget(),u=i.get("id"),l=a.get("id"),c=null;if(u===r.id||o.includes(i)&&!o.includes(a)?(c=a,e=!1):l===r.id||!o.includes(i)&&o.includes(a)?(c=i,e=!0):o.includes(i)&&o.includes(a)&&i.isVisible()&&a.isVisible()&&t.show(),c){var h=t.getModel(),d=h.isVEdge,f=h.size,p=void 0===f?1:f;if(d)return void n.removeItem(t,!1);for(var g=c.getModel();!c.isVisible();){var v=g.parentId,y=g.comboId,m=v||y;if(!(c=n.findById(m))||!m)return;g=c.getModel()}for(var b=g.id,x=e?a:i,A=x.getModel();!x.isVisible();){var w=A.parentId,_=A.comboId,M=w||_;if(!(x=n.findById(M))||!M)return;if(A.comboId===r.id||A.parentId===r.id)break;A=x.getModel()}var S=A.id;if(b){var O=e?{source:b,target:S,isVEdge:!0,size:p}:{source:S,target:b,isVEdge:!0,size:p},I="".concat(O.source,"-").concat(O.target);if(s[I])return void(s[I].size+=p);s[I]=O}}}}),this.addItems(Object.values(s).map(function(t){return{type:"vedge",model:t}}),!1),this.emit("aftercollapseexpandcombo",{action:"expand",item:t})}},e.prototype.collapseExpandCombo=function(t,e){if(void 0===e&&(e=!0),Object(g.isString)(t)&&(t=this.findById(t)),t&&(!t.getType||"combo"===t.getType())){for(var n=t.getModel(),r=this.findById(n.parentId);r;){var i=r.getModel();if(i.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(r=void 0);r=this.findById(i.parentId)}n.collapsed?this.expandCombo(t,e):this.collapseCombo(t,e),this.updateCombo(t)}},e.prototype.getNeighbors=function(t,e){var n=t;return Object(g.isString)(t)&&(n=this.findById(t)),n.getNeighbors(e)},e.prototype.getNodeDegree=function(t,e,n){void 0===e&&(e=void 0),void 0===n&&(n=!1);var r=t;Object(g.isString)(t)&&(r=this.findById(t));var i=this.get("degrees");i&&!n||(i=L(this.save()),this.set("degrees",i));var o=i[r.getID()],a=0;if(!o)return 0;switch(e){case"in":a=o.inDegree;break;case"out":a=o.outDegree;break;case"all":a=o;break;default:a=o.degree}return a},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},e.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear(),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack}))},e.prototype.pushStack=function(t,e,n){if(void 0===t&&(t="update"),void 0===n&&(n="undo"),this.get("enabledStack")){var r=e?Object(g.clone)(e):{before:{},after:Object(g.clone)(this.save())};"redo"===n?this.redoStack.push({action:t,data:r}):this.undoStack.push({action:t,data:r}),this.emit("stackchange",{action:t,stackType:n,undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("请先启用 undo & redo 功能，在实例化 Graph 时候配置 enabledStack: true !")},e.prototype.getAdjMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get("directed"));var n=this.get("adjMatrix");return n&&t||(n=A(this.save(),e),this.set("adjMatrix",n)),n},e.prototype.getShortestPathMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get("directed"));var n=this.get("adjMatrix"),r=this.get("shortestPathMatrix");return n&&t||(n=A(this.save(),e),this.set("adjMatrix",n)),r&&t||(r=X(this.save(),e),this.set("shortestPathMatrix",r)),r},e.prototype.on=function(e,n,r){return t.prototype.on.call(this,e,n,r)},e.prototype.destroy=function(){var t,e,n,r,i;this.clear(),this.clearStack(),null===(t=this.get("itemController"))||void 0===t||t.destroy(),null===(e=this.get("modeController"))||void 0===e||e.destroy(),null===(n=this.get("viewController"))||void 0===n||n.destroy(),null===(r=this.get("stateController"))||void 0===r||r.destroy(),null===(i=this.get("canvas"))||void 0===i||i.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},e.prototype.createHull=function(t){if(t.members&&!(t.members.length<1)){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),e&&!e.get("destroyed")||((e=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",e)),n[t.id])return console.warn("Existed hull id."),n[t.id];var r=e.addGroup({id:"".concat(t.id,"-container")}),i=new tr(this,Object(p.__assign)(Object(p.__assign)({},t),{group:r}));return n[i.id]=i,i}console.warn("Create hull failed! The members is empty.")},e.prototype.getHulls=function(){return this.get("hullMap")},e.prototype.getHullById=function(t){return this.get("hullMap")[t]},e.prototype.removeHull=function(t){var e,n;n=Object(g.isString)(t)?this.getHullById(t):t,null===(e=this.get("hullMap"))||void 0===e||delete e[n.id],n.destroy()},e.prototype.removeHulls=function(){var t=this.getHulls();t&&Object.keys(t).length&&(Object.keys(t).forEach(function(e){t[e].destroy()}),this.set("hullMap",{}))},e}(b.a);function rr(t){"@babel/helpers - typeof";return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ir=x.a.transform,or=["startArrow","endArrow"],ar={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},sr={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:ar,combo:ar},ur={options:{labelCfg:{style:{fontFamily:De.windowFontFamily}},descriptionCfg:{style:{fontFamily:De.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(t){return{}},getOptions:function(t,e){return"move"===e||(null===e||void 0===e?void 0:e.includes("bbox"))?t:Object(g.deepMix)({},this.options,this.getCustomConfig(t)||{},t)},draw:function(t,e){e.shapeMap={},this.mergeStyle=this.getOptions(t);var n=this.drawShape(t,e);if(n.set("className",this.itemType+"-shape"),e.shapeMap[this.itemType+"-shape"]=n,t.label){var r=this.drawLabel(t,e);r.set("className",this.itemType+"-label"),e.shapeMap[this.itemType+"-label"]=r}return n},afterDraw:function(t,e,n){},drawShape:function(t,e){return null},drawLabel:function(t,e){var n=(this.mergeStyle||this.getOptions(t)||{}).labelCfg||{},r=this.getLabelStyle(t,n,e),i=r.rotate;delete r.rotate;var o=e.addShape("text",{attrs:r,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(e.shapeMap["text-shape"]=o,!isNaN(i)&&""!==i){var a=o.getBBox(),s=[1,0,0,0,1,0,0,0,1];if(r.rotateCenter)switch(r.rotateCenter){case"center":s=ir(s,[["t",-a.width/2,-a.height/2],["r",i],["t",a.width/2,a.height/2]]);break;case"lefttop":s=ir(s,[["t",-r.x,-r.y],["r",i],["t",r.x,r.y]]);break;case"leftcenter":s=ir(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]]);break;default:s=ir(s,[["t",-a.width/2,-a.height/2],["r",i],["t",a.width/2,a.height/2]])}else s=ir(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]]);o.setMatrix(s)}if(r.background){var u=this.drawLabelBg(t,e,o),l=this.itemType+"-label-bg";u.set("classname",l),e.shapeMap[l]=u,o.toFront()}return o},drawLabelBg:function(t,e,n){var r=this.options.labelCfg,i=Object(g.mix)({},r,t.labelCfg),o=this.getLabelBgStyleByPosition(n,i),a=e.addShape("rect",{name:"text-bg-shape",attrs:o,labelRelated:!0});return e.shapeMap["text-bg-shape"]=a,a},getLabelStyleByPosition:function(t,e,n){return{text:t.label}},getLabelBgStyleByPosition:function(t,e){return{}},getLabelStyle:function(t,e,n){var r=this.getLabelStyleByPosition(t,e,n),i="".concat(this.itemType,"Label"),o=De[i]?De[i].style:null;return Object(p.__assign)(Object(p.__assign)(Object(p.__assign)({},o),r),e.style)},getShapeStyle:function(t){return t.style},update:function(t,e,n){this.updateShapeStyle(t,e,n),this.updateLabel(t,e,n)},updateShapeStyle:function(t,e,n){var r,i=e.getContainer(),o=e.getKeyShape(),a=Object(g.mix)({},o.attr(),t.style),s=function(t){var e,n=a[t];if(Object(g.isPlainObject)(n)){var s=(null===(r=i.shapeMap)||void 0===r?void 0:r[t])||i.find(function(e){return e.get("name")===t});null===s||void 0===s||s.attr(n)}else o.attr(((e={})[t]=n,e))};for(var u in a)s(u)},updateLabel:function(t,e,n){var r,i;if(t.label||""===t.label){var o=e.getContainer(),a=(this.mergeStyle||this.getOptions({},n)||{}).labelCfg,s=void 0===a?{}:a,u=this.itemType+"-label",l=o.shapeMap[u]||o.find(function(t){return t.get("className")===u}),c=this.itemType+"-label-bg",h=o.shapeMap[c]||o.find(function(t){return t.get("className")===c});if(l){(!n||"bbox|label"===n||"edge"===this.itemType&&"style"!==n)&&(s=Object(g.deepMix)(s,t.labelCfg));var d=this.getLabelStyleByPosition(t,s,o),f=null===(r=t.labelCfg)||void 0===r?void 0:r.style,v=Object(p.__assign)(Object(p.__assign)({},d),f),y=v.rotate;if(delete v.rotate,isNaN(y)||""===y)1!==(null===(i=l.getMatrix())||void 0===i?void 0:i[4])&&l.resetMatrix(),l.attr(v);else{var m=[1,0,0,0,1,0,0,0,1];m=ir(m,[["t",-v.x,-v.y],["r",y],["t",v.x,v.y]]),v.matrix=m,l.attr(v)}if(h)if(v.background){var b=this.getLabelBgStyleByPosition(l,s);h.attr(b)}else o.removeChild(h);else v.background&&((h=this.drawLabelBg(t,o,l)).set("classname",c),o.shapeMap[c]=h,l.toFront())}else{var x=this.drawLabel(t,o);x.set("className",u),o.shapeMap[u]=x}}},afterUpdate:function(t,e){},setState:function(t,e,n){var r,i,o,a=n.get("keyShape");if(a&&!a.destroyed){var s=n.getType(),u=Object(g.isBoolean)(e)?t:"".concat(t,":").concat(e),l=this.getStateStyle(u,n),c=n.getStateStyle(u);if(c||l){var h=Object(g.mix)({},c||l),d=n.getContainer(),f={x:1,y:1,cx:1,cy:1,matrix:1};if("combo"===s&&(f.r=1,f.width=1,f.height=1),e){var p=function(t){var e,n=h[t];if(Object(g.isPlainObject)(n)&&!or.includes(t)){var r=(null===(o=d.shapeMap)||void 0===o?void 0:o[t])||d.find(function(e){return e.get("name")===t});null===r||void 0===r||r.attr(n)}else a.attr(((e={})[t]=n,e))};for(var v in h)p(v)}else{var y=Ke(n.getCurrentStatesStyle()),m=n.getModel(),b=Object(g.mix)({},m.style,Ke(n.getOriginStyle())),x=a.get("name"),A=a.attr(),w={};Object.keys(A).forEach(function(t){if("img"!==t){var e=A[t];e&&"object"===rr(e)?w[t]=Object(g.clone)(e):w[t]=e}});var _={},M=function(t){var e=h[t];if(Object(g.isPlainObject)(e)&&!or.includes(t)){var n=d.shapeMap[t]||d.find(function(e){return e.get("name")===t});if(n){var r=Ke(n.attr());Object(g.each)(e,function(e,i){if(t===x&&w[i]&&!f[i]){delete w[i];var o=b[t][i]||sr[s][i];a.attr(i,o)}else if(r[i]||0===r[i]){delete r[i];var u=b[t][i]||sr[s][i];n.attr(i,u)}}),_[t]=r}}else if(w[t]&&!f[t]){delete w[t];var i=b[t]||(b[x]?b[x][t]:void 0)||sr[s][t];a.attr(t,i)}};for(var S in h)M(S);for(var v in x?_[x]=w:Object(g.mix)(_,w),y)if(!f[v]){var O=y[v];Object(g.isPlainObject)(O)&&!or.includes(v)||(x?(Object(g.mix)(b[x],((i={})[v]=O,i)),delete b[v]):Object(g.mix)(b,((r={})[v]=O,r)),delete y[v])}var I={};Object(g.deepMix)(I,b,_,y);var E=!1,C=function(t){var e,n,r=I[t];if(Object(g.isPlainObject)(r)&&!or.includes(t)){var i=d.shapeMap[t]||d.find(function(e){return e.get("name")===t});i&&(("text"===i.get("type")||i.get("labelRelated"))&&(delete r.x,delete r.y,delete r.matrix),t===x&&("combo"===s&&(delete r.r,delete r.width,delete r.height),E=!0),i.attr(r))}else if(!E){var o=r||sr[s][t];"combo"===s?x||a.attr(((e={})[t]=o,e)):a.attr(((n={})[t]=o,n))}};for(var k in I)C(k)}}}},getStateStyle:function(t,e){var n=e.getModel(),r=e.getType(),i=this.getOptions(n),o=i.stateStyles,a=i.style,s=void 0===a?{}:a,u=n.stateStyles?n.stateStyles[t]:o&&o[t];return"combo"===r?Object(g.clone)(u):Object(g.mix)({},s,u)},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var e,n;return(null===t||void 0===t?void 0:t.anchorPoints)||(null===(e=this.getCustomConfig(t))||void 0===e?void 0:e.anchorPoints)||(null===(n=this.options)||void 0===n?void 0:n.anchorPoints)}},lr={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:De.nodeLabel.offset,getSize:function(t){var e,n=(null===(e=this.mergeStyle)||void 0===e?void 0:e.size)||t.size||this.getOptions({}).size||De.defaultNode.size;return Object(g.isArray)(n)&&1===n.length&&(n=[n[0],n[0]]),Object(g.isArray)(n)||(n=[n,n]),n},getLabelStyleByPosition:function(t,e){var n=e.maxLength,r=t.label;n&&(r=Ye(r,n));var i=e.position||this.labelPosition;if("center"===i)return{x:0,y:0,text:r,textBaseline:"middle",textAlign:"center"};var o=e.offset;Object(g.isNil)(o)&&(o=this.offset);var a,s=this.getSize(t);switch(i){case"top":a={x:0,y:-s[1]/2-o,textBaseline:"bottom",textAlign:"center"};break;case"bottom":a={x:0,y:s[1]/2+o,textBaseline:"top",textAlign:"center"};break;case"left":a={x:-s[0]/2-o,y:0,textBaseline:"middle",textAlign:"right"};break;default:a={x:s[0]/2+o,y:0,textBaseline:"middle",textAlign:"left"}}return a.text=r,a},getLabelBgStyleByPosition:function(t,e){var n;if(!t)return{};var r=null===(n=e.style)||void 0===n?void 0:n.background;if(!r)return{};var i=t.getBBox(),o=rn(r.padding),a=i.width+o[1]+o[3],s=i.height+o[0]+o[2];return Object(p.__assign)(Object(p.__assign)({x:i.minX-o[3],y:i.minY-o[0]},r),{width:a,height:s})},drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t),i=e.addShape(n,{attrs:r,draggable:!0,name:"node-shape"});return e.shapeMap["node-shape"]=i,i},updateLinkPoints:function(t,e){var n,r=(this.mergeStyle||this.getOptions(t)).linkPoints,i=e.shapeMap["link-point-left"]||e.find(function(t){return"link-point-left"===t.get("className")}),o=e.shapeMap["link-point-right"]||e.find(function(t){return"link-point-right"===t.get("className")}),a=e.shapeMap["link-point-top"]||e.find(function(t){return"link-point-top"===t.get("className")}),s=e.shapeMap["link-point-bottom"]||e.find(function(t){return"link-point-bottom"===t.get("className")});i&&(n=i.attr()),o&&!n&&(n=o.attr()),a&&!n&&(n=a.attr()),s&&!n&&(n=s.attr()),n||(n=r);var u=Object(g.mix)({},n,t.linkPoints),l=u.fill,c=u.stroke,h=u.lineWidth,d=u.size/2;d||(d=u.r);var f=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},v=f.left,y=f.right,m=f.top,b=f.bottom,x=this.getSize(t),A=x[0],w=x[1],_={r:d,fill:l,stroke:c,lineWidth:h};if(i)v||void 0===v?i.attr(Object(p.__assign)(Object(p.__assign)({},_),{x:-A/2,y:0})):(i.remove(),delete e.shapeMap["link-point-left"]);else if(v){var M="link-point-left";e.shapeMap[M]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},_),{x:-A/2,y:0}),className:M,name:M,isAnchorPoint:!0})}if(o)y||void 0===y||(o.remove(),delete e.shapeMap["link-point-right"]),o.attr(Object(p.__assign)(Object(p.__assign)({},_),{x:A/2,y:0}));else if(y){var S="link-point-right";e.shapeMap[S]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},_),{x:A/2,y:0}),className:S,name:S,isAnchorPoint:!0})}if(a)m||void 0===m||(a.remove(),delete e.shapeMap["link-point-top"]),a.attr(Object(p.__assign)(Object(p.__assign)({},_),{x:0,y:-w/2}));else if(m){var O="link-point-top";e.shapeMap[O]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},_),{x:0,y:-w/2}),className:O,name:O,isAnchorPoint:!0})}if(s)b||void 0===b?s.attr(Object(p.__assign)(Object(p.__assign)({},_),{x:0,y:w/2})):(s.remove(),delete e.shapeMap["link-point-bottom"]);else if(b){var I="link-point-bottom";e.shapeMap[I]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},_),{x:0,y:w/2}),className:I,name:I,isAnchorPoint:!0})}},updateShape:function(t,e,n,r,i){e.get("keyShape").attr(Object(p.__assign)({},n)),this.updateLabel(t,e,i),r&&this.updateIcon(t,e)},updateIcon:function(t,e){var n=this,r=e.getContainer(),i=(this.mergeStyle||this.getOptions(t)).icon,o=t.icon?t.icon:{show:void 0,text:void 0},a=o.show,s=o.text,u=r.shapeMap["".concat(this.type,"-icon")]||r.find(function(t){return t.get("name")==="".concat(n.type,"-icon")});if(u)if(a||void 0===a){var l=Object(g.mix)({},u.attr(),i),c=l.width,h=void 0===c?20:c,d=l.height,f=void 0===d?20:d;("iconfont"===l.fontFamily||l.hasOwnProperty("text"))&&(h=0,f=0),u.attr(Object(p.__assign)(Object(p.__assign)({},l),{x:-h/2,y:-f/2}))}else u.remove(),delete r.shapeMap["".concat(this.type,"-icon")];else if(a){var v="".concat(this.type,"-icon");if(s)r.shapeMap[v]=r.addShape("text",{attrs:Object(p.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:v,name:v});else{h=i.width,f=i.height;r.shapeMap[v]=r.addShape("image",{attrs:Object(p.__assign)(Object(p.__assign)({},i),{x:-h/2,y:-f/2}),className:v,name:v})}var y=r.shapeMap["node-label"]||r.find(function(t){return"node-label"===t.get("name")});y&&y.toFront()}}},cr=Object(p.__assign)(Object(p.__assign)({},ur),lr);_n.registerNode("single-node",cr);var hr={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:De.defaultEdge.size,style:{x:0,y:0,stroke:De.defaultEdge.style.stroke,lineAppendWidth:De.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:De.edgeLabel.style.fill,fontSize:De.edgeLabel.style.fontSize,fontFamily:De.windowFontFamily}},stateStyles:Object(p.__assign)({},De.edgeStateStyles)},getPath:function(t){var e=[];return Object(g.each)(t,function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])}),e},getShapeStyle:function(t){var e=this.options.style,n={stroke:t.color},r=Object(g.mix)({},e,n,t.style),i=t.size||De.defaultEdge.size,o=(t=this.getPathPoints(t)).startPoint,a=t.endPoint,s=this.getControlPoints(t),u=[o];s&&(u=u.concat(s)),u.push(a);var l=this.getPath(u);return Object(g.mix)({},De.defaultEdge.style,{stroke:De.defaultEdge.color,lineWidth:i,path:l},r)},updateShapeStyle:function(t,e,n){var r,i=e.getContainer(),o=(null===(r=e.getKeyShape)||void 0===r?void 0:r.call(e))||i.shapeMap["edge-shape"],a=t.size,s=(t=this.getPathPoints(t)).startPoint,u=t.endPoint,l=this.getControlPoints(t),c=[s];l&&(c=c.concat(l)),c.push(u);var h=o.attr(),d=t.style||{};void 0===d.stroke&&(d.stroke=t.color);var f=t.sourceNode,v=t.targetNode,y={radius:d.radius};l||(y={source:f,target:v,offset:d.offset,radius:d.radius});var m=this.getPath(c,y),b={};"move"===n?b={path:m}:(h.endArrow&&!1===d.endArrow&&(t.style.endArrow={path:""}),h.startArrow&&!1===d.startArrow&&(t.style.startArrow={path:""}),void 0===(b=Object(p.__assign)({},t.style)).lineWidth&&(b.lineWdith=(Object(g.isNumber)(a)?a:null===a||void 0===a?void 0:a[0])||h.lineWidth),void 0===b.path&&(b.path=m),void 0===b.stroke&&(b.stroke=h.stroke||t.color)),o&&o.attr(b)},getLabelStyleByPosition:function(t,e,n){var r,i=e.position||this.labelPosition,o={},a=null===n||void 0===n?void 0:n.shapeMap["edge-shape"];r="start"===i?0:"end"===i?1:.5;var s,u=e.refX||this.refX,l=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return o.x=t.startPoint.x+u,o.y=t.startPoint.y+l,o.text=t.label,o;s=Object(g.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate;var c=Ge(a,r,u,l,s);return o.x=c.x,o.y=c.y,o.rotate=c.rotate,o.textAlign=this._getTextAlign(i,c.angle),o.text=t.label,o},getLabelBgStyleByPosition:function(t,e){if(!t)return{};var n=t.getBBox(),r=e.style&&e.style.background;if(!r)return{};var i=r.padding,o=n.width+i[1]+i[3],a=n.height+i[0]+i[2],s=Object(p.__assign)(Object(p.__assign)({},r),{width:o,height:a,x:n.minX-i[3],y:n.minY-i[0],matrix:[1,0,0,0,1,0,0,0,1]});return(Object(g.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate)&&(s.matrix=t.attr("matrix")||[1,0,0,0,1,0,0,0,1]),s},_getTextAlign:function(t,e){var n="center";return e?(e%=2*Math.PI,"center"!==t&&(n=e>=0&&e<=Math.PI/2||e>=1.5*Math.PI&&e<2*Math.PI?t:function(t){var e=t;return"start"===t?e="end":"end"===t&&(e="start"),e}(t)),n):t},getControlPoints:function(t){return t.controlPoints},getPathPoints:function(t){return t},drawShape:function(t,e){var n=this.getShapeStyle(t),r=e.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n});return e.shapeMap["edge-shape"]=r,r},drawLabel:function(t,e){var n=this.options.labelCfg,r=Object(g.deepMix)({},n,t.labelCfg),i=this.getLabelStyle(t,r,e),o=i.rotate;delete i.rotate;var a=e.addShape("text",{attrs:i,name:"text-shape",labelRelated:!0});if(e.shapeMap["text-shape"]=a,isNaN(o)||""===o||a.rotateAtStart(o),i.background){var s=this.drawLabelBg(t,e,a,i,o),u=this.itemType+"-label-bg";s.set("classname",u),e.shapeMap[u]=s,a.toFront()}return a},drawLabelBg:function(t,e,n,r,i){var o=this.options.labelCfg,a=Object(g.deepMix)({},o,t.labelCfg),s=this.getLabelBgStyleByPosition(n,a),u=e.addShape("rect",{name:"text-bg-shape",attrs:s,labelRelated:!0});return e.shapeMap["text-bg-shape"]=u,u}},dr=Object(p.__assign)(Object(p.__assign)({},ur),hr);_n.registerEdge("single-edge",dr),_n.registerEdge("line",{getControlPoints:function(){}},"single-edge"),_n.registerEdge("spline",{getPath:function(t){return jn(t)}},"single-edge"),_n.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(t){var e,n,r=t.startPoint,i=t.endPoint,o=(r.x+i.x)/2,a=(r.y+i.y)/2;if(void 0!==t.controlPoints){if(n=t.controlPoints[0],e=Zt(r,n,i),r.x<=i.x&&r.y>i.y?this.clockwise=e.x>n.x?0:1:r.x<=i.x&&r.y<i.y?this.clockwise=e.x>n.x?1:0:r.x>i.x&&r.y<=i.y?this.clockwise=e.y<n.y?0:1:this.clockwise=e.y<n.y?1:0,(n.x-r.x)/(n.y-r.y)==(i.x-r.x)/(i.y-r.y))return[]}else{void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),Object(g.isArray)(t.curveOffset)&&(t.curveOffset=t.curveOffset[0]),t.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:i.x-r.x,y:i.y-r.y},u=Math.atan2(s.y,s.x);n={x:t.curveOffset*Math.cos(-Math.PI/2+u)+o,y:t.curveOffset*Math.sin(-Math.PI/2+u)+a},e=Zt(r,n,i)}var l=Kt(r,e);return[{x:l,y:l}]},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),2===t.length?e.push(["L",t[1].x,t[1].y]):e.push(["A",t[1].x,t[1].y,0,0,this.clockwise,t[2].x,t[2].y]),e}},"single-edge"),_n.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(t){var e=t.controlPoints;if(!e||!e.length){var n=t.startPoint,r=t.endPoint;void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),Object(g.isArray)(this.curveOffset)&&(t.curveOffset=t.curveOffset[0]),Object(g.isArray)(this.curvePosition)&&(t.curvePosition=t.curveOffset[0]),e=[Ln(n,r,t.curvePosition,t.curveOffset)]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["Q",t[1].x,t[1].y,t[2].x,t[2].y]),e}},"single-edge"),_n.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(t){var e=t.controlPoints;if(void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),Object(g.isNumber)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),Object(g.isNumber)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]),!e||!e.length||e.length<2){var n=t.startPoint,r=t.endPoint;e=[Ln(n,r,t.curvePosition[0],t.curveOffset[0]),Ln(n,r,t.curvePosition[1],t.curveOffset[1])]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]),e}},"single-edge"),_n.registerEdge("cubic-vertical",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.minCurveOffset&&(t.minCurveOffset=this.minCurveOffset),Object(g.isNumber)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),Object(g.isNumber)(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),Object(g.isNumber)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var r=n.y-e.y,i=[0,0];return t.curveOffset?i=t.curveOffset:Math.abs(r)<Math.abs(t.minCurveOffset[0])&&(i=t.minCurveOffset),[{x:e.x,y:e.y+r*this.curvePosition[0]+i[0]},{x:n.x,y:n.y-r*this.curvePosition[1]+i[1]}]}},"cubic"),_n.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var e=t.startPoint,n=t.endPoint;void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.minCurveOffset&&(t.minCurveOffset=this.minCurveOffset),Object(g.isNumber)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),Object(g.isNumber)(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),Object(g.isNumber)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var r=n.x-e.x,i=[0,0];return t.curveOffset?i=t.curveOffset:Math.abs(r)<Math.abs(t.minCurveOffset[0])&&(i=t.minCurveOffset),[{x:e.x+r*this.curvePosition[0]+i[0],y:e.y},{x:n.x-r*this.curvePosition[1]+i[1],y:n.y}]}},"cubic"),_n.registerEdge("loop",{getPathPoints:function(t){return Fe(t)},getControlPoints:function(t){return t.controlPoints},afterDraw:function(t){t.controlPoints=void 0},afterUpdate:function(t){t.controlPoints=void 0}},"cubic");var fr={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:De.comboLabel.refX,refY:De.comboLabel.refY,options:{style:{stroke:De.defaultCombo.style.stroke,fill:De.defaultCombo.style.fill,lineWidth:De.defaultCombo.style.lineWidth},labelCfg:{style:{fill:De.comboLabel.style.fill,fontSize:De.comboLabel.style.fontSize,fontFamily:De.windowFontFamily}},stateStyles:Object(p.__assign)({},De.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},getSize:function(t){var e=Object(g.clone)(t.size||this.options.size||De.defaultCombo.size);return Object(g.isArray)(e)&&1===e.length&&(e=[e[0],e[0]]),Object(g.isArray)(e)||(e=[e,e]),e},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,r=t.style,i=t.padding||this.options.padding;Object(g.isArray)(i)&&(i=Math.max.apply(Math,i));var o=e.refX,a=e.refY;Object(g.isNil)(o)&&(o=this.refX),Object(g.isNil)(a)&&(a=this.refY);var s,u=this.getSize(t),l=(Math.max(r.r,u[0]/2)||u[0]/2)+i;switch(n){case"top":s={x:0,y:-l-a,textBaseline:"bottom",textAlign:"center"};break;case"bottom":s={x:0,y:l+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:-l+o,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:t.label,textAlign:"center"};break;default:s={x:l+o,y:0,textAlign:"right"}}return s.text=t.label,s},drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t);return e.addShape(n,{attrs:r,draggable:!0,name:"combo-shape"})},updateCollapsedIcon:function(t,e,n){var r=t.collapsed,i=t.collapsedSubstituteIcon,o=void 0===i?{}:i,a=Object.assign({},this.options.collapsedSubstituteIcon,o),s=a.show,u=a.img,l=a.width,c=a.height,h=e.getContainer(),d=h.find(function(t){return"combo-collapsed-substitute-icon"===t.get("name")}),f=d&&!d.destroyed,g=e.get("keyShape");if(r&&s){if(f)d.show();else{var v={width:l||2*n.r||n.width,height:c||2*n.r||n.height};d=h.addShape("image",{attrs:Object(p.__assign)({img:u,x:-v.width/2,y:-v.height/2},v),name:"combo-collapsed-substitute-icon",draggable:!0})}g.hide()}else f&&(d.hide(),g.show())},updateShape:function(t,e,n){var r=this,i=e.get("keyShape");e.get("animate")&&(void 0===t.animate?this.options.animate:t.animate)&&i.animate?(t.collapsed||this.updateCollapsedIcon(t,e,n),i.animate(n,{duration:200,easing:"easeLinear",callback:function(){t.collapsed&&r.updateCollapsedIcon(t,e,n)}})):(i.attr(Object(p.__assign)({},n)),this.updateCollapsedIcon(t,e,n)),this.updateLabel(t,e)}},pr=Object(p.__assign)(Object(p.__assign)({},ur),fr);_n.registerCombo("single-combo",pr),_n.registerCombo("circle",{options:{size:[De.defaultCombo.size[0],De.defaultCombo.size[0]],padding:Math.max.apply(Math,De.defaultCombo.padding),animate:!0,style:{stroke:De.defaultCombo.style.stroke,fill:De.defaultCombo.style.fill,lineWidth:De.defaultCombo.style.lineWidth},labelCfg:{style:{fill:De.comboLabel.style.fill,fontSize:De.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Object(p.__assign)({},De.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"circle",labelPosition:"top",drawShape:function(t,e){var n=this.getShapeStyle(t);return delete n.height,delete n.width,e.addShape("circle",{attrs:n,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;Object(g.isArray)(n)&&(n=Math.max.apply(Math,n));var r,i={stroke:t.color},o=Object(g.mix)({},e,i,t.style),a=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;if(a)r=Object(g.isNumber)(a)?a/2:a[0]/2;else{var s=this.getSize(t);r=!Object(g.isNumber)(o.r)||isNaN(o.r)?s[0]/2||De.defaultCombo.style.r:Math.max(o.r,s[0]/2)||s[0]/2}o.r=r+n;var u=Object(p.__assign)({x:0,y:0},o);return t.style?t.style.r=r:t.style={r:r},u},update:function(t,e){var n=this.getSize(t),r=t.padding||this.options.padding;Object(g.isArray)(r)&&(r=Math.max.apply(Math,r));var i,o=Object(g.clone)(t.style),a=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;i=a?Object(g.isNumber)(a)?a/2:a[0]/2:Math.max(o.r,n[0]/2)||n[0]/2,o.r=i+r;var s=e.get("sizeCache");s&&(s.r=o.r);var u={stroke:t.color},l=e.get("keyShape"),c=Object(g.mix)({},l.attr(),u,o);t.style?t.style.r=i:t.style={r:i},this.updateShape(t,e,c,!0)}},"single-combo"),_n.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:De.defaultCombo.style.stroke,fill:De.defaultCombo.style.fill,lineWidth:De.defaultCombo.style.lineWidth},labelCfg:{style:{fill:De.comboLabel.style.fill,fontSize:De.comboLabel.style.fontSize,fontFamily:De.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(p.__assign)({},De.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"rect",labelPosition:"top",drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("rect",{attrs:n,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(t,e){var n=e.position||this.labelPosition,r=t.style,i=t.padding||this.options.padding;Object(g.isNumber)(i)&&(i=[i,i,i,i]);var o=e.refX,a=e.refY;Object(g.isNil)(o)&&(o=this.refX),Object(g.isNil)(a)&&(a=this.refY);var s,u=-r.width/2-i[3],l=r.width/2+i[1],c=-r.height/2-i[0],h=r.height/2+i[2];switch(n){case"top":s={x:u+o,y:c+a,textBaseline:"top",textAlign:"left"};break;case"bottom":s={x:0,y:h+a,textBaseline:"top",textAlign:"center"};break;case"left":s={x:u+a,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:t.label,textAlign:"center"};break;case"top-center":s={x:0,y:c+a,textBaseline:"top",textAlign:"center"};break;default:s={x:l+o,y:0,textAlign:"right"}}return s.text=t.label,s},getShapeStyle:function(t){var e=this.options.style,n=t.padding||this.options.padding;Object(g.isNumber)(n)&&(n=[n,n,n,n]);var r,i,o={stroke:t.color},a=Object(g.mix)({},e,o,t.style),s=this.getSize(t),u=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;u?Object(g.isNumber)(u)?(r=u,i=u):(r=u[0],i=u[1]):(r=!Object(g.isNumber)(a.width)||isNaN(a.width)?s[0]||De.defaultCombo.style.width:Math.max(a.width,s[0])||s[0],i=!Object(g.isNumber)(a.height)||isNaN(a.height)?s[1]||De.defaultCombo.style.height:Math.max(a.height,s[1])||s[1]);var l=-r/2-n[3],c=-i/2-n[0];a.width=r+n[1]+n[3],a.height=i+n[0]+n[2];var h=Object(p.__assign)({x:l,y:c},a);return t.style?(t.style.width=r,t.style.height=i):t.style={width:r,height:i},h},update:function(t,e){var n=this.getSize(t),r=t.padding||this.options.padding;Object(g.isNumber)(r)&&(r=[r,r,r,r]);var i,o,a=Object(g.clone)(t.style),s=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;s?Object(g.isNumber)(s)?(i=s,o=s):(i=s[0],o=s[1]):(i=Math.max(a.width,n[0])||n[0],o=Math.max(a.height,n[1])||n[1]),a.width=i+r[1]+r[3],a.height=o+r[0]+r[2];var u=e.get("sizeCache");u&&(u.width=a.width,u.height=a.height),a.x=-i/2-r[3],a.y=-o/2-r[0];var l={stroke:t.color},c=e.get("keyShape"),h=Object(g.mix)({},c.attr(),l,a);t.style?(t.style.width=i,t.style.height=o):t.style={width:i,height:o},this.updateShape(t,e,h,!1)}},"single-combo"),_n.registerNode("simple-circle",{options:{size:De.defaultNode.size,style:{x:0,y:0,stroke:De.defaultNode.style.stroke,fill:De.defaultNode.style.fill,lineWidth:De.defaultNode.style.lineWidth},labelCfg:{style:{fill:De.nodeLabel.style.fill,fontSize:De.nodeLabel.style.fontSize,fontFamily:De.windowFontFamily}},stateStyles:Object(p.__assign)({},De.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(t,e){var n=this.getShapeStyle(t),r="".concat(this.type,"-keyShape"),i=e.addShape("circle",{attrs:n,className:"".concat(this.type,"-keyShape"),name:r,draggable:!0});return e.shapeMap[r]=i,i},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=Object(g.deepMix)({},e,n),i=this.getSize(t)[0]/2;return Object(p.__assign)({x:0,y:0,r:i},r)},update:function(t,e,n){var r=this.getSize(t),i={stroke:t.color,r:r[0]/2},o=e.get("keyShape"),a=Object(g.deepMix)({},o.attr(),i,t.style);this.updateShape(t,e,a,!0,n)}},"single-node"),_n.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:De.defaultNode.style.stroke,fill:De.defaultNode.style.fill,lineWidth:De.defaultNode.style.lineWidth},labelCfg:{style:{fill:De.nodeLabel.style.fill,fontSize:De.nodeLabel.style.fontSize,fontFamily:De.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(p.__assign)({},De.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0})},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=Object(g.mix)({},e,n),i=this.getSize(t),o=r.width||i[0],a=r.height||i[1];return Object(p.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(t,e,n){e.getContainer();var r=(this.mergeStyle||this.getOptions(t)).style,i=this.getSize(t),o=e.get("keyShape");t.size||(i[0]=o.attr("width")||r.width,i[1]=o.attr("height")||r.height);var a={stroke:t.color,x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]},s=Object(g.mix)({},r,o.attr(),a);s=Object(g.mix)(s,t.style),this.updateShape(t,e,s,!1,n)}},"single-node"),_n.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:De.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(t,e){var n=this.shapeType,r=this.getShapeStyle(t);delete r.fill;var i=e.addShape(n,{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(t,i),i},drawClip:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).clipCfg;if(n.show){var r=n.type,i=n.x,o=n.y,a=n.style;if("circle"===r){var s=n.r;e.setClip({type:"circle",attrs:Object(p.__assign)({r:s,x:i,y:o},a)})}else if("rect"===r){var u=n.width,l=n.height,c=i-u/2,h=o-l/2;e.setClip({type:"rect",attrs:Object(p.__assign)({x:c,y:h,width:u,height:l},a)})}else if("ellipse"===r){var d=n.rx,f=n.ry;e.setClip({type:"ellipse",attrs:Object(p.__assign)({x:i,y:o,rx:d,ry:f},a)})}else if("polygon"===r){var g=n.points;e.setClip({type:"polygon",attrs:Object(p.__assign)({points:g},a)})}else if("path"===r){var v=n.path;e.setClip({type:"path",attrs:Object(p.__assign)({path:v},a)})}}},getShapeStyle:function(t){var e=this.mergeStyle||this.getOptions(t),n=e.style,r=e.img,i=this.getSize(t),o=i[0],a=i[1];return n&&(o=n.width||i[0],a=n.height||i[1]),Object(p.__assign)({x:-o/2,y:-a/2,width:o,height:a,img:r},n)},updateShapeStyle:function(t,e){var n=e.getContainer(),r="".concat(this.itemType,"-shape"),i=n.shapeMap[r]||n.find(function(t){return t.get("className")===r})||e.getKeyShape(),o=this.getShapeStyle(t);i&&!i.destroyed&&i.attr(o)}},"single-node");var gr={triangle:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=15),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 L ").concat(r+e,",-").concat(t/2," L ").concat(r+e,",").concat(t/2," Z")},vee:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=20),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 L ").concat(r+e,",-").concat(t/2,"\n        L ").concat(r+2*e/3,",0 L ").concat(r+e,",").concat(t/2," Z")},circle:function(t,e){return void 0===t&&(t=5),void 0===e&&(e=0),"M ".concat(2*e,", 0\n            a ").concat(t,",").concat(t," 0 1,0 ").concat(2*t,",0\n            a ").concat(t,",").concat(t," 0 1,0 ").concat(2*-t,",0")},rect:function(t,e,n){void 0===t&&(t=10),void 0===e&&(e=10),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",").concat(-t/2," \n        L ").concat(r+e,",").concat(-t/2," \n        L ").concat(r+e,",").concat(t/2," \n        L ").concat(r,",").concat(t/2," Z")},diamond:function(t,e,n){void 0===t&&(t=15),void 0===e&&(e=15),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 \n        L ").concat(r+e/2,",").concat(-t/2," \n        L ").concat(r+e,",0 \n        L ").concat(r+e/2,",").concat(t/2," Z")},triangleRect:function(t,e,n,r,i,o){void 0===t&&(t=15),void 0===e&&(e=15),void 0===n&&(n=15),void 0===r&&(r=3),void 0===i&&(i=5),void 0===o&&(o=0);var a=2*o,s=a+e+i;return"M ".concat(a,",0 L ").concat(a+e,",-").concat(t/2," L ").concat(a+e,",").concat(t/2," Z\n            M ").concat(s,", -").concat(n/2,"\n            L ").concat(s+r," -").concat(n/2,"\n            L ").concat(s+r," ").concat(n/2,"\n            L ").concat(s," ").concat(n/2,"\n            Z")}},vr={collapse:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",t-n+4,e],["L",t+n-4,e]]},expand:function(t,e,n){return[["M",t-n,e],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",t-n+4,e],["L",t-n+2*n-4,e],["M",t-n+n,e-n+4],["L",t,e+n-4]]},upTriangle:function(t,e,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",t-r,e+i],["L",t+r,e+i],["L",t,e-n],["Z"]]},downTriangle:function(t,e,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",t-r,e-i],["L",t+r,e-i],["L",t,e+n],["Z"]]}},yr=_n,mr=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],br=function(t){return"force"===t||"g6force"===t||"gForce"===t||"force2"===t},xr=x.a.transform,Ar=Object(p.__assign)(Object(p.__assign)(Object(p.__assign)(Object(p.__assign)(Object(p.__assign)(Object(p.__assign)(Object(p.__assign)({},a),o),s),i),u),l),{transform:xr,mat3:x.b}),wr=function(){function t(t){this.graph=t,this.layoutCfg=t.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return t.prototype.initLayout=function(){},t.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},t.prototype.getLayoutCfgType=function(t){var e=t.type;if(e)return e;var n=t.pipes;return Array.isArray(n)?n.map(function(t){return(null===t||void 0===t?void 0:t.type)||""}):null},t.prototype.isLayoutTypeSame=function(t){var e=this.getLayoutCfgType(t),n=Array.isArray(this.layoutType),r=Array.isArray(e);return n&&r?this.layoutType.every(function(t,n){return t===e[n]}):!Array.isArray(e)&&!Array.isArray(this.layoutType)&&(null===t||void 0===t?void 0:t.type)===this.layoutType},t.prototype.refreshLayout=function(){var t=this.graph,e=this.layoutType,n=this.layoutCfg;if(t){var r=(void 0===n?{}:n).animate,i=void 0===r&&("force"===e||"force2"===e),o=br(e)&&(r||i);t.get("animate")&&!o?t.positionsAnimate("comboCombined"===e):t.refreshPositions("comboCombined"===e)}},t.prototype.changeLayout=function(t){var e=t.disableTriggerLayout,n=Object(p.__rest)(t,["disableTriggerLayout"]);this.layoutCfg=n,this.layoutType=n.type||this.layoutType,e||this.layout()},t.prototype.changeData=function(t){this.layout(t)},t.prototype.destoryLayoutMethods=function(){var t=this.layoutMethods,e=[];return null===t||void 0===t||t.forEach(function(t){var n,r=null===(n=t.getType)||void 0===n?void 0:n.call(t);r&&e.push(r),t.destroy()}),this.layoutMethods=[],e},t.prototype.destroyLayout=function(){this.destoryLayoutMethods();var t=this.graph;t&&!t.get("destroyed")&&t.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},t.prototype.setDataFromGraph=function(){for(var t,e=[],n=[],r=[],i=[],o=[],a=[],s=[],u=this.graph.getNodes(),l=this.graph.getEdges(),c=this.graph.getCombos(),h=u.length,d=0;d<h;d++){var f=u[d];if(f&&!f.destroyed){var p=f.getModel();f.isVisible()?e.push(p):n.push(p)}}var g=l.length;for(d=0;d<g;d++){var v=l[d];if(v&&!v.destroyed){p=v.getModel();v.isVisible()?p.isComboEdge?o.push(p):r.push(p):i.push(p)}}var y=c.length;for(d=0;d<y;d++){var m=c[d];if(!m.destroyed){p=m.getModel();m.isVisible()?a.push(p):s.push(p)}}return{nodes:e,hiddenNodes:n,edges:r,hiddenEdges:i,combos:a,hiddenCombos:s,comboEdges:o,vedges:null===(t=this.graph.get("vedges"))||void 0===t?void 0:t.map(function(t){return t.getModel()})}},t.prototype.relayout=function(t){var e=this,n=this.graph,r=this.layoutMethods,i=this.layoutCfg;if(n&&!n.get("destroyed")){var o=Promise.resolve();if(t){this.data=this.setDataFromGraph();var a=this.data.nodes;if(!a)return!1;o=this.initPositions(i.center,a)}n.emit("beforelayout"),null===r||void 0===r||r.forEach(function(t,n){var a=i[n]||i;o=o.then(function(){var t,o=e.execLayoutMethod(a,n);return n===r.length-1&&(null===(t=i.onAllLayoutEnd)||void 0===t||t.call(i)),o})})}},t.prototype.filterLayoutData=function(t,e){var n,r,i=t.nodes,o=t.edges,a=Object(p.__rest)(t,["nodes","edges"]);if(!i)return t;n=Object(g.isFunction)(null===e||void 0===e?void 0:e.nodesFilter)?e.nodesFilter:function(){return!0};var s=i.filter(n);if(Object(g.isFunction)(null===e||void 0===e?void 0:e.edgesFilter))r=e.edgesFilter;else{var u=s.reduce(function(t,e){return t[e.id]=!0,t},{});r=function(t){return u[t.source]&&u[t.target]}}return Object(p.__assign)({nodes:s,edges:o.filter(r)},a)},t.prototype.getLayoutBBox=function(t){var e=this.graph,n=Object(g.groupBy)(e.getNodes(),function(t){return t.getModel().layoutOrder}),r=Object.values(n).map(function(t){var e=un(t);return e.size=[e.width,e.height],e});return{groupNodes:Object.values(Object(g.groupBy)(t,"layoutOrder")),layoutNodes:r}},t.prototype.layoutAnimate=function(){},t.prototype.moveToZero=function(){var t=this.graph.get("data").nodes;if(void 0!==t[0].x&&null!==t[0].x&&!sn(t[0].x)){for(var e=[0,0],n=t.length,r=0;r<n;r++){var i=t[r];e[0]+=i.x,e[1]+=i.y}e[0]/=t.length,e[1]/=t.length;for(r=0;r<n;r++){(i=t[r]).x-=e[0],i.y-=e[1]}}},t.prototype.initPositions=function(t,e){var n;return Object(p.__awaiter)(this,void 0,void 0,function(){var r,i,o;return Object(p.__generator)(this,function(a){return r=this.graph,(null===e||void 0===e?void 0:e.length)?(i=e.filter(function(t){return sn(t.x)||sn(t.y)}),(o=i?i.length:0)?[2,null===(n=this.initWithPreset)||void 0===n?void 0:n.call(this,function(){},function(){var e=.85*r.get("width"),n=.85*r.get("height"),a=Math.ceil(Math.sqrt(o)*(e/n)),s=e/(a-1),u=n/(Math.ceil(o/a)-1);isFinite(s)&&s||(s=0),isFinite(u)&&s||(u=0);for(var l=t[0]-e/2,c=t[1]-n/2,h=0;h<o;h++){var d=i[h];sn(+d.x)&&(!1,d.x=h%a*s+l),sn(+d.y)&&(!1,d.y=Math.floor(h/a)*u+c)}})]:[2]):[2,Promise.resolve()]})})},t.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},t}(),_r=function(){return function(t){this.graph=t,this.destroyed=!1,this.initEvents()}}(),Mr=yr.registerNode,Sr=yr.registerEdge,Or=yr.registerCombo,Ir=m.registerBehavior,Er=De,Cr=(yr.registerNode,yr.registerEdge,yr.registerCombo,m.registerBehavior,n("NtQ/")),kr=n("S7HD"),Tr=n("ghwr"),Dr=n("8dI8"),jr=n.n(Dr),Lr=n("Mv3v"),Pr=n.n(Lr),Nr=2,Rr=.16,Br=.05,zr=.05,Fr=.15,Gr=5,Vr=4,Ur=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Wr(t,e,n){var r;return(r=Math.round(t.h)>=60&&Math.round(t.h)<=240?n?Math.round(t.h)-Nr*e:Math.round(t.h)+Nr*e:n?Math.round(t.h)+Nr*e:Math.round(t.h)-Nr*e)<0?r+=360:r>=360&&(r-=360),r}function Hr(t,e,n){return 0===t.h&&0===t.s?t.s:((r=n?t.s-Rr*e:e===Vr?t.s+Rr:t.s+Br*e)>1&&(r=1),n&&e===Gr&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Yr(t,e,n){var r;return(r=n?t.v+zr*e:t.v-Fr*e)>1&&(r=1),Number(r.toFixed(2))}function Xr(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Pr()(t),i=Gr;i>0;i-=1){var o=r.toHsv(),a=Pr()({h:Wr(o,i,!0),s:Hr(o,i,!0),v:Yr(o,i,!0)}).toHexString();n.push(a)}n.push(r.toHexString());for(var s=1;s<=Vr;s+=1){var u=r.toHsv(),l=Pr()({h:Wr(u,s),s:Hr(u,s),v:Yr(u,s)}).toHexString();n.push(l)}return"dark"===e.theme?Ur.map(function(t){var r=t.index,i=t.opacity;return Pr.a.mix(e.backgroundColor||"#141414",n[r],100*i).toHexString()}):n}var qr={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Qr={},Zr={};Object.keys(qr).forEach(function(t){Qr[t]=Xr(qr[t]),Qr[t].primary=Qr[t][5],Zr[t]=Xr(qr[t],{theme:"dark",backgroundColor:"#141414"}),Zr[t].primary=Zr[t][5]});Qr.red,Qr.volcano,Qr.gold,Qr.orange,Qr.yellow,Qr.lime,Qr.green,Qr.cyan,Qr.blue,Qr.geekblue,Qr.purple,Qr.magenta,Qr.grey;var Kr,Jr,$r,ti,ei=function(t,e,n){var r=jr()(t),i=jr()(e);return jr()([(1-n)*r.red()+n*i.red(),(1-n)*r.green()+n*i.green(),(1-n)*r.blue()+n*i.blue()]).rgb()},ni=function(t,e,n,r){return void 0===e&&(e="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)"),"default"===n?function(t,e,n){void 0===e&&(e="#fff"),void 0===n&&(n="rgb(150, 150, 150)");var r=ei(e,t,.05).rgb().toString(),i=ei(e,t,.1).rgb().toString(),o=ei(e,t,.2).rgb().toString(),a=ei(e,t,.4).rgb().toString(),s=ei(e,n,.02).rgb().toString(),u=ei(e,n,.05).rgb().toString(),l=ei(e,n,.1).rgb().toString(),c=ei(e,n,.2).rgb().toString(),h=ei(e,n,.3).rgb().toString(),d=Xr(t,{theme:"default",backgroundColor:e}),f=jr()(t).hex().toLowerCase(),p=d.indexOf(f),g=t;return-1!==p&&(g=d[p+1]),{mainStroke:t,mainFill:i,activeStroke:t,activeFill:r,inactiveStroke:a,inactiveFill:r,selectedStroke:t,selectedFill:e,highlightStroke:g,highlightFill:o,disableStroke:h,disableFill:u,edgeMainStroke:h,edgeActiveStroke:t,edgeInactiveStroke:c,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:l,comboMainStroke:h,comboMainFill:s,comboActiveStroke:t,comboActiveFill:r,comboInactiveStroke:h,comboInactiveFill:s,comboSelectedStroke:t,comboSelectedFill:s,comboHighlightStroke:g,comboHighlightFill:s,comboDisableStroke:c,comboDisableFill:u}}(t,e,"rgb(150, 150, 150)"):function(t,e,n){void 0===e&&(e="#fff"),void 0===n&&(n="#777");var r=ei(e,t,.2).rgb().toString(),i=ei(e,t,.3).rgb().toString(),o=ei(e,t,.6).rgb().toString(),a=ei(e,t,.8).rgb().toString(),s=ei(e,n,.2).rgb().toString(),u=ei(e,n,.25).rgb().toString(),l=ei(e,n,.3).rgb().toString(),c=ei(e,n,.4).rgb().toString(),h=ei(e,n,.5).rgb().toString(),d=Xr(t,{theme:"dark",backgroundColor:e}),f=jr()(t).hex().toLowerCase(),p=d.indexOf(f),g=t;return-1!==p&&(g=d[p+1]),{mainStroke:a,mainFill:r,activeStroke:t,activeFill:i,inactiveStroke:a,inactiveFill:r,selectedStroke:t,selectedFill:r,highlightStroke:t,highlightFill:o,disableStroke:h,disableFill:u,edgeMainStroke:n,edgeActiveStroke:t,edgeInactiveStroke:n,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:l,comboMainStroke:c,comboMainFill:u,comboActiveStroke:t,comboActiveFill:s,comboInactiveStroke:c,comboInactiveFill:u,comboSelectedStroke:t,comboSelectedFill:s,comboHighlightStroke:g,comboHighlightFill:u,comboDisableStroke:c,comboDisableFill:s}}(t,e,"#777")},ri=function(t,e,n,r){void 0===e&&(e="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)");var i=[];return t.forEach(function(t){i.push(ni(t,e,n,r))}),i},ii=ni("rgb(95, 149, 255)","rgb(255, 255, 255)"),oi={version:"0.8.9",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:ii.mainStroke,fill:ii.mainFill},size:20,color:ii.mainStroke,linkPoints:{size:8,lineWidth:1,fill:ii.activeFill,stroke:ii.activeStroke}},nodeStateStyles:{active:{fill:ii.activeFill,stroke:ii.activeStroke,lineWidth:2,shadowColor:ii.mainStroke,shadowBlur:10},selected:{fill:ii.selectedFill,stroke:ii.selectedStroke,lineWidth:4,shadowColor:ii.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:ii.highlightFill,stroke:ii.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:ii.inactiveFill,stroke:ii.inactiveStroke,lineWidth:1},disable:{fill:ii.disableFill,stroke:ii.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:ii.edgeMainStroke,lineAppendWidth:2},color:ii.edgeMainStroke},edgeStateStyles:{active:{stroke:ii.edgeActiveStroke,lineWidth:1},selected:{stroke:ii.edgeSelectedStroke,lineWidth:2,shadowColor:ii.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ii.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:ii.edgeInactiveStroke,lineWidth:1},disable:{stroke:ii.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:ii.comboMainFill,lineWidth:1,stroke:ii.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:ii.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:ii.comboActiveStroke,lineWidth:1,fill:ii.comboActiveFill},selected:{stroke:ii.comboSelectedStroke,lineWidth:2,fill:ii.comboSelectedFill,shadowColor:ii.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ii.comboHighlightStroke,lineWidth:2,fill:ii.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:ii.comboInactiveStroke,fill:ii.comboInactiveFill,lineWidth:1},disable:{stroke:ii.comboDisableStroke,fill:ii.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"};function ai(t,e,n){if(t){if("function"==typeof t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if("function"==typeof t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}function si(t){Kr||(Kr=document.createElement("table"),Jr=document.createElement("tr"),$r=/^\s*<(\w+|!)[^>]*>/,ti={tr:document.createElement("tbody"),tbody:Kr,thead:Kr,tfoot:Kr,td:Jr,th:Jr,"*":document.createElement("div")});var e=$r.test(t)&&RegExp.$1;e&&e in ti||(e="*");var n=ti[e];t="string"==typeof t?t.replace(/(^\s*)|(\s*$)/g,""):t,n.innerHTML=""+t;var r=n.childNodes[0];return r&&n.contains(r)&&n.removeChild(r),r}function ui(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}var li=Ar.cloneEvent,ci=Ar.isViewportChanged,hi=function(t){function e(e){var n=t.call(this,e)||this;return n.extendEvents=[],n.dragging=!1,n.mousedown=!1,n.preItem=null,n.destroy(),n.graph=e,n.destroyed=!1,n.initEvents(),n}return Object(p.__extends)(e,t),e.prototype.initEvents=function(){var t=this.graph,e=this.extendEvents,n=void 0===e?[]:e,r=t.get("canvas"),i=r.get("el"),o=Object(g.wrapBehavior)(this,"onCanvasEvents"),a=Object(g.wrapBehavior)(this,"onExtendEvents"),s=Object(g.wrapBehavior)(this,"onWheelEvent");r.off("*").on("*",o),this.canvasHandler=o,n.push(ai(i,"wheel",s)),"undefined"!=typeof window&&(n.push(ai(window,"keydown",a)),n.push(ai(window,"keyup",a)),n.push(ai(window,"focus",a))),this.resetHandler&&t.off("afterchangedata",this.resetHandler),this.resetHandler=Object(g.wrapBehavior)(this,"resetStatus"),t.on("afterchangedata",this.resetHandler)},e.getItemRoot=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t},e.prototype.onCanvasEvents=function(t){var n=this,r=this.graph,i=r.get("canvas"),o=t.target,a=t.type;switch(a){case"drag":this.onCanvasEvents(Object.assign({},t,{type:"mousemove"}));break;case"dragend":this.onCanvasEvents(Object.assign({},t,{type:"mouseup"}));break;case"mousedown":this.mousedown=!0;break;case"dragend":case"mouseup":setTimeout(function(){return n.mousedown=!1});break;case"click":if(!this.mousedown)return}t.canvasX=t.x,t.canvasY=t.y;var s={x:t.canvasX,y:t.canvasY},u=r.get("group").getMatrix();if(u||(u=[1,0,0,0,1,0,0,0,1]),ci(u)&&(s=r.getPointByClient(t.clientX,t.clientY)),t.x=s.x,t.y=s.y,t.currentTarget=r,o===i)return"mousemove"!==a&&"mouseleave"!==a||this.handleMouseMove(t,"canvas"),t.target=i,t.item=null,r.emit(a,t),void r.emit("canvas:".concat(a),t);var l=e.getItemRoot(o);if(l){var c=l.get("item");if(!c.destroyed){var h=c.getType();if(t.target=o,t.item=c,t.canvasX===t.x&&t.canvasY===t.y){var d=r.getCanvasByPoint(t.x,t.y);t.canvasX=d.x,t.canvasY=d.y}t.name&&!t.name.includes(":")?(r.emit("".concat(h,":").concat(a),t),r.emit(a,t)):t.name&&r.emit(t.name,t),"dragstart"===a&&(this.dragging=!0),"dragend"===a&&(this.dragging=!1),"mousemove"===a&&this.handleMouseMove(t,h)}}else r.emit(a,t)},e.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},e.prototype.onWheelEvent=function(t){Object(g.isNil)(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit("wheel",t)},e.prototype.handleMouseMove=function(t,e){var n=this.graph,r=this.preItem,i=n.get("canvas"),o=t.target===i?null:t.item;t=li(t),r&&r!==o&&!r.destroyed&&(t.item=r,this.emitCustomEvent(r.getType(),"mouseleave",t),this.dragging&&this.emitCustomEvent(r.getType(),"dragleave",t)),o&&r!==o&&(t.item=o,this.emitCustomEvent(e,"mouseenter",t),this.dragging&&this.emitCustomEvent(e,"dragenter",t)),this.preItem=o},e.prototype.emitCustomEvent=function(t,e,n){n.type=e,this.graph.emit("".concat(t,":").concat(e),n)},e.prototype.resetStatus=function(){this.mousedown=!1,this.dragging=!1,this.preItem=null},e.prototype.destroy=function(){var t=this.graph,e=this.canvasHandler,n=this.extendEvents;t.get("canvas").off("*",e),Object(g.each)(n,function(t){t.remove()}),this.resetStatus(),this.extendEvents.length=0,this.canvasHandler=null,this.resetHandler=null,this.destroyed=!0},e}(_r),di=n("9lWR"),fi=n("Py8m"),pi=n.n(fi),gi=Ar.traverseTree,vi=function(t,e){return t?Object(g.isNumber)(t)?function(e){return t}:t:function(t){return e||1}},yi=function(t,e){var n=[],r=[],i={},o=0;for(o=0;o<t.length;o++){var a=t[o];i[a.id]=o,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(o=0;o<e.length;o++){var s=e[o];r[i[s.source]].push(i[s.target]),r[i[s.target]].push(i[s.source])}var u=0;for(o=0;o<t.length;o++){var l=n.length,c=r[o],h=c.length;n[4*o+2]=l,n[4*o+3]=c.length,u=Math.max(u,c.length);for(var d=0;d<h;++d){var f=c[d];n.push(+f)}}for(;n.length%4!=0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:u}},mi=function(t,e,n){var r=[],i=[],o={},a=0;for(a=0;a<t.length;a++){var s=t[a];o[s.id]=a,r.push(s.x),r.push(s.y),r.push(0),r.push(0),i.push([])}for(a=0;a<e.length;a++){var u=e[a];i[o[u.source]].push(o[u.target]),i[o[u.source]].push(n(u)),i[o[u.target]].push(o[u.source]),i[o[u.target]].push(n(u))}var l=0;for(a=0;a<t.length;a++){var c=r.length,h=i[a],d=h.length;r[4*a+2]=c,r[4*a+3]=d/2,l=Math.max(l,d/2);for(var f=0;f<d;++f){var p=h[f];r.push(+p)}}for(;r.length%4!=0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:l}},bi=function(t,e,n,r){var i=[],o=[],a={},s=0;for(s=0;s<t.length;s++){var u=t[s];a[u.id]=s,i.push(u.x),i.push(u.y),i.push(0),i.push(0),o.push([])}for(s=0;s<e.length;s++){var l=e[s];o[a[l.source]].push(a[l.target]),o[a[l.source]].push(n(l)),o[a[l.source]].push(r(l)),o[a[l.source]].push(0),o[a[l.target]].push(a[l.source]),o[a[l.target]].push(n(l)),o[a[l.target]].push(r(l)),o[a[l.target]].push(0)}var c=0;for(s=0;s<t.length;s++){var h=i.length,d=o[s],f=d.length;i[4*s+2]=h+1048576*f/4,i[4*s+3]=0,c=Math.max(c,f/4);for(var p=0;p<f;++p){var g=d[p];i.push(+g)}}for(;i.length%4!=0;)i.push(0);return{array:new Float32Array(i),maxEdgePerVetex:c}},xi=function(t,e){var n=[],r=t.length,i={};return e.forEach(function(e){t.forEach(function(t,o){if(void 0===i[e[t]]&&(i[e[t]]=Object.keys(i).length),n.push(i[e[t]]),o===r-1)for(;n.length%4!=0;)n.push(0)})}),{array:new Float32Array(n),count:Object.keys(i).length}},Ai=function(t){for(var e=[],n=t.length,r=t[0].length,i=function(r){t.forEach(function(t,i){if(e.push(t[r]),i===n-1)for(;e.length%4!=0;)e.push(0)})},o=0;o<r;o++)i(o);return new Float32Array(e)},wi=function(t,e){var n={x:1/0,y:1/0},r={x:-1/0,y:-1/0},i="x",o="y";e&&["V","TB","BT"].indexOf(e)>=0&&(o="x",i="y");var a=0;gi(t,function(t){return a++,t.x>r.x&&(r.x=t.x),t.x<n.x&&(n.x=t.x),t.y>r.y&&(r.y=t.y),t.y<n.y&&(n.y=t.y),!0});var s=2*Math.PI/a,u=r[o]-n[o];return 0===u?t:(gi(t,function(e){var r=(e[o]-n[o])/u*(2*Math.PI-s)+s,a=Math.abs("x"===i?e.x-t.x:e.y-t.y);return e.x=a*Math.cos(r),e.y=a*Math.sin(r),!0}),t)},_i=function t(){return"undefined"==typeof window||"undefined"==typeof document?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var t=document.createElement("canvas");return!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var t=document.createElement("div");return t.id="webgl-error-message",t.style.fontFamily="monospace",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#fff",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.margin="5em auto 0",this.webgl||(t.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n")),t},addGetWebGLMessage:function(e){var n=void 0!==(e=e||{}).parent?e.parent:document.body,r=void 0!==e.id?e.id:"oldie",i=t().getWebGLErrorMessage();i.id=r,n.appendChild(i)}}},Mi=Object(p.__assign)(Object(p.__assign)(Object(p.__assign)(Object(p.__assign)({},Ar),c),h),d),Si=Mi.radialLayout,Oi=function(){function t(t){this.type=t.type,this.radial=t.radial,this.config=t}return t.prototype.init=function(t){var e=this;this.data=t,this.radial?this.layoutMethod=function(t){var n=pi.a[e.type](t,e.config);return Si(n),n}:this.layoutMethod=function(t){return pi.a[e.type](t,e.config)}},t.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},t.prototype.layout=function(t){return this.init(t),this.execute()},t}();Object(di.registerLayout)("grid",di.GridLayout),Object(di.registerLayout)("random",di.RandomLayout),Object(di.registerLayout)("force",di.ForceLayout),Object(di.registerLayout)("circular",di.CircularLayout),Object(di.registerLayout)("dagre",di.DagreLayout),Object(di.registerLayout)("dagreCompound",di.DagreCompoundLayout),Object(di.registerLayout)("radial",di.RadialLayout),Object(di.registerLayout)("concentric",di.ConcentricLayout),Object(di.registerLayout)("mds",di.MDSLayout),Object(di.registerLayout)("fruchterman",di.FruchtermanLayout),Object(di.registerLayout)("fruchterman-gpu",di.FruchtermanGPULayout),Object(di.registerLayout)("gForce",di.GForceLayout),Object(di.registerLayout)("force2",di.Force2Layout),Object(di.registerLayout)("gForce-gpu",di.GForceGPULayout),Object(di.registerLayout)("comboForce",di.ComboForceLayout),Object(di.registerLayout)("comboCombined",di.ComboCombinedLayout),Object(di.registerLayout)("forceAtlas2",di.ForceAtlas2Layout);var Ii=function(t,e){e.isCustomLayout=!0,di.Layouts[t]=Object(di.registerLayout)(t,e)},Ei=function(){return function(t,e){var n=t.toString(),r=new Blob(["importScripts('".concat(e,"');(").concat(n,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(r))}}(),Ci=function(t){return void 0===t&&(t="https://unpkg.com/@antv/layout@latest/dist/layout.min.js"),new Ei(function(){var t={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("force2",layout.Force2Layout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("dagreCompound",layout.DagreCompoundLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("comboCombined",layout.ComboCombinedLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout),onmessage=function(e){(function(e){var n=e.data.type;return n===t.RUN||n===t.GPURUN})(e)&&function(e){var n=this;switch(e.data.type){case t.RUN:var r,i=e.data,o=i.nodes,a=i.edges,s=i.layoutCfg,u=(f=void 0===s?{}:s).type;if(!(l=layout.getLayoutByName(u))){this.postMessage({type:t.ERROR,message:"layout ".concat(u," not found")});break}f.onLayoutEnd=function(){n.postMessage({type:t.END,nodes:o}),null===r||void 0===r||r.destroy()},(r=new l(f)).init({nodes:o,edges:a}),r.execute();break;case t.GPURUN:var l,c=e.data,h=c.nodes,d=(a=c.edges,c.layoutCfg),f=void 0===d?{}:d,p=c.canvas;if(u=f.type,!(l=layout.getLayoutByName(u))){this.postMessage({type:t.ERROR,message:"layout ".concat(u," not found")});break}if("gpu"!==u.split("-")[1]){this.postMessage({type:t.ERROR,message:"layout ".concat(u," does not support GPU")});break}var g=new l(f);g.init({nodes:h,edges:a}),g.executeWithWorker(p,this)}}(e)}},t)},ki="LAYOUT_RUN",Ti="LAYOUT_END",Di="LAYOUT_ERROR",ji="LAYOUT_TICK",Li="GPU_LAYOUT_RUN",Pi="GPU_LAYOUT_END";function Ni(t){"@babel/helpers - typeof";return(Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ri=function(t){return setTimeout(t,16)},Bi=function(t){return clearTimeout(t)},zi=function(t){return("undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||Ri)(t)},Fi=function(t){return("undefined"!=typeof window&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||Bi)(t)},Gi=["fruchterman","gForce"],Vi=["force","grid","circular"],Ui=function(t){function e(e){var n=t.call(this,e)||this;return n.graph=e,n.layoutCfg=e.get("layout")||{},n.layoutType=n.getLayoutType(),n.worker=null,n.workerData={},n.initLayout(),n}return Object(p.__extends)(e,t),e.prototype.initLayout=function(){},e.prototype.getWorker=function(){return this.worker?this.worker:("undefined"==typeof Worker?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=Ci(this.layoutCfg.workerScriptURL),this.worker)},e.prototype.stopWorker=function(){var t=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,t.requestId&&(Fi(t.requestId),t.requestId=null),t.requestId2&&(Fi(t.requestId2),t.requestId2=null))},e.prototype.execLayoutMethod=function(t,e){var n=this;return new Promise(function(r,i){return Object(p.__awaiter)(n,void 0,void 0,function(){var n,o,a,s,u,l,c,h,d;return Object(p.__generator)(this,function(f){switch(f.label){case 0:if(!(n=this.graph)||n.get("destroyed"))return[2];o=t.type,t.onLayoutEnd=function(){n.emit("aftersublayout",{type:o}),r()},o&&this.isGPU&&(Hi(o)?o="".concat(o,"-gpu"):console.warn("The '".concat(o,"' layout does not support GPU calculation for now, it will run in CPU."))),Ar.isForce(o)?(a=t.onTick,s=t.animate,u=void 0===s&&("force"===o||"force2"===o),h=function(){a&&a(),(s||u)&&n.refreshPositions()},t.tick=h):"comboForce"!==o&&"comboCombined"!==o||(t.comboTrees=n.get("comboTrees")),!1;try{l=new di.Layouts[o](t),this.layoutMethods[e]&&this.layoutMethods[e].destroy(),this.layoutMethods[e]=l}catch(t){console.warn("The layout method: '".concat(o,"' does not exist! Please specify it first.")),i()}return l.enableTick&&(c=t.onTick,h=function(){c&&c(),n.refreshPositions()},l.tick=h),function(t,e){var n;if(!(null===(n=null===t||void 0===t?void 0:t.nodes)||void 0===n?void 0:n.length))return;t.nodes.forEach(function(t){t.layoutOrder=e})}(d=this.filterLayoutData(this.data,t),e),l.init(d),n.emit("beforesublayout",{type:o}),[4,l.execute()];case 1:return f.sent(),l.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),[2]}})})})},e.prototype.updateLayoutMethod=function(t,e){var n=this;return new Promise(function(r,i){return Object(p.__awaiter)(n,void 0,void 0,function(){var n,i,o;return Object(p.__generator)(this,function(a){switch(a.label){case 0:return n=this.graph,i=null===e||void 0===e?void 0:e.type,e.onLayoutEnd=function(){n.emit("aftersublayout",{type:i}),r()},o=this.filterLayoutData(this.data,e),t.init(o),t.updateCfg(e),n.emit("beforesublayout",{type:i}),[4,t.execute()];case 1:return a.sent(),t.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd(),[2]}})})})},e.prototype.layout=function(t){var e,n=this,r=this.graph;if(r&&!r.get("destroyed")){this.data=this.setDataFromGraph();var i=this.data,o=i.nodes,a=i.hiddenNodes;if(!o)return!1;var s=r.get("width"),u=r.get("height"),l={};Object.assign(l,{width:s,height:u,center:[s/2,u/2]},this.layoutCfg),this.layoutCfg=l;var c=l.type,h=!1;null===(e=this.layoutMethods)||void 0===e||e.forEach(function(t){var e;return h=!!(null===(e=t.nodes)||void 0===e?void 0:e.length)||h});var d=this.destoryLayoutMethods();r.emit("beforelayout");var f=Promise.resolve();h&&c&&1===(null===d||void 0===d?void 0:d.length)&&d[0]===c?this.tweakInit():f=this.initPositions(l.center,o),this.initPositions(l.center,a).then(),this.isGPU=Yi(l,c);var g=l.onLayoutEnd,v=l.layoutEndFormatted,y=l.adjust;if(v||(l.layoutEndFormatted=!0,l.onAllLayoutEnd=function(){return Object(p.__awaiter)(n,void 0,void 0,function(){return Object(p.__generator)(this,function(t){switch(t.label){case 0:return g&&g(o),this.refreshLayout(),y&&l.pipes?[4,this.adjustPipesBox(this.data,y)]:[3,2];case 1:t.sent(),this.refreshLayout(),t.label=2;case 2:return r.emit("afterlayout"),[2]}})})}),this.stopWorker(),l.workerEnabled&&this.layoutWithWorker(this.data,t))return!0;var m=!1;return l.type?(m=!0,f=f.then(function(){return Object(p.__awaiter)(n,void 0,void 0,function(){return Object(p.__generator)(this,function(t){switch(t.label){case 0:return[4,this.execLayoutMethod(l,0)];case 1:return[2,t.sent()]}})})})):l.pipes&&(m=!0,l.pipes.forEach(function(t,e){f=f.then(function(){return Object(p.__awaiter)(n,void 0,void 0,function(){return Object(p.__generator)(this,function(n){switch(n.label){case 0:return[4,this.execLayoutMethod(t,e)];case 1:return[2,n.sent()]}})})})})),m?f.then(function(){l.onAllLayoutEnd&&l.onAllLayoutEnd(),t&&t()}).catch(function(t){console.warn("graph layout failed,",t)}):(r.refreshPositions(),null===t||void 0===t||t()),!1}},e.prototype.tweakInit=function(){var t=this.data,e=this.graph,n=t.nodes,r=t.edges;if(null===n||void 0===n?void 0:n.length){var i={};n.forEach(function(t){var e=t.x,n=t.y;isNaN(e)||isNaN(n)||(i[t.id]={x:e,y:n},t.mass=t.mass||2)}),r.forEach(function(t){var e=t.source,n=t.target,r=i[e],o=i[n];!r&&o?i[e]={x:o.x+80*(Math.random()-.5),y:o.y+80*(Math.random()-.5)}:!o&&r&&(i[n]={x:r.x+80*(Math.random()-.5),y:r.y+80*(Math.random()-.5)})});var o=e.get("width"),a=e.get("height");n.forEach(function(t){var e=i[t.id]||{x:o/2+20*(Math.random()-.5),y:a/2+20*(Math.random()-.5)};t.x=e.x,t.y=e.y})}},e.prototype.initWithPreset=function(t,e){var n=this;return new Promise(function(r,i){return Object(p.__awaiter)(n,void 0,void 0,function(){var n,i,o,a,s,u,l;return Object(p.__generator)(this,function(c){switch(c.label){case 0:return i=(n=this).layoutCfg,o=n.data,(null===(a=i.preset)||void 0===a?void 0:a.type)&&di.Layouts[null===a||void 0===a?void 0:a.type]?(s=Yi(a,a.type),u=s?"".concat(a.type,"-gpu"):a.type,l=new di.Layouts[u](a),delete i.preset,l.init(o),[4,l.execute()]):(null===e||void 0===e||e(),r(),[2,!1]);case 1:return c.sent(),null===t||void 0===t||t(),r(),[2,!0]}})})})},e.prototype.layoutWithWorker=function(t,e){var n=this,r=this.layoutCfg,i=this.graph,o=this.getWorker(),a=this.workerData;if(!o)return!1;a.requestId=null,a.requestId2=null,a.currentTick=null,a.currentTickData=null,i.emit("beforelayout");var s=Promise.resolve(),u=!1;if(r.type)u=!0,s=s.then(function(){return n.runWebworker(o,t,r)});else if(r.pipes){u=!0;for(var l=function(e){s=s.then(function(){return n.runWebworker(o,t,e)})},c=0,h=r.pipes;c<h.length;c++){l(h[c])}}return u&&s.then(function(){r.onAllLayoutEnd&&r.onAllLayoutEnd(),null===e||void 0===e||e()}).catch(function(t){console.error("layout failed",t)}),!0},e.prototype.runWebworker=function(t,e,n){var r=this,i=this.isGPU,o=this.filterLayoutData(e,n),a=o.nodes,s=o.edges,u=document.createElement("canvas"),l=i&&"undefined"!=typeof window&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in u,c=function(t,e){var n={};if(t&&"object"===Ni(t))return Object.keys(t).forEach(function(r){t.hasOwnProperty(r)&&e(t[r])&&(n[r]=t[r])}),n;return t}(n,function(t){return"function"!=typeof t});if(l){var h=u.transferControlToOffscreen();c.type="".concat(c.type,"-gpu"),t.postMessage({type:Li,nodes:a,edges:s,layoutCfg:c,canvas:h},[h])}else t.postMessage({type:ki,nodes:a,edges:s,layoutCfg:c});return new Promise(function(e,i){t.onmessage=function(t){r.handleWorkerMessage(e,i,t,o,n)}})},e.prototype.handleWorkerMessage=function(t,e,n,r,i){var o=this.graph,a=this.workerData,s=n.data,u=function(){i.onTick&&i.onTick()};switch(s.type){case ji:a.currentTick=s.currentTick,a.currentTickData=s,a.requestId||(a.requestId=zi(function(){Wi(r,s),o.refreshPositions(),u(),s.currentTick===s.totalTicks?t():a.currentTick===s.totalTicks&&(a.requestId2=zi(function(){Wi(r,a.currentTickData),o.refreshPositions(),a.requestId2=null,u(),t()})),a.requestId=null}));break;case Ti:null==a.currentTick&&(Wi(r,s),t());break;case Pi:null==a.currentTick&&(!function(t,e){for(var n=t.nodes,r=e.vertexEdgeData,i=n.length,o=0;o<i;o++){var a=n[o],s=r[4*o],u=r[4*o+1];a.x=s,a.y=u}}(r,s),t());break;case Di:console.warn("Web-Worker layout error!",s.message),e();break;default:e()}},e.prototype.updateLayoutCfg=function(t){var e=this,n=this.graph,r=this.layoutMethods;if(n&&!n.get("destroyed")){var i=t.disableTriggerLayout,o=Object(p.__rest)(t,["disableTriggerLayout"]),a=Object(g.mix)({},this.layoutCfg,o);if(this.layoutCfg=a,!i)if(null===r||void 0===r?void 0:r.length){if(this.data=this.setDataFromGraph(),this.stopWorker(),!o.workerEnabled||!this.layoutWithWorker(this.data,null)){n.emit("beforelayout");var s=Promise.resolve(),u=!1;1===(null===r||void 0===r?void 0:r.length)?(u=!0,s=s.then(function(){return Object(p.__awaiter)(e,void 0,void 0,function(){return Object(p.__generator)(this,function(t){switch(t.label){case 0:return[4,this.updateLayoutMethod(r[0],a)];case 1:return[2,t.sent()]}})})})):(null===r||void 0===r?void 0:r.length)&&(u=!0,r.forEach(function(t,n){var r=a.pipes[n];s=s.then(function(){return Object(p.__awaiter)(e,void 0,void 0,function(){return Object(p.__generator)(this,function(e){switch(e.label){case 0:return[4,this.updateLayoutMethod(t,r)];case 1:return[2,e.sent()]}})})})})),u&&s.then(function(){a.onAllLayoutEnd&&a.onAllLayoutEnd()}).catch(function(t){console.warn("layout failed",t)})}}else this.layout()}},e.prototype.adjustPipesBox=function(t,e){var n=this;return new Promise(function(r){var i=t.nodes;(null===i||void 0===i?void 0:i.length)||r(),Vi.includes(e)||(console.warn("The adjust type ".concat(e," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),r());var o={center:n.layoutCfg.center,nodeSize:function(t){return Math.max(t.height,t.width)},preventOverlap:!0,onLayoutEnd:function(){}},a=n.getLayoutBBox(i),s=a.groupNodes,u=a.layoutNodes,l=Object(g.clone)(u);o.onLayoutEnd=function(){null===u||void 0===u||u.forEach(function(t,e){var n,r,i,o=t.x-(null===(n=l[e])||void 0===n?void 0:n.x),a=t.y-(null===(r=l[e])||void 0===r?void 0:r.y);null===(i=s[e])||void 0===i||i.forEach(function(t){t.x+=o,t.y+=a})}),r()},new di.Layouts[e](o).layout({nodes:u})})},e.prototype.destroy=function(){this.destoryLayoutMethods();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},e}(wr);function Wi(t,e){for(var n=t.nodes,r=e.nodes,i=n.length,o=0;o<i;o++){var a=n[o];a.x=r[o].x,a.y=r[o].y}}function Hi(t){return Gi.includes(t)}function Yi(t,e){var n=e;e&&"gpu"===e.split("-")[1]&&(n=e.split("-")[0],t.gpuEnabled=!0);var r=!1;return t.gpuEnabled&&(r=!0,_i().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),r=!1)),r&&!Hi(n)&&(console.warn("The '".concat(n,"' layout does not support GPU calculation for now, it will run in CPU.")),r=!1),r}var Xi,qi=function t(e,n){var r;e.isGroup()&&n.isGroup()&&(null===(r=e.get("children"))||void 0===r||r.forEach(function(e,r){var i=n.get("children")[r];t(e,i)}));var i=e.get("type"),o=n.get("type");if("image"===i&&"image"===o){var a=e.get("clipShape");a&&n.setClip({type:a.get("type"),attrs:a.attr()})}},Qi=x.a.transform,Zi=function(t){function e(e){var n=t.call(this,e)||this,r=n.get("defaultNode");return r||n.set("defaultNode",{type:"circle"}),r.type||(r.type="circle",n.set("defaultNode",r)),n.destroyed=!1,n}return Object(p.__extends)(e,t),e.prototype.initLayoutController=function(){var t=new Ui(this);this.set({layoutController:t})},e.prototype.initEventController=function(){var t=new hi(this);this.set({eventController:t})},e.prototype.initCanvas=function(){var t=this.get("container");if("string"==typeof t&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e,n=t.clientWidth,r=t.clientHeight,i=this.get("width")||n,o=this.get("height")||r;if(this.get("width")||this.get("height")||(this.set("width",n),this.set("height",r)),"svg"===this.get("renderer"))e=new Tr.Canvas({container:t,width:i,height:o});else{var a={container:t,width:i,height:o},s=this.get("pixelRatio");s&&(a.pixelRatio=s,window.devicePixelRatio=s),e=new kr.Canvas(a)}this.set("canvas",e)},e.prototype.initPlugins=function(){var t=this;Object(g.each)(t.get("plugins"),function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)})},e.prototype.downloadImageWatermark=function(t,e,n,r){return Object(p.__awaiter)(this,void 0,void 0,function(){var i,o,a;return Object(p.__generator)(this,function(s){switch(s.label){case 0:return i=t.style.backgroundImage,o=i.slice(5,i.length-2),(a=new Image).src=o,[4,new Promise(function(t){a.onload=function(){var i=e.createPattern(a,"repeat");e.rect(0,0,n,r),e.fillStyle=i,e.fill(),t("")}})];case 1:return s.sent(),[2]}})})},e.prototype.asyncToDataUrl=function(t,e,n,r,i,o){var a=this,s=document.querySelector(".g6-graph-watermarker"),u=this.get("canvas"),l=u.getRenderer(),c=o||u.get("el"),h="";t||(t="image/png"),setTimeout(function(){return Object(p.__awaiter)(a,void 0,void 0,function(){var o,a,u,d,f,g,v,y,m,b;return Object(p.__generator)(this,function(p){switch(p.label){case 0:return"svg"!==l?[3,1]:(o=c.cloneNode(!0),a=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),(u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",a)).replaceChild(o,u.documentElement),d=(new XMLSerializer).serializeToString(u),h="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(d)),[3,4]);case 1:return f=void 0,g=c.getContext("2d"),v=r||this.get("width"),y=i||this.get("height"),m=void 0,s?[4,this.downloadImageWatermark(s,g,v,y)]:[3,3];case 2:p.sent(),p.label=3;case 3:if(e){b="undefined"!=typeof window?window.devicePixelRatio:1;try{f=g.getImageData(0,0,v*b,y*b),m=g.globalCompositeOperation,g.globalCompositeOperation="destination-over",g.fillStyle=e,g.fillRect(0,0,v,y)}catch(t){console.error("Download image failed. Out of memory at ImageData creation")}}h=c.toDataURL(t),e&&(g.clearRect(0,0,v,y),g.putImageData(f,0,0),g.globalCompositeOperation=m),p.label=4;case 4:return n&&n(h),[2]}})})},16)},e.prototype.toDataURL=function(t,e){var n=this.get("canvas"),r=n.getRenderer(),i=n.get("el");t||(t="image/png");var o="";if("svg"===r){var a=i.cloneNode(!0),s=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",s);u.replaceChild(a,u.documentElement);var l=(new XMLSerializer).serializeToString(u);o="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(l))}else{var c=void 0,h=i.getContext("2d"),d=Math.max(this.get("width"),500),f=Math.max(this.get("height"),500),p=void 0;if(e){var g="undefined"!=typeof window&&window.devicePixelRatio||1;try{c=h.getImageData(0,0,d*g,f*g),p=h.globalCompositeOperation,h.globalCompositeOperation="destination-over",h.fillStyle=e,h.fillRect(0,0,d,f)}catch(t){console.error("Download image failed. Out of memory at ImageData creation")}}o=i.toDataURL(t),e&&(h.clearRect(0,0,d,f),h.putImageData(c,0,0),h.globalCompositeOperation=p)}return o},e.prototype.toFullDataURL=function(t,e,n){var r=this.get("group").getCanvasBBox(),i=r.height,o=r.width,a=this.get("renderer"),s=si('<div id="virtual-image"></div>'),u=n?n.backgroundColor:void 0,l=n?n.padding:void 0;l?Object(g.isNumber)(l)&&(l=[l,l,l,l]):l=[0,0,0,0];var c=i+l[0]+l[2],h=o+l[1]+l[3],d={container:s,height:c,width:h,quickHit:!0},f="svg"===a?new Tr.Canvas(d):new kr.Canvas(d),p=this.get("group").clone(),v=Object(g.clone)(p.getMatrix());v||(v=[1,0,0,0,1,0,0,0,1]);var y=(r.maxX+r.minX)/2,m=(r.maxY+r.minY)/2;v=Qi(v,[["t",-y,-m],["t",o/2+l[3],i/2+l[0]]]),p.resetMatrix(),p.setMatrix(v),f.add(p);var b=f.get("el"),x="";e||(e="image/png"),setTimeout(function(){if("svg"===a){var n=b.cloneNode(!0),r=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),i=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",r);i.replaceChild(n,i.documentElement);var o=(new XMLSerializer).serializeToString(i);x="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(o))}else{var s=void 0,l=b.getContext("2d"),d=void 0;if(u){var f="undefined"!=typeof window?window.devicePixelRatio:1;try{s=l.getImageData(0,0,h*f,c*f),d=l.globalCompositeOperation,l.globalCompositeOperation="destination-over",l.fillStyle=u,l.fillRect(0,0,h,c)}catch(t){console.error("Download image failed. Out of memory at ImageData creation")}}x=b.toDataURL(e),u&&(l.clearRect(0,0,h,c),l.putImageData(s,0,0),l.globalCompositeOperation=d)}t&&t(x)},16)},e.prototype.downloadFullImage=function(t,e,n){var r=this,i=this.get("group").getCanvasBBox(),o=i.height,a=i.width,s=this.get("renderer"),u=si('<div id="virtual-image"></div>'),l=document.querySelector(".g6-graph-watermarker"),c=n?n.backgroundColor:void 0,h=n?n.padding:void 0;h?Object(g.isNumber)(h)&&(h=[h,h,h,h]):h=[0,0,0,0];var d=o+h[0]+h[2],f=a+h[1]+h[3];if(l){var p=this.get("graphWaterMarker").cfg||{},v=p.width,y=p.height;d=Math.ceil(d/y)*y,f=Math.ceil(f/v)*v}var m,b,x={container:u,height:d,width:f},A="svg"===s?new Tr.Canvas(x):new kr.Canvas(x),w=this.get("group"),_=(b=(m=w).clone(),qi(m,b),b),M=Object(g.clone)(_.getMatrix());M||(M=[1,0,0,0,1,0,0,0,1]);var S=(i.maxX+i.minX)/2,O=(i.maxY+i.minY)/2;M=Qi(M,[["t",-S,-O],["t",a/2+h[3],o/2+h[0]]]),_.resetMatrix(),_.setMatrix(M),A.add(_);var I=A.get("el");e||(e="image/png"),this.asyncToDataUrl(e,c,function(n){var i=document.createElement("a"),o=(t||"graph")+("svg"===s?".svg":".".concat(e.split("/")[1]));r.dataURLToImage(n,s,i,o);var a=document.createEvent("MouseEvents");a.initEvent("click",!1,!1),i.dispatchEvent(a)},f,d,I)},e.prototype.downloadImage=function(t,e,n){var r=this;this.stopAnimate();var i=this.get("canvas").getRenderer();e||(e="image/png");var o=(t||"graph")+("svg"===i?".svg":e.split("/")[1]),a=document.createElement("a");this.asyncToDataUrl(e,n,function(t){r.dataURLToImage(t,i,a,o);var e=document.createEvent("MouseEvents");e.initEvent("click",!1,!1),a.dispatchEvent(e)})},e.prototype.dataURLToImage=function(t,e,n,r){if(t&&"data:"!==t){if("undefined"!=typeof window)if(window.Blob&&window.URL&&"svg"!==e){var i=t.split(","),o="";if(i&&i.length>0){var a=i[0].match(/:(.*?);/);a&&a.length>=2&&(o=a[1])}for(var s=atob(i[1]),u=s.length,l=new Uint8Array(u);u--;)l[u]=s.charCodeAt(u);var c=new Blob([l],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(c,r):n.addEventListener("click",function(){n.download=r,n.href=window.URL.createObjectURL(c)})}else n.addEventListener("click",function(){n.download=r,n.href=t})}else console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items")},e.prototype.addPlugin=function(t){t.destroyed||(this.get("plugins").push(t),t.initPlugin(this))},e.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},e.prototype.setImageWaterMarker=function(t,e){void 0===t&&(t=oi.waterMarkerImage);var n=this.get("container");Object(g.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=Object(g.deepMix)({},oi.imageWaterMarkerConfig,e),o=i.width,a=i.height,s=i.compatible,u=i.image;if(!t){var l=s?n:document.querySelector(".g6-graph-watermarker");return l&&(l.style.cssText=void 0),void(r&&r.clear())}if(r)r.clear();else{var c={container:n,width:o,height:a,capture:!1},h=this.get("pixelRatio");h&&(c.pixelRatio=h,window.devicePixelRatio=h),r=new kr.Canvas(c),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var d=r.get("context"),f=u.rotate,p=u.x,v=u.y;d.rotate(-f*Math.PI/180);var y=new Image;y.crossOrigin="anonymous",y.src=t,y.onload=function(){if(d.drawImage(y,p,v,u.width,u.height),d.rotate(f*Math.PI/180),s)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var t=document.querySelector(".g6-graph-watermarker");t||((t=document.createElement("div")).className="g6-graph-watermarker"),t.className="g6-graph-watermarker",r.destroyed||(t.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),n.appendChild(t))}}},e.prototype.setTextWaterMarker=function(t,e){var n=this.get("container");Object(g.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=Object(g.deepMix)({},oi.textWaterMarkerConfig,e),o=i.width,a=i.height,s=i.compatible,u=i.text;if(!(null===t||void 0===t?void 0:t.length)){var l=s?n:document.querySelector(".g6-graph-watermarker");return l&&(l.style.cssText=void 0),void(r&&r.clear())}if(r)r.clear();else{var c={container:n,width:o,height:a,capture:!1},h=this.get("pixelRatio");h&&(c.pixelRatio=h,window.devicePixelRatio=h),r=new kr.Canvas(c),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var d=r.get("context"),f=u.rotate,p=u.fill,v=u.fontFamily,y=u.fontSize,m=u.baseline,b=u.x,x=u.y,A=u.lineHeight;d.rotate(-f*Math.PI/180),d.font="".concat(y,"px ").concat(v),d.fillStyle=p,d.textBaseline=m;for(var w=Object(g.isString)(t)?[t]:t,_=w.length-1;_>=0;_--)d.fillText(w[_],b,x+_*A);if(d.rotate(f*Math.PI/180),s)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var M=document.querySelector(".g6-graph-watermarker");M||((M=document.createElement("div")).className="g6-graph-watermarker"),M.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),n.appendChild(M)}},e.prototype.destroy=function(){var e,n,r,i;Object(g.each)(this.get("plugins"),function(t){t.destroyPlugin()});var o=this.get("tooltips");if(o)for(var a=0;a<o.length;a++){var s=o[a];if(s){var u=s.parentElement;u&&u.removeChild(s)}}null===(e=this.get("eventController"))||void 0===e||e.destroy(),null===(n=this.get("layoutController"))||void 0===n||n.destroy(),null===(r=this.get("graphWaterMarker"))||void 0===r||r.destroy(),null===(i=document.querySelector(".g6-graph-watermarker"))||void 0===i||i.remove(),t.prototype.destroy.call(this)},e}(nr),Ki=Mi.radialLayout,Ji=Mi.traverseTree,$i=function(t){function e(e){var n=t.call(this,e)||this;return n.layoutAnimating=!1,n.set("removeList",[]),n.set("layoutMethod",n.getLayout()),n}return Object(p.__extends)(e,t),e.prototype.getLayout=function(){var t=this.get("layout");return t?"function"==typeof t?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="indented"===t.type?"LR":"TB"),t.radial?function(e){var n=pi.a[t.type](e,t);return Ki(n),n}:function(e){return pi.a[t.type](e,t)}):null},e.indexOfChild=function(t,e){var n=-1;return Object(g.each)(t,function(t,r){if(e===t.id)return n=r,!1}),n},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.animate=!0,e},e.prototype.innerAddChild=function(t,e,n){var r=this,i=t.data;i&&(i.x=t.x,i.y=t.y,i.depth=t.depth);var o=r.addItem("node",i,!1);if(e){if(o.set("parent",e),n){var a=e.get("originAttrs");if(a)o.set("originAttrs",a);else{var s=e.getModel();o.set("originAttrs",{x:s.x,y:s.y})}}var u=e.get("children");u?u.push(o):e.set("children",[o]),r.addItem("edge",{source:e.get("id"),target:o.get("id"),id:"".concat(e.get("id"),":").concat(o.get("id"))},!1)}return Object(g.each)(t.children||[],function(t){r.innerAddChild(t,o,n)}),r.emit("afteraddchild",{item:o,parent:e}),o},e.prototype.innerUpdateChild=function(t,n,r){var i=this,o=i.findById(t.id);if(o){Object(g.each)(t.children||[],function(t){i.innerUpdateChild(t,o,r)});var a,s,u=o.get("children");if(u)if(u.length>0)for(var l=u.length-1;l>=0;l--){var c=u[l].getModel();-1===e.indexOfChild(t.children||[],c.id)&&(i.innerRemoveChild(c.id,{x:t.x,y:t.y},r),u.splice(l,1))}o.get("originAttrs")&&(a=o.get("originAttrs").x,s=o.get("originAttrs").y);var h=o.getModel();r&&o.set("originAttrs",{x:h.x,y:h.y}),o.set("model",Object.assign(h,t.data)),a===t.x&&s===t.y||o.updatePosition({x:t.x,y:t.y})}else i.innerAddChild(t,n,r)},e.prototype.innerRemoveChild=function(t,e,n){var r=this,i=r.findById(t);if(i)if(Object(g.each)(i.get("children"),function(t){r.innerRemoveChild(t.getModel().id,e,n)}),n){var o=i.getModel();i.set("to",e),i.set("originAttrs",{x:o.x,y:o.y}),r.get("removeList").push(i)}else r.removeItem(i,!1)},e.prototype.changeData=function(t,e){void 0===e&&(e=!0);var n=this;this.getNodes().map(function(t){return n.clearItemStates(t)}),this.getEdges().map(function(t){return n.clearItemStates(t)}),e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.get("originData"),after:t||n.get("data")}),t?(n.data(t),n.render(!1)):n.layout(this.get("fitView"))},e.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");this.updateLayout(t)},e.prototype.updateLayout=function(t,e,n,r){void 0===r&&(r=!0);if(t){if(r&&this.get("enabledStack")&&this.pushStack("layout",{before:this.get("layout"),after:t}),this.set("layout",t),this.set("layoutMethod",this.getLayout()),this.layout(),e){var i=n;i||(i="begin"===e?{x:0,y:0}:{x:this.getWidth()/2,y:this.getHeight()/2}),i=this.getPointByCanvas(i.x,i.y);var o=this.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];i.x=i.x*o[0]+o[6],i.y=i.y*o[0]+o[7];var a=this.getGroup().getCanvasBBox(),s=a.minX,u=a.maxX,l=a.minY,c={x:(s+u)/2,y:(l+a.maxY)/2};"begin"===e&&(c.x=s,c.y=l),this.translate(i.x-c.x,i.y-c.y)}}else console.warn("layout cannot be null")},e.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");this.layout(t)},e.prototype.layout=function(t){var e=this,n=this.get("data"),r=this.get("layoutMethod"),i=this.get("layout"),o=n;if(null===i||void 0===i?void 0:i.excludeInvisibles){n=Object(g.clone)(this.get("data"));var a={};Ji(n,function(t){var n=t.children;if(!(null===n||void 0===n?void 0:n.length))return!0;for(var r=n.length-1;r>=0;r--){var i=e.findById(n[r].id);(i?!i.isVisible():!1===n[r].visible)&&(a[t.id]=a[t.id]||[],a[t.id].push({idx:r,child:n.splice(r,1)[0]}))}}),o=r?r(n,this.get("layout")):n,Ji(o,function(t){var e=a[t.id];if(null===e||void 0===e?void 0:e.length)for(var n=e.length-1;n>=0;n--){var r=e[n],i=r.idx,o=r.child;t.children.splice(i,0,o)}})}else o=r?r(n,this.get("layout")):n;var s=this.get("animate");(this.emit("beforerefreshlayout",{data:n,layoutData:o}),this.emit("beforelayout"),this.innerUpdateChild(o,void 0,s),t)&&this.get("viewController").fitView();s?this.layoutAnimate(o):(this.refresh(),this.paint()),this.emit("afterrefreshlayout",{data:n,layoutData:o}),this.emit("afterlayout")},e.prototype.addChild=function(t,e,n){void 0===n&&(n=!0);this.emit("beforeaddchild",{model:t,parent:e}),Object(g.isString)(e)||(e=e.get("id"));var r=this.findDataById(e);r&&(r.children||(r.children=[]),r.children.push(t),this.findById(e).refresh(),this.changeData(void 0,n))},e.prototype.updateChildren=function(t,e,n){void 0===n&&(n=!0);var r=this.findById(e);e&&r?(this.findDataById(e).children=t,r.refresh(),this.changeData(void 0,n)):console.warn("Update children failed! There is no node with id '".concat(e,"'"))},e.prototype.updateChild=function(t,n,r){void 0===r&&(r=!0);if(n&&this.findById(n)){var i=this.findDataById(n),o=this.findById(t.id);if(i.children||(i.children=[]),o){var a=e.indexOfChild(i.children,t.id);a>-1&&(i.children[a]=t)}else i.children.push(t);var s=this.findById(n);null===s||void 0===s||s.refresh(),this.changeData(void 0,r)}else this.changeData(t,r)},e.prototype.removeChild=function(t,n){void 0===n&&(n=!0);var r,i=this.findById(t);if((r=i?null===i||void 0===i?void 0:i.get("parent"):this.getNodes().find(function(e){return!!(e.getModel().children||[]).find(function(e){return e.id===t})}))&&!r.destroyed){var o=r.get("id"),a=this.findDataById(o),s=a&&a.children||[],u=e.indexOfChild(s,t);s.splice(u,1),r.refresh()}this.changeData(void 0,n)},e.prototype.findDataById=function(t,e){var n=this;if(e||(e=n.get("data")),t===e.id)return e;var r=null;return Object(g.each)(e.children||[],function(e){return e.id===t?(r=e,!1):!(r=n.findDataById(t,e))&&void 0}),r},e.prototype.layoutAnimate=function(t,e){var n=this,r=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(t){var e=t.get("model");e.sourceAnchor||(e.sourceAnchor=t.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(r){Ji(t,function(i){var o=n.findById(i.id);if(o){var a=o.get("originAttrs"),s=o.get("model");if(a||(a={x:s.x,y:s.y},o.set("originAttrs",a)),e){var u=e(o,r,a,t);o.set("model",Object.assign(s,u))}else s.x=a.x+(i.x-a.x)*r,s.y=a.y+(i.y-a.y)*r}return!0}),Object(g.each)(n.get("removeList"),function(t){var e=t.getModel(),n=t.get("originAttrs"),i=t.get("to");e.x=n.x+(i.x-n.x)*r,e.y=n.y+(i.y-n.y)*r}),n.refreshPositions()},{duration:r.duration,easing:r.ease,callback:function(){Object(g.each)(n.getNodes(),function(t){t.set("originAttrs",null)}),Object(g.each)(n.get("removeList"),function(t){n.removeItem(t,!1)}),n.set("removeList",[]),r.callback&&r.callback(),n.emit("afteranimate",{data:t})},delay:r.delay})},e.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},e.prototype.isLayoutAnimating=function(){return this.layoutAnimating},e.prototype.render=function(t){void 0===t&&(t=!0);var e=this.get("data");if(!e||!Object(g.isObject)(e)||!Object.keys(e).length)throw new Error("data must be defined first");this.clear(),t&&this.get("enabledStack")&&this.clearStack(),this.emit("beforerender"),this.layout(this.get("fitView")),this.emit("afterrender")},e.prototype.save=function(){return this.get("data")},e.prototype.data=function(e){t.prototype.data.call(this,e),this.set("originData",JSON.parse(JSON.stringify(e)))},e}(Zi),to=function(){function t(t){this._cfgs=Object(g.deepMix)(this.getDefaultCfgs(),t),this._events={},this.destroyed=!1}return t.prototype.getDefaultCfgs=function(){return{}},t.prototype.initPlugin=function(t){var e=this;e.set("graph",t);var n=e.getEvents(),r={};Object(g.each)(n,function(n,i){var o=Object(g.wrapBehavior)(e,n);r[i]=o,t.on(i,o)}),this._events=r,this.init()},t.prototype.getEvents=function(){return{}},t.prototype.get=function(t){var e;return null===(e=this._cfgs)||void 0===e?void 0:e[t]},t.prototype.set=function(t,e){this._cfgs[t]=e},t.prototype.destroy=function(){},t.prototype.destroyPlugin=function(){this.destroy();var t=this.get("graph"),e=this._events;Object(g.each)(e,function(e,n){t.off(n,e)}),this._events=null,this._cfgs=null,this.destroyed=!0},t}(),eo=this&&this.__extends||(Xi=function(t,e){return(Xi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Xi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),no="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",ro=function(t){function e(e){return t.call(this,e)||this}return eo(e,t),e.prototype.getDefaultCfgs=function(){return{img:no,follow:!0}},e.prototype.init=function(){var t=this.get("graph"),e=t.get("container"),n=t.get("canvas").get("el"),r=this.get("img")||no;r.includes("url(")||(r='url("'.concat(r,'")'));var i=si("<div class='g6-grid-container' style=\"position:absolute;overflow:hidden;z-index: -1;\"></div>"),o=si("<div\n        class='g6-grid'\n        style='position:absolute;\n        background-image: ".concat(r,";\n        user-select: none\n        '></div>"));this.set("container",i),this.set("gridContainer",o),this.positionInit(),i.appendChild(o),e.insertBefore(i,n)},e.prototype.positionInit=function(){var t=this.get("graph"),e=t.get("minZoom"),n=t.get("width"),r=t.get("height");ui(this.get("container"),{width:"".concat(n,"px"),height:"".concat(r,"px")});var i=80*n/e,o=80*r/e;ui(this.get("gridContainer"),{width:"".concat(i,"px"),height:"".concat(o,"px"),left:"-".concat(i/2,"px"),top:"-".concat(o/2,"px")})},e.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},e.prototype.updateGrid=function(t){var e=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var r=this.get("follow");ui(e,{transform:"matrix(".concat(n[0],", ").concat(n[1],", ").concat(n[3],", ").concat(n[4],", ").concat(r?n[6]:"0",", ").concat(r?n[7]:"0",")")})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t=this.get("graph").get("container"),e=this.get("container");t.removeChild(e)},e}(to),io=n("z/wH"),oo=n.n(io),ao=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!=typeof document&&oo()("\n  .g6-component-contextmenu {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .g6-contextmenu-ul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n\n");var so=function(t){function e(e){return t.call(this,e)||this}return ao(e,t),e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(t){return"\n          <ul class='g6-contextmenu-ul'>\n            <li>菜单项1</li>\n            <li>菜单项2</li>\n          </ul>\n        "},shouldBegin:function(t){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},e.prototype.getEvents=function(){return"click"===this.get("trigger")?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},e.prototype.init=function(){var t=this.get("className"),e=si("<div class=".concat(t||"g6-component-contextmenu","></div>"));ui(e,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),Object(g.isString)(n)&&(n=document.getElementById(n)),n.appendChild(e),this.set("menu",e)},e.prototype.onMenuShow=function(t){var e=this;t.preventDefault();var n=this.get("itemTypes");if(t.item){if(t.item&&t.item.getType&&-1===n.indexOf(t.item.getType()))return void e.onMenuHide()}else if(-1===n.indexOf("canvas"))return void e.onMenuHide();if(this.get("shouldBegin")(t)){var r=this.get("menu"),i=this.get("getContent"),o=this.get("graph"),a=i(t,o);Object(g.isString)(a)?r.innerHTML=a:r.innerHTML=a.outerHTML,this.removeMenuEventListener();var s=this.get("handleMenuClick");if(s){var u=function(e){s(e.target,t.item,o)};this.set("handleMenuClickWrapper",u),r.addEventListener("click",u)}var l=o.get("width"),c=o.get("height"),h=r.getBoundingClientRect(),d=this.get("offsetX")||0,f=this.get("offsetY")||0,p=o.getContainer().offsetTop,v=o.getContainer().offsetLeft,y=t.canvasX+v+d,m=t.canvasY+p+f;y+h.width>l&&(y=t.canvasX-h.width-d+v),m+h.height>c&&(m=t.canvasY-h.height-f+p),ui(r,{top:"".concat(m,"px"),left:"".concat(y,"px"),visibility:"visible"});var b="click"===this.get("trigger"),x=function(t){b?b=!1:e.onMenuHide()};document.body.addEventListener("click",x),this.set("handler",x)}},e.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");t&&(this.get("menu").removeEventListener("click",t),this.set("handleMenuClickWrapper",null));e&&document.body.removeEventListener("click",e)},e.prototype.onMenuHide=function(){var t=this.get("menu");t&&ui(t,{visibility:"hidden"}),this.removeMenuEventListener()},e.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),Object(g.isString)(e)&&(e=document.getElementById(e)),e.removeChild(t)}},e}(to),uo=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lo=this&&this.__assign||function(){return(lo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},co=Math.max,ho=x.a.transform,fo=function(t){function e(e){var n=t.call(this,e)||this;return n.handleUpdateCanvas=Object(g.debounce)(function(t){var e=n;e.destroyed||e.updateCanvas()},100,!1),n}return uo(e,t),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0,hideEdge:!1}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.size,r=e.graph;if(!this.destroyed){var i=this.get("canvas").get("container"),o=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,a=navigator.userAgent.toLowerCase().indexOf("safari")>-1,s=si("\n      <div\n        class=".concat(e.viewportClassName,"\n        style='position:absolute;\n          left:0;\n          top:0;\n          box-sizing:border-box;\n          outline: 2px solid #1980ff;\n          cursor:move'\n        draggable=").concat(!a&&!o,"\n      </div>")),u=0,l=0,c=!1,h=0,d=0,f=0,p=0,v=0,y=0,m=a||o?"mousedown":"dragstart";s.addEventListener(m,function(i){var o,a;if(i.dataTransfer){var g=new Image;g.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",null===(a=(o=i.dataTransfer).setDragImage)||void 0===a||a.call(o,g,0,0);try{i.dataTransfer.setData("text/html","view-port-minimap")}catch(t){i.dataTransfer.setData("text","view-port-minimap")}}if(e.refresh=!1,i.target===s){var m=s.style;h=parseInt(m.left,10),d=parseInt(m.top,10),f=parseInt(m.width,10),p=parseInt(m.height,10),f>n[0]||p>n[1]||(y=r.getZoom(),v=t.get("ratio"),c=!0,u=i.clientX,l=i.clientY)}},!1);var b=function(t){if(c&&!Object(g.isNil)(t.clientX)&&!Object(g.isNil)(t.clientY)){var e=u-t.clientX,i=l-t.clientY;(h-e<0||h-e+f>=n[0])&&(e=0),(d-i<0||d-i+p>=n[1])&&(i=0),d-=i,ui(s,{left:"".concat(h-=e,"px"),top:"".concat(d,"px")}),r.translate(e*y/v,i*y/v),u=t.clientX,l=t.clientY}};a||o||s.addEventListener("drag",b,!1);var x=function(){c=!1,e.refresh=!0},A=a||o?"mouseup":"dragend";s.addEventListener(A,x,!1),i.addEventListener("mouseleave",x),i.addEventListener("mouseup",x),(a||o)&&i.addEventListener("mousemove",b,!1),this.set("viewport",s),i.appendChild(s)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("totaldx"),n=this.get("totaldy"),r=this.get("graph"),i=this.get("size"),o=r.get("canvas").get("el"),a=r.get("width")||o.scrollWidth||500,s=r.get("height")||o.scrollHeight||500,u=r.getPointByCanvas(0,0),l=r.getPointByCanvas(a,s),c=this.get("viewport");c||this.initViewport();var h=(l.x-u.x)*t,d=(l.y-u.y)*t,f=u.x*t+e,p=u.y*t+n,g=f+h,v=p+d;f<0&&(h+=f,f=0),g>i[0]&&(h-=g-i[0]),p<0&&(d+=p,p=0),v>i[1]&&(d-=v-i[1]),this.set("ratio",t),ui(c,{left:"".concat(f,"px"),top:"".concat(p,"px"),width:"".concat(h,"px"),height:"".concat(d,"px")})}},e.prototype.updateGraphShapes=function(){var t,e=this._cfgs.graph,n=this.get("canvas"),r=e.get("group");r.destroyed||(n.clear(),this.get("hideEdge")?(t=n.addGroup(),r.get("children").forEach(function(e){e.get("id").includes("-edge")||t.add(e.clone())})):((t=r.clone()).resetMatrix(),n.add(t)),"svg"===e.get("renderer")&&this.updateVisible(t))},e.prototype.updateVisible=function(t){var e=this;if(t.isGroup()||t.get("visible")){var n=t.get("children");if(!n||!n.length)return;n.forEach(function(t){t.get("visible")||t.hide(),e.updateVisible(t)})}else t.hide()},e.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();this.get("hideEdge")||Object(g.each)(e.getEdges(),function(e){t.updateOneEdgeKeyShape(e,r)}),Object(g.each)(e.getNodes(),function(e){t.updateOneNodeKeyShape(e,r)});var i=e.getCombos();if(i&&i.length){var o=r.find(function(t){return"comboGroup"===t.get("name")})||r.addGroup({name:"comboGroup"});setTimeout(function(){t.destroyed||(Object(g.each)(i,function(e){t.updateOneComboKeyShape(e,o)}),null===o||void 0===o||o.sort(),null===o||void 0===o||o.toBack(),t.updateCanvas())},250)}this.clearDestroyedShapes()},e.prototype.updateOneComboKeyShape=function(t,e){if(!this.destroyed){var n=this.get("itemMap")||{},r=n[t.get("id")],i=t.getBBox(),o=t.get("keyShape").clone(),a=o.attr(),s={x:i.centerX,y:i.centerY};r?s=Object.assign(a,s):(r=o,e.add(r));var u=r.get("type");"rect"!==u&&"image"!==u||(s.x=i.minX,s.y=i.minY),r.attr(s),t.isVisible()?r.show():r.hide(),r.exist=!0;var l=t.getModel().depth;isNaN(l)||r.set("zIndex",l),n[t.get("id")]=r,this.set("itemMap",n)}},e.prototype.updateOneNodeKeyShape=function(t,e){var n=this.get("itemMap")||{},r=n[t.get("id")],i=t.getBBox(),o=t.get("keyShape").clone(),a=o.attr(),s={x:i.centerX,y:i.centerY};r?(s=Object.assign(a,s),r.toFront()):(r=o,e.add(r));var u=r.get("type");"rect"!==u&&"image"!==u||(s.x=i.minX,s.y=i.minY),r.attr(s),t.isVisible()?r.show():r.hide(),r.exist=!0;var l=t.getModel().depth;isNaN(l)||r.set("zIndex",l),n[t.get("id")]=r,this.set("itemMap",n)},e.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();this.get("hideEdge")||Object(g.each)(e.getEdges(),function(e){t.updateOneEdgeKeyShape(e,r)}),Object(g.each)(e.getNodes(),function(e){t.updateOneNodeDelegateShape(e,r)});var i=e.getCombos();if(i&&i.length){var o=r.find(function(t){return"comboGroup"===t.get("name")})||r.addGroup({name:"comboGroup"});setTimeout(function(){t.destroyed||(Object(g.each)(i,function(e){t.updateOneComboKeyShape(e,o)}),null===o||void 0===o||o.sort(),null===o||void 0===o||o.toBack(),t.updateCanvas())},250)}this.clearDestroyedShapes()},e.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(e&&0!==e.length)for(var n=e.length-1;n>=0;n--){var r=t[e[n]],i=r.exist;r.exist=!1,i||(r.remove(),delete t[e[n]])}},e.prototype.updateOneEdgeKeyShape=function(t,e){var n=this.get("itemMap")||{},r=n[t.get("id")];if(r){var i=t.get("keyShape").attr("path");r.attr("path",i)}else r=t.get("keyShape").clone(),e.add(r);t.isVisible()?r.show():r.hide(),r.exist=!0,n[t.get("id")]=r,this.set("itemMap",n)},e.prototype.updateOneNodeDelegateShape=function(t,e){var n=this.get("delegateStyle"),r=this.get("itemMap")||{},i=r[t.get("id")],o=t.getBBox();if(i){var a={x:o.minX,y:o.minY,width:o.width,height:o.height};i.attr(a),i.toFront()}else i=e.addShape("rect",{attrs:lo({x:o.minX,y:o.minY,width:o.width,height:o.height},n),name:"minimap-node-shape"});t.isVisible()?i.show():i.hide(),i.exist=!0,r[t.get("id")]=i,this.set("itemMap",r)},e.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},e.prototype.initContainer=function(){var t=this.get("graph"),e=this.get("size"),n=this.get("className"),r=this.get("container"),i=si("<div class='".concat(n,"' style='width: ").concat(e[0],"px; height: ").concat(e[1],"px; overflow: hidden'></div>"));Object(g.isString)(r)&&(r=document.getElementById(r)),r?r.appendChild(i):t.get("container").appendChild(i),this.set("container",i);var o,a=si('<div class="g6-minimap-container" style="position: relative;"></div>');i.appendChild(a),a.addEventListener("dragenter",function(t){t.preventDefault()}),a.addEventListener("dragover",function(t){t.preventDefault()}),o="svg"===t.get("renderer")?new Tr.Canvas({container:a,width:e[0],height:e[1]}):new kr.Canvas({container:a,width:e[0],height:e[1]}),this.set("canvas",o),this.updateCanvas()},e.prototype.updateCanvas=function(){if(!this.destroyed&&this.get("refresh")){var t=this.get("graph");if(!t.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var e=this.get("size"),n=this.get("canvas"),r=this.get("type"),i=this.get("padding");if(!n.destroyed){switch(r){case"default":this.updateGraphShapes();break;case"keyShape":this.updateKeyShapes();break;case"delegate":this.updateDelegateShapes()}var o=n.get("children")[0];if(o){o.resetMatrix();var a=o.getCanvasBBox(),s=t.get("canvas").getCanvasBBox(),u=t.getZoom()||1,l=s.width/u,c=s.height/u;Number.isFinite(a.width)&&(l=co(a.width,l),c=co(a.height,c)),l+=2*i,c+=2*i;var h=Math.min(e[0]/l,e[1]/c),d=[1,0,0,0,1,0,0,0,1],f=0,p=0;Number.isFinite(a.minX)&&(f=-a.minX),Number.isFinite(a.minY)&&(p=-a.minY);var g=(e[0]-(l-2*i)*h)/2,v=(e[1]-(c-2*i)*h)/2;d=ho(d,[["t",f,p],["s",h,h],["t",g,v]]),o.setMatrix(d),this.set("ratio",h),this.set("totaldx",g+f*h),this.set("totaldy",v+p*h),this.set("dx",g),this.set("dy",v),this.updateViewport()}}}}},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t;null===(t=this.get("canvas"))||void 0===t||t.destroy();var e=this.get("container");(null===e||void 0===e?void 0:e.parentNode)&&e.parentNode.removeChild(e)},e}(to),po=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function go(t,e,n){var r=t.x-e.x,i=t.y-e.y;return!n||Math.abs(r)>n||Math.abs(i)>n?Math.sqrt(r*r+i*i):n}function vo(t,e){var n=(e.source.y-e.target.y)/(e.source.x-e.target.x),r=(n*n*e.source.x+n*(t.y-e.source.y)+t.x)/(n*n+1);return{x:r,y:n*(r-e.source.x)+e.source.y}}var yo=function(t){function e(e){return t.call(this,e)||this}return po(e,t),e.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},e.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick");this.set("tick",function(){e&&e(),t.refreshPositions()})},e.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var n=t.edges||[],r={},i=!1;if((t.nodes||[]).forEach(function(t){null!==t.x&&null!==!t.y&&void 0!==t.x&&void 0!==!t.y||(i=!0),r[t.id]=t}),i)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",r);var o=e.get("divisions"),a=e.get("divRate"),s=e.divideEdges(o);e.set("edgePoints",s);var u=e.getEdgeBundles();e.set("edgeBundles",u);for(var l=e.get("cycles"),c=e.get("iterations"),h=e.get("iterRate"),d=e.get("lambda"),f=0;f<l;f++){for(var p=function(t){var i=[];n.forEach(function(t,n){if(t.source!==t.target){var a=r[t.source],u=r[t.target];i[n]=e.getEdgeForces({source:a,target:u},n,o,d);for(var l=0;l<o+1;l++)s[n][l].x+=i[n][l].x,s[n][l].y+=i[n][l].y}})},g=0;g<c;g++)p();d/=2,o*=a,c*=h,s=e.divideEdges(o),e.set("edgePoints",s)}n.forEach(function(t,e){t.source!==t.target&&(t.type="polyline",t.controlPoints=s[e].slice(1,s[e].length-1))}),e.get("graph").refresh()}},e.prototype.updateBundling=function(t){var e=this,n=t.data;if(n&&e.set("data",n),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach(function(n){e.set(n,t[n])}),t.onTick){var r=this.get("graph");e.set("tick",function(){t.onTick(),r.refresh()})}e.bundling(n)},e.prototype.divideEdges=function(t){var e=this,n=e.get("data").edges,r=e.get("nodeIdMap"),i=e.get("edgePoints");return i&&void 0!==i||(i=[]),n.forEach(function(n,o){var a;i[o]&&void 0!==i[o]||(i[o]=[]);var s=r[n.source],u=r[n.target];if(1===t)i[o].push({x:s.x,y:s.y}),i[o].push({x:.5*(s.x+u.x),y:.5*(s.y+u.y)}),i[o].push({x:u.x,y:u.y});else{var l=((null===(a=i[o])||void 0===a?void 0:a.length)?e.getEdgeLength(i[o]):go({x:s.x,y:s.y},{x:u.x,y:u.y}))/(t+1),c=l,h=[{x:s.x,y:s.y}];i[o].forEach(function(t,e){if(0!==e){for(var n=go(t,i[o][e-1]);n>c;){var r=c/n,a={x:i[o][e-1].x,y:i[o][e-1].y};a.x+=r*(t.x-i[o][e-1].x),a.y+=r*(t.y-i[o][e-1].y),h.push(a),n-=c,c=l}c-=n}}),h.push({x:u.x,y:u.y}),i[o]=h}}),i},e.prototype.getEdgeLength=function(t){var e=0;return t.forEach(function(n,r){0!==r&&(e+=go(n,t[r-1]))}),e},e.prototype.getEdgeBundles=function(){var t=this,e=t.get("data").edges||[],n=t.get("bundleThreshold"),r=t.get("nodeIdMap"),i=t.get("edgeBundles");return i||(i=[]),e.forEach(function(t,e){i[e]&&void 0!==i[e]||(i[e]=[])}),e.forEach(function(o,a){var s=r[o.source],u=r[o.target];e.forEach(function(e,o){if(!(o<=a)){var l=r[e.source],c=r[e.target];t.getBundleScore({source:s,target:u},{source:l,target:c})>=n&&(i[a].push(o),i[o].push(a))}})}),i},e.prototype.getBundleScore=function(t,e){return t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=go({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=go({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y}),this.getAngleScore(t,e)*this.getScaleScore(t,e)*this.getPositionScore(t,e)*this.getVisibilityScore(t,e)},e.prototype.getAngleScore=function(t,e){return function(t,e){return t.x*e.x+t.y*e.y}({x:t.vx,y:t.vy},{x:e.vx,y:e.vy})/(t.length*e.length)},e.prototype.getScaleScore=function(t,e){var n=(t.length+e.length)/2;return 2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n)},e.prototype.getPositionScore=function(t,e){var n=(t.length+e.length)/2;return n/(n+go({x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},{x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2}))},e.prototype.getVisibilityScore=function(t,e){var n=this.getEdgeVisibility(t,e),r=this.getEdgeVisibility(e,t);return n<r?n:r},e.prototype.getEdgeVisibility=function(t,e){var n=vo(e.source,t),r=vo(e.target,t),i={x:(n.x+r.x)/2,y:(n.y+r.y)/2},o={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*go(i,o)/go(n,r))},e.prototype.getEdgeForces=function(t,e,n,r){for(var i=this.get("edgePoints"),o=this.get("K")/(go(t.source,t.target)*(n+1)),a=[{x:0,y:0}],s=1;s<n;s++){var u={x:0,y:0},l=this.getSpringForce({pre:i[e][s-1],cur:i[e][s],next:i[e][s+1]},o),c=this.getElectrostaticForce(s,e);u.x=r*(l.x+c.x),u.y=r*(l.y+c.y),a.push(u)}return a.push({x:0,y:0}),a},e.prototype.getSpringForce=function(t,e){var n=t.pre.x+t.next.x-2*t.cur.x,r=t.pre.y+t.next.y-2*t.cur.y;return{x:n*=e,y:r*=e}},e.prototype.getElectrostaticForce=function(t,e){var n=this.get("eps"),r=this.get("edgeBundles"),i=this.get("edgePoints"),o={x:0,y:0};return r[e].forEach(function(r){var a={x:i[r][t].x-i[e][t].x,y:i[r][t].y-i[e][t].y};if(Math.abs(a.x)>n||Math.abs(a.y)>n){var s=1/go(i[r][t],i[e][t]);o.x+=a.x*s,o.y+=a.y*s}}),o},e.prototype.isTicking=function(){return this.get("ticking")},e.prototype.getSimulation=function(){return this.get("forceSimulation")},e.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),t.prototype.destroy.call(this)},e}(to),mo=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bo=this&&this.__assign||function(){return(bo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},xo={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},Ao=function(t){function e(e){return t.call(this,e)||this}return mo(e,t),e.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:Object(g.clone)(xo),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"}}return t},e.prototype.init=function(){var t=this.get("r");this.set("cachedMagnifiedModels",[]),this.set("cachedOriginPositions",{}),this.set("r2",t*t);var e=this.get("d");this.set("molecularParam",(e+1)*t)},e.prototype.createDelegate=function(t){var e=this,n=this,r=n.get("delegate");r&&!r.destroyed||(n.magnify(t),(r=n.get("delegate")).on("dragstart",function(t){n.set("delegateCenterDiff",{x:r.attr("x")-t.x,y:r.attr("y")-t.y})}),r.on("drag",function(t){n.magnify(t)}),"wheel"===this.get("scaleDBy")&&r.on("mousewheel",function(t){e.scaleDByWheel(t)}),"wheel"===this.get("scaleRBy")&&r.on("mousewheel",function(t){n.scaleRByWheel(t)}))},e.prototype.scaleRByWheel=function(t){if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var e,n=this.get("graph"),r=this.get("delegate"),i=(r?{x:r.attr("x"),y:r.attr("y")}:void 0)||n.getPointByClient(t.clientX,t.clientY);e=t.originalEvent.wheelDelta<0?.95:1/.95;var o=this.get("maxR"),a=this.get("minR"),s=this.get("r");(s>(o||n.get("height"))&&e>1||s<(a||.05*n.get("height"))&&e<1)&&(e=1),s*=e,this.set("r",s),this.set("r2",s*s);var u=this.get("d");this.set("molecularParam",(u+1)*s),this.set("delegateCenterDiff",void 0),this.magnify(t,i)}},e.prototype.scaleRByDrag=function(t){if(t){var e,n=this.get("dragPrePos"),r=this.get("graph"),i=r.getPointByClient(t.clientX,t.clientY);e=t.x-n.x<0?.95:1/.95;var o=this.get("maxR"),a=this.get("minR"),s=this.get("r");(s>(o||r.get("height"))&&e>1||s<(a||.05*r.get("height"))&&e<1)&&(e=1),s*=e,this.set("r",s),this.set("r2",s*s);var u=this.get("d");this.set("molecularParam",(u+1)*s),this.magnify(t,i),this.set("dragPrePos",{x:t.x,y:t.y})}},e.prototype.scaleDByWheel=function(t){if(t||t.originalEvent){t.preventDefault&&t.preventDefault();var e=0;e=t.originalEvent.wheelDelta<0?-.1:.1;var n=this.get("d")+e,r=this.get("maxD"),i=this.get("minD");if(n<r&&n>i){this.set("d",n);var o=this.get("r");this.set("molecularParam",(n+1)*o);var a=this.get("delegate"),s=a?{x:a.attr("x"),y:a.attr("y")}:void 0;this.set("delegateCenterDiff",void 0),this.magnify(t,s)}}},e.prototype.scaleDByDrag=function(t){var e=this.get("dragPrePos"),n=t.x-e.x>0?.1:-.1,r=this.get("d")+n,i=this.get("maxD"),o=this.get("minD");if(r<i&&r>o){this.set("d",r);var a=this.get("r");this.set("molecularParam",(r+1)*a),this.magnify(t)}this.set("dragPrePos",{x:t.x,y:t.y})},e.prototype.magnify=function(t,e){this.restoreCache();var n=this.get("graph"),r=this.get("cachedMagnifiedModels"),i=this.get("cachedOriginPositions"),o=this.get("showLabel"),a=this.get("r"),s=this.get("r2"),u=this.get("d"),l=this.get("molecularParam"),c=n.getNodes(),h=c.length,d=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};!this.get("dragging")||"mousemove"!==this.get("trigger")&&"click"!==this.get("trigger")||(d=this.get("cacheCenter"));var f=this.get("delegateCenterDiff");f&&(d.x+=f.x,d.y+=f.y),this.updateDelegate(d,a);for(var p=0;p<h;p++){var g=c[p].getModel(),v=g.x,y=g.y;if(!isNaN(v)&&!isNaN(y)){var m=(v-d.x)*(v-d.x)+(y-d.y)*(y-d.y);if(!isNaN(m)&&m<s&&0!==m){var b=Math.sqrt(m),x=l*b/(u*b+a),A=(v-d.x)/b,w=(y-d.y)/b;if(g.x=A*x+d.x,g.y=w*x+d.y,i[g.id]||(i[g.id]={x:v,y:y,texts:[]}),r.push(g),o&&2*b<a)for(var _=c[p].getContainer().getChildren(),M=_.length,S=0;S<M;S++){var O=_[S];"text"===O.get("type")&&(i[g.id].texts.push({visible:O.get("visible"),shape:O}),O.set("visible",!0))}}}}n.refreshPositions()},e.prototype.restoreCache=function(){for(var t=this.get("cachedMagnifiedModels"),e=this.get("cachedOriginPositions"),n=t.length,r=0;r<n;r++){var i=t[r],o=e[i.id];i.x=o.x,i.y=o.y;for(var a=o.texts.length,s=0;s<a;s++){var u=o.texts[s];u.shape.set("visible",u.visible)}}this.set("cachedMagnifiedModels",[]),this.set("cachedOriginPositions",{})},e.prototype.updateParams=function(t){var e=t.r,n=t.d,r=t.trigger,i=t.minD,o=t.maxD,a=t.minR,s=t.maxR,u=t.scaleDBy,l=t.scaleRBy;isNaN(t.r)||(this.set("r",e),this.set("r2",e*e)),isNaN(n)||this.set("d",n),isNaN(o)||this.set("maxD",o),isNaN(i)||this.set("minD",i),isNaN(s)||this.set("maxR",s),isNaN(a)||this.set("minR",a);var c,h=this.get("d"),d=this.get("r");(this.set("molecularParam",(h+1)*d),"mousemove"!==r&&"click"!==r&&"drag"!==r||this.set("trigger",r),"drag"===u||"wheel"===u||"unset"===u)&&(this.set("scaleDBy",u),this.get("delegate").remove(),this.get("delegate").destroy(),(c=this.get("dPercentText"))&&(c.remove(),c.destroy()));"drag"!==l&&"wheel"!==l&&"unset"!==l||(this.set("scaleRBy",l),this.get("delegate").remove(),this.get("delegate").destroy(),(c=this.get("dPercentText"))&&(c.remove(),c.destroy()))},e.prototype.updateDelegate=function(t,e){var n=this,r=this,i=r.get("graph"),o=r.get("delegate");if(!o||o.destroyed){var a=i.get("group"),s=r.get("delegateStyle")||xo;o=a.addShape("circle",{attrs:bo({r:e/1.5,x:t.x,y:t.y},s),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&("wheel"===this.get("scaleRBy")?o.on("mousewheel",function(t){r.scaleRByWheel(t)}):"drag"===this.get("scaleRBy")&&(o.on("dragstart",function(t){r.set("dragging",!0),r.set("cacheCenter",{x:t.x,y:t.y}),r.set("dragPrePos",{x:t.x,y:t.y})}),o.on("drag",function(t){r.scaleRByDrag(t)}),o.on("dragend",function(t){r.set("dragging",!1)})),"wheel"===this.get("scaleDBy")?o.on("mousewheel",function(t){n.scaleDByWheel(t)}):"drag"===this.get("scaleDBy")&&(o.on("dragstart",function(t){r.set("dragging",!0),r.set("cacheCenter",{x:t.x,y:t.y}),r.set("dragPrePos",{x:t.x,y:t.y})}),o.on("drag",function(t){n.scaleDByDrag(t)}),o.on("dragend",function(t){r.set("dragging",!1)})))}else o.attr({x:t.x,y:t.y,r:e/1.5});if(r.get("showDPercent")){var u=Math.round((r.get("d")-r.get("minD"))/(r.get("maxD")-r.get("minD"))*100),l=r.get("dPercentText"),c=t.y+e/1.5+16;if(!l||l.destroyed)l=i.get("group").addShape("text",{attrs:{text:"".concat(u,"%"),x:t.x,y:c,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),r.set("dPercentText",l);else l.attr({text:"".concat(u,"%"),x:t.x,y:c})}r.set("delegate",o)},e.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(to),wo=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!=typeof document&&oo()("\n  .g6-component-toolbar {\n    position: absolute;\n    list-style-type: none;\n    padding: 6px;\n    left: 0px;\n    top: 0px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    margin: 0;\n  }\n  .g6-component-toolbar li {\n    float: left;\n    text-align: center;\n    width: 35px;\n    height: 24px;\n    cursor: pointer;\n\t\tlist-style-type:none;\n    list-style: none;\n    margin-left: 0px;\n  }\n  .g6-component-toolbar li .icon {\n    opacity: 0.7;\n  }\n  .g6-component-toolbar li .icon:hover {\n    opacity: 1;\n  }\n");var _o=function(t){function e(e){return t.call(this,e)||this}return wo(e,t),e.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(t){return'\n          <ul class=\'g6-component-toolbar\'>\n            <li code=\'redo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>\n              </svg>\n            </li>\n            <li code=\'undo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>\n              </svg>\n            </li>\n            <li  code=\'zoomOut\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>\n              </svg>\n            </li>\n            <li code=\'zoomIn\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>\n              </svg>\n            </li>\n            <li code=\'realZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>\n              </svg>\n            </li>\n            <li code=\'autoZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>\n              </svg>\n            </li>\n          </ul>\n        '},zoomSensitivity:2}},e.prototype.init=function(){var t=this,e=this.get("graph"),n=this.get("getContent")(e),r=n;Object(g.isString)(n)&&(r=si(n));var i=this.get("className");r.setAttribute("class",i||"g6-component-toolbar");var o=this.get("container");o||(o=this.get("graph").get("container")),Object(g.isString)(o)&&(o=document.getElementById(o)),o.appendChild(r),this.set("toolBar",r);var a=this.get("handleClick");r.addEventListener("click",function(n){var r=function(t){if(!t)return[];if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;){if(e.push(n),"HTML"===n.tagName)return e.push(document,window),e;n=n.parentElement}return e}(n).filter(function(t){return"LI"===t.nodeName});if(0!==r.length){var i=r[0].getAttribute("code");i&&(a?a(i,e):t.handleDefaultOperator(i))}});var s=this.get("position");s&&ui(r,{top:"".concat(s.y,"px"),left:"".concat(s.x,"px")}),this.bindUndoRedo()},e.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),r=document.querySelector('.g6-component-toolbar li[code="redo"]'),i=document.querySelector('.g6-component-toolbar li[code="redo"] svg');e&&n&&r&&i&&(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4"),r.setAttribute("style","cursor: not-allowed"),i.setAttribute("style","opacity: 0.4"),t.on("stackchange",function(t){var o=t.undoStack,a=t.redoStack,s=o.length,u=a.length;0===s?(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),n.removeAttribute("style")),0===u?(r.setAttribute("style","cursor: not-allowed"),i.setAttribute("style","opacity: 0.4")):(r.removeAttribute("style"),i.removeAttribute("style"))}))},e.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(e&&0!==e.length){var n=e.pop();if(n){var r=n.action;t.pushStack(r,Object(g.clone)(n.data),"redo");var i=n.data.before;if("add"===r&&(i=n.data.after),!i)return;switch(r){case"visible":Object.keys(i).forEach(function(e){var n=i[e];n&&n.forEach(function(e){var n=t.findById(e.id);e.visible?t.showItem(n,!1):t.hideItem(n,!1)})});break;case"render":case"update":Object.keys(i).forEach(function(e){var n=i[e];n&&n.forEach(function(e){var n=t.findById(e.id);delete e.id,t.updateItem(n,e,!1),"combo"===n.getType()&&t.updateCombo(n)})});break;case"changedata":t.changeData(i,!1);break;case"delete":Object.keys(i).forEach(function(e){var n=i[e];n&&n.forEach(function(e){var n=e.itemType;delete e.itemType,t.addItem(n,e,!1)})});break;case"add":Object.keys(i).forEach(function(e){var n=i[e];n&&n.forEach(function(e){t.removeItem(e.id,!1)})});break;case"updateComboTree":Object.keys(i).forEach(function(e){var n=i[e];n&&n.forEach(function(e){t.updateComboTree(e.id,e.parentId,!1)})});break;case"createCombo":var o=n.data.after.combos,a=o[o.length-1];Object.keys(i).forEach(function(e){var n=i[e];n&&n.forEach(function(e){t.updateComboTree(e.id,e.parentId,!1)})}),t.removeItem(a.id,!1);break;case"uncombo":var s=i.combos[i.combos.length-1],u=i.nodes.concat(i.combos).map(function(t){return t.id}).filter(function(t){return t!==s.id});t.createCombo(s,u,!1);break;case"layout":t.updateLayout(i,void 0,void 0,!1)}}}},e.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(e&&0!==e.length){var n=e.pop();if(n){var r=n.action,i=n.data.after;if(t.pushStack(r,Object(g.clone)(n.data)),"delete"===r&&(i=n.data.before),!i)return;switch(r){case"visible":Object.keys(i).forEach(function(e){var n=i[e];n&&n.forEach(function(e){var n=t.findById(e.id);e.visible?t.showItem(n,!1):t.hideItem(n,!1)})});break;case"render":case"update":Object.keys(i).forEach(function(e){var n=i[e];n&&n.forEach(function(e){var n=t.findById(e.id);delete e.id,t.updateItem(n,e,!1),"combo"===n.getType()&&t.updateCombo(n)})});break;case"changedata":t.changeData(i,!1);break;case"delete":i.edges&&i.edges.forEach(function(e){t.removeItem(e.id,!1)}),i.nodes&&i.nodes.forEach(function(e){t.removeItem(e.id,!1)}),i.combos&&i.combos.forEach(function(e){t.removeItem(e.id,!1)});break;case"add":Object.keys(i).forEach(function(e){var n=i[e];n&&n.forEach(function(e){var n=e.itemType;delete e.itemType,t.addItem(n,e,!1)})});break;case"updateComboTree":Object.keys(i).forEach(function(e){var n=i[e];n&&n.forEach(function(e){t.updateComboTree(e.id,e.parentId,!1)})});break;case"createCombo":var o=i.combos[i.combos.length-1];t.createCombo(o,o.children.map(function(t){return t.id}),!1);break;case"uncombo":var a=n.data.before.combos,s=a[a.length-1];t.uncombo(s.id,!1);break;case"layout":t.updateLayout(i,void 0,void 0,!1)}}}},e.prototype.zoomOut=function(){var t=this.get("graph"),e=t.getZoom(),n=1/(1-.05*this.get("zoomSensitivity"));n*e>(this.get("maxZoom")||t.get("maxZoom"))||t.zoomTo(e*n)},e.prototype.zoomIn=function(){var t=this.get("graph"),e=t.getZoom(),n=1-.05*this.get("zoomSensitivity");n*e<(this.get("minZoom")||t.get("minZoom"))||t.zoomTo(e*n)},e.prototype.realZoom=function(){this.get("graph").zoomTo(1)},e.prototype.autoZoom=function(){this.get("graph").fitView([20,20])},e.prototype.handleDefaultOperator=function(t){switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":this.zoomOut();break;case"zoomIn":this.zoomIn();break;case"realZoom":this.realZoom();break;case"autoZoom":this.autoZoom()}},e.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),Object(g.isString)(e)&&(e=document.getElementById(e)),e.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},e}(to),Mo=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!=typeof document&&oo()("\n  .g6-component-tooltip {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .tooltip-type {\n    padding: 0;\n    margin: 0;\n  }\n  .tooltip-id {\n    color: #531dab;\n  }\n");var So=function(t){function e(e){return t.call(this,e)||this}return Mo(e,t),e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(t){return"\n          <h4 class='tooltip-type'>类型：".concat(t.item.getType(),"</h4>\n          <span class='tooltip-id'>ID：").concat(t.item.getID(),"</span>\n        ")},shouldBegin:function(t){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},e.prototype.getEvents=function(){return"click"===this.get("trigger")?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},e.prototype.init=function(){var t=this,e=t.get("className")||"g6-component-tooltip",n=si("<div class='".concat(e,"'></div>")),r=t.get("container");r||(r=t.get("graph").get("container")),Object(g.isString)(r)&&(r=document.getElementById(r)),ui(n,{position:"absolute",visibility:"hidden",display:"none"}),r.appendChild(n),"click"!==t.get("trigger")&&(n.addEventListener("mouseenter",function(t){ui(n,{visibility:"visible",display:"unset"})}),n.addEventListener("mouseleave",function(e){t.hideTooltip()})),t.set("tooltip",n)},e.prototype.onClick=function(t){var e=this.get("itemTypes");if(!t.item||!t.item.getType||-1!==e.indexOf(t.item.getType())){var n=t.item,r=this.get("graph");this.currentTarget===n?(this.currentTarget=null,this.hideTooltip(),r.emit("tooltipchange",{item:t.item,action:"hide"})):(this.currentTarget=n,this.showTooltip(t),r.emit("tooltipchange",{item:t.item,action:"show"}))}},e.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!t.item||!t.item.getType||-1!==e.indexOf(t.item.getType())){var n=t.item,r=this.get("graph");this.currentTarget=n,this.showTooltip(t),r.emit("tooltipchange",{item:t.item,action:"show"})}},e.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&-1===e.indexOf(t.item.getType())||this.currentTarget&&t.item===this.currentTarget&&this.showTooltip(t)},e.prototype.onMouseLeave=function(){this.hideTooltip(),this.get("graph").emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},e.prototype.clearContainer=function(){var t=this.get("tooltip");t&&(t.innerHTML="")},e.prototype.showTooltip=function(t){if(t.item){var e=this.get("itemTypes");if(!t.item.getType||-1!==e.indexOf(t.item.getType())){var n=this.get("tooltip"),r=this.get("getContent")(t);Object(g.isString)(r)?n.innerHTML=r:(this.clearContainer(),n.appendChild(r)),this.updatePosition(t)}}},e.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&ui(t,{visibility:"hidden",display:"none"})},e.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),n=this.get("tooltip");if(e(t)){var r=this.get("graph"),i=r.get("width"),o=r.get("height"),a=this.get("offsetX")||0,s=this.get("offsetY")||0,u=r.getPointByClient(t.clientX,t.clientY),l=this.get("fixToNode"),c=t.item;if(c.getType&&"node"===c.getType()&&l&&Object(g.isArray)(l)&&l.length>=2){var h=c.getBBox();u={x:h.minX+h.width*l[0],y:h.minY+h.height*l[1]}}var d=r.getCanvasByPoint(u.x,u.y),f=d.x,p=d.y,v=r.getContainer(),y={x:f+v.offsetLeft+a,y:p+v.offsetTop+s};ui(n,{visibility:"visible",display:"unset"});var m=n.getBoundingClientRect();f+m.width+a>i&&(y.x-=m.width+a),p+m.height+s>o&&(y.y-=m.height+s,y.y<0&&(y.y=0)),ui(n,{left:"".concat(y.x,"px"),top:"".concat(y.y,"px")})}else ui(n,{visibility:"hidden",display:"none"})},e.prototype.hide=function(){this.onMouseLeave()},e.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),Object(g.isString)(e)&&(e=document.getElementById(e)),e.removeChild(t)}},e}(to),Oo={};function Io(t,e){Oo[t]=e}var Eo=function(){function t(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){Object(g.assign)(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return Object(g.map)(this.ticks,function(e,n){return Object(g.isObject)(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}})},t.prototype.getText=function(t,e){var n=this.formatter,r=n?n(t,e):t;return Object(g.isNil)(r)||!Object(g.isFunction)(r.toString)?"":r.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){Object(g.assign)(this,this.__cfg__),this.setDomain(),Object(g.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(Object(g.isString)(t)){var n=Oo[t];if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else Object(g.isFunction)(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(t,e,n){return Object(g.isNumber)(t)?(t-e)/(n-e):NaN},t.prototype.calcValue=function(t,e,n){return e+t*(n-e)},t}(),Co=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return Object(p.__extends)(e,t),e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=Object(g.isNumber)(t)?t:NaN),e},e.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),r=Math.round(e*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},e.prototype.getText=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=e;return Object(g.isNumber)(e)&&!this.values.includes(e)&&(i=this.values[i]),t.prototype.getText.apply(this,Object(p.__spreadArrays)([i],n))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if(Object(g.isNil)(this.getConfig("min"))&&(this.min=0),Object(g.isNil)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(Eo),ko=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,To="[^\\s]+",Do=/\[([^]*?)\]/gm;function jo(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}var Lo=function(t){return function(e,n){var r=n[t].map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase());return r>-1?r:null}};function Po(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];for(var a in o)t[a]=o[a]}return t}var No=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ro=["January","February","March","April","May","June","July","August","September","October","November","December"],Bo=jo(Ro,3),zo={dayNamesShort:jo(No,3),dayNames:No,monthNamesShort:Bo,monthNames:Ro,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10?1:0)*t%10]}},Fo=Po({},zo),Go=function(t){return Fo=Po(Fo,t)},Vo=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Uo=function(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},Wo={D:function(t){return String(t.getDate())},DD:function(t){return Uo(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return Uo(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return Uo(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return Uo(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return Uo(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return Uo(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return Uo(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return Uo(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return Uo(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return Uo(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return Uo(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+Uo(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+Uo(Math.floor(Math.abs(e)/60),2)+":"+Uo(Math.abs(e)%60,2)}},Ho=function(t){return+t-1},Yo=[null,"\\d\\d?"],Xo=[null,To],qo=["isPm",To,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],Qo=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],Zo={D:["day","\\d\\d?"],DD:["day","\\d\\d"],Do:["day","\\d\\d?"+To,function(t){return parseInt(t,10)}],M:["month","\\d\\d?",Ho],MM:["month","\\d\\d",Ho],YY:["year","\\d\\d",function(t){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+t>68?e-1:e)+t)}],h:["hour","\\d\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","\\d\\d?"],HH:["hour","\\d\\d"],m:["minute","\\d\\d?"],mm:["minute","\\d\\d"],s:["second","\\d\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond","\\d\\d",function(t){return 10*+t}],SSS:["millisecond","\\d{3}"],d:Yo,dd:Yo,ddd:Xo,dddd:Xo,MMM:["month",To,Lo("monthNamesShort")],MMMM:["month",To,Lo("monthNames")],a:qo,A:qo,ZZ:Qo,Z:Qo},Ko={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Jo=function(t){return Po(Ko,t)},$o=function(t,e,n){if(void 0===e&&(e=Ko.default),void 0===n&&(n={}),"number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");var r=[];e=(e=Ko[e]||e).replace(Do,function(t,e){return r.push(e),"@@@"});var i=Po(Po({},Fo),n);return(e=e.replace(ko,function(e){return Wo[e](t,i)})).replace(/@@@/g,function(){return r.shift()})};function ta(t,e,n){if(void 0===n&&(n={}),"string"!=typeof e)throw new Error("Invalid format in fecha parse");if(e=Ko[e]||e,t.length>1e3)return null;var r={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],a=e.replace(Do,function(t,e){return o.push(Vo(e)),"@@@"}),s={},u={};a=Vo(a).replace(ko,function(t){var e=Zo[t],n=e[0],r=e[1],o=e[3];if(s[n])throw new Error("Invalid format. "+n+" specified twice in format");return s[n]=!0,o&&(u[o]=!0),i.push(e),"("+r+")"}),Object.keys(u).forEach(function(t){if(!s[t])throw new Error("Invalid format. "+t+" is required in specified format")}),a=a.replace(/@@@/g,function(){return o.shift()});var l=t.match(new RegExp(a,"i"));if(!l)return null;for(var c,h=Po(Po({},Fo),n),d=1;d<l.length;d++){var f=i[d-1],p=f[0],g=f[2],v=g?g(l[d],h):+l[d];if(null==v)return null;r[p]=v}if(1===r.isPm&&null!=r.hour&&12!=+r.hour?r.hour=+r.hour+12:0===r.isPm&&12==+r.hour&&(r.hour=0),null==r.timezoneOffset){c=new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond);for(var y=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],m=(d=0,y.length);d<m;d++)if(s[y[d][0]]&&r[y[d][0]]!==c[y[d][1]]())return null}else if(c=new Date(Date.UTC(r.year,r.month,r.day,r.hour,r.minute-r.timezoneOffset,r.second,r.millisecond)),r.month>11||r.month<0||r.day>31||r.day<1||r.hour>23||r.hour<0||r.minute>59||r.minute<0||r.second>59||r.second<0)return null;return c}var ea={format:$o,parse:ta,defaultI18n:zo,setGlobalDateI18n:Go,setGlobalDateMasks:Jo},na=function(t){return function(e,n,r,i){for(var o=Object(g.isNil)(r)?0:r,a=Object(g.isNil)(i)?e.length:i;o<a;){var s=o+a>>>1;t(e[s])>n?a=s:o=s+1}return o}},ra="format";function ia(t,e){return(f[ra]||ea[ra])(t,e)}function oa(t){return Object(g.isString)(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),Object(g.isDate)(t)&&(t=t.getTime()),t}var aa=1e3,sa=60*aa,ua=60*sa,la=24*ua,ca=31*la,ha=365*la,da=[["HH:mm:ss",aa],["HH:mm:ss",10*aa],["HH:mm:ss",30*aa],["HH:mm",sa],["HH:mm",10*sa],["HH:mm",30*sa],["HH",ua],["HH",6*ua],["HH",12*ua],["YYYY-MM-DD",la],["YYYY-MM-DD",4*la],["YYYY-WW",7*la],["YYYY-MM",ca],["YYYY-MM",4*ca],["YYYY-MM",6*ca],["YYYY",380*la]];var fa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return Object(p.__extends)(e,t),e.prototype.translate=function(t){t=oa(t);var e=this.values.indexOf(t);return-1===e&&(e=Object(g.isNumber)(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var n=this.translate(t);if(n>-1){var r=this.values[n],i=this.formatter;return r=i?i(r,e):ia(r,this.mask)}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;Object(g.each)(e,function(t,n){e[n]=oa(t)}),e.sort(function(t,e){return t-e}),t.prototype.setDomain.call(this)},e}(Co),pa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return Object(p.__extends)(e,t),e.prototype.scale=function(t){if(Object(g.isNil)(t))return NaN;var e=this.rangeMin(),n=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(n-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=Object(g.head)(e),r=Object(g.last)(e);n<this.min&&(this.min=n),r>this.max&&(this.max=r),Object(g.isNil)(this.minLimit)||(this.min=n),Object(g.isNil)(this.maxLimit)||(this.max=r)},e.prototype.setDomain=function(){var t=Object(g.getRange)(this.values),e=t.min,n=t.max;Object(g.isNil)(this.min)&&(this.min=e),Object(g.isNil)(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},e.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=Object(g.filter)(n,function(t){return t>=e.min&&t<=e.max})),n},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(Eo),ga=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return Object(p.__extends)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(pa);function va(t,e){var n=Math.E;return e>=0?Math.pow(n,Math.log(e)/t):-1*Math.pow(n,Math.log(-e)/t)}function ya(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function ma(t,e,n){Object(g.isNil)(n)&&(n=Math.max.apply(null,t));var r=n;return Object(g.each)(t,function(t){t>0&&t<r&&(r=t)}),r===n&&(r=n/e),r>1&&(r=1),r}var ba=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return Object(p.__extends)(e,t),e.prototype.invert=function(t){var e,n=this.base,r=ya(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,a=this.positiveMin;if(a){if(0===t)return 0;var s=1/(r-(e=ya(n,a/n)))*o;if(t<s)return t/s*a}else e=ya(n,this.min);var u=(t-i)/o*(r-e)+e;return Math.pow(n,u)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=ma(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var r=this.base,i=this.positiveMin;return i&&(n=1*i/r),t<i?t/i/(ya(r,e)-ya(r,n)):(ya(r,t)-ya(r,n))/(ya(r,e)-ya(r,n))},e}(pa),xa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return Object(p.__extends)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,r=va(n,this.max),i=va(n,this.min),o=e*(r-i)+i,a=o>=0?1:-1;return Math.pow(o,n)*a},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent;return(va(r,t)-va(r,n))/(va(r,e)-va(r,n))},e}(pa),Aa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return Object(p.__extends)(e,t),e.prototype.getText=function(t,e){var n=this.translate(t),r=this.formatter;return r?r(n,e):ia(n,this.mask)},e.prototype.scale=function(e){var n=e;return(Object(g.isString)(n)||Object(g.isDate)(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},e.prototype.translate=function(t){return oa(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),n=this.getConfig("max");if(Object(g.isNil)(e)&&Object(g.isNumber)(e)||(this.min=this.translate(this.min)),Object(g.isNil)(n)&&Object(g.isNumber)(n)||(this.max=this.translate(this.max)),t&&t.length){var r=[],i=1/0,o=i,a=0;Object(g.each)(t,function(t){var e=oa(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");i>e?(o=i,i=e):o>e&&(o=e),a<e&&(a=e),r.push(e)}),t.length>1&&(this.minTickInterval=o-i),Object(g.isNil)(e)&&(this.min=i),Object(g.isNil)(n)&&(this.max=a)}},e}(ga),wa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return Object(p.__extends)(e,t),e.prototype.invert=function(t){var e=this.ticks,n=e.length,r=this.getInvertPercent(t),i=Math.floor(r*(n-1));if(i>=n-1)return Object(g.last)(e);if(i<0)return Object(g.head)(e);var o=e[i],a=i/(n-1);return o+(r-a)/((i+1)/(n-1)-a)*(e[i+1]-o)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||(Object(g.last)(e)!==this.max&&e.push(this.max),Object(g.head)(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<Object(g.head)(e))return 0;if(t>Object(g.last)(e))return 1;var n=0;return Object(g.each)(e,function(e,r){if(!(t>=e))return!1;n=r}),n/(e.length-1)},e}(pa),_a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return Object(p.__extends)(e,t),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(wa),Ma={};function Sa(t,e){if(function(t){return Ma[t]}(t))throw new Error("type '"+t+"' existed.");Ma[t]=e}var Oa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return Object(p.__extends)(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&Object(g.isNumber)(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(Eo);function Ia(t){var e=t.values,n=t.tickInterval,r=t.tickCount,i=t.showLast;if(Object(g.isNumber)(n)){var o=Object(g.filter)(e,function(t,e){return e%n==0}),a=Object(g.last)(e);return i&&Object(g.last)(o)!==a&&o.push(a),o}var s=e.length,u=t.min,l=t.max;if(Object(g.isNil)(u)&&(u=0),Object(g.isNil)(l)&&(l=e.length-1),!Object(g.isNumber)(r)||r>=s)return e.slice(u,l+1);if(r<=0||l<=0)return[];for(var c=1===r?s:Math.floor(s/(r-1)),h=[],d=u,f=0;f<r&&!(d>=l);f++)d=Math.min(u+f*c,l),f===r-1&&i?h.push(e[l]):h.push(e[d]);return h}var Ea=Math.sqrt(50),Ca=Math.sqrt(10),ka=Math.sqrt(2),Ta=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},t.prototype.nice=function(t){var e,n;void 0===t&&(t=5);var r,i=this._domain.slice(),o=0,a=this._domain.length-1,s=this._domain[o],u=this._domain[a];return u<s&&(s=(e=[u,s])[0],u=e[1],o=(n=[a,o])[0],a=n[1]),(r=Da(s,u,t))>0?r=Da(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,t):r<0&&(r=Da(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,t)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,this.domain(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,this.domain(i)),this},t.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];(r=e<t)&&(i=t,t=e,e=i);if(0===(a=Da(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;r&&o.reverse();return o}(this._domain[0],this._domain[this._domain.length-1],t||5)},t}();function Da(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Ea?10:o>=Ca?5:o>=ka?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Ea?10:o>=Ca?5:o>=ka?2:1)}function ja(t,e,n){return("ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e))*e}function La(t,e,n){var r=ja(t,n,"floor"),i=ja(e,n,"ceil");r=Object(g.fixedBase)(r,n),i=Object(g.fixedBase)(i,n);for(var o=[],a=Math.max((i-r)/(Math.pow(2,12)-1),n),s=r;s<=i;s+=a){var u=Object(g.fixedBase)(s,a);o.push(u)}return{min:r,max:i,ticks:o}}function Pa(t,e,n){var r,i=t.minLimit,o=t.maxLimit,a=t.min,s=t.max,u=t.tickCount,l=void 0===u?5:u,c=Object(g.isNil)(i)?Object(g.isNil)(e)?a:e:i,h=Object(g.isNil)(o)?Object(g.isNil)(n)?s:n:o;if(c>h&&(h=(r=[c,h])[0],c=r[1]),l<=2)return[c,h];for(var d=(h-c)/(l-1),f=[],p=0;p<l;p++)f.push(c+d*p);return f}function Na(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}var Ra=[1,5,2,2.5,4,3],Ba=100*Number.EPSILON;function za(t,e,n,r,i,o){var a=Object(g.size)(e),s=Object(g.indexOf)(e,t),u=0,l=function(t,e){return(t%e+e)%e}(r,o);return(l<Ba||o-l<Ba)&&r<=0&&i>=0&&(u=1),1-s/(a-1)-n+u}function Fa(t,e,n){var r=Object(g.size)(e);return 1-Object(g.indexOf)(e,t)/(r-1)-n+1}function Ga(t,e,n,r,i,o){var a=(t-1)/(o-i),s=(e-1)/(Math.max(o,r)-Math.min(n,i));return 2-Math.max(a/s,s/a)}function Va(t,e){return t>=e?2-(t-1)/(e-1):1}function Ua(t,e,n,r){var i=e-t;return 1-.5*(Math.pow(e-r,2)+Math.pow(t-n,2))/Math.pow(.1*i,2)}function Wa(t,e,n){var r=e-t;if(n>r){var i=(n-r)/2;return 1-Math.pow(i,2)/Math.pow(.1*r,2)}return 1}function Ha(t,e,n,r,i,o){void 0===n&&(n=5),void 0===r&&(r=!0),void 0===i&&(i=Ra),void 0===o&&(o=[.25,.2,.5,.05]);var a=n<0?0:Math.round(n);if(Number.isNaN(t)||Number.isNaN(e)||"number"!=typeof t||"number"!=typeof e||!a)return{min:0,max:0,ticks:[]};if(e-t<1e-15||1===a)return{min:t,max:e,ticks:[t]};if(e-t>1e148){var s=(e-t)/(w=n||5);return{min:t,max:e,ticks:Array(w).fill(null).map(function(e,n){return Na(t+s*n)})}}for(var u={score:-2,lmin:0,lmax:0,lstep:0},l=1;l<1/0;){for(var c=0;c<i.length;c+=1){var h=i[c],d=Fa(h,i,l);if(o[0]*d+o[1]+o[2]+o[3]<u.score){l=1/0;break}for(var f=2;f<1/0;){var p=Va(f,a);if(o[0]*d+o[1]+o[2]*p+o[3]<u.score)break;for(var v=(e-t)/(f+1)/l/h,y=Math.ceil(Math.log10(v));y<1/0;){var m=l*h*Math.pow(10,y),b=Wa(t,e,m*(f-1));if(o[0]*d+o[1]*b+o[2]*p+o[3]<u.score)break;var x=Math.floor(e/m)*l-(f-1)*l,A=Math.ceil(t/m)*l;if(x<=A)for(var w=A-x,_=0;_<=w;_+=1){var M=(x+_)*(m/l),S=M+m*(f-1),O=m,I=za(h,i,l,M,S,O),E=Ua(t,e,M,S),C=Ga(f,a,t,e,M,S),k=o[0]*I+o[1]*E+o[2]*C+1*o[3];k>u.score&&(!r||M<=t&&S>=e)&&(u.lmin=M,u.lmax=S,u.lstep=O,u.score=k)}y+=1}f+=1}}l+=1}var T=Na(u.lmax),D=Na(u.lmin),j=Na(u.lstep),L=Math.floor(function(t){return Math.round(1e12*t)/1e12}((T-D)/j))+1,P=new Array(L);P[0]=Na(D);for(c=1;c<L;c++)P[c]=Na(P[c-1]+j);return{min:Math.min(t,Object(g.head)(P)),max:Math.max(e,Object(g.last)(P)),ticks:P}}function Ya(t,e,n){if(void 0===n&&(n=5),t===e)return{max:e,min:t,ticks:[t]};var r=n<0?0:Math.round(n);if(0===r)return{max:e,min:t,ticks:[]};var i=(e-t)/r,o=Math.pow(10,Math.floor(Math.log10(i))),a=o;2*o-i<1.5*(i-a)&&5*o-i<2.75*(i-(a=2*o))&&10*o-i<1.5*(i-(a=5*o))&&(a=10*o);for(var s=Math.ceil(e/a),u=Math.floor(t/a),l=Math.max(s*a,e),c=Math.min(u*a,t),h=Math.floor((l-c)/a)+1,d=new Array(h),f=0;f<h;f++)d[f]=Na(c+f*a);return{min:c,max:l,ticks:d}}function Xa(t,e){var n=t.length*e;return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function qa(t){return new Date(t).getFullYear()}function Qa(t){return new Date(t,0,1).getTime()}function Za(t){return new Date(t).getMonth()}function Ka(t,e){return new Date(t,e,1).getTime()}Io("cat",Ia),Io("time-cat",function(t){return Ia(Object(p.__assign)({showLast:!0},t))}),Io("wilkinson-extended",function(t){var e=t.min,n=t.max,r=t.tickCount,i=t.nice,o=t.tickInterval,a=t.minLimit,s=t.maxLimit,u=Ha(e,n,r,i).ticks;return Object(g.isNil)(a)&&Object(g.isNil)(s)?o?La(e,n,o).ticks:u:Pa(t,Object(g.head)(u),Object(g.last)(u))}),Io("r-pretty",function(t){var e=t.min,n=t.max,r=t.tickCount,i=t.tickInterval,o=t.minLimit,a=t.maxLimit,s=Ya(e,n,r).ticks;return Object(g.isNil)(o)&&Object(g.isNil)(a)?i?La(e,n,i).ticks:s:Pa(t,Object(g.head)(s),Object(g.last)(s))}),Io("time",function(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickInterval,o=t.tickCount;if(i)o=Math.ceil((n-e)/i);else{var a=(n-e)/(i=function(t,e,n){var r=(e-t)/n,i=na(function(t){return t[1]})(da,r)-1,o=da[i];return i<0?o=da[0]:i>=da.length&&(o=Object(g.last)(da)),o}(e,n,o)[1])/o;a>1&&(i*=Math.ceil(a)),r&&i<r&&(i=r)}i=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),i);for(var s=[],u=e;u<n+i;u+=i)s.push(u);return s}),Io("time-pretty",function(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickCount,o=t.tickInterval,a=[];o||(o=(n-e)/i,r&&o<r&&(o=r)),o=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),o);var s=qa(e);if(o>ha)for(var u=qa(n),l=Math.ceil(o/ha),c=s;c<=u+l;c+=l)a.push(Qa(c));else if(o>ca){var h=Math.ceil(o/ca),d=Za(e),f=function(t,e){var n=qa(t),r=qa(e),i=Za(t);return 12*(r-n)+(Za(e)-i)%12}(e,n);for(c=0;c<=f+h;c+=h)a.push(Ka(s,c+d))}else if(o>la){var p=(b=new Date(e)).getFullYear(),g=b.getMonth(),v=b.getDate(),y=Math.ceil(o/la),m=function(t,e){return Math.ceil((e-t)/la)}(e,n);for(c=0;c<m+y;c+=y)a.push(new Date(p,g,v+c).getTime())}else if(o>ua){p=(b=new Date(e)).getFullYear(),g=b.getMonth(),y=b.getDate();var b,x=b.getHours(),A=Math.ceil(o/ua),w=function(t,e){return Math.ceil((e-t)/ua)}(e,n);for(c=0;c<=w+A;c+=A)a.push(new Date(p,g,y,x+c).getTime())}else if(o>sa){var _=function(t,e){return Math.ceil((e-t)/6e4)}(e,n),M=Math.ceil(o/sa);for(c=0;c<=_+M;c+=M)a.push(e+c*sa)}else{var S=o;S<aa&&(S=aa);var O=Math.floor(e/aa)*aa,I=Math.ceil((n-e)/aa),E=Math.ceil(S/aa);for(c=0;c<I+E;c+=E)a.push(O+c*aa)}return a.length>=512&&console.warn("Notice: current ticks length("+a.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+o+") is too small, increase the value to solve the problem!"),a}),Io("log",function(t){var e,n=t.base,r=t.tickCount,i=t.min,o=t.max,a=t.values,s=ya(n,o);if(i>0)e=Math.floor(ya(n,i));else{var u=ma(a,n,o);e=Math.floor(ya(n,u))}for(var l=s-e,c=Math.ceil(l/r),h=[],d=e;d<s+c;d+=c)h.push(Math.pow(n,d));return i<=0&&h.unshift(0),h}),Io("pow",function(t){var e=t.exponent,n=t.tickCount,r=Math.ceil(va(e,t.max));return Ya(Math.floor(va(e,t.min)),r,n).ticks.map(function(t){var n=t>=0?1:-1;return Math.pow(t,e)*n})}),Io("quantile",function(t){var e=t.tickCount,n=t.values;if(!n||!n.length)return[];for(var r=n.slice().sort(function(t,e){return t-e}),i=[],o=0;o<e;o++){var a=o/(e-1);i.push(Xa(r,a))}return i}),Io("d3-linear",function(t){var e=t.min,n=t.max,r=t.tickInterval,i=t.minLimit,o=t.maxLimit,a=function(t){var e=t.min,n=t.max,r=t.nice,i=t.tickCount,o=new Ta;return o.domain([e,n]),r&&o.nice(i),o.ticks(i)}(t);return Object(g.isNil)(i)&&Object(g.isNil)(o)?r?La(e,n,r).ticks:a:Pa(t,Object(g.head)(a),Object(g.last)(a))}),Sa("cat",Co),Sa("category",Co),Sa("identity",Oa),Sa("linear",ga),Sa("log",ba),Sa("pow",xa),Sa("time",Aa),Sa("timeCat",fa),Sa("quantize",wa),Sa("quantile",_a);var Ja=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};function $a(t){return function(t){return Object(g.map)(t,function(t,e){return[0===e?"M":"L",t[0],t[1]]})}(t)}function ts(t,e,n,r){void 0===r&&(r=!0);var i=new ga({values:t}),o=new Co({values:Object(g.map)(t,function(t,e){return e})}),a=Object(g.map)(t,function(t,r){return[o.scale(r)*e,n-i.scale(t)*n]});return r?function(t){if(t.length<=2)return $a(t);var e=[];Object(g.each)(t,function(t){Object(g.isEqual)(t,e.slice(e.length-2))||e.push(t[0],t[1])});var n=Tn.a(e,!1),r=Object(g.head)(t),i=r[0],o=r[1];return n.unshift(["M",i,o]),n}(a):$a(a)}function es(t,e,n,r){var i=Ja([],t,!0),o=function(t,e){var n=new ga({values:t}),r=Math.max(0,n.min);return e-n.scale(r)*e}(r,n);return i.push(["L",e,o]),i.push(["L",0,o]),i.push(["Z"]),i}function ns(t){var e,n,r,i,o=t.x,a=t.y,s=t.y0,u=t.size;Object(g.isArray)(a)?(e=a[0],n=a[1]):(e=s,n=a),Object(g.isArray)(o)?(r=o[0],i=o[1]):(r=o-u/2,i=o+u/2);var l=[{x:r,y:e},{x:r,y:n}];return l.push({x:i,y:n},{x:i,y:e}),l}var rs=this&&this.__assign||function(){return(rs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},is={stroke:"#C5C5C5",strokeOpacity:.85},os={fill:"#CACED4",opacity:.85},as=function(){function t(t){var e=t.x,n=void 0===e?0:e,r=t.y,i=void 0===r?0:r,o=t.width,a=void 0===o?200:o,s=t.height,u=void 0===s?26:s,l=t.smooth,c=void 0===l||l,h=t.isArea,d=void 0!==h&&h,f=t.data,p=void 0===f?[]:f,g=t.lineStyle,v=t.areaStyle,y=t.group,m=t.interval,b=void 0===m?null:m;this.group=y,this.x=n,this.y=i,this.width=a,this.height=u,this.data=p,this.smooth=c,this.isArea=d,this.lineStyle=Object.assign({},is,g),this.areaStyle=Object.assign({},os,v),this.intervalConfig=b,this.renderLine()}return t.prototype.renderLine=function(){var t=this,e=t.x,n=t.y,r=t.width,i=t.height,o=(t.barWidth,t.data),a=t.smooth,s=t.isArea,u=t.lineStyle,l=t.areaStyle,c=this.group.addGroup({name:"trend-group"});if(o){var h=ts(o,r,i,a);if(c.addShape("path",{attrs:rs({path:h},u),name:"trend-line"}),s){var d=es(h,r,i,o);c.addShape("path",{attrs:rs({path:d},l),name:"trend-area"})}}this.intervalConfig&&c.addShape("path",{attrs:rs({path:function(t,e,n,r){void 0===r&&(r=5);for(var i=new ga({values:t}),o=new Co({values:Object(g.map)(t,function(t,e){return e})}),a=Object(g.map)(t,function(t,r){return[o.scale(r)*e,n-i.scale(t)*n]}),s=[],u=0;u<a.length;u++){var l=a[u],c=ns({x:l[0],y:l[1],y0:n,size:r});s.push.apply(s,c)}return function(t,e){void 0===e&&(e=!0);var n=[],r=t[0];n.push(["M",r.x,r.y]);for(var i=1,o=t.length;i<o;i++)n.push(["L",t[i].x,t[i].y]);return e&&(n.push(["L",r.x,r.y]),n.push(["z"])),n}(s)}(this.intervalConfig.data,r,i,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),c.move(e,n)},t.prototype.destory=function(){this.group.destroy()},t}(),ss=this&&this.__assign||function(){return(ss=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},us={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},ls={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},cs=function(){function t(t){var e=t.group,n=t.name,r=t.type,i=t.x,o=void 0===i?0:i,a=t.y,s=void 0===a?0:a,u=t.width,l=void 0===u?2:u,c=t.height,h=void 0===c?24:c,d=t.style,f=void 0===d?{}:d;this.group=e,this.name=n,this.handleType=r,this.x=o,this.y=s,this.width=l,this.height=h,"trend"===r?this.style=ss(ss({},us),f):"simple"===r&&(this.style=ss(ss({},ls),f)),this.renderHandle()}return t.prototype.setX=function(t){this.setXY(t,void 0)},t.prototype.setY=function(t){this.setXY(void 0,t)},t.prototype.setXY=function(t,e){Object(g.isNumber)(t)&&(this.x=t),Object(g.isNumber)(e)&&(this.y=e),this.updateXY()},t.prototype.renderHandle=function(){var t=this.width,e=this.height,n=this.style,r=this.name,i=n.fill,o=n.stroke,a=n.radius,s=n.opacity,u=n.cursor;this.handleGroup=this.group.addGroup(),"trend"===this.handleType?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:i,stroke:o,radius:a,opacity:s,cursor:u},name:"".concat(r,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:i,stroke:o,radius:a,opacity:s,cursor:u,lineAppendWidth:12},name:"".concat(r,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:i,stroke:o,radius:a,opacity:s,cursor:u},name:"".concat(r,"-handler")})):"simple"===this.handleType&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:i,stroke:o,radius:a,opacity:s,cursor:u,lineWidth:2},name:"".concat(r,"-handler")})),this.updateXY(),"trend"===this.handleType?this.bindTrendEvents():"simple"===this.handleType&&this.bindSimpleEvents()},t.prototype.bindSimpleEvents=function(){var t=this,e=this.name;this.handleGroup.on("".concat(e,"-handler:mouseenter"),function(){var e=t.style.highLightFill;t.topCircle.attr("fill",e)}),this.handleGroup.on("".concat(e,"-handler:mouseleave"),function(){var e=t.style.fill;t.topCircle.attr("fill",e)})},t.prototype.bindTrendEvents=function(){var t=this,e=this.name;this.handleGroup.on("".concat(e,"-handler:mouseenter"),function(){var e=t.style.highLightFill;t.verticalLine.attr("fill",e),t.topCircle.attr("fill",e),t.bottomCircle.attr("fill",e)}),this.handleGroup.on("".concat(e,"-handler:mouseleave"),function(){var e=t.style.fill;t.verticalLine.attr("fill",e),t.topCircle.attr("fill",e),t.bottomCircle.attr("fill",e)})},t.prototype.show=function(){this.handleGroup.show()},t.prototype.hide=function(){this.handleGroup.hide()},t.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},t}(),hs=this&&this.__assign||function(){return(hs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ds=function(){function t(t){this.config=Object(g.deepMix)({},t),this.init()}return t.prototype.update=function(t){this.config=Object(g.deepMix)({},this.config,t),this.updateElement(),this.renderMarker()},t.prototype.init=function(){this.initElement(),this.renderMarker()},t.prototype.initElement=function(){var t=this.config,e=t.group,n=t.style,r=n.scale,i=void 0===r?1:r,o=n.offsetX,a=void 0===o?0:o,s=n.offsetY,u=void 0===s?0:s,l=this.config.x+a,c=this.config.y+u,h=e.addGroup({name:"playPauseBtn"});this.startMarkerGroup=h.addGroup({name:"playPauseBtn"}),this.circle=e.addShape("circle",{attrs:hs({x:l,y:c,r:this.config.r*i},n),name:"playPauseBtn"}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(l,c,i),fill:n.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=h.addGroup({name:"playPauseBtn"});var d=.25*this.config.r*i,f=.5*this.config.r*Math.sqrt(3)*i;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:l-.375*this.config.r*i,y:c-f/2,width:d,height:f,fill:n.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:l+1/8*this.config.r*i,y:c-f/2,width:d,height:f,fill:n.stroke||"#aaa",lineWidth:0}})},t.prototype.updateElement=function(){var t=this.config.style,e=t.scale,n=void 0===e?1:e,r=t.offsetX,i=void 0===r?0:r,o=t.offsetY,a=void 0===o?0:o,s=this.config.x+i,u=this.config.y+a;this.circle.attr("x",s),this.circle.attr("y",u),this.circle.attr("r",this.config.r*n),this.startMarker.attr("path",this.getStartMarkerPath(s,u,n));var l=.25*this.config.r*n,c=.5*this.config.r*Math.sqrt(3)*n;this.pauseLeftMarker.attr("x",s-.375*this.config.r*n),this.pauseLeftMarker.attr("y",u-c/2),this.pauseLeftMarker.attr("width",l),this.pauseLeftMarker.attr("height",c),this.pauseRightMarker.attr("x",s+1/8*this.config.r*n),this.pauseRightMarker.attr("y",u-c/2),this.pauseRightMarker.attr("width",l),this.pauseRightMarker.attr("height",c)},t.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},t.prototype.getStartMarkerPath=function(t,e,n){var r=.5*this.config.r*Math.sqrt(3)*n;return[["M",t-r/Math.sqrt(3)/2,e-r/2],["L",t+r/Math.sqrt(3),e],["L",t-r/Math.sqrt(3)/2,e+r/2]]},t}(),fs=this&&this.__assign||function(){return(fs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ps=x.a.transform,gs={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},vs={fill:"#fff"},ys={fill:"green"},ms={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},bs={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},xs={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:ms,timeTypeControllerStyle:bs},As={SINGLE:"single",RANGE:"range"},ws=function(){function t(t){this.controllerCfg=Object(g.deepMix)({},xs,t),this.group=t.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType=this.controllerCfg.defaultTimeType||As.RANGE,this.fontFamily=t.fontFamily||"Arial, sans-serif",this.init()}return t.prototype.init=function(){this.renderPlayButton()},t.prototype.getNextMarkerPath=function(t,e,n){return[["M",t,e-n],["L",t+n,e],["L",t,e+n],["Z",t,e-n],["M",t,e],["L",t-n,e-n],["L",t-n,e+n],["Z"]]},t.prototype.getPreMarkerPath=function(t,e,n){return[["M",t,e-n],["L",t-n,e],["L",t,e+n],["L",t,e-n],["M",t,e],["L",t+n,e-n],["L",t+n,e+n],["Z"]]},t.prototype.renderPlayButton=function(){var t=this.controllerCfg,e=t.width,n=t.height,r=t.x,i=t.y,o=t.hideTimeTypeController,a=t.fill,s=void 0===a?"#aaa":a,u=t.stroke,l=void 0===u?"green":u,c=t.containerStyle,h=void 0===c?{}:c,d=fs(fs({},gs),t.playBtnStyle||{}),f=fs(fs({},vs),t.preBtnStyle||{}),p=fs(fs({},ys),t.nextBtnStyle||{}),g=n/2-5,v=i+10,y=this.controllerGroup.addShape("rect",{attrs:fs({x:r,y:v,width:e,height:n,stroke:l,fill:s},h),name:"container-rect"});this.playButton?this.playButton.update({x:e/2,y:v,r:g}):this.playButton=new ds({group:this.controllerGroup,x:e/2,y:v+g+5,r:g,isPlay:this.isPlay,style:d});var m=f.offsetX||0,b=f.offsetY||0,x=(f.scale||1)*g;this.controllerGroup.addShape("path",{attrs:fs({path:this.getPreMarkerPath(e/2-5*g+m,v+g+5+b,.5*x)},f),name:"preStepBtn"});var A=p.offsetX||0,w=p.offsetY||0,_=(p.scale||1)*g;this.controllerGroup.addShape("path",{attrs:fs({path:this.getNextMarkerPath(e/2+5*g+A,v+g+5+w,.5*_)},p),name:"nextStepBtn"}),y.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent();var M=this.controllerCfg.scale,S=void 0===M?1:M,O=this.controllerGroup.getCanvasBBox(),I=(O.maxX+O.minX)/2,E=(O.maxY+O.minY)/2,C=ps([1,0,0,0,1,0,0,0,1],[["t",-I,-E],["s",S,S],["t",I,E]]);this.controllerGroup.setMatrix(C)},t.prototype.renderSpeedBtn=function(){var t=this.controllerCfg,e=t.y,n=t.width,r=t.hideTimeTypeController,i=fs(fs({},ms),this.controllerCfg.speedControllerStyle||{}),o=i.scroller,a=void 0===o?{}:o,s=i.text,u=void 0===s?{}:s,l=i.pointer,c=void 0===l?{}:l,h=i.scale,d=void 0===h?1:h,f=i.offsetX,p=void 0===f?0:f,g=i.offsetY,v=void 0===g?0:g,y=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=y;var m=[],b=5;this.speedAxisY=[19,22,26,32,39];for(var x=0;x<5;x++){var A=e+this.speedAxisY[x],w=n-(r?50:110);y.addShape("line",{attrs:fs({x1:w,x2:w+15,y1:A,y2:A},a),speed:b,name:"speed-rect"}),this.speedAxisY[x]=A,m.push(b),b-=1}this.speedText=y.addShape("text",{attrs:fs({x:n-(r?50:110)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},u),name:"speed-text"}),this.speedPoint=y.addShape("path",{attrs:fs({path:this.getPointerPath(n-(r?50:110),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},c),name:"speed-pointer"});var _=this.speedGroup.getCanvasBBox(),M=(_.maxX+_.minX)/2,S=(_.maxY+_.minY)/2,O=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];O=ps(O,[["t",-M,-S],["s",d,d],["t",M+p*d,S+v*d]]),this.speedGroup.setMatrix(O)},t.prototype.getPointerPath=function(t,e){return[["M",t,e],["L",t-10,e-4],["L",t-10,e+4],["Z"]]},t.prototype.renderToggleTime=function(){var t,e,n=this.controllerCfg,r=n.width,i=n.defaultTimeType,o=fs(fs({},bs),this.controllerCfg.timeTypeControllerStyle||{}),a=o.scale,s=void 0===a?1:a,u=o.offsetX,l=void 0===u?0:u,c=o.offsetY,h=void 0===c?0:c,d=o.box,f=void 0===d?{}:d,p=o.check,g=void 0===p?{}:p,v=o.text,y=void 0===v?{}:v;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"});var m=i===As.SINGLE;this.toggleGroup.addShape("rect",{attrs:fs({x:r-50,y:this.speedAxisY[0]+3.5},f),isChecked:m,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:fs({path:[["M",r-50+3,this.speedAxisY[1]+6],["L",r-50+7,this.speedAxisY[1]+10],["L",r-50+12,this.speedAxisY[1]+4]]},g),capture:!1,name:"check-icon"}),m||this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:fs({text:m?(null===(t=this.controllerCfg)||void 0===t?void 0:t.timeRangeControllerText)||"时间范围":(null===(e=this.controllerCfg)||void 0===e?void 0:e.timePointControllerText)||"单一时间",x:r-50+15,y:this.speedAxisY[0]+4,fontFamily:"undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},y),name:"checked-text"});var b=this.toggleGroup.getCanvasBBox(),x=(b.maxX+b.minX)/2,A=(b.maxY+b.minY)/2,w=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];w=ps(w,[["t",-x,-A],["s",s,s],["t",x+l*s,A+h*s]]),this.toggleGroup.setMatrix(w)},t.prototype.bindEvent=function(){var t=this;this.speedGroup.on("speed-rect:click",function(e){var n=e.target.attr("y1"),r=t.speedPoint.attr("matrix"),i=t.speedAxisY.indexOf(r[7]||0),o=t.speedAxisY.indexOf(n),a=t.speedAxisY[o]-t.speedAxisY[i];r=ps(r,[["t",0,a]]),t.speedPoint.setMatrix(r),t.currentSpeed=t.speedAxisY.length-o,t.speedText.attr("text","".concat(t.currentSpeed,".0X")),t.group.emit("timebarConfigChanged",{speed:t.currentSpeed,type:t.currentType})}),this.speedGroup.on("mousewheel",function(e){e.preventDefault();var n=t.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],r=n[7],i=t.speedAxisY.indexOf(r);if(-1===i){var o=1/0;t.speedAxisY.forEach(function(t,e){var n=Math.abs(t-r);o>n&&(o=n,i=e)})}i=e.originalEvent.deltaY>0?Math.max(0,i-1):Math.min(t.speedAxisY.length-1,i+1);var a=t.speedAxisY[i]-r;n=ps(n,[["t",0,a]]),t.speedPoint.setMatrix(n),t.currentSpeed=t.speedAxisY.length-i,t.speedText.attr("text","".concat(t.currentSpeed,".0X")),t.group.emit("timebarConfigChanged",{speed:t.currentSpeed,type:t.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(e){var n,r,i=e.target.get("isChecked");i?(t.checkedIcon.hide(),t.checkedText.attr("text",(null===(r=t.controllerCfg)||void 0===r?void 0:r.timePointControllerText)||"单一时间"),t.currentType=As.RANGE):(t.checkedIcon.show(),t.checkedText.attr("text",(null===(n=t.controllerCfg)||void 0===n?void 0:n.timeRangeControllerText)||"时间范围"),t.currentType=As.SINGLE),e.target.set("isChecked",!i),t.group.emit("timebarConfigChanged",{type:t.currentType,speed:t.currentSpeed})})},t.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},t}(),_s=this&&this.__assign||function(){return(_s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Ms=x.a.transform,Ss={fill:"#416180",opacity:.05},Os={fill:"#416180",opacity:.15,radius:5},Is={fill:"#5B8FF9",opacity:.3,cursor:"grab"},Es={width:2,height:24},Cs={textBaseline:"middle",fill:"#000",opacity:.45},ks={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},Ts={lineWidth:1,stroke:"#ccc"},Ds=function(){function t(t){var e=this;this.prevX=0,this.onMouseDown=function(t){return function(n){e.currentHandler=t;var r=n.originalEvent;r.stopPropagation(),r.preventDefault(),e.prevX=Object(g.get)(r,"touches.0.pageX",r.pageX);var i=e.canvas.get("container");i.addEventListener("mousemove",e.onMouseMove),i.addEventListener("mouseup",e.onMouseUp),i.addEventListener("mouseleave",e.onMouseUp),i.addEventListener("touchmove",e.onMouseMove),i.addEventListener("touchend",e.onMouseUp),i.addEventListener("touchcancel",e.onMouseUp)}},this.onMouseMove=function(t){t.stopPropagation(),t.preventDefault();var n=Object(g.get)(t,"touches.0.pageX",t.pageX),r=n-e.prevX,i=e.adjustOffsetRange(r/e.width);e.updateStartEnd(i),e.updateUI(),e.prevX=n},this.onMouseUp=function(){e.currentHandler&&(e.currentHandler=void 0);var t=e.canvas.get("container");t&&(t.removeEventListener("mousemove",e.onMouseMove),t.removeEventListener("mouseup",e.onMouseUp),t.removeEventListener("mouseleave",e.onMouseUp),t.removeEventListener("touchmove",e.onMouseMove),t.removeEventListener("touchend",e.onMouseUp),t.removeEventListener("touchcancel",e.onMouseUp))};var n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i,a=t.width,s=void 0===a?100:a,u=t.height,l=t.padding,c=void 0===l?10:l,h=t.trendCfg,d=t.controllerCfg,f=void 0===d?{speed:1}:d,p=t.backgroundStyle,v=void 0===p?{}:p,y=t.foregroundStyle,m=void 0===y?{}:y,b=t.handlerStyle,x=void 0===b?{}:b,A=t.textStyle,w=void 0===A?{}:A,_=t.start,M=void 0===_?0:_,S=t.end,O=void 0===S?1:S,I=t.minText,E=void 0===I?"":I,C=t.maxText,k=void 0===C?"":C,T=t.group,D=t.graph,j=t.canvas,L=t.tick,P=void 0===L?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(t){return t},ticks:[]}:L,N=t.type;this.graph=D,this.canvas=j,this.group=T,this.timeBarType=N,this.x=r,this.y=o,this.width=s,this.height=u,this.padding=c,this.ticks=P.ticks,this.trendCfg=h,this.controllerCfg=f,this.currentSpeed=f.speed||1,this.tickLabelFormatter=P.tickLabelFormatter,"trend"===N?this.backgroundStyle=_s(_s({},Ss),v):"simple"===N&&(this.backgroundStyle=_s(_s({},Os),v)),this.foregroundStyle=_s(_s({},Is),m),this.handlerStyle=_s(_s({},Es),x),this.textStyle=_s(_s({},Cs),w),this.tickLabelStyle=_s(_s({},ks),P.tickLabelStyle),this.tickLineStyle=_s(_s({},Ts),P.tickLineStyle),this.currentMode=f.defaultTimeType||As.RANGE,this.start=M,this.end=O,this.minText=E,this.maxText=k,this.fontFamily="undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return t.prototype.update=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.minText,a=t.maxText,s=t.start,u=t.end;this.start=Math.min(1,Math.max(s,0)),this.end=Math.min(1,Math.max(u,0)),Object(g.assign)(this,{x:e,y:n,width:r,height:i,minText:o,maxText:a}),this.updateUI()},t.prototype.setText=function(t,e){this.minTextShape.attr("text",t),this.maxTextShape.attr("text",e)},t.prototype.renderSlider=function(){var t=this,e=this.width,n=this.height,r=this.timeBarType;if("trend"===r&&Object(g.size)(Object(g.get)(this.trendCfg,"data"))){var i=new as(_s(_s({x:this.x,y:this.y,width:e,height:n},this.trendCfg),{group:this.group}));this.trendComponent=i}var o=this.group.addGroup({name:"slider-group"});o.addShape("rect",{attrs:_s({x:0,y:0,width:e,height:n},this.backgroundStyle),name:"background"});var a=this.group.addGroup();"trend"===r?(this.minTextShape=a.addShape("text",{attrs:_s({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=a.addShape("text",{attrs:_s({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=a.addShape("text",{attrs:_s({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=a.addShape("text",{attrs:_s({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:_s({x:0,y:this.y,height:n},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",function(t){t.target.attr("cursor","grabbing")}),this.foregroundShape.on("mouseup",function(e){e.target.attr("cursor",t.foregroundStyle.cursor||"grab")});var s=Object(g.get)(this.handlerStyle,"width",2),u=Object(g.get)(this.handlerStyle,"height",24),l=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new cs({name:"minHandlerShape",group:l,type:r,x:this.x,y:this.y,width:s,height:u,style:this.handlerStyle});var c=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new cs({name:"maxHandlerShape",group:c,type:r,x:this.x,y:this.y,width:s,height:u,style:this.handlerStyle});var h=this.ticks,d=e/(h.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(t){t.destroy()});var f=-1/0,p=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=h.map(function(e,r){var i;t.tickPosList.push(t.x+r*d),t.tickLabelFormatter?(i=t.tickLabelFormatter(e),!Object(g.isString)(i)&&i&&(i=e.date)):i=e.date;var o=t.x+r*d,a=t.y+n+5,s=t.group.addShape("text",{attrs:_s({x:o,y:a,text:i,fontFamily:t.fontFamily||"Arial, sans-serif"},t.tickLabelStyle),name:"tick-label"});if(Object(g.isNumber)(p)&&r!==h.length-1){var u=Ms([1,0,0,0,1,0,0,0,1],[["t",-o,-a],["r",p],["t",o-5,a+2]]);s.attr({textAlign:"left",matrix:u})}0===r?s.attr({textAlign:"left"}):r!==h.length-1&&s.attr({textAlign:"right"});var l=t.group.addShape("line",{attrs:_s({x1:t.x+r*d,y1:t.y+n+2,x2:t.x+r*d,y2:t.y+n+6},t.tickLineStyle),name:"tick-line"});l.toBack();var c=s.getBBox();return c.minX>f?(s.show(),l.show(),f=c.minX+c.width+10):(s.hide(),l.hide()),s}),this.controllerBtnGroup=new ws(_s({group:this.group,x:this.x,y:this.y+n+25,width:e,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),o.move(this.x,this.y),this.bindEvents(),this.currentMode===As.SINGLE&&(this.minHandlerShape.hide(),this.foregroundShape.hide(),this.minTextShape.hide())},t.prototype.bindEvents=function(){var t=this,e=this.group.find(function(t){return"minHandlerShape"===t.get("name")});e&&(e.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),e.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var n=this.group.find(function(t){return"maxHandlerShape"===t.get("name")});n&&(n.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),n.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat("playPauseBtn",":click"),function(){t.isPlay=!t.isPlay,t.currentHandler=t.maxHandlerShape,t.changePlayStatus()}),this.group.on("".concat("nextStepBtn",":click"),function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(.01),t.updateUI()}),this.group.on("".concat("preStepBtn",":click"),function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(-.01),t.updateUI()}),this.group.on("timebarConfigChanged",function(e){var n=e.type,r=e.speed;t.currentSpeed=r,t.currentMode=n,n===As.SINGLE?(t.minHandlerShape.hide(),t.foregroundShape.hide(),t.minTextShape.hide()):n===As.RANGE&&(t.minHandlerShape.show(),t.foregroundShape.show(),t.minTextShape.show())})},t.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1;return 0},t.prototype.adjustOffsetRange=function(t){switch(this.currentHandler){case this.minHandlerShape:var e=0-this.start,n=1-this.start;return Math.min(n,Math.max(e,t));case this.maxHandlerShape:e=0-this.end,n=1-this.end;return Math.min(n,Math.max(e,t));case this.foregroundShape:e=0-this.start,n=1-this.end;return Math.min(n,Math.max(e,t));default:return 0}},t.prototype.updateStartEnd=function(t){var e=this.ticks[this.adjustTickIndex(this.start*this.width)],n=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler)return this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):null===e||void 0===e?void 0:e.date,void(this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):null===n||void 0===n?void 0:n.date);switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=t,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=t,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break;case this.foregroundShape:this.start+=t,this.end+=t,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date}},t.prototype.updateUI=function(){var t=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var e=this.x+this.start*this.width,n=this.x+this.end*this.width;this.foregroundShape.attr("x",e),this.foregroundShape.attr("width",n-e);var r=Object(g.get)(this.handlerStyle,"width",2);this.setText(this.minText,this.maxText);var i=this.dodgeText([e,n]),o=i[0],a=i[1];this.minHandlerShape.setX(e-r/2),Object(g.each)(o,function(e,n){return t.minTextShape.attr(n,e)}),this.maxHandlerShape.setX(n-r/2),Object(g.each)(a,function(e,n){return t.maxTextShape.attr(n,e)}),this.currentMode===As.RANGE?this.graph.emit("valuechange",{value:[this.start,this.end].sort()}):this.currentMode===As.SINGLE&&this.graph.emit("valuechange",{value:[this.end,this.end]})},t.prototype.dodgeText=function(t){var e,n,r=Object(g.get)(this.handlerStyle,"width",2),i=this.minTextShape,o=this.maxTextShape,a=t[0],s=t[1],u=!1;a>s&&(a=(e=[s,a])[0],s=e[1],i=(n=[o,i])[0],o=n[1],u=!0);var l=i.getBBox(),c=o.getBBox(),h=null,d=null;return"trend"===this.timeBarType?(h=a-l.width<this.x+2?{x:a+r/2+2,textAlign:"left"}:{x:a-r/2-2,textAlign:"right"},d=s+c.width>this.x+this.width?{x:s-r/2-2,textAlign:"right"}:{x:s+r/2+2,textAlign:"left"}):"simple"===this.timeBarType&&(h=i.attr("x")>l.width?{x:a,textAlign:"center"}:{x:a,textAlign:"left"},d=o.attr("x")>this.width-c.width?{x:s,textAlign:"right"}:{x:s,textAlign:"center"}),u?[d,h]:[h,d]},t.prototype.startPlay=function(){var t=this;return"undefined"!=typeof window?window.requestAnimationFrame(function(){var e=t,n=e.ticks,r=e.width,i=t.currentSpeed,o=r/n.length/(1e3*(10-i)/60),a=t.adjustOffsetRange(o/t.width);t.updateStartEnd(a),t.updateUI(),t.isPlay&&(t.playHandler=t.startPlay())}):void 0},t.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit("timebarstartplay",null)):this.playHandler&&("undefined"!=typeof window&&window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit("timebarendplay",null))},t.prototype.destory=function(){this.graph.off("valuechange",function(){});var t=this.group,e=t.find(function(t){return"minHandlerShape"===t.get("name")});e&&(e.off("minHandlerShape-handler:mousedown"),e.off("minHandlerShape-handler:touchstart"),e.destroy());var n=t.find(function(t){return"maxHandlerShape"===t.get("name")});n&&(n.off("maxHandlerShape-handler:mousedown"),n.off("maxHandlerShape-handler:touchstart"),n.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),t.off("".concat("playPauseBtn",":click")),t.off("".concat("nextStepBtn",":click")),t.off("".concat("preStepBtn",":click")),t.off("timebarConfigChanged"),t.destroy(),this.trendComponent&&this.trendComponent.destory()},t}(),js=function(){function t(t){var e=t.x,n=void 0===e?0:e,r=t.y,i=void 0===r?0:r,o=t.container,a=t.text,s=t.padding,u=void 0===s?[4,4,4,4]:s,l=t.className,c=void 0===l?"g6-component-timebar-tooltip":l,h=t.backgroundColor,d=void 0===h?"#000":h,f=t.textColor,p=void 0===f?"#fff":f,g=t.opacity,v=void 0===g?.8:g,y=t.fontSize,m=void 0===y?12:y;this.container=o,this.className=c,this.backgroundColor=d,this.textColor=p,this.x=n,this.y=i,this.text=a,this.padding=u,this.opacity=v,this.fontSize=m,this.render()}return t.prototype.render=function(){var t=this.className,e=(this.x,this.y,this.backgroundColor),n=this.textColor,r=this.text,i=this.padding,o=this.opacity,a=this.fontSize,s=this.container,u=si("<div class='".concat(t,"' style=\"position: absolute; width: fit-content; height: fit-content; opacity: ").concat(o,'"></div>'));Object(g.isString)(s)&&(s=document.getElementById(s)),s.appendChild(u),this.parentHeight=s.offsetHeight,this.parentWidth=s.offsetWidth,ui(u,{visibility:"hidden",top:0,left:0});var l=si("\n      <div style='position: absolute; white-space:nowrap; background-color: ".concat(e,"; font-size: ").concat(a,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(n,"; padding: ").concat(i[0],"px ").concat(i[1],"px ").concat(i[2],"px ").concat(i[3],"px'></div>"));l.innerHTML=r,u.appendChild(l),this.backgroundDOM=l;var c=si("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(e,"'></div>"));u.appendChild(c),this.arrowDOM=c,this.container=u},t.prototype.show=function(t){var e=t.text,n=t.x;t.y,t.clientX,t.clientY;this.backgroundDOM.innerHTML=e;var r=this.backgroundDOM.offsetWidth,i=this.backgroundDOM.offsetHeight,o=this.arrowDOM.offsetWidth,a=this.arrowDOM.offsetHeight;ui(this.container,{top:"".concat(-i-a,"px"),left:"".concat(n,"px"),visibility:"visible"}),ui(this.backgroundDOM,{marginLeft:"".concat(-r/2,"px")}),ui(this.arrowDOM,{marginLeft:"".concat(-o/2,"px"),top:"".concat(i,"px")});var s=n-r/2,u=n+r/2;s<0?ui(this.backgroundDOM,{marginLeft:"".concat(-r/2-s,"px")}):u>this.parentWidth&&ui(this.backgroundDOM,{marginLeft:"".concat(-r/2-u+this.parentWidth+12,"px")})},t.prototype.hide=function(){ui(this.container,{top:0,left:0,visibility:"hidden"})},t}(),Ls=this&&this.__assign||function(){return(Ls=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Ps=x.a.transform,Ns={fill:"#5B8FF9"},Rs={fill:"#e6e8e9"},Bs=function(){function t(t){this.frameCount=0,this.fontFamily="Arial, sans-serif";var e=t.graph,n=t.canvas,r=t.group,i=t.width,o=t.height,a=t.padding,s=t.data,u=t.start,l=t.end,c=t.x,h=void 0===c?0:c,d=t.y,f=void 0===d?0:d,p=t.tickLabelFormatter,g=t.selectedTickStyle,v=void 0===g?Ns:g,y=t.unselectedTickStyle,m=void 0===y?Rs:y,b=t.tooltipBackgroundColor,x=t.tooltipFomatter,A=t.tickLabelStyle,w=t.controllerCfg,_=void 0===w?{speed:1}:w;this.graph=e,this.group=r,this.sliceGroup=r.addGroup({name:"slice-group"}),this.canvas=n,this.width=i,this.height=o,this.padding=a,this.data=s,this.start=u,this.end=l,this.tickLabelFormatter=p,this.tickLabelStyle=A||{},this.selectedTickStyle=v,this.unselectedTickStyle=m,this.controllerCfg=_,this.currentSpeed=_.speed||1,this.x=h,this.y=f,this.tooltipBackgroundColor=b,this.tooltipFomatter=x,this.fontFamily="undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return t.prototype.renderSlices=function(){var t=this,e=this,n=e.width,r=e.height,i=e.padding,o=e.data,a=e.start,s=e.end,u=e.tickLabelFormatter,l=e.selectedTickStyle,c=e.unselectedTickStyle,h=e.tickLabelStyle,d=n-2*i,f=r-(3*i+4+10)-2*i,p=o.length,v=(d-2*(p-1))/p;this.tickWidth=v;var y=this.sliceGroup,m=[],b=[],x=Math.round(p*a),A=Math.round(p*s);this.startTickRectId=x,this.endTickRectId=A;var w=h.rotate;delete h.rotate,o.forEach(function(e,r){var o=r>=x&&r<=A?l:c,a=y.addShape("rect",{attrs:Ls({x:i+r*(v+2),y:i,width:v,height:f},o),draggable:!0,name:"tick-rect-".concat(r)}),s=y.addShape("rect",{attrs:{x:i+r*v+2*(2*r-1)/2,y:i,width:0===r||r===p-1?v+1:v+2,height:f,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(r)});s.toFront();var d,_=a.getBBox(),M=(_.minX+_.maxX)/2;if(m.push({rect:a,pickRect:s,value:e.date,x:M,y:_.minY}),u?(d=u(e),!Object(g.isString)(d)&&d&&(d=e.date)):r%Math.round(p/10)==0&&(d=e.date),d){b.push(d);var S=_.maxY+2*i;y.addShape("line",{attrs:{stroke:"#BFBFBF",x1:M,y1:S,x2:M,y2:S+4},name:"tick-line"});var O=S+4+i,I=y.addShape("text",{attrs:Ls({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:M,y:O,textAlign:"center",text:d,textBaseline:"top",fontSize:10,fontFamily:t.fontFamily||"Arial, sans-serif"},h),capture:!1,name:"tick-label"}),E=I.getBBox();if(E.maxX>n?I.attr("textAlign","right"):E.minX<0&&I.attr("textAlign","left"),Object(g.isNumber)(w)&&10!==b.length){var C=Ps([1,0,0,0,1,0,0,0,1],[["t",-M,-O],["r",w],["t",M-5,O+2]]);I.attr({textAlign:"left",matrix:C})}1===b.length?I.attr({textAlign:"left"}):10===b.length&&I.attr({textAlign:"right"})}}),this.tickRects=m;var _=this.group;this.currentSpeed=1,this.controllerBtnGroup=new ws(Ls({group:_,x:this.x,y:this.y+r+5,width:n,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"},this.controllerCfg))},t.prototype.initEvent=function(){var t=this,e=this.sliceGroup;e.on("click",function(e){var n=e.target;if("rect"===n.get("type")&&n.get("name")){var r=parseInt(n.get("name").split("-")[2],10);if(!isNaN(r)){var i=t.tickRects,o=t.unselectedTickStyle;i.forEach(function(t){t.rect.attr(o)});var a=t.selectedTickStyle;i[r].rect.attr(a),t.startTickRectId=r,t.endTickRectId=r;var s=r/i.length;t.graph.emit("valuechange",{value:[s,s]})}}}),e.on("dragstart",function(e){var n=t.tickRects,r=t.unselectedTickStyle;n.forEach(function(t){t.rect.attr(r)});var i=e.target,o=parseInt(i.get("name").split("-")[2],10),a=t.selectedTickStyle;n[o].rect.attr(a),t.startTickRectId=o;var s=o/n.length;t.graph.emit("valuechange",{value:[s,s]}),t.dragging=!0}),e.on("dragover",function(e){if(t.dragging&&"rect"===e.target.get("type")){for(var n=parseInt(e.target.get("name").split("-")[2],10),r=t.startTickRectId,i=t.tickRects,o=t.selectedTickStyle,a=t.unselectedTickStyle,s=0;s<i.length;s++){var u=s>=r&&s<=n?o:a;i[s].rect.attr(u)}var l=i.length;t.endTickRectId=n;var c=r/l,h=n/l;t.graph.emit("valuechange",{value:[c,h]})}}),e.on("drop",function(e){if(t.dragging&&(t.dragging=!1,"rect"===e.target.get("type"))){var n=t.startTickRectId,r=parseInt(e.target.get("name").split("-")[2],10);if(!(r<n)){var i=t.selectedTickStyle,o=t.tickRects;o[r].rect.attr(i),t.endTickRectId=r;var a=o.length,s=n/a,u=r/a;t.graph.emit("valuechange",{value:[s,u]})}}});var n=this.tooltipBackgroundColor,r=this.tooltipFomatter,i=this.canvas,o=new js({container:i.get("container"),backgroundColor:n}),a=this.tickRects;a.forEach(function(t){var e=t.pickRect;e.on("mouseenter",function(t){var e=t.target;if("rect"===e.get("type")){var n=parseInt(e.get("name").split("-")[2],10),s=i.getClientByPoint(a[n].x,a[n].y);o.show({x:a[n].x,y:a[n].y,clientX:s.x,clientY:s.y,text:r?r(a[n].value):a[n].value})}}),e.on("mouseleave",function(t){o.hide()})});var s=this.group;s.on("".concat("playPauseBtn",":click"),function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),s.on("".concat("nextStepBtn",":click"),function(){t.updateStartEnd(1)}),s.on("".concat("preStepBtn",":click"),function(){t.updateStartEnd(-1)}),s.on("timebarConfigChanged",function(e){e.type;var n=e.speed;t.currentSpeed=n})},t.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit("timebarstartplay",null)):this.playHandler&&("undefined"!=typeof window&&window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit("timebarendplay",null))},t.prototype.startPlay=function(){var t=this;return"undefined"!=typeof window?window.requestAnimationFrame(function(){var e=t.currentSpeed;t.frameCount%(60/e)==0&&(t.frameCount=0,t.updateStartEnd(1)),t.frameCount++,t.isPlay&&(t.playHandler=t.startPlay())}):void 0},t.prototype.updateStartEnd=function(t){var e=this.tickRects,n=e.length,r=this.unselectedTickStyle,i=this.selectedTickStyle,o=this.endTickRectId;if(t>0?this.endTickRectId++:(e[this.endTickRectId].rect.attr(r),this.endTickRectId--),o!==this.startTickRectId)this.endTickRectId<this.startTickRectId&&(this.startTickRectId=this.endTickRectId);else{for(var a=this.startTickRectId;a<=this.endTickRectId-1;a++)e[a].rect.attr(r);this.startTickRectId=this.endTickRectId}if(e[this.endTickRectId]){e[this.endTickRectId].rect.attr(i);var s=this.startTickRectId/n,u=this.endTickRectId/n;this.graph.emit("valuechange",{value:[s,u]})}},t.prototype.destory=function(){var t=this.sliceGroup;t.off("click"),t.off("dragstart"),t.off("dragover"),t.off("drop"),this.tickRects.forEach(function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")}),this.tickRects.length=0,t.off("".concat("playPauseBtn",":click")),t.off("".concat("nextStepBtn",":click")),t.off("".concat("preStepBtn",":click")),t.off("timebarConfigChanged"),this.sliceGroup.destroy()},t}(),zs=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fs=this&&this.__assign||function(){return(Fs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Gs=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Vs=function(t){function e(e){var n=t.call(this,e)||this;return n.afterrenderListener=function(t){return n.filterData({})},n.valueChangeListener=Object(g.throttle)(function(t){return n.filterData(t)},200,{trailing:!0,leading:!0}),n.changeData=function(t){var e=n.get("graph");n.cacheGraphData=e.get("data"),n.filterData({})},n}return zs(e,t),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{}}},e.prototype.initContainer=function(){var t,e,n=this.get("graph"),r=this._cfgs,i=r.width,o=r.height,a=this.get("className")||"g6-component-timebar",s=this.get("container"),u=this.get("graph").get("container");s?(Object(g.isString)(s)&&(s=document.getElementById(s)),t=s):ui(t=si("<div class='".concat(a,"'></div>")),{position:"relative"}),u.appendChild(t),this.set("timeBarContainer",t),e="SVG"===n.get("renderer")?new Tr.Canvas({container:t,width:i,height:o}):new kr.Canvas({container:t,width:i,height:o}),this.get("containerCSS")&&ui(t,this.get("containerCSS")),this.set("canvas",e)},e.prototype.init=function(){this.initContainer();var t=this.get("canvas").addGroup({name:"timebar-group"});this.set("timeBarGroup",t),this.renderTrend(),this.initEvent();var e="undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",e)},e.prototype.play=function(){this.togglePlay(!0)},e.prototype.pause=function(){this.togglePlay(!1)},e.prototype.togglePlay=function(t){var e=this.get("timebar");e&&(e.isPlay=!!t,e.changePlayStatus())},e.prototype.renderTrend=function(){var t=this,e=this._cfgs,n=e.width,r=e.x,i=e.y,o=e.padding,a=e.type,s=e.trend,u=e.slider,l=e.controllerCfg,c=e.textStyle,h=e.tick,d=e.backgroundStyle,f=e.foregroundStyle,p=s.data,g=Gs(s,["data"]),v=n-2*o,y="trend"===a?26:4,m=this.get("graph"),b=this.get("timeBarGroup"),x=this.get("canvas"),A=null;if("trend"===a||"simple"===a){var w=this.get("getValue");A=new Ds(Fs(Fs({graph:m,canvas:x,group:b,type:a,x:r+o,y:"trend"===a?i+o:i+o+15,width:v,height:y,padding:o,backgroundStyle:d,foregroundStyle:f,trendCfg:Fs(Fs({},g),{data:p.map(function(t){return(null===w||void 0===w?void 0:w(t))||t.value})})},u),{tick:{ticks:p,tickLabelFormatter:h.tickLabelFormatter,tickLabelStyle:h.tickLabelStyle,tickLineStyle:h.tickLineStyle},handlerStyle:Fs(Fs({},u.handlerStyle),{height:u.height||y}),controllerCfg:l,textStyle:c}))}else"tick"===a&&(A=new Bs(Fs({graph:m,canvas:x,group:b,x:r+o,y:i+o,width:n,height:42,padding:2,controllerCfg:l},h)));var _=function e(){var n=t.get("timebar");n.draggingHandler=!1,n.isPlay&&(n.isPlay=!1,n.currentHandler=n.maxHandlerShape,n.changePlayStatus()),document.removeEventListener("mouseup",e)};x.on("mousedown",function(t){"maxHandlerShape-handler"!==t.target.get("name")&&"minHandlerShape-handler"!==t.target.get("name")&&t.target!==A.foregroundShape||document.addEventListener("mouseup",_)}),this.set("timebar",A)},e.prototype.filterData=function(t){var e,n=t.value;if(!n){n=[];var r=this._cfgs.type;r&&"trend"!==r&&"simple"!==r?"tick"===r&&(n[0]=this._cfgs.tick.start,n[1]=this._cfgs.tick.end):(n[0]=this._cfgs.slider.start,n[1]=this._cfgs.slider.end)}var i=null,o=this._cfgs.type;if("trend"===o||"simple"===o?i=this._cfgs.trend.data:"tick"===o&&(i=this._cfgs.tick.data),i&&0!==i.length){var a=this.get("rangeChange"),s=this.get("graph"),u=Math.round(i.length*n[0]),l=Math.round(i.length*n[1]);l=l>=i.length?i.length-1:l,u=u>=i.length?i.length-1:u;var c=null===(e=this._cfgs.tick)||void 0===e?void 0:e.tickLabelFormatter,h=c?c(i[u]):i[u].date,d=c?c(i[l]):i[l].date;if("tick"!==o)this.get("timebar").setText(h,d);if(a)a(s,h,d);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&0===this.cacheGraphData.nodes.length)&&(this.cacheGraphData=s.get("data"));var f=this.get("filterItemTypes"),p=this.get("changeData"),g=this.get("getDate"),v=this.get("shouldIgnore"),y=i[u].date,m=i[l].date;if(p||void 0===p){var b=this.cacheGraphData.nodes,x=this.cacheGraphData.edges,A={},w={};s.getNodes().forEach(function(t){return A[t.getID()]=!0}),s.getEdges().forEach(function(t){return w[t.getID()]=!0}),f.includes("node")&&(null===b||void 0===b||b.forEach(function(t){var e=+((null===g||void 0===g?void 0:g(t))||t.date),n=e>=y&&e<=m||(null===v||void 0===v?void 0:v("node",t,{min:y,max:m})),r=A[t.id];r&&!n?(s.removeItem(t.id),A[t.id]=!1):!r&&n&&(s.addItem("node",t),A[t.id]=!0)}),null===x||void 0===x||x.forEach(function(t){var e=A[t.source]&&A[t.target]||(null===v||void 0===v?void 0:v("edge",t,{min:y,max:m})),n=!!s.findById(t.id);n&&!e?(s.removeItem(t.id),w[t.id]=!1):!n&&e?(s.addItem("edge",t),w[t.id]=!0):n||(w[t.id]=!1)})),(this.get("filterEdge")||f.includes("edge"))&&(null===x||void 0===x||x.filter(function(t){var e=+((null===g||void 0===g?void 0:g(t))||t.date),n=e>=y&&e<=m||(null===v||void 0===v?void 0:v("edge",t,{min:y,max:m})),r=A[t.source]&&A[t.target],i=n&&r,o=w[t.id];o&&!i?(w[t.id]=!1,s.removeItem(t.id)):!o&&i&&(w[t.id]=!0,s.addItem("edge",t))}))}else f.includes("node")&&s.getNodes().forEach(function(t){var e=t.getModel();if(null===v||void 0===v||!v("node",e,{min:y,max:m})){var n=+((null===g||void 0===g?void 0:g(e))||e.date);n<y||n>m?s.hideItem(t):s.showItem(t)}}),(this.get("filterEdge")||f.includes("edge"))&&s.getEdges().forEach(function(t){var e=t.getModel();if(null===v||void 0===v||!v("edge",e,{min:i[u].date,max:i[l].date})){var n=+((null===g||void 0===g?void 0:g(e))||e.date);if(n<i[u].date||n>i[l].date)s.hideItem(t);else{var r=t.getSource().isVisible(),o=t.getTarget().isVisible();r&&o&&s.showItem(t)}}})}}else console.warn("请配置 TimeBar 组件的数据")},e.prototype.initEvent=function(){var t=this.get("graph");t.on("afterchangedata",this.changeData),t.on("afterrender",this.afterrenderListener),t.on("valuechange",this.valueChangeListener)},e.prototype.destroy=function(){var e=this.get("graph");e.off("afterchangedata",this.changeData),e.off("afterrender",this.afterrenderListener),e.off("valuechange",this.valueChangeListener);var n=this.get("timebar");n&&n.destory&&n.destory(),t.prototype.destroy.call(this);var r=this.get("timeBarContainer");if(r){var i=this.get("container");i||(i=this.get("graph").get("container")),Object(g.isString)(i)&&(i=document.getElementById(i)),i.removeChild(r)}},e}(to),Us=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ws=Ar.applyMatrix;var Hs=function(t){function e(e){return t.call(this,e)||this}return Us(e,t),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.graph;if(!this.destroyed){var r=this.get("container");Object(g.isString)(r)&&(r=document.getElementById(r));var i=si("<div class=".concat(e.viewportClassName,"\n      style='position:absolute;\n        left:0;\n        top:0;\n        box-sizing:border-box;\n        border: 2px solid #1980ff;\n        cursor:move'\n      </div>")),o=0,a=0,s=!1,u=0,l=0,c=0,h=0,d=0,f=0;r.addEventListener("mousedown",function(r){if(e.refresh=!1,r.target===i){var u=i.style;c=parseInt(u.width,10),h=parseInt(u.height,10);var l=t.get("width"),p=t.get("height");c>l||h>p||(f=n.getZoom(),d=t.get("ratio"),s=!0,o=r.clientX,a=r.clientY)}},!1),r.addEventListener("mousemove",function(e){if(s&&!Object(g.isNil)(e.clientX)&&!Object(g.isNil)(e.clientY)){var r=t.get("width"),p=t.get("height"),v=i.style;u=parseInt(v.left,10),l=parseInt(v.top,10),c=parseInt(v.width,10),h=parseInt(v.height,10);var y=o-e.clientX,m=a-e.clientY;u-y<0?y=u:u-y+c>=r&&(y=0),l-m<0?m=l:l-m+h>=p&&(m=0),l-=m,ui(i,{left:"".concat(u-=y,"px"),top:"".concat(l,"px")}),n.translate(y*f/d,m*f/d),o=e.clientX,a=e.clientY}},!1),r.addEventListener("mouseleave",function(){s=!1,e.refresh=!0},!1),r.addEventListener("mouseup",function(){s=!1,e.refresh=!0},!1),this.set("viewport",i),r.appendChild(i)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),n=this.get("height"),r=this.get("graph"),i=r.get("width"),o=i/r.get("height"),a=r.getGroup(),s=a.getCanvasBBox(),u=[(s.minX+s.maxX)/2,(s.minY+s.maxY)/2],l=[s.maxX-s.minX,s.maxY-s.minY],c={centerX:u[0],centerY:u[1],width:0,height:0,minX:0,minY:0};s[0]/s[1]>o?(c.width=l[0],c.height=c.width/o):(c.height=l[1],c.width=c.height*o),c.minX=u[0]-c.width/2,c.minY=u[1]-c.height/2;var h=a.getMatrix();h||(h=[1,0,0,0,1,0,0,0,1]);var d=x.b.invert([1,0,0,0,1,0,0,0,1],h),f=Ws({x:c.minX,y:c.minY},d),p=r.getCanvasByPoint(f.x,f.y),g=this.get("viewport");g||this.initViewport();var v=i/c.width,y=v*e,m=v*n,b=e*-p.x/c.width,A=n*-p.y/c.height,w=b+y,_=A+m;b<0&&(y+=b,b=0),w>e&&(y-=w-e),A<0&&(m+=A,A=0),_>n&&(m-=_-n),this.set("ratio",t),ui(g,{left:"".concat(b,"px"),top:"".concat(A,"px"),width:"".concat(y,"px"),height:"".concat(m,"px")})}},e.prototype.init=function(){this.initContainer()},e.prototype.initContainer=function(){var t=this.get("graph"),e=t.get("width"),n=t.get("height")/e,r=this.get("className"),i=this.get("container"),o=this.get("width"),a=this.get("height");o||a||(o=200),o?(a=n*o,this.set("height",a)):(o=1/n*a,this.set("width",o));var s=si("<div class='".concat(r,"' style='width: ").concat(o,"px; height: ").concat(a,"px; overflow: hidden; position: relative;'></div>"));Object(g.isString)(i)&&(i=document.getElementById(i)),i?i.appendChild(s):t.get("container").appendChild(s),this.set("container",s);var u=si('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');s.appendChild(u);var l=si('<span style="display: table-cell; vertical-align: middle; "></span>');u.appendChild(l),this.set("containerDOM",u),this.set("containerSpan",l);var c=si('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));this.set("imgDOM",c),this.updateImgSize(),l.appendChild(c),this.updateCanvas()},e.prototype.updateImgSize=function(){var t=this.get("imgDOM"),e=this.get("width"),n=this.get("height");t.onload=function(){var r=function(t,e){var n,r;if(t.naturalWidth)n=t.naturalWidth,r=t.naturalHeight;else{var i=new Image;i.src=t.src,i.onload=function(){e&&e(i.width,i.height)}}return[n,r]}(t);r[0]>r[1]?t.width=e:t.height=n}},e.prototype.updateCanvas=function(){if(this.get("refresh")){var t=this.get("graph");if(!t.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var e=this.get("width")/t.get("canvas").getCanvasBBox().width;this.set("ratio",e),this.updateViewport()}}},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateGraphImg=function(t){this.get("imgDOM").remove(),this.set("graphImg",t);var e=si('<img alt="" src="'.concat(t,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));this.set("imgDOM",e),e.src=t,this.updateImgSize(),this.get("containerSpan").appendChild(e),this.updateCanvas()},e.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},e}(to),Ys=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xs=this&&this.__assign||function(){return(Xs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},qs=Ar.distance,Qs={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},Zs=function(t){function e(e){return t.call(this,e)||this}return Ys(e,t),e.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:Object(g.clone)(Qs),showLabel:"edge",scaleRBy:"wheel"}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"}}return t},e.prototype.init=function(){var t=this.get("showLabel"),e="node"===t||"both"===t,n="edge"===t||"both"===t;this.set("showNodeLabel",e),this.set("showEdgeLabel",n),this.get("shouldShow")||this.set("shouldShow",function(){return!0})},e.prototype.createDelegate=function(t){var e=this,n=e.get("delegate");n&&!n.destroyed||(e.filter(t),(n=e.get("delegate")).on("dragstart",function(t){}),n.on("drag",function(t){e.filter(t)}),"wheel"===this.get("scaleRBy")&&n.on("mousewheel",function(t){e.scaleRByWheel(t)}))},e.prototype.scaleRByWheel=function(t){if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var e,n=this.get("graph"),r=this.get("delegate");(r?{x:r.attr("x"),y:r.attr("y")}:void 0)||n.getPointByClient(t.clientX,t.clientY);e=t.originalEvent.wheelDelta<0?.95:1/.95;var i=this.get("maxR"),o=this.get("minR"),a=this.get("r");(a>(i||n.get("height"))&&e>1||a<(o||.05*n.get("height"))&&e<1)&&(e=1),a*=e,this.set("r",a),this.filter(t)}},e.prototype.filter=function(t){var e=this.get("graph"),n=e.getNodes(),r={},i=this.get("r"),o=this.get("type"),a={x:t.x,y:t.y};this.updateDelegate(a,i);var s=this.get("shouldShow"),u=this.get("vShapes");u&&u.forEach(function(t){t.remove(),t.destroy()}),u=[],n.forEach(function(t){var e=t.getModel(),n=e.x,o=e.y;qs({x:n,y:o},a)<i&&(r[e.id]=t)});var l=[];e.getEdges().forEach(function(t){var e=t.getModel(),n=e.source,i=e.target;s(e)&&("only-source"===o||"one"===o?r[n]&&!r[i]&&l.push(t):"only-target"===o||"one"===o?r[i]&&!r[n]&&l.push(t):"both"===o&&r[n]&&r[i]&&l.push(t))});var c=this.get("showNodeLabel"),h=this.get("showEdgelabel"),d=e.get("group");l.forEach(function(t){t.get("group").get("children").forEach(function(t){var e=t.get("type"),n=d.addShape(e,{attrs:t.attr()});u.push(n),c&&"text"===e&&n.set("visible",!0)})}),Object.keys(r).forEach(function(t){var e=r[t].get("group").clone();if(d.add(e),u.push(e),h)for(var n=e.get("children"),i=0;i<n.length;i++){var o=n[i];"text"===o.get("type")&&o.set("visible",!0)}}),this.set("vShapes",u)},e.prototype.updateParams=function(t){var e=t.r,n=t.trigger,r=t.minR,i=t.maxR,o=t.scaleRBy,a=t.showLabel,s=t.shouldShow;if(isNaN(t.r)||this.set("r",e),isNaN(i)||this.set("maxR",i),isNaN(r)||this.set("minR",r),"mousemove"!==n&&"click"!==n||this.set("trigger",n),"wheel"===o||"unset"===o){this.set("scaleRBy",o),this.get("delegate").remove(),this.get("delegate").destroy();var u=this.get("dPercentText");u&&(u.remove(),u.destroy())}"node"!==a&&"both"!==a||this.set("showNodeLabel",!0),"edge"!==a&&"both"!==a||this.set("showEdgeLabel",!0),s&&this.set("shouldShow",s)},e.prototype.updateDelegate=function(t,e){var n=this,r=n.get("graph"),i=n.get("delegate");if(!i||i.destroyed){var o=r.get("group"),a=n.get("delegateStyle")||Qs;i=o.addShape("circle",{attrs:Xs({r:e,x:t.x,y:t.y},a),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&"wheel"===this.get("scaleRBy")&&i.on("mousewheel",function(t){n.scaleRByWheel(t)})}else i.attr({x:t.x,y:t.y,r:e});n.set("delegate",i)},e.prototype.clear=function(){var t=this.get("vShapes");t&&t.forEach(function(t){t.remove(),t.destroy()}),t=[],this.set("vShapes",t);var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy())},e.prototype.destroy=function(){this.clear()},e}(to),Ks=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Js=Ar.pointLineDistance,$s={stroke:"#FA8C16",lineWidth:1},tu=function(t){function e(e){return t.call(this,e)||this}return Ks(e,t),e.prototype.getDefaultCfgs=function(){return{line:$s,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},e.prototype.init=function(){},e.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},e.prototype.onDragStart=function(){this.initBoxLine()},e.prototype.onDrag=function(t){var e=t.item,n=(e.get("delegateShape")||e).getBBox(),r=e.getModel(),i=r.x-n.x,o=r.y-n.y;this.show({x:n.minX+i,y:n.minY+o},{width:n.width,height:n.height})},e.prototype.onDragEnd=function(){this.destory()},e.prototype.initBoxLine=function(){var t=this._cfgs,e=t.horizontalLines,n=t.verticalLines,r=t.itemAlignType;this.get("graph").getNodes().forEach(function(t){var i=t.getBBox(),o=t.get("id");!0===r||"horizontal"===r?(e["".concat(o,"tltr")]=[i.minX,i.minY,i.maxX,i.minY,t],e["".concat(o,"lcrc")]=[i.minX,i.centerY,i.maxX,i.centerY,t],e["".concat(o,"blbr")]=[i.minX,i.maxY,i.maxX,i.maxY,t]):"center"===r&&(e["".concat(o,"lcrc")]=[i.minX,i.centerY,i.maxX,i.centerY,t]),!0===r||"vertical"===r?(n["".concat(o,"tlbl")]=[i.minX,i.minY,i.minX,i.maxY,t],n["".concat(o,"tcbc")]=[i.centerX,i.minY,i.centerX,i.maxY,t],n["".concat(o,"trbr")]=[i.maxX,i.minY,i.maxX,i.maxY,t]):"center"===r&&(n["".concat(o,"tcbc")]=[i.centerX,i.minY,i.centerX,i.maxY,t])})},e.prototype.show=function(t,e){var n=Object(g.mix)({},t);return this.itemAlign(t,e,n),t},e.prototype.itemAlign=function(t,e,n){var r=this,i=this._cfgs,o=i.horizontalLines,a=i.verticalLines,s=i.tolerance,u={x:n.x+e.width/2,y:n.y},l={x:n.x+e.width/2,y:n.y+e.height/2},c={x:n.x+e.width/2,y:n.y+e.height},h={x:n.x,y:n.y+e.height/2},d={x:n.x+e.width,y:n.y+e.height/2},f=[],p=[],v=null;if(this.clearAlignLine(),Object(g.each)(o,function(t){t[4].isVisible&&(f.push(r.getLineDisObject(t,u)),f.push(r.getLineDisObject(t,l)),f.push(r.getLineDisObject(t,c)))}),Object(g.each)(a,function(t){t[4].isVisible&&(p.push(r.getLineDisObject(t,h)),p.push(r.getLineDisObject(t,l)),p.push(r.getLineDisObject(t,d)))}),f.sort(function(t,e){return t.dis-e.dis}),p.sort(function(t,e){return t.dis-e.dis}),0!==f.length&&f[0].dis<s){t.y=f[0].line[1]-f[0].point.y+n.y,v={type:"item",horizontals:[f[0]]};for(var y=1;y<3;y++)f[0].dis===f[y].dis&&v.horizontals.push(f[y])}if(0!==p.length&&p[0].dis<s){t.x=p[0].line[0]-p[0].point.x+n.x,v?v.verticals=[p[0]]:v={type:"item",verticals:[p[0]]};for(y=1;y<3;y++)p[0].dis===p[y].dis&&v.verticals.push(p[y])}v&&(v.bbox=e,this.addAlignLine(v))},e.prototype.addAlignLine=function(t){var e=t.bbox,n=t.type,r=t.horizontals,i=t.verticals,o=this._cfgs,a=o.line,s=o.alignLines,u=this.get("graph").get("group");"item"===n&&(r&&Object(g.each)(r,function(t){var n,r,i=t.line,o=t.point,l=(i[0]+i[2])/2;o.x<l?(n=o.x-e.width/2,r=Math.max(i[0],i[2])):(n=o.x+e.width/2,r=Math.min(i[0],i[2]));var c=Object(g.mix)({x1:n,y1:i[1],x2:r,y2:i[1]},a),h=u.addShape("line",{attrs:c,capture:!1});s.push(h)}),i&&Object(g.each)(i,function(t){var n,r,i=t.line,o=t.point,l=(i[1]+i[3])/2;o.y<l?(n=o.y-e.height/2,r=Math.max(i[1],i[3])):(n=o.y+e.height/2,r=Math.min(i[1],i[3]));var c=Object(g.mix)({x1:i[0],y1:n,x2:i[0],y2:r},a),h=u.addShape("line",{attrs:c,capture:!1});s.push(h)}))},e.prototype.getLineDisObject=function(t,e){return{line:t,point:e,dis:Js(t,e)}},e.prototype.getContainer=function(){return this.get("container")},e.prototype.clearAlignLine=function(){var t=this._cfgs.alignLines;Object(g.each)(t,function(t){t.remove()}),t.length=0},e.prototype.destory=function(){var t=this._cfgs,e=t.horizontalLines,n=t.verticalLines;this.get("graph").getNodes().forEach(function(t){var r=t.get("id");delete e["".concat(r,"tltr")],delete e["".concat(r,"lcrc")],delete e["".concat(r,"blbr")],delete n["".concat(r,"tlbl")],delete n["".concat(r,"tcbc")],delete n["".concat(r,"trbr")]}),this.clearAlignLine()},e}(to),eu=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nu=this&&this.__assign||function(){return(nu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ru=["click","mouseenter"],iu=function(t){function e(e){return t.call(this,e)||this}return eu(e,t),e.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},e.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var t=this.get("filter")||{};t.multiple&&"mouseenter"===t.trigger&&this.set("multiple",!1);var e=this.get("align");if(!e){var n=this.get("position").split("-");n.includes("left")&&(e="left"),e=n.includes("right")?"right":"center",this.set("align",e)}var r=this.get("graph").get("container"),i=si("<div class='g6-legend-container' style=\"position: absolute;\"></div>");r.appendChild(i),this.set("container",i);var o=this.render();ui(i,this.getContainerPos(o)),this.bindEvents()},e.prototype.getContainerPos=function(t){void 0===t&&(t=[0,0]);var e=this.get("graph"),n=this.get("offsetX"),r=this.get("offsetY"),i=this.get("margin"),o=this.get("position").split("-"),a={top:0,right:1,bottom:2,left:3},s={left:(e.getWidth()-t[0])/2+0,top:(e.getHeight()-t[1])/2+0};return o.forEach(function(n){var r=i[a[n]],o=n;switch(n){case"top":case"left":r+=0;break;case"bottom":r=e.getHeight()-t[1]-r+0,o="top";break;default:r=e.getWidth()-t[0]-r+0,o="left"}s[o]=r}),s.top+=r+e.getContainer().offsetTop,s.left+=n+e.getContainer().offsetLeft,Object.keys(s).forEach(function(t){s[t]="".concat(s[t],"px")}),s},e.prototype.bindEvents=function(){var t=this,e=t.get("filter");if(e&&e.enable){var n=e.trigger||"click";ru.includes(n)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),n="click");var r=t.get("legendCanvas");"mouseenter"===n?(r.on("node-container:mouseenter",function(e){return t.filterData(e)}),r.on("node-container:mouseleave",function(e){t.clearFilter(),t.clearActiveLegend()})):(r.on("node-container:click",function(e){return t.filterData(e)}),r.on("click",function(e){e.target&&e.target.isCanvas&&e.target.isCanvas()&&(t.clearFilter(),t.clearActiveLegend())}))}},e.prototype.changeData=function(t){this.set("data",t);var e=this.render();ui(this.get("container"),this.getContainerPos(e))},e.prototype.activateLegend=function(t){var e=this.get("filter");(null===e||void 0===e?void 0:e.multiple)||this.clearActiveLegend();var n=t.get("parent");n.get("active")?(n.set("active",!1),this.findLegendItemsByState("active").length&&n.set("inactive",!0)):(n.set("inactive",!1),n.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach(function(t){t.set("inactive",!0)}):this.clearActiveLegend();var r=(null===e||void 0===e?void 0:e.legendStateStyles)||{},i=(null===r||void 0===r?void 0:r.inactive)||{opacity:.5,"text-shape":{opacity:.5}},o=i["text-shape"]||{};this.findLegendItemsByState("inactive").forEach(function(t){var e=t.get("children"),n=e[0],r=e[1];n.attr(nu(nu({},n.get("oriAttrs")),i)),r.attr(nu(nu({},r.get("oriAttrs")),o))});var a=(null===r||void 0===r?void 0:r.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},s=a["text-shape"]||{};this.findLegendItemsByState("active").forEach(function(t){var e=t.get("children"),n=e[0],r=e[1];n.attr(nu(nu({},n.get("oriAttrs")),a)),r.attr(nu(nu({},r.get("oriAttrs")),s))})},e.prototype.findLegendItemsByState=function(t,e,n){void 0===e&&(e="all"),void 0===n&&(n=!0);var r=this.get("legendCanvas").find(function(t){return"root"===t.get("name")}),i=r.find(function(t){return"node-group"===t.get("name")}),o=r.find(function(t){return"edge-group"===t.get("name")});return"node"===e?i.get("children").filter(function(e){return!!e.get(t)===n}):"edge"===e?o.get("children").filter(function(e){return!!e.get(t)===n}):i.get("children").filter(function(e){return!!e.get(t)===n}).concat(o.get("children").filter(function(e){return!!e.get(t)===n}))},e.prototype.clearActiveLegend=function(){var t=this.get("legendCanvas").find(function(t){return"root"===t.get("name")});[t.find(function(t){return"node-group"===t.get("name")}),t.find(function(t){return"edge-group"===t.get("name")})].forEach(function(t){t.get("children").forEach(function(t){t.set("active",!1),t.set("inactive",!1);var e=t.get("children"),n=e[0],r=e[1];n.attr(n.get("oriAttrs")),r.attr(r.get("oriAttrs"))})})},e.prototype.filterData=function(t){var e=this.get("filter"),n=null===e||void 0===e?void 0:e.filterFunctions;if(e&&n){var r=this.get("legendCanvas"),i=this.get("graph"),o=e.graphActiveState||"active",a=e.graphInactiveState||"inactive",s=e.multiple;this.clearFilter(),s||this.clearActiveLegend(),this.activateLegend(t.target);var u=r.find(function(t){return"root"===t.get("name")}),l=u.find(function(t){return"node-group"===t.get("name")}),c=u.find(function(t){return"edge-group"===t.get("name")}),h=l.get("children").filter(function(t){return t.get("active")}),d=c.get("children").filter(function(t){return t.get("active")}),f=0,p=["getNodes","getEdges"];p.forEach(function(t){i[t]().forEach(function(e){var r=!1;("getNodes"===t?h:d).forEach(function(t){var i=n[t.get("id")];r=r||i(e.getModel())}),r?(i.setItemState(e,a,!1),i.setItemState(e,o,!0),f++):(i.setItemState(e,o,!1),i.setItemState(e,a,!0))})}),f||p.forEach(function(t){i[t]().forEach(function(t){i.clearItemStates(t,[a])})})}},e.prototype.clearFilter=function(){var t=this.get("graph"),e=this.get("filter");if(e){var n=e.graphActiveState||"active",r=e.graphInactiveState||"inactive";t.getNodes().forEach(function(e){t.clearItemStates(e,[n,r])}),t.getEdges().forEach(function(e){t.clearItemStates(e,[n,r])})}},e.prototype.render=function(){var t=this;this.processData();var e=this.get("legendCanvas");e?e.clear():e=new kr.Canvas({container:this.get("container"),width:200,height:200});var n=e.addGroup({name:"root"}),r=n.addGroup({name:"node-group"}),i=n.addGroup({name:"edge-group"});this.set("legendCanvas",e);var o=this.get("itemsData"),a=[r,i];["nodes","edges"].forEach(function(e,n){o[e].forEach(function(r){var i,o,s=a[n].addGroup({id:r.id,name:"node-container"}),u=r.type,l=t.getShapeSize(r),c=l.width,h=l.height,d=l.r,f=t.getStyle(e.substr(0,4),r);switch(r.type){case"circle":o={r:d,x:0,y:0};break;case"rect":o={width:c,height:h,x:-c/2,y:-h/2};break;case"ellipse":o={rx:c,ry:h,x:0,y:0},u="ellipse";break;case"line":o={x1:-c/2,y1:0,x2:c/2,y2:0},u="line";break;case"quadratic":o={path:[["M",-c/2,0],["Q",0,c/2,c/2,0]]},u="path";break;case"cubic":o={path:[["M",-c/2,0],["C",-c/6,c/2,c/6,-c/2,c/2,0]]},u="path";break;case"diamond":o={path:[["M",0,-h],["L",c,0],["L",0,h],["L",-c,0],["Z"]]},u="path";break;case"triangle":o={path:[["M",-c,h],["L",0,-h],["L",c,h],["Z"]]},u="path";break;case"star":o={path:Ar.getStarPath(3*d,1.2*d)},u="path";break;default:o={r:d,x:0,y:0}}var p=s.addShape(u,{attrs:nu(nu({},o),f),name:"".concat(r.type,"-node-keyShape"),oriAttrs:nu({opacity:1},f)});if(r.label){var g=p.getBBox(),v=(null===(i=r.labelCfg)||void 0===i?void 0:i.style)||{},y=nu({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},v);s.addShape("text",{attrs:nu({x:g.maxX+4,y:0,text:r.label},y),className:"legend-label",name:"".concat(r.type,"-node-text"),oriAttrs:y})}})});var s,u=this.get("padding"),l=n.find(function(t){return"title-container"===t.get("name")}),c={height:0,maxY:0,width:0};if(this.get("title")){l||(l=n.addGroup({name:"title-container"}));var h={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:u[0]},d=this.get("titleConfig")||{},f=Object.assign(h,d.style||{});s=l.addShape("text",{attrs:nu({text:this.get("title")},f)}),c=l.getCanvasBBox(),l.setMatrix([1,0,0,0,1,0,d.offsetX,d.offsetY,1])}this.layoutItems();var p=n.getCanvasBBox(),g=r.getCanvasBBox(),v=g.minX<0?Math.abs(g.minX)+u[3]:u[3],y=c.maxY<g.minY?Math.abs(c.maxY-g.minY)+u[0]:c.maxY+u[0],m=[1,0,0,0,1,0,v,y,1];r.setMatrix(m);var b=[(p=n.getCanvasBBox()).minX+p.width+u[1],p.minY+p.height+u[2]];if(s){d=nu({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));c=l.getCanvasBBox();var x=l.getMatrix()||[1,0,0,0,1,0,0,0,1];"center"===d.position?x[6]=b[0]/2+d.offsetX:"right"===d.position?(x[6]=b[0]-u[3]+d.offsetX,s.attr({textAlign:"right"})):(x[6]=u[3]+d.offsetX,s.attr({textAlign:"left"})),l.setMatrix(x),c=l.getCanvasBBox(),m=[1,0,0,0,1,0,v=g.minX<0?Math.abs(g.minX)+u[3]:u[3],y=g.minY<c.maxY?Math.abs(c.maxY-g.minY)+u[0]:c.maxY+u[0],1],r.setMatrix(m);var A=[1,0,0,0,1,0,v,y,1];"vertical"===this.get("layout")?A[6]+=g.maxX+this.get("horiSep"):A[7]+=g.maxY+this.get("vertiSep"),i.setMatrix(A)}else{g=r.getCanvasBBox();var w=[1,0,0,0,1,0,0,0,1];"vertical"===this.get("layout")?w[6]+=m[6]+g.maxX+this.get("horiSep"):w[7]+=m[7]+g.maxY+this.get("vertiSep"),i.setMatrix(w)}p=n.getCanvasBBox(),g=r.getCanvasBBox(),m=r.getMatrix()||[1,0,0,0,1,0,0,0,1];var _=i.getMatrix()||[1,0,0,0,1,0,0,0,1],M=i.getCanvasBBox();b=[Math.max(g.width+m[6],M.width+_[6])+u[1],Math.max(g.height+m[7],M.height+_[7])+u[2]],e.changeSize(b[0],b[1]);var S=this.get("containerStyle"),O=n.getMatrix()||[1,0,0,0,1,0,0,0,1],I=Ar.invertMatrix({x:0,y:0},O);return n.addShape("rect",{attrs:nu({x:I.x+(S.lineWidth||1),y:I.y+(S.lineWidth||1),width:b[0]-2*(S.lineWidth||1),height:b[1]-2*(S.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},S),name:"legend-back-rect",capture:!1}).toBack(),b},e.prototype.layoutItems=function(){var t=this.get("legendCanvas"),e=this.get("horiSep"),n=this.get("vertiSep"),r=this.get("layout"),i=this.get("align"),o=[0,0],a=t.find(function(t){return"root"===t.get("name")}),s=a.find(function(t){return"node-group"===t.get("name")}),u=a.find(function(t){return"edge-group"===t.get("name")}),l={min:0,max:-1/0},c=-1/0;s.get("children").forEach(function(t,i){0===i&&(l.min=o[0]);var a=t.get("children")[0],s=t.getCanvasBBox(),u=a.getBBox(),h=u.width,d=u.height,f=0,p=0,g=0;"vertical"===r?(p=o[1],g=o[0]+h/2,o[0]=g+s.height+n,f=s.maxX+p+h/2):(p=o[0]+h/2,g=o[1],o[0]=p+s.width+e,f=s.maxY+g+d/2),o[0]>l.max&&(l.max=o[0]),f>c&&(c=f),t.setMatrix([1,0,0,0,1,0,p,g,1])});var h=l.max-l.min,d={min:0,max:-1/0},f=s.getCanvasBBox();o[0]=0,o[1]="vertical"===r?f.maxX+e:f.maxY+n,u.get("children").forEach(function(t,i){0===i&&(d.min=o[0]);var a=t.get("children")[0],s=t.getCanvasBBox(),u=a.getBBox(),l=u.width,c=u.height,h=0,f=0;"vertical"===r?(h=o[1],f=o[0],o[0]=f+s.height+n,t.setMatrix([1,0,0,0,1,0,0,f+c/2,1])):(h=o[0],f=o[1],o[0]=h+s.width+e,t.setMatrix([1,0,0,0,1,0,h+l/2,0,1])),o[0]>d.max&&(d.max=o[0])});var p=d.max-d.min;if(i&&""!==i&&"left"!==i){var g=h-p,v="center"===i?Math.abs(g)/2:Math.abs(g);(g<0?s:u).get("children").forEach(function(t){var e=t.getMatrix()||[1,0,0,0,1,0,0,0,1];"vertical"===r?e[7]+=v:e[6]+=v,t.setMatrix(e)})}},e.prototype.processData=function(){var t=this.get("data"),e={nodes:[],edges:[]};t.nodes&&(t.nodes.sort(function(t,e){return t.order-e.order}),t.nodes.forEach(function(t){var n,r,i,o,a,s=t.size||[(null===(n=t.style)||void 0===n?void 0:n.width)||(null===(r=t.style)||void 0===r?void 0:r.r)||8,(null===(i=t.style)||void 0===i?void 0:i.height)||(null===(o=t.style)||void 0===o?void 0:o.r)||8],u=(null===(a=t.labelCfg)||void 0===a?void 0:a.style)||{};e.nodes.push({id:t.id||Object(g.uniqueId)(),type:t.type||"circle",style:nu({},t.style),order:t.order,label:t.label,itemType:"node",size:s,labelCfg:{position:"right",style:nu({fontFamily:"Arial"},u)}})})),t.edges&&(t.edges.sort(function(t,e){return t.order-e.order}),t.edges.forEach(function(t){var n,r,i=t.type||"line";"cubic-horizontal"===t.type&&(i="cubic");var o=(null===(n=t.labelCfg)||void 0===n?void 0:n.style)||{},a=t.size||[(null===(r=t.style)||void 0===r?void 0:r.width)||8,1];e.edges.push({id:t.id||Object(g.uniqueId)(),type:i,size:a,style:nu({lineWidth:Object(g.isArray)(a)?a[1]:1},t.style),order:t.order,label:t.label,itemType:"edge",labelCfg:{position:"right",style:nu({fontFamily:"Arial"},o)}})})),this.set("itemsData",e)},e.prototype.getContainer=function(){return this.get("container")},e.prototype.formatArray=function(t){var e=this.get(t);if(Object(g.isNumber)(e))this.set(t,[e,e,e,e]);else if(Object(g.isArray)(e))switch(e.length){case 0:this.set(t,[0,0,0,0]);break;case 1:this.set(t,[e[0],e[0],e[0],e[0]]);break;case 2:this.set(t,[e[0],e[1],e[0],e[1]]);break;case 3:this.set(t,[e[0],e[1],e[2],e[1]])}return this.get(t)},e.prototype.getShapeSize=function(t){var e,n,r;return t.size&&(Object(g.isArray)(t.size)?(e=t.size[0],n=t.size[1]||t.size[0],r=t.size[0]/2):Object(g.isNumber)(t.size)&&(e=t.size,n=t.size,r=t.size/2)),t.style&&(t.style.width&&(e=t.style.width),t.style.height&&(n=t.style.height),t.style.r&&(r=t.style.r)),r||(r=5),e||(e=r),n||(n=r),{width:e,height:n,r:r}},e.prototype.getStyle=function(t,e){return nu(nu({},"node"===t?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1}),e.style||{})},e.prototype.destroy=function(){var t=this.get("legendCanvas");null===t||void 0===t||t.destroy();var e=this.get("graph").get("container"),n=this.get("container");e.removeChild(n)},e}(to),ou=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),au=this&&this.__assign||function(){return(au=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},su=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};"undefined"!=typeof document&&oo()("\n  .g6-annotation-container {\n    background-color: rgba(255, 255, 255, 0.3);\n    padding: 8px;\n  }\n  .g6-annotation-wrapper {\n    background-color: #fff;\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.85);\n  }\n  .g6-annotation-header-wapper {\n    height: fit-content;\n    width: 100%;\n    background-color: #5B8FF9;\n    display: inline-flex;\n    cursor: move;\n  }\n  .g6-annotation-title {\n    margin: 4px 40px 4px 8px;\n    cursor: text;\n    min-width: 32px;\n  }\n  .g6-annotation-collapse {\n    margin: 4px;\n    cursor: pointer;\n  }\n  .g6-annotation-expand {\n    margin: 4px;\n    cursor: pointer;\n  }\n  .g6-annotation-close {\n    margin: 4px 8px 4px 0;\n    cursor: pointer;\n  }\n  .g6-annotation-content {\n    padding: 8px;\n    width: fit-content;\n    cursor: text;\n    word-break: break-all;\n    min-width: 32px;\n  }\n  .g6-annotation-title-input-wrapper {\n    margin: 4px 40px 4px 8px;\n  }\n  .g6-annotation-content-input {\n    height: 100%;\n    word-break: break-all;\n  }\n  .g6-annotation-content-input-wrapper {\n    margin: 8px;\n    height: 100%;\n  }\n");var uu=function(t){function e(e){return t.call(this,e)||this}return ou(e,t),e.prototype.getDefaultCfgs=function(){return{trigger:"click",editable:!0,itemHighlightState:"highlight",linkHighlightStyle:{shadowColor:"#5B8FF9",shadowBlur:10},cardCfg:{minHeight:60,width:"fit-content",height:"fit-content",collapseType:"minimize",closeType:"hide",borderRadius:5,maxTitleLength:20}}},e.prototype.getEvents=function(){var t={viewportchange:"updateLinks",afterlayout:"updateLinks",aftergraphrefreshposition:"updateLinks",afterupdateitem:"updateLink",afterchangedata:"onGraphDataChange",afteritemvisibilitychange:"onGraphItemVisibilityChange"};switch(this.get("trigger")){case"click":t=au(au({},t),{"node:click":"showAnnotation","edge:click":"showAnnotation"})}return t},e.prototype.getDOMContent=function(t){if(!this.destroyed){var e=t.collapsed,n=t.maxWidth,r=t.title,i=void 0===r?"":r,o=t.content,a=void 0===o?"":o,s=t.borderRadius,u=void 0===s?5:s,l=e?"<p class='g6-annotation-expand'>+</p>":"<p class='g6-annotation-collapse'>-</p>",c=e?"":" <p class='g6-annotation-content'>".concat(a,"</p>"),h=e?"".concat(u,"px"):"".concat(u,"px ").concat(u,"px 0 0");return'<div class="g6-annotation-wrapper" style="border-radius: '.concat(u,"px; max-width: ").concat(n,'px">\n        <div\n          class="g6-annotation-header-wapper"\n          style="border-radius: ').concat(h,";\"\n        >\n          <h4 class='g6-annotation-title'>").concat(i,"</h4>\n          ").concat(l,"\n          ").concat("<p class='g6-annotation-close'>x</p>","\n        </div>\n        ").concat(c,"\n      </div>")}},e.prototype.init=function(){var t=this;if(!t.destroyed){var e=t.get("graph").getContainer(),n=t.get("container");this.get("containerCfg")?(n=this.createContainer(),e.appendChild(n)):n=e,this.set("container",n);var r=e.getBoundingClientRect(),i=new kr.Canvas({container:e,width:r.right-r.left,height:r.bottom-r.top});ui(i.get("el"),{position:"absolute",top:0,left:0,pointerEvents:"none"}),window.addEventListener("resize",Object(g.debounce)(function(){return t.resizeCanvas(t)},100));var o=i.addGroup({id:"annotation-link-group"});t.set("linkGroup",o),t.set("canvas",i),t.get("getTitle")||t.set("getTitle",function(t){var e,n=(null===(e=null===t||void 0===t?void 0:t.getModel)||void 0===e?void 0:e.call(t))||{},r=n.label,i=n.id;return r||i||"-"}),t.get("getContent")||t.set("getContent",function(t){var e,n;if(!t)return"-";var r=(null===(e=t.getModel)||void 0===e?void 0:e.call(t))||{},i=r.label,o=r.id,a=null===(n=t.getType)||void 0===n?void 0:n.call(t),s=a?"".concat(a,": "):"";return"".concat(s).concat(i||o||"")});var a=t.get("defaultData");a&&this.readData(a)}},e.prototype.createContainer=function(){var t=this;if(!this.destroyed){var e=this.get("containerCfg"),n=this.get("graph"),r=n.getContainer(),i=r.getBoundingClientRect(),o=i.left,a=i.right,s=i.top,u=i.bottom-s,l=a-o,c=e.position,h=void 0===c?"top":c,d=e.offsetX,f=void 0===d?0:d,p=e.offsetY,v=void 0===p?0:p,y=su(e,["position","offsetX","offsetY"]),m=e.height,b=void 0===m?"fit-content":m,x=e.width,A=void 0===x?n.getWidth():x;"100%"===b&&(b=u),"100%"===A&&(A=l);var w="unset",_="unset",M={};switch(h){case"right":w="".concat(u,"px"),(M={top:0,right:0}).right+=o+f,M.top+=s+v;break;case"bottom":_="".concat(l,"px"),(M={bottom:0,left:0}).left+=o+f,M.bottom+=s+v;break;case"top":_="".concat(l,"px");case"left":w="".concat(u,"px");default:(M={top:0,left:0}).left+=o+f,M.top+=s+v}Object.keys(M).forEach(function(t){M[t]="".concat(M[t],"px")});var S=si("<div class='".concat(e.className," g6-annotation-container'></div>"));return ui(S,au(au({position:"absolute",display:"top"===h||"bottom"===h?"inline-flex":"unset",width:Object(g.isNumber)(A)?"".concat(A,"px"):A,height:Object(g.isNumber)(b)?"".concat(b,"px"):b,maxHeight:w,maxWidth:_,overflow:"scroll"},M),y)),r.appendChild(S),S.addEventListener("scroll",function(e){t.updateLinks()}),S}},e.prototype.resizeCanvas=function(t){clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){if(t&&!t.destroyed){var e=t.get("container").getBoundingClientRect(),n=e.right-e.left,r=e.bottom-e.top;t.get("canvas").changeSize(n,r),t.updateOutsideCards(t)}},250)},e.prototype.updateOutsideCards=function(t){var e=t||this,n=e.get("cardInfoMap")||{},r=e.get("graph"),i=r.getPointByCanvas(0,0),o=r.getPointByCanvas(r.getWidth(),r.getHeight()),a=r.getClientByPoint(i.x,i.y),s=a.x,u=a.y,l=r.getClientByPoint(o.x,o.y),c=l.x,h=l.y;Object.values(n).forEach(function(t){var e=t.card;if(e){var n=e.style,r=cu(n.left),i=cu(n.top),o=e.getBoundingClientRect(),a=o.width,l=o.height,d=r,f=i;r+a>c-s&&(d=c-s-a),r<0&&(d=0),i+l>h-u&&(f=h-u-l),i<0&&(f=0),ui(e,{left:"".concat(d,"px"),top:"".concat(f,"px")})}}),e.updateLinks()},e.prototype.showAnnotation=function(t){if(!this.destroyed){var e=t.item;this.toggleAnnotation(e)}},e.prototype.hideCards=function(){var t=this;if(!t.destroyed){var e=t.get("cardInfoMap")||{};Object.keys(e).forEach(function(e){t.hideCard(e)})}},e.prototype.toggleAnnotation=function(t,e){var n,r;void 0===e&&(e={});if(!this.destroyed){var i=this.get("cardInfoMap")||{},o=this.get("graph"),a=this.get("container"),s=this.get("containerCfg"),u=Object.assign({},this.get("cardCfg")||{},e),l=u.minHeight,c=u.minWidth,h=u.width,d=u.height,f=u.collapsed,p=void 0!==f&&f,v=u.x,y=u.y,m=u.title,b=u.content,x=u.maxTitleLength,A=u.defaultBegin,w=su(u,["minHeight","minWidth","width","height","collapsed","x","y","title","content","maxTitleLength","defaultBegin"]),_=this.get("linkGroup"),M=this.get("rows")||[[]],S=null===(n=t.isCanvas)||void 0===n?void 0:n.call(t),O=S?"canvas-annotation":t.getID(),I=i[O]||{},E=I.card,C=I.link,k=I.x,T=I.y,D=I.title,j=I.content,L=this.get("getTitle"),P=this.get("getContent"),N=this.get("getContentPlaceholder")||function(){return""},R=this.get("getTitlePlaceHolder")||function(){return""},B=N(t),z=R(t),F=si(this.getDOMContent(au({itemId:O,collapsed:p,title:(null===(r=D||m||(null===L||void 0===L?void 0:L(t)))||void 0===r?void 0:r.substr(0,x))||z,content:j||b||(null===P||void 0===P?void 0:P(t))||B},w))),G=Object(g.isNumber)(l)?"".concat(l,"px"):l;ui(F,{minHeight:p?"unset":G,minWidth:Object(g.isNumber)(c)?"".concat(c,"px"):c,height:d,width:h});var V,U=!!E;if(U?(null===C||void 0===C||C.remove(!0),a.replaceChild(F,E)):a.appendChild(F),!s){if(V=a.getBoundingClientRect()||{},void 0!==v&&void 0!==y)k=v,T=y;else if(!U&&!S){var W=V.top,H=A||{},Y=H.left,X=H.right,q=void 0===X?16:X,Q=H.top,Z=void 0===Q?8:Q,K=H.bottom,J=q,$=Z;isNaN(Y)||(J=a.scrollWidth-Y),isNaN(K)||($=a.scrollHeight-K);var tt=Object(g.isNumber)(c)?c:100;k=a.scrollWidth-F.scrollWidth-(M.length-1)*tt-J;var et=M[M.length-1],nt=(et[et.length-1]||{}).bbox;T=(null===nt||void 0===nt?void 0:nt.bottom)-W||$}ui(F,{position:"absolute",left:"".concat(k,"px"),top:"".concat(T,"px"),cusor:s?"unset":"move"})}this.bindListener(F,O);var rt=F.getBoundingClientRect();if(!S){var it=lu(t,rt,o,this.get("canvas")),ot=this.get("linkStyle");C=_.addShape("path",{attrs:au({lineWidth:1,lineDash:[5,5],stroke:"#ccc",path:it},ot)})}if(i[O]=au(au({},i[O]||{}),{id:O,collapsed:p,card:F,link:C,x:k,y:T,cardBBox:rt,content:j||b,title:D||m,contentPlaceholder:B,titlePlaceholder:z,isCanvas:S}),this.set("cardInfoMap",i),s)this.updateCardPositionsInConatainer(),this.updateLinks();else{var at=!isNaN(v)&&!isNaN(y);if(!U&&!S&&!at){var st=V.bottom,ut=void 0===st?0:st;W=V.top;M[M.length-1].push({id:O,bbox:rt}),rt.top>ut-W-rt.height-16&&M.push([]),this.set("rows",M)}}this.updateCardSize(O);var lt=this.get("onAnnotationChange");null===lt||void 0===lt||lt(i[O],U?"update":"create")}},e.prototype.updateCardPositionsInConatainer=function(){if(!this.destroyed){var t=this.get("cardInfoMap");if(t){var e=this.get("container"),n=this.get("containerCfg").position,r=e.getBoundingClientRect().width,i=getComputedStyle(e),o=cu(i.paddingLeft)+cu(i.paddingRight);r-=o,Object.values(t).forEach(function(t){var e=t.card,i=e.getBoundingClientRect().width;switch(n){case"right":ui(e,{marginLeft:r?"".concat(r-i,"px"):"0px"});break;case"top":case"bottom":ui(e,{marginLeft:"8px"})}})}}},e.prototype.handleExpandCollapseCard=function(t){if(!this.destroyed){var e=this.get("graph"),n=this.get("cardInfoMap");if(n){var r=n[t].collapsed,i=e.findById(t);if(i)"hide"!==this.get("cardCfg").collapseType||r?this.toggleAnnotation(i,{collapsed:!r}):this.hideCard(t),n[t]=au(au({},n[t]),{collapsed:!r})}}},e.prototype.hideCard=function(t){if(!this.destroyed){var e=this.get("cardInfoMap");if(e&&e[t]){var n=e[t],r=n.card,i=n.link;ui(r,{display:"none"}),null===i||void 0===i||i.hide(),this.get("onAnnotationChange")(e[t],"hide")}}},e.prototype.removeCard=function(t){if(!this.destroyed){var e=this.get("cardInfoMap");if(e){var n=e[t],r=n.card,i=n.link;this.get("container").removeChild(r),null===i||void 0===i||i.remove(!0),delete e[t],this.get("onAnnotationChange")(n,"remove")}}},e.prototype.bindListener=function(t,e){var n=this;if(!this.destroyed){t.addEventListener("mousemove",function(t){var r;if("g6-annotation-collapse"===t.target.className?r="collapse":"g6-annotation-expand"===t.target.className?r="expand":"g6-annotation-close"===t.target.className&&(r="close"),r){var i=n.get("cardCfg").onMouseEnterIcon;(void 0===i?function(){}:i)(t,e,r)}}),t.addEventListener("mouseout",function(t){var r;if("g6-annotation-collapse"===t.target.className?r="collapse":"g6-annotation-expand"===t.target.className?r="expand":"g6-annotation-close"===t.target.className&&(r="close"),r){var i=n.get("cardCfg").onMouseLeaveIcon;(void 0===i?function(){}:i)(t,e,r)}}),t.addEventListener("mouseenter",function(t){var r=n.get("cardInfoMap");if(r){var i=n.get("graph"),o=i.findById(e);if(o){var a=n.get("itemHighlightState");i.setItemState(o,a,!0)}var s=r[e].link;if(s){var u=n.get("linkHighlightStyle")||{};s.attr(u)}}}),t.addEventListener("mouseleave",function(t){var r=n.get("cardInfoMap");if(r){var i=n.get("graph"),o=i.findById(e);if(o){var a=n.get("itemHighlightState");i.setItemState(o,a,!1)}var s=r[e].link;if(s){var u=n.get("linkHighlightStyle")||{};Object.keys(u).forEach(function(t){s.attr(t,void 0),s.attr(t,void 0)});var l=n.get("linkStyle");s.attr(l)}}}),t.addEventListener("click",function(t){var r=(n.get("cardCfg")||{}).onClickIcon;if("g6-annotation-collapse"===t.target.className||"g6-annotation-expand"===t.target.className)"hide"===n.get("cardCfg").collapseType?n.hideCard(e):n.handleExpandCollapseCard(e),null===r||void 0===r||r(t,e,"g6-annotation-collapse"===t.target.className?"collapse":"expand");else if("g6-annotation-close"===t.target.className){"remove"===n.get("cardCfg").closeType?n.removeCard(e):n.hideCard(e),null===r||void 0===r||r(t,e,"close")}}),this.get("editable")&&t.addEventListener("dblclick",function(t){var r=n.get("cardInfoMap"),i=(n.get("cardCfg")||{}).maxTitleLength,o=void 0===i?20:i;if(r){var a=t.target,s=a.className;if("g6-annotation-title"===s||"g6-annotation-content"===s){var u="g6-annotation-title"===s?a.getBoundingClientRect():a.parentNode.getBoundingClientRect(),l=u.width,c=u.height,h=getComputedStyle(a),d=si("<".concat("g6-annotation-title"===s?"input":"textarea",' class="').concat(s,'-input" type="textarea" style="width:').concat(l,"px; height: ").concat(c,'px; min-width: 16px;"/>')),f=si('<div class="'.concat(s,'-input-wrapper" style="width: ').concat(l,"px; height: ").concat(c,"px; min-width: 16px; margin-right: ").concat(h.marginRight,'" />'));f.appendChild(d),a.parentNode.replaceChild(f,a);var p=r[e],g=p.contentPlaceholder,v=p.titlePlaceholder,y=p.content,m=p.title,b=y;"g6-annotation-title"===s?(d.name="title",d.maxLength=o,b=m):d.name="content",b?(d.innerHTML=a.innerHTML,d.value=a.innerHTML):d.placeholder="g6-annotation-title"===s?v:g,d.focus(),d.addEventListener("blur",function(t){d.value&&(a.innerHTML=d.value,p[d.name||"title"]=d.value),f.parentNode.replaceChild(a,f),n.updateCardSize(e);var r=n.get("onAnnotationChange");null===r||void 0===r||r(p,"update")})}}});var r=["g6-annotation-title","g6-annotation-content","g6-annotation-title-input","g6-annotation-content-input"];t.draggable=!0,t.addEventListener("dragstart",function(e){var i=e.target.className;if(!r.includes(i)){var o=t.style;n.set("dragging",{card:t,x:e.clientX,y:e.clientY,left:cu(o.left),top:cu(o.top)})}}),t.addEventListener("drag",function(t){t.preventDefault();var r=n.get("cardInfoMap");if(r){var i=t.clientX,o=t.clientY,a=n.get("dragging");if(!isNaN(i)&&!isNaN(o)&&a){var s=a.x,u=a.y,l=a.left,c=a.top,h=a.card,d=i-s,f=o-u;l+=d,c+=f;var p=n.get("graph"),g=p.getPointByCanvas(0,0),v=p.getPointByCanvas(p.getWidth(),p.getHeight()),y=p.getClientByPoint(g.x,g.y),m=y.x,b=y.y,x=p.getClientByPoint(v.x,v.y),A=x.x,w=x.y,_=h.getBoundingClientRect(),M=_.right-_.left,S=_.bottom-_.top;(l>A-m-M&&d>0||l<0&&d<0)&&(l-=d),(c>w-b-S&&f>0||c<0&&f<0)&&(c-=f),ui(h,{left:"".concat(l,"px"),top:"".concat(c,"px"),visibility:"hidden"}),s=i,u=o;var O=(r[e]||{}).link;if(O){var I=p.findById(e);O.attr("path",lu(I,_,p,n.get("canvas")))}n.set("dragging",{x:s,y:u,left:l,top:c,card:h})}}});t.addEventListener("dragend",function(t){var r=n.get("cardInfoMap");if(r){var i=n.get("dragging");if(i){var o=i.left,a=i.top,s=i.card;r[e].x=o,r[e].y=a,ui(s,{visibility:"visible"}),n.set("dragging",!1);var u=n.get("rows");null===u||void 0===u||u.forEach(function(t){for(var n=t.length-1;n>=0;n--)t[n].id===e&&t.splice(n,1)});var l=n.get("onAnnotationChange");null===l||void 0===l||l(r[e],"update")}}})}},e.prototype.updateCardSize=function(t){var e=this.get("cardInfoMap");if(e){var n=e[t].card,r=n.getBoundingClientRect().width,i=n.getElementsByClassName("g6-annotation-title")[0];if(i){var o=getComputedStyle(i),a=cu(o.marginLeft),s=i.getBoundingClientRect().width;ui(i,{marginRight:"".concat(r-a-24-16-s,"px")})}}},e.prototype.updateLink=function(t){var e=t.item;if(e){var n=this.get("cardInfoMap");if(n){var r=this.get("canvas"),i=this.get("graph"),o=n[e.getID()]||{},a=o.link,s=o.card;if(a){var u=lu(e,s.getBoundingClientRect(),i,r);a.attr("path",u)}}}},e.prototype.updateLinks=function(){var t=this;if(!this.destroyed){var e=this.get("cardInfoMap");if(e){var n=this.get("graph");Object.values(e).forEach(function(e){var r=e.id,i=n.findById(r);t.updateLink({item:i})})}}},e.prototype.onGraphDataChange=function(){var t=this,e=this.get("cardInfoMap");if(e){var n=this.get("graph");Object.values(e).forEach(function(e){var r=e.id,i=e.card,o=e.isCanvas;if(i&&!o&&"none"!==i.style.display){var a=n.findById(r);a&&a.isVisible()?t.toggleAnnotation(a):t.hideCard(r)}})}},e.prototype.onGraphItemVisibilityChange=function(t){var e=t.item,n=t.visible;if(e&&!e.destroyed){var r=this.get("cardInfoMap");if(r){var i=e.getID();r[i]&&(n||this.hideCard(i))}}},e.prototype.saveData=function(t){void 0===t&&(t=!1);var e=this.get("cardInfoMap");if(e){var n=this.get("graph"),r=this.get("getTitle"),i=this.get("getContent"),o=[];return Object.values(e).forEach(function(e){var a=e.title,s=e.content,u=e.x,l=e.y,c=e.id,h=e.collapsed,d=e.card;if(!d||"none"!==d.style.display||t){var f=n.findById(c)||n.get("canvas");o.push({id:c,x:u,y:l,collapsed:h,title:a||(null===r||void 0===r?void 0:r(f)),content:s||(null===i||void 0===i?void 0:i(f)),visible:d&&"none"!==d.style.display})}}),o}},e.prototype.readData=function(t){var e=this,n=this.get("graph");t.forEach(function(t){var r=t.id,i=t.x,o=t.y,a=t.title,s=t.content,u=t.collapsed,l=t.visible,c=n.findById(r);if(c||"canvas-annotation"!==r||(c=n.get("canvas")),!c){var h=e.get("cardInfoMap")||{};return h[r]=t,void e.set("cardInfoMap",h)}e.toggleAnnotation(c,{x:i,y:o,title:a,content:s,collapsed:u}),l||e.hideCard(r)})},e.prototype.clear=function(){var t=this.get("cardInfoMap");if(t){var e=this.get("container");Object.values(t).forEach(function(t){var n=t.card,r=t.link;e.removeChild(n),null===r||void 0===r||r.remove(!0)}),this.set("cardInfoMap",{})}},e.prototype.destroy=function(){var t;this.clear(),null===(t=this.get("canvas"))||void 0===t||t.destroy();var e=this.get("graph");e&&!e.destroyed&&(this.get("containerCfg")&&e.getContainer().removeChild(this.get("container")),this.destroyed=!0)},e}(to),lu=function(t,e,n,r){var i,o;if("edge"===t.getType())o=[t.getKeyShape().getPoint(.5)];else{var a=null===(i=t.getKeyShape)||void 0===i?void 0:i.call(t).getBBox(),s=a.minX,u=a.minY,l=a.maxX,c=a.maxY,h=t.getModel(),d=h.x,f=h.y;o={left:{x:s+=d,y:((u+=f)+(c+=f))/2},right:{x:l+=d,y:(u+c)/2},top:{x:(s+l)/2,y:u},bottom:{x:(s+l)/2,y:c}}}Object.keys(o).forEach(function(t){var e=o[t],i=e.x,a=e.y,s=n.getClientByPoint(i,a);o[t]=r.getPointByClient(s.x,s.y)});var p=e.top,g=void 0===p?0:p,v=e.left,y=void 0===v?0:v,m=e.right,b=void 0===m?0:m,x=e.bottom,A=void 0===x?0:x,w={left:r.getPointByClient(y,(g+A)/2),right:r.getPointByClient(b,(g+A)/2),top:r.getPointByClient((y+b)/2,g),bottom:r.getPointByClient((y+b)/2,A)};return function(t,e){var n,r,i=1/0;Object.keys(t).forEach(function(o){var a=t[o];Object.keys(e).forEach(function(t){var o=e[t],s=a.x-o.x,u=a.y-o.y,l=s*s+u*u;i>l&&(i=l,n=a,r=o)})});var o=Ar.getControlPoint(n,r,.5,20);return[["M",n.x,n.y],["Q",o.x,o.y,r.x,r.y]]}(o,w)},cu=function(t){return Number(t.replace(/\s+|px/gi,""))||0},hu={PluginBase:to,Menu:so,Grid:ro,Minimap:fo,Bundling:yo,ToolBar:_o,Tooltip:So,Fisheye:Ao,TimeBar:Vs,ImageMinimap:Hs,EdgeFilterLens:Zs,SnapLine:tu,Legend:iu,Annotation:uu};Mr("circle",{options:{size:Er.defaultNode.size,style:{x:0,y:0,stroke:Er.defaultNode.style.stroke,fill:Er.defaultNode.style.fill,lineWidth:Er.defaultNode.style.lineWidth},labelCfg:{style:{fill:Er.nodeLabel.style.fill,fontSize:Er.nodeLabel.style.fontSize,fontFamily:Er.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Er.defaultNode.linkPoints.size,lineWidth:Er.defaultNode.linkPoints.lineWidth,fill:Er.defaultNode.linkPoints.fill,stroke:Er.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(p.__assign)({},Er.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=Object(g.deepMix)({},r,t.icon),a="".concat(this.type,"-keyShape"),s=e.addShape("circle",{attrs:i,className:a,name:a,draggable:!0});e.shapeMap[a]=s;var u=o.width,l=o.height,c=o.show,h=o.text;if(c){var d="".concat(this.type,"-icon");e.shapeMap[d]=h?e.addShape("text",{attrs:Object(p.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:d,name:d,draggable:!0}):e.addShape("image",{attrs:Object(p.__assign)({x:-u/2,y:-l/2},o),className:d,name:d,draggable:!0})}return this.drawLinkPoints(t,e),s},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints;if(n){var r=n||{},i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=Object(p.__rest)(r,["top","left","right","bottom","size","r"]),h=this.getSize(t)[0]/2;if(o){var d="link-point-left";e.shapeMap[d]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:-h,y:0,r:u/2||l||5}),className:d,name:d,isAnchorPoint:!0})}if(a){var f="link-point-right";e.shapeMap[f]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:h,y:0,r:u/2||l||5}),className:f,name:f,isAnchorPoint:!0})}if(i){var g="link-point-top";e.shapeMap[g]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:0,y:-h,r:u/2||l||5}),className:g,name:g,isAnchorPoint:!0})}if(s){var v="link-point-bottom";e.shapeMap[v]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:0,y:h,r:u/2||l||5}),className:v,name:v,isAnchorPoint:!0})}}},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=Object(g.deepMix)({},e,n),i=this.getSize(t)[0]/2;return Object(p.__assign)({x:0,y:0,r:i},r)},update:function(t,e,n){var r=e.getContainer(),i=this.getSize(t),o=Object(p.__assign)({},t.style);void 0===t.style.stroke&&t.color&&(o.stroke=t.color),void 0!==t.style.r||isNaN(i[0])||(o.r=i[0]/2),this.updateShape(t,e,o,!0,n),this.updateLinkPoints(t,r)}},"single-node"),Mr("rect",{options:{size:[100,30],style:{radius:0,stroke:Er.defaultNode.style.stroke,fill:Er.defaultNode.style.fill,lineWidth:Er.defaultNode.style.lineWidth},labelCfg:{style:{fill:Er.nodeLabel.style.fill,fontSize:Er.nodeLabel.style.fontSize,fontFamily:Er.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Er.defaultNode.linkPoints.size,lineWidth:Er.defaultNode.linkPoints.lineWidth,fill:Er.defaultNode.linkPoints.fill,stroke:Er.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(p.__assign)({},Er.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t),r=e.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return e.shapeMap["".concat(this.type,"-keyShape")]=r,this.drawLinkPoints(t,e),r},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=Object(p.__rest)(r,["top","left","right","bottom","size","r"]),h=this.getSize(t),d=h[0],f=h[1];o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:-d/2,y:0,r:u/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:d/2,y:0,r:u/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:0,y:-f/2,r:u/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:0,y:f/2,r:u/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=Object(g.mix)({},e,n),i=this.getSize(t),o=r.width||i[0],a=r.height||i[1];return Object(p.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getSize(t),a=e.get("keyShape");t.size||(o[0]=a.attr("width")||i.width,o[1]=a.attr("height")||i.height);var s={stroke:t.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},u=Object(g.mix)({},i,a.attr(),s);u=Object(g.mix)(u,t.style),this.updateShape(t,e,u,!1,n),this.updateLinkPoints(t,r)}},"single-node"),Mr("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Er.defaultNode.style.stroke,fill:Er.defaultNode.style.fill,lineWidth:Er.defaultNode.style.lineWidth},labelCfg:{style:{fill:Er.nodeLabel.style.fill,fontSize:Er.nodeLabel.style.fontSize,fontFamily:Er.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Er.defaultNode.linkPoints.size,lineWidth:Er.defaultNode.linkPoints.lineWidth,fill:Er.defaultNode.linkPoints.fill,stroke:Er.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(p.__assign)({},Er.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=e.addShape("ellipse",{attrs:i,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});e.shapeMap["ellipse-keyShape"]=o;var a=r.width,s=r.height,u=r.show,l=r.text;return u&&(e.shapeMap["".concat(this.type,"-icon")]=l?e.addShape("text",{attrs:Object(p.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:Object(p.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=Object(p.__rest)(r,["top","left","right","bottom","size","r"]),h=this.getSize(t),d=h[0]/2,f=h[1]/2;o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:-d,y:0,r:u/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:d,y:0,r:u/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:0,y:-f,r:u/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:0,y:f,r:u/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=Object(g.mix)({},e,n),i=this.getSize(t),o=i[0]/2,a=i[1]/2;return Object(p.__assign)({x:0,y:0,rx:o,ry:a},r)},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getSize(t),a={stroke:t.color,rx:o[0]/2,ry:o[1]/2},s=e.get("keyShape"),u=Object(g.mix)({},i,s.attr(),a);u=Object(g.mix)(u,t.style),this.updateShape(t,e,u,!0,n),this.updateLinkPoints(t,r)}},"single-node"),Mr("diamond",{options:{size:[80,80],style:{stroke:Er.defaultNode.style.stroke,fill:Er.defaultNode.style.fill,lineWidth:Er.defaultNode.style.lineWidth},labelCfg:{style:{fill:Er.nodeLabel.style.fill,fontSize:Er.nodeLabel.style.fontSize,fontFamily:Er.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Er.defaultNode.linkPoints.size,lineWidth:Er.defaultNode.linkPoints.lineWidth,fill:Er.defaultNode.linkPoints.fill,stroke:Er.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(p.__assign)({},Er.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=e.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=o;var a=r.width,s=r.height,u=r.show,l=r.text;return u&&(e.shapeMap["".concat(this.type,"-icon")]=l?e.addShape("text",{attrs:Object(p.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:Object(p.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=Object(p.__rest)(r,["top","left","right","bottom","size","r"]),h=this.getSize(t),d=h[0],f=h[1];o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:-d/2,y:0,r:u/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:d/2,y:0,r:u/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:0,y:-f/2,r:u/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:0,y:f/2,r:u/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(t){var e=this.getSize(t),n=e[0],r=e[1];return[["M",0,-r/2],["L",n/2,0],["L",0,r/2],["L",-n/2,0],["Z"]]},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=Object(g.mix)({},e,n),i=this.getPath(t);return Object(p.__assign)({path:i},r)},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getPath(t),a={stroke:t.color,path:o},s=e.get("keyShape"),u=Object(g.mix)({},i,s.attr(),a);u=Object(g.mix)(u,t.style),this.updateShape(t,e,u,!0,n),this.updateLinkPoints(t,r)}},"single-node"),Mr("triangle",{options:{size:40,direction:"up",style:{stroke:Er.defaultNode.style.stroke,fill:Er.defaultNode.style.fill,lineWidth:Er.defaultNode.style.lineWidth},labelCfg:{style:{fill:Er.nodeLabel.style.fill,fontSize:Er.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Er.defaultNode.linkPoints.size,lineWidth:Er.defaultNode.linkPoints.lineWidth,fill:Er.defaultNode.linkPoints.fill,stroke:Er.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:Object(p.__assign)({},Er.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(t,e){var n=this.mergeStyle||this.getOptions(t),r=n.icon,i=void 0===r?{}:r,o=n.direction,a=this.getShapeStyle(t),s=t.direction||o,u=e.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=u;var l=i.width,c=i.height,h=i.show,d=i.offset,f=i.text;if(h)if(f)e.shapeMap["".concat(this.type,"-icon")]=e.addShape("text",{attrs:Object(p.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var g=-l/2,v=-c/2;"up"!==s&&"down"!==s||(v+=d),"left"!==s&&"right"!==s||(g+=d),e.shapeMap["".concat(this.type,"-icon")]=e.addShape("image",{attrs:Object(p.__assign)({x:g,y:v},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(t,e),u},drawLinkPoints:function(t,e){var n=this.mergeStyle||this.getOptions(t),r=n.linkPoints,i=void 0===r?{}:r,o=n.direction,a=t.direction||o,s=i.top,u=i.left,l=i.right,c=i.bottom,h=i.size,d=i.r,f=Object(p.__rest)(i,["top","left","right","bottom","size","r"]),g=this.getSize(t)[0];if(u){var v=null,y=g*Math.sin(1/3*Math.PI),m=g*Math.sin(1/3*Math.PI);"up"===a?v=[-m,y]:"down"===a?v=[-m,-y]:"left"===a&&(v=[-m,m-y]),v&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},f),{x:v[0],y:v[1],r:h/2||d||5}),className:"link-point-left",name:"link-point-left"}))}if(l){var b=null;y=g*Math.sin(1/3*Math.PI),m=g*Math.sin(1/3*Math.PI);"up"===a?b=[m,y]:"down"===a?b=[m,-y]:"right"===a&&(b=[m,m-y]),b&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},f),{x:b[0],y:b[1],r:h/2||d||5}),className:"link-point-right",name:"link-point-right"}))}if(s){var x=null;y=g*Math.sin(1/3*Math.PI),m=g*Math.sin(1/3*Math.PI);"up"===a?x=[m-y,-y]:"left"===a?x=[m,-y]:"right"===a&&(x=[-m,-y]),x&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},f),{x:x[0],y:x[1],r:h/2||d||5}),className:"link-point-top",name:"link-point-top"}))}if(c){var A=null;y=g*Math.sin(1/3*Math.PI),m=g*Math.sin(1/3*Math.PI);"down"===a?A=[-m+y,y]:"left"===a?A=[m,y]:"right"===a&&(A=[-m,y]),A&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},f),{x:A[0],y:A[1],r:h/2||d||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(t){var e=(this.mergeStyle||this.getOptions(t)).direction,n=t.direction||e,r=this.getSize(t)[0],i=r*Math.sin(1/3*Math.PI),o=r*Math.sin(1/3*Math.PI),a=[["M",-o,i],["L",0,-i],["L",o,i],["Z"]];return"down"===n?a=[["M",-o,-i],["L",o,-i],["L",0,i],["Z"]]:"left"===n?a=[["M",-o,o-i],["L",o,-o],["L",o,o],["Z"]]:"right"===n&&(a=[["M",o,o-i],["L",-o,o],["L",-o,-o],["Z"]]),a},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=Object(g.mix)({},e,n),i=this.getPath(t);return Object(p.__assign)({path:i},r)},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getPath(t),a={stroke:t.color,path:o},s=e.get("keyShape"),u=Object(g.mix)({},i,s.attr(),a);u=Object(g.mix)(u,t.style),this.updateShape(t,e,u,!0,n),this.updateLinkPoints(t,r)},updateLinkPoints:function(t,e){var n=this.getOptions({}),r=n.linkPoints,i=n.direction,o=t.direction||i,a=e.shapeMap["link-point-left"]||e.find(function(t){return"link-point-left"===t.get("className")}),s=e.shapeMap["link-point-right"]||e.find(function(t){return"link-point-right"===t.get("className")}),u=e.shapeMap["link-point-top"]||e.find(function(t){return"link-point-top"===t.get("className")}),l=e.shapeMap["link-point-bottom"]||e.find(function(t){return"link-point-bottom"===t.get("className")}),c=r,h=a||s||u||l;h&&(c=h.attr());var d=Object(g.mix)({},c,t.linkPoints),f=d.fill,v=d.stroke,y=d.lineWidth,m=d.size/2;m||(m=d.r);var b=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},x=b.left,A=b.right,w=b.top,_=b.bottom,M=this.getSize(t)[0],S={r:m,fill:f,stroke:v,lineWidth:y},O=null,I=M*Math.sin(1/3*Math.PI),E=M*Math.sin(1/3*Math.PI);"up"===o?O=[-E,I]:"down"===o?O=[-E,-I]:"left"===o&&(O=[-E,E-I]),O&&(a?x||void 0===x?a.attr(Object(p.__assign)(Object(p.__assign)({},S),{x:O[0],y:O[1]})):(a.remove(),delete e.shapeMap["link-point-left"]):x&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},S),{x:O[0],y:O[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var C=null;"up"===o?C=[E,I]:"down"===o?C=[E,-I]:"right"===o&&(C=[E,E-I]),C&&(s?A||void 0===A?s.attr(Object(p.__assign)(Object(p.__assign)({},S),{x:C[0],y:C[1]})):(s.remove(),delete e.shapeMap["link-point-right"]):A&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},S),{x:C[0],y:C[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var k=null;"up"===o?k=[E-I,-I]:"left"===o?k=[E,-I]:"right"===o&&(k=[-E,-I]),k&&(u?w||void 0===w?u.attr(Object(p.__assign)(Object(p.__assign)({},S),{x:k[0],y:k[1]})):(u.remove(),delete e.shapeMap["link-point-top"]):w&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},S),{x:k[0],y:k[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var T=null;"down"===o?T=[-E+I,I]:"left"===o?T=[E,I]:"right"===o&&(T=[-E,I]),T&&(l?_||void 0===_?l.attr(Object(p.__assign)(Object(p.__assign)({},S),{x:T[0],y:T[1]})):(l.remove(),delete e.shapeMap["link-point-bottom"]):_&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},S),{x:T[0],y:T[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node"),Mr("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Er.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:Er.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:Er.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).preRect,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=this.getSize(t),a=o[0],s=o[1],u=e.addShape("rect",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=u;var l=r.show,c=Object(p.__rest)(r,["show"]);return l&&(e.shapeMap["pre-rect"]=e.addShape("rect",{attrs:Object(p.__assign)({x:-a/2,y:-s/2,height:s},c),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(t,e),this.drawStateIcon(t,e),this.drawLinkPoints(t,e),u},drawLogoIcon:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).logoIcon,r=void 0===n?{}:n,i=this.getSize(t)[0];if(r.show){var o=r.width,a=r.height,s=r.x,u=r.y,l=r.offset,c=r.text,h=Object(p.__rest)(r,["width","height","x","y","offset","text"]);e.shapeMap["rect-logo-icon"]=c?e.addShape("text",{attrs:Object(p.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},h),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):e.addShape("image",{attrs:Object(p.__assign)(Object(p.__assign)({},h),{x:s||-i/2+o+l,y:u||-a/2,width:o,height:a}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).stateIcon,r=void 0===n?{}:n,i=this.getSize(t)[0];if(r.show){var o=r.width,a=r.height,s=r.x,u=r.y,l=r.offset,c=r.text,h=Object(p.__rest)(r,["width","height","x","y","offset","text"]);e.shapeMap["rect-state-icon"]=c?e.addShape("text",{attrs:Object(p.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},h),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):e.addShape("image",{attrs:Object(p.__assign)(Object(p.__assign)({},h),{x:s||i/2-o+l,y:u||-a/2,width:o,height:a}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=Object(p.__rest)(r,["top","left","right","bottom","size","r"]),h=this.getSize(t),d=h[0],f=h[1];o&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:-d/2,y:0,r:u/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:d/2,y:0,r:u/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:0,y:-f/2,r:u/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},c),{x:0,y:f/2,r:u/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(t,e){var n=this.getOptions(t),r=n.labelCfg,i=void 0===r?{}:r,o=n.logoIcon,a=void 0===o?{}:o,s=n.descriptionCfg,u=void 0===s?{}:s,l=this.getSize(t)[0],c=null,h=a.show,d=a.width,f=-l/2+i.offset;h&&(f=-l/2+d+i.offset);var v=i.style,y=u.style,m=u.paddingTop;return Object(g.isString)(t.description)?(c=e.addShape("text",{attrs:Object(p.__assign)(Object(p.__assign)({},v),{x:f,y:-5,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),e.shapeMap["text-shape"]=c,e.shapeMap["rect-description"]=e.addShape("text",{attrs:Object(p.__assign)(Object(p.__assign)({},y),{x:f,y:17+(m||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(c=e.addShape("text",{attrs:Object(p.__assign)(Object(p.__assign)({},v),{x:f,y:7,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),e.shapeMap["text-shape"]=c),c},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=Object(g.mix)({},e,n),i=this.getSize(t),o=r.width||i[0],a=r.height||i[1];return Object(p.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(t,e){var n=this.mergeStyle||this.getOptions(t),r=n.style,i=void 0===r?{}:r,o=n.labelCfg,a=void 0===o?{}:o,s=n.descriptionCfg,u=void 0===s?{}:s,l=this.getSize(t),c=l[0],h=l[1];e.get("keyShape").attr(Object(p.__assign)(Object(p.__assign)({},i),{x:-c/2,y:-h/2,width:c,height:h}));var d=e.getContainer(),f=d.shapeMap["rect-logo-icon"]||d.find(function(t){return"rect-logo-icon"===t.get("className")}),v=f?f.attr():{},y=Object(g.mix)({},v,t.logoIcon),m=y.width;void 0===m&&(m=this.options.logoIcon.width);var b=t.logoIcon?t.logoIcon.show:void 0,x=a.offset,A=-c/2+m+x;b||void 0===b||(A=-c/2+x);var w=d.shapeMap["node-label"]||d.find(function(t){return"node-label"===t.get("className")}),_=d.shapeMap["rect-description"]||d.find(function(t){return"rect-description"===t.get("className")});if(t.label)if(w){var M=t.labelCfg?t.labelCfg.style:{},S=Object(g.mix)({},w.attr(),M);t.label&&(S.text=t.label),S.x=A,Object(g.isString)(t.description)&&(S.y=-5),_&&(_.resetMatrix(),_.attr({x:A})),w.resetMatrix(),w.attr(S)}else d.shapeMap["node-label"]=d.addShape("text",{attrs:Object(p.__assign)(Object(p.__assign)({},a.style),{x:A,y:t.description?-5:7,text:t.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});if(Object(g.isString)(t.description)){var O=u.paddingTop;if(_){M=t.descriptionCfg?t.descriptionCfg.style:{};var I=Object(g.mix)({},_.attr(),M);Object(g.isString)(t.description)&&(I.text=t.description),I.x=A,_.resetMatrix(),_.attr(Object(p.__assign)(Object(p.__assign)({},I),{y:17+(O||0)}))}else d.shapeMap["rect-description"]=d.addShape("text",{attrs:Object(p.__assign)(Object(p.__assign)({},u.style),{x:A,y:17+(O||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})}var E=d.shapeMap["pre-rect"]||d.find(function(t){return"pre-rect"===t.get("className")});if(E&&!E.destroyed){var C=Object(g.mix)({},E.attr(),t.preRect);E.attr(Object(p.__assign)(Object(p.__assign)({},C),{x:-c/2,y:-h/2,height:h}))}if(f&&!f.destroyed)if(b||void 0===b){var k=y.width,T=y.height,D=y.x,j=y.y,L=y.offset,P=Object(p.__rest)(y,["width","height","x","y","offset"]);f.attr(Object(p.__assign)(Object(p.__assign)({},P),{x:D||-c/2+k+L,y:j||-T/2,width:k,height:T}))}else f.remove(),delete d.shapeMap["pre-rect"];else b&&this.drawLogoIcon(t,d);var N=d.shapeMap["rect-state-icon"]||d.find(function(t){return"rect-state-icon"===t.get("className")}),R=N?N.attr():{},B=Object(g.mix)({},R,t.stateIcon);if(N){B.show||void 0===B.show||(N.remove(),delete d.shapeMap["rect-state-icon"]);var z=B.width,F=(T=B.height,D=B.x,j=B.y,B.offset),G=Object(p.__rest)(B,["width","height","x","y","offset"]);N.attr(Object(p.__assign)(Object(p.__assign)({},G),{x:D||c/2-z+F,y:j||-T/2,width:z,height:T}))}else B.show&&this.drawStateIcon(t,d);this.updateLinkPoints(t,d)},getOptions:function(t,e){return"move"===e?t:Object(g.deepMix)({},this.options,this.getCustomConfig(t)||{},t)}},"single-node"),Mr("star",{options:{size:60,style:{stroke:Er.defaultNode.style.stroke,fill:Er.defaultNode.style.fill,lineWidth:Er.defaultNode.style.lineWidth},labelCfg:{style:{fill:Er.nodeLabel.style.fill,fontSize:Er.nodeLabel.style.fontSize,fontFamily:Er.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Er.defaultNode.linkPoints.size,lineWidth:Er.defaultNode.linkPoints.lineWidth,fill:Er.defaultNode.linkPoints.fill,stroke:Er.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(p.__assign)({},Er.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=e.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});e.shapeMap["".concat(this.type,"-keyShape")]=o;var a=r.width,s=r.height,u=r.show,l=r.text;return u&&(e.shapeMap["".concat(this.type,"-icon")]=l?e.addShape("text",{attrs:Object(p.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:Object(p.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.leftBottom,u=r.rightBottom,l=r.size,c=r.r,h=Object(p.__rest)(r,["top","left","right","leftBottom","rightBottom","size","r"]),d=this.getSize(t)[0];if(a){var f=Math.cos(.1*Math.PI)*d,g=Math.sin(.1*Math.PI)*d;e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},h),{x:f,y:-g,r:l/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(i){f=Math.cos(.5*Math.PI)*d,g=Math.sin(.5*Math.PI)*d;e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},h),{x:f,y:-g,r:l/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){f=Math.cos(.9*Math.PI)*d,g=Math.sin(.9*Math.PI)*d;e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},h),{x:f,y:-g,r:l/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(s){f=Math.cos(1.3*Math.PI)*d,g=Math.sin(1.3*Math.PI)*d;e.shapeMap["link-point-bottom"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},h),{x:f,y:-g,r:l/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){f=Math.cos(1.7*Math.PI)*d,g=Math.sin(1.7*Math.PI)*d;e.shapeMap["link-point-right-bottom"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},h),{x:f,y:-g,r:l/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(t){var e=this.getSize(t)[0],n=3*e/8,r=t.innerR||n;return Ar.getStarPath(e,r)},getShapeStyle:function(t){var e=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},r=Object(g.mix)({},e,n),i=this.getPath(t);return Object(p.__assign)({path:i},r)},update:function(t,e,n){var r=e.getContainer(),i=this.getOptions({}).style,o=this.getPath(t),a={stroke:t.color,path:o},s=e.get("keyShape"),u=Object(g.mix)({},i,s.attr(),a);u=Object(g.mix)(u,t.style),this.updateShape(t,e,u,!0,n),this.updateLinkPoints(t,r)},updateLinkPoints:function(t,e){var n=this.getOptions({}).linkPoints,r=e.shapeMap["link-point-left"]||e.find(function(t){return"link-point-left"===t.get("className")}),i=e.shapeMap["link-point-right"]||e.find(function(t){return"link-point-right"===t.get("className")}),o=e.shapeMap["link-point-top"]||e.find(function(t){return"link-point-top"===t.get("className")}),a=e.shapeMap["link-point-left-bottom"]||e.find(function(t){return"link-point-left-bottom"===t.get("className")}),s=e.shapeMap["link-point-left-bottom"]||e.find(function(t){return"link-point-right-bottom"===t.get("className")}),u=n,l=r||i||o||a||s;l&&(u=l.attr());var c=Object(g.mix)({},u,t.linkPoints),h=c.fill,d=c.stroke,f=c.lineWidth,v=c.size/2;v||(v=c.r);var y=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},m=y.left,b=y.right,x=y.top,A=y.leftBottom,w=y.rightBottom,_=this.getSize(t)[0],M={r:v,fill:h,stroke:d,lineWidth:f},S=Math.cos(.1*Math.PI)*_,O=Math.sin(.1*Math.PI)*_;i?b||void 0===b?i.attr(Object(p.__assign)(Object(p.__assign)({},M),{x:S,y:-O})):(i.remove(),delete e.shapeMap["link-point-right"]):b&&(e.shapeMap["link-point-right"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},M),{x:S,y:-O}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),S=Math.cos(.5*Math.PI)*_,O=Math.sin(.5*Math.PI)*_,o?x||void 0===x?o.attr(Object(p.__assign)(Object(p.__assign)({},M),{x:S,y:-O})):(o.remove(),delete e.shapeMap["link-point-top"]):x&&(e.shapeMap["link-point-top"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},M),{x:S,y:-O}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),S=Math.cos(.9*Math.PI)*_,O=Math.sin(.9*Math.PI)*_,r?m||void 0===m?r.attr(Object(p.__assign)(Object(p.__assign)({},M),{x:S,y:-O})):(r.remove(),delete e.shapeMap["link-point-left"]):m&&(e.shapeMap["link-point-left"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},M),{x:S,y:-O}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),S=Math.cos(1.3*Math.PI)*_,O=Math.sin(1.3*Math.PI)*_,a?A||void 0===A?a.attr(Object(p.__assign)(Object(p.__assign)({},M),{x:S,y:-O})):(a.remove(),delete e.shapeMap["link-point-left-bottom"]):A&&(e.shapeMap["link-point-left-bottom"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},M),{x:S,y:-O}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),S=Math.cos(1.7*Math.PI)*_,O=Math.sin(1.7*Math.PI)*_,s?w||void 0===w?s.attr(Object(p.__assign)(Object(p.__assign)({},M),{x:S,y:-O})):(s.remove(),delete e.shapeMap["link-point-right-bottom"]):w&&(e.shapeMap["link-point-right-bottom"]=e.addShape("circle",{attrs:Object(p.__assign)(Object(p.__assign)({},M),{x:S,y:-O}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var du=Ar.defaultSubjectColors;Mr("donut",{options:{size:Er.defaultNode.size,style:{x:0,y:0,stroke:Er.defaultNode.style.stroke,fill:Er.defaultNode.style.fill,lineWidth:Er.defaultNode.style.lineWidth},labelCfg:{style:{fill:Er.nodeLabel.style.fill,fontSize:Er.nodeLabel.style.fontSize,fontFamily:Er.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Er.defaultNode.linkPoints.size,lineWidth:Er.defaultNode.linkPoints.lineWidth,fill:Er.defaultNode.linkPoints.fill,stroke:Er.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(p.__assign)({},Er.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var n=(this.mergeStyle||this.getOptions(t)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(t),o=Object(g.deepMix)({},r,t.icon),a=e.addShape("circle",{attrs:i,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});e.shapeMap["".concat(this.type,"-keyShape")]=a;var s=o.width,u=o.height,l=o.show,c=o.text;return l&&(e.shapeMap["".concat(this.type,"-icon")]=c?e.addShape("text",{attrs:Object(p.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):e.addShape("image",{attrs:Object(p.__assign)({x:-s/2,y:-u/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),fu(t,e,a),this.drawLinkPoints(t,e),a},updateShape:function(t,e,n,r,i){var o=e.get("keyShape");o.attr(Object(p.__assign)({},n)),gu(t,e,o),this.updateLabel(t,e,i),r&&this.updateIcon(t,e)}},"circle");var fu=function(t,e,n){var r=t.donutAttrs,i=void 0===r?{}:r,o=t.donutColorMap,a=void 0===o?{}:o,s=Object.keys(i).length;if(i&&s>1){var u=vu(i,a),l=u.configs,c=u.totalValue;if(c){var h=yu(n),d=h.lineWidth,f=h.arcR,p=[f,0],g=0;if(1===s)return void pu(e,{arcR:f,arcBegin:p,beginAngle:g,config:l[0],fanIndex:0,lineWidth:d,totalValue:c,drawWhole:!0});for(var v=0;v<l.length;v++){var y=pu(e,{arcR:f,arcBegin:p,beginAngle:g,config:l[v],fanIndex:v,lineWidth:d,totalValue:c});if(y.shouldEnd)return;p=y.arcBegin,g=y.beginAngle}}}},pu=function(t,e){var n,r,i,o=e.arcR,a=e.arcBegin,s=e.beginAngle,u=e.config,l=e.fanIndex,c=e.lineWidth,h=e.totalValue,d=e.drawWhole,f=void 0!==d&&d,p=e.updateShape,g=void 0===p?void 0:p,v=u.value/h;if(v<.001)return{beginAngle:s,arcBegin:a,shape:void 0,shouldEnd:!1};if(f||v>.999)n=[o,1e-4],i=1;else{var y=v*Math.PI*2;r=s+y,n=[o*Math.cos(r),-o*Math.sin(r)],i=y>Math.PI?1:0}var m={path:[["M",a[0],a[1]],["A",o,o,0,i,0,n[0],n[1]],["L",n[0],n[1]]],stroke:u.color||(null===g||void 0===g?void 0:g.attr("stroke"))||du[l%du.length],lineWidth:c};return g?g.attr(m):t.shapeMap["".concat("fan-shape-").concat(l)]=t.addShape("path",{attrs:m,name:"".concat("fan-shape-").concat(l),draggable:!0}),{beginAngle:r,arcBegin:n,shape:t.shapeMap["".concat("fan-shape-").concat(l)],shouldEnd:f||v>.999}},gu=function(t,e,n){var r=t.donutAttrs,i=t.donutColorMap,o=void 0===i?{}:i,a={},s=e.getContainer();if(r){var u=vu(r,o),l=u.configs,c=u.totalValue;if(c)for(var h=yu(n),d=h.lineWidth,f=h.arcR,p=[f,0],g=0,v=0;v<l.length;v++){var y="".concat("fan-shape-").concat(v),m=pu(s,{arcR:f,arcBegin:p,beginAngle:g,config:l[v],fanIndex:v,lineWidth:d,totalValue:c,drawWhole:1===l.length,updateShape:s.shapeMap[y]});if(m.shape&&(a[y]=!0),m.shouldEnd)break;p=m.arcBegin,g=m.beginAngle}}Object.keys(s.shapeMap).filter(function(t){return t.includes("fan-shape-")}).forEach(function(t){a[t]||(s.shapeMap[t].remove(!0),delete s.shapeMap[t])})},vu=function(t,e){var n=0,r=[];return Object.keys(t).forEach(function(i){var o=+t[i];isNaN(o)||(r.push({key:i,value:o,color:e[i]}),n+=o)}),{totalValue:n,configs:r}},yu=function(t){var e=t.attr("r"),n=.6*e;return{lineWidth:e-n,arcR:(e+n)/2}},mu=function(t){var e=t.x,n=t.y;return{x:e,y:n,centerX:e,centerY:n,minX:e,minY:n,maxX:e,maxY:n,height:0,width:0}},bu=function(t){for(var e=[],n={},r=t.length-1;r>=0;r--){var i=t[r];i.id="".concat(i.x,"|||").concat(i.y),n[i.id]||(n[i.id]=i,e.push(i))}return e},xu=function(t){return bu(t)},Au=function(t,e){return t.width||t.height?{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}:t},wu=function(t,e,n){var r=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return 0===n&&0===r?0:n/e.width>r/e.height}(e,t);if(0===r){var i=t.centerX,o=t.centerY;return n.y<e.y?o=t.minY:n.x>e.x?i=t.maxX:n.x<e.x?i=t.minX:n.x===e.x&&(o=t.maxY),{x:i,y:o}}return r?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},_u=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},Mu=function(t){return[{x:t.minX,y:t.minY},{x:t.maxX,y:t.minY},{x:t.maxX,y:t.maxY},{x:t.minX,y:t.maxY}]},Su=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Ou=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Iu=function(t,e,n,r,i){return Ou(t,e)+Ou(t,n)+function(t,e){var n=0;return e.forEach(function(e){e&&(t.x===e.x&&(n+=-2),t.y===e.y&&(n+=-2))}),n}(t,[e,n,r,i])},Eu=function t(e,n,r,i,o){void 0===o&&(o=0),e.unshift(n[i]),r[i]&&r[i]!==i&&o<=100&&t(e,n,r,r[i],o+1)},Cu=function(t,e,n,r){var i=n.x-t.x,o=n.y-t.y,a=r.x-t.x,s=r.y-t.y,u=n.x-e.x,l=n.y-e.y,c=r.x-e.x,h=r.y-e.y;return(i*s-o*a)*(u*h-l*c)<=0&&(i*l-o*u)*(a*h-s*c)<=0},ku=function(t,e,n){if(n.width||n.height){var r=Mu(n),i=r[0],o=r[1],a=r[2],s=r[3];return Cu(t,e,i,o)||Cu(t,e,i,s)||Cu(t,e,o,a)||Cu(t,e,a,s)}return!1},Tu=function(t,e,n,r){var i=[];return t.forEach(function(t){if(t!==e&&(t.x===e.x||t.y===e.y)){if(ku(t,e,n)||ku(t,e,r))return;i.push(t)}}),bu(i)},Du=function(t,e){var n=[],r=t[0];return n.push("M".concat(r.x," ").concat(r.y)),t.forEach(function(r,i){var o=t[i+1],a=t[i+2];if(o&&a)if(function(t,e,n){return!(t.x===e.x&&e.x===n.x||t.y===e.y&&e.y===n.y)}(r,o,a)){var s=function(t,e,n,r){var i=Ou(t,e),o=Ou(n,e);return i<r&&(r=i),o<r&&(r=o),[{x:e.x-r/i*(e.x-t.x),y:e.y-r/i*(e.y-t.y)},{x:e.x-r/o*(e.x-n.x),y:e.y-r/o*(e.y-n.y)}]}(r,o,a,e),u=s[0],l=s[1];n.push("L".concat(u.x," ").concat(u.y)),n.push("Q".concat(o.x," ").concat(o.y," ").concat(l.x," ").concat(l.y)),n.push("L".concat(l.x," ").concat(l.y))}else n.push("L".concat(o.x," ").concat(o.y));else o&&n.push("L".concat(o.x," ").concat(o.y))}),n.join("")},ju=function(t,e,n,r,i){var o,a;if(n&&n.getType())if("combo"===n.getType()){var s=n.getKeyShape().getBBox();if(s){var u=n.getModel(),l=u.x,c=u.y;(o={x:l,y:c,width:s.width,height:s.height,minX:s.minX+l,maxX:s.maxX+l,minY:s.minY+c,maxY:s.maxY+c}).centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=mu(t)}else o=n&&n.getBBox();else o=mu(t);if(r&&r.getType())if("combo"===r.getType()){var h=r.getKeyShape().getBBox();if(h){var d=r.getModel(),f=d.x,p=d.y;(a={x:f,y:p,width:h.width,height:h.height,minX:h.minX+f,maxX:h.maxX+f,minY:h.minY+p,maxY:h.maxY+p}).centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2}else a=mu(e)}else a=r&&r.getBBox();else a=mu(e);var g=Au(o,i),v=Au(a,i),y=wu(g,t,e),m=wu(v,e,t),b=function(t){void 0===t&&(t=[]);var e=[],n=[];t.forEach(function(t){e.push(t.x),n.push(t.y)});var r=Math.min.apply(Math,e),i=Math.max.apply(Math,e),o=Math.min.apply(Math,n),a=Math.max.apply(Math,n);return{centerX:(r+i)/2,centerY:(o+a)/2,maxX:i,maxY:a,minX:r,minY:o,height:a-o,width:i-r}}([y,m]),x=_u(g,b),A=_u(v,b),w=[];w=w.concat(Mu(x)).concat(Mu(A));var _={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[b,x,A].forEach(function(t){w=w.concat(function(t,e){return function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]}(t,e.x).concat(function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]}(t,e.y))}(t,_).filter(function(t){return Su(t,g)&&Su(t,v)}))}),[{x:y.x,y:m.y},{x:m.x,y:y.y}].forEach(function(t){Su(t,g)&&Su(t,v)&&w.push(t)}),w.unshift(y),w.push(m);var M=function(t,e,n,r,i,o,a){var s,u=[],l=((s={})[e.id]=e,s),c={},h={},d={};h[e.id]=0,d[e.id]=Iu(e,n,e);var f=new Lu;f.add({id:e.id,value:d[e.id]});var p,g={};for(t.forEach(function(t){g[t.id]=t});Object.keys(l).length;){var v=f.minId(!1);if(!v)break;if((p=l[v])===n){var y=[];return Eu(y,g,c,n.id),y}delete l[p.id],f.remove(p.id),u.push(p);var m=Tu(t,p,r,i);m.forEach(function(t){if(-1===u.indexOf(t)){var r=t.id;l[r]||(l[r]=t);var i=d[p.id]+Ou(p,t);h[r]&&i>=h[r]?f.add({id:r,value:d[r]}):(c[r]=p.id,h[r]=i,d[r]=h[r]+Iu(t,n,e,o,a),f.add({id:r,value:d[r]}))}})}return[e,n]}(w=bu(w),y,m,o,a,t,e);return M.unshift(t),M.push(e),xu(M)},Lu=function(){function t(){this.arr=[],this.map={},this.arr=[],this.map={}}return t.prototype._innerAdd=function(t,e){for(var n=[0,e-1];n[1]-n[0]>1;){var r=Math.floor((n[0]+n[1])/2);if(this.arr[r].value>t.value)n[1]=r;else{if(!(this.arr[r].value<t.value))return this.arr.splice(r,0,t),void(this.map[t.id]=!0);n[0]=r}}this.arr.splice(n[1],0,t),this.map[t.id]=!0},t.prototype.add=function(t){delete this.map[t.id];var e=this.arr.length;return e?this.arr[e-1].value<t.value?(this.arr.push(t),void(this.map[t.id]=!0)):void this._innerAdd(t,e):(this.arr.push(t),void(this.map[t.id]=!0))},t.prototype.remove=function(t){this.map[t]&&delete this.map[t]},t.prototype._clearAndGetMinId=function(){for(var t,e=this.arr.length-1;e>=0;e--)this.map[this.arr[e].id]?t=this.arr[e].id:this.arr.splice(e,1);return t},t.prototype._findFirstId=function(){for(;this.arr.length;){var t=this.arr.shift();if(this.map[t.id])return t.id}},t.prototype.minId=function(t){return t?this._clearAndGetMinId():this._findFirstId()},t}(),Pu={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},fallbackRoute:function(t,e,n,r,i){return xu(ju(t,e,n,r,i.offset))}},Nu=(Math.PI,function(t,e){var n=Math.round(Math.abs(t/e));return n<0?0:(t<0?-1:1)*n}),Ru=function(t,e){var n=e.x-t.x,r=e.y-t.y;return n||r?Math.atan2(r,n):0},Bu=function(t,e){var n=Math.abs(t-e);return n>Math.PI?2*Math.PI-n:n},zu=function(t,e,n){for(var r=1/0,i=0,o=e.length;i<o;i++){var a=n(t,e[i]);a<r&&(r=a)}return r},Fu=function(t,e,n,r,i){var o=[];if(!n)return[t];var a=i.directions,s=i.offset,u=n.getBBox(),l=e.x>u.minX&&e.x<u.maxX&&e.y>u.minY&&e.y<u.maxY,c=Au(u,s);for(var h in c)c[h]=Nu(c[h],i.gridSize);if(l){for(var d=0,f=a;d<f.length;d++){var p=f[d],g=[[{x:c.minX,y:c.minY},{x:c.maxX,y:c.minY}],[{x:c.minX,y:c.minY},{x:c.minX,y:c.maxY}],[{x:c.maxX,y:c.minY},{x:c.maxX,y:c.maxY}],[{x:c.minX,y:c.maxY},{x:c.maxX,y:c.maxY}]];for(h=0;h<4;h++){var v=g[h],y=Ar.getLineIntersect(t,{x:t.x+p.stepX*c.width,y:t.y+p.stepY*c.height},v[0],v[1]);y&&!ku(t,y,u)&&(y.id="".concat(y.x,"|||").concat(y.y),o.push(y))}}return o}var m=wu(c,t,r);return m.id="".concat(m.x,"|||").concat(m.y),[m]},Gu=function(t,e,n,r){var i=Ru(t,e),o=n[t.id];if(!o){var a=Ru(r,t);return Bu(a,i)}var s=Ru({x:o.x,y:o.y},t);return Bu(s,i)},Vu=function(t,e,n,r,i,o,a){var s=[r],u=r,l=t.id,c=t.x,h=t.y,d={x:c,y:h,id:l};Gu(d,o,e,n)&&(u={x:o.x===r.x?r.x:d.x*a,y:o.y===r.y?r.y:d.y*a},s.unshift(u));for(var f=e[l];f&&f.id!==l;){var p={x:c,y:h,id:l},g={x:f.x,y:f.y,id:f.id};Gu(g,p,e,n)&&(u={x:g.x===p.x?u.x:g.x*a,y:g.y===p.y?u.y:g.y*a},s.unshift(u)),c=g.x,h=g.y,f=e[l=g.id]}return s[0].x=c===n.x?i.x:u.x,s[0].y=h===n.y?i.y:u.y,s.unshift(i),s},Uu=function(t,e,n,r,i){if(isNaN(t.x)||isNaN(e.x))return[];var o=Object(g.deepMix)(Pu,i);o.obstacles=o.obstacles||[];var a=o.penalties,s=o.gridSize,u=function(t,e,n){var r={};return t.forEach(function(t){if(t)for(var i=Au(t.getBBox(),n),o=Nu(i.minX,e);o<=Nu(i.maxX,e);o+=1)for(var a=Nu(i.minY,e);a<=Nu(i.maxY,e);a+=1)r["".concat(o,"|||").concat(a)]=!0}),r}(o.obstacles.concat([n,r]),s,o.offset),l={x:Nu(t.x,s),y:Nu(t.y,s)},c={x:Nu(e.x,s),y:Nu(e.y,s)};t.id="".concat(l.x,"|||").concat(l.y),e.id="".concat(c.x,"|||").concat(c.y);var h=Fu(l,t,n,c,o),d=Fu(c,e,r,l,o);h.forEach(function(t){delete u[t.id]}),d.forEach(function(t){delete u[t.id]});for(var f={},p={},v={},y={},m={},b=new Lu,x=0;x<h.length;x++){var A=h[x];f[A.id]=A,y[A.id]=0,m[A.id]=zu(A,d,o.distFunc),b.add({id:A.id,value:m[A.id]})}var w,_,M,S,O,I,E=o.maximumLoops,C=1/0,k={};for(d.forEach(function(t){k["".concat(t.x,"|||").concat(t.y)]=!0}),Object.keys(f).forEach(function(t){var e=f[t].id;m[e]<=C&&(C=m[e],w=f[e])});Object.keys(f).length>0&&E>0;){var T=b.minId((E+1)%30==0);if(!T)break;if(w=f[T],k["".concat(w.x,"|||").concat(w.y)])return Vu(w,v,l,e,t,c,s);delete f[w.id],b.remove(w.id),p[w.id]=!0;for(x=0;x<o.directions.length;x++){_=o.directions[x];var D="".concat(Math.round(w.x)+_.stepX,"|||").concat(Math.round(w.y)+_.stepY);if(M={x:w.x+_.stepX,y:w.y+_.stepY,id:D},!p[D]&&!((I=Gu(w,M,v,l))>o.maxAllowedDirectionChange||u[D])){f[D]||(f[D]=M);var j=a[I];S=o.distFunc(w,M)+(isNaN(j)?s:j),O=y[w.id]+S;var L=y[D];L&&O>=L||(v[D]=w,y[D]=O,m[D]=O+zu(M,d,o.distFunc),b.add({id:D,value:m[D]}))}}E-=1}return o.fallbackRoute(t,e,n,r,o)};Sr("polyline",{options:{color:Er.defaultEdge.color,size:Er.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Er.defaultEdge.style.stroke,lineAppendWidth:Er.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Er.edgeLabel.style.fill,fontSize:Er.edgeLabel.style.fontSize,fontFamily:Er.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:Object(p.__assign)({},Er.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(t,e){var n=this.getShapeStyle(t);0===n.radius&&delete n.radius;var r=e.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n});return e.shapeMap["edge-shape"]=r,r},getShapeStyle:function(t){var e=this.options.style,n={stroke:t.color},r=Object(g.mix)({},e,n,t.style);t=this.getPathPoints(t),this.radius=r.radius,this.offset=r.offset;var i=t.startPoint,o=t.endPoint,a=this.getControlPoints(t),s=[i];a&&(s=s.concat(a)),s.push(o);var u=t.sourceNode,l=t.targetNode,c=r.radius,h=this.options.routeCfg,d=Object(g.mix)({},h,t.routeCfg);d.offset=r.offset;var f=this.getPath(s,u,l,c,d,!Boolean(a));return(Object(g.isArray)(f)&&f.length<=1||Object(g.isString)(f)&&-1===f.indexOf("L"))&&(f="M0 0, L0 0"),(isNaN(i.x)||isNaN(i.y)||isNaN(o.x)||isNaN(o.y))&&(f="M0 0, L0 0"),Object(g.mix)({},Er.defaultEdge.style,r,{lineWidth:t.size,path:f})},updateShapeStyle:function(t,e){var n=e.getContainer();if(e.isVisible()){var r={stroke:t.color},i=n.shapeMap["edge-shape"]||n.find(function(t){return"edge-shape"===t.get("className")})||e.getKeyShape(),o=t.size,a=(t=this.getPathPoints(t)).startPoint,s=t.endPoint,u=this.getControlPoints(t),l=[a];u&&(l=l.concat(u)),l.push(s);var c=i.attr(),h=Object(g.mix)({},r,c,t.style),d=t.sourceNode,f=t.targetNode,p=h.radius,v=this.options.routeCfg,y=Object(g.mix)({},v,t.routeCfg);y.offset=h.offset;var m=this.getPath(l,d,f,p,y,!Boolean(u));(Object(g.isArray)(m)&&m.length<=1||Object(g.isString)(m)&&-1===m.indexOf("L"))&&(m="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(s.x)||isNaN(s.y))&&(m="M0 0, L0 0"),c.endArrow&&!1===h.endArrow&&(t.style.endArrow={path:""}),c.startArrow&&!1===h.startArrow&&(t.style.startArrow={path:""});var b=Object(g.mix)(r,i.attr(),{lineWidth:o,path:m},t.style);i&&i.attr(b)}},getPath:function(t,e,n,r,i,o){var a=i.offset,s=i.obstacles,u=i.simple;if(!a||t.length>2||!1===o){if(r)return Du(t,r);var l=[];return Object(g.each)(t,function(t,e){0===e?l.push(["M",t.x,t.y]):l.push(["L",t.x,t.y])}),l}!1===u||(null===s||void 0===s?void 0:s.length)||(u=!0);var c=u?ju(t[t.length-1],t[0],n,e,a):Uu(t[0],t[t.length-1],e,n,i);return c&&c.length?r?Du(c,r):(c=function(t){if(!(null===t||void 0===t?void 0:t.length))return t;for(var e=t[t.length-1],n={x:e.x,y:e.y},r=[e],i=[e],o=t.length-2;o>=0;o--){var a,s=t[o];s.x===n.x?r.push(s):(r=[s],n.x=s.x),s.y===n.y?i.push(s):(i=[s],n.y=s.y),r.length>2?(a=t.indexOf(r[1]))>-1&&t.splice(a,1):i.length>2&&(a=t.indexOf(i[1]))>-1&&t.splice(a,1)}return t}(c),Ar.pointsToPolygon(c)):"M0 0, L0 0"}},"single-edge");var Wu=Mi.cloneEvent,Hu=Mi.isNaN,Yu=Math.abs,Xu=["shift","ctrl","alt","control"],qu={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{mousedown:"onMouseDown",drag:"onDragMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(t){var e=this.origin,n=+t.clientX,r=+t.clientY;if(!Hu(n)&&!Hu(r)){var i=n-e.x,o=r-e.y;"x"===this.get("direction")?o=0:"y"===this.get("direction")&&(i=0),this.origin={x:n,y:r};var a=this.graph.get("width"),s=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox(),l=this.scalableRange,c=this.scalableRange;l<1&&l>-1&&(l*=a,c*=s),(u.minX<=a+l&&u.minX+i>a+l||u.maxX+l>=0&&u.maxX+l+i<0)&&(i=0),(u.minY<=s+c&&u.minY+o>s+c||u.maxY+c>=0&&u.maxY+c+o<0)&&(o=0),this.graph.translate(i,o)}},onTouchStart:function(t){var e=t.originalEvent.touches,n=e[0],r=e[1];n&&r||(t.preventDefault(),this.mousedown=!0,this.onDragStart(t))},onMouseDown:function(t){this.mousedown=!0},onDragMove:function(t){this.mousedown&&(this.dragstart?this.onDrag(t):(this.dragstart=!0,this.onDragStart(t)))},onDragStart:function(t){var e=t.originalEvent;if((!e||"touchstart"===t.name||0===e.button)&&("touchstart"===t.name||"undefined"==typeof window||!window.event||window.event.buttons||window.event.button)&&this.shouldBegin(t,this)&&!this.keydown&&this.allowDrag(t)){if(this.origin={x:t.clientX,y:t.clientY},this.dragging=!1,this.enableOptimize){for(var n=this.graph,r=n.getEdges(),i=0,o=r.length;i<o;i++){var a=r[i].get("group").get("children");a&&a.forEach(function(t){t.set("ori-visibility",t.get("ori-visibility")||t.get("visible")),t.hide()})}for(var s=n.getNodes(),u=0,l=s.length;u<l;u++)for(var c=0,h=s[u].getContainer().get("children");c<h.length;c++){var d=h[c];d.get("isKeyShape")||(d.set("ori-visibility",d.get("ori-visibility")||d.get("visible")),d.hide())}}if("undefined"!=typeof window){var f=this;this.handleDOMContextMenu=function(t){return f.onMouseUp(t)},document.body.addEventListener("contextmenu",this.handleDOMContextMenu)}}},onTouchMove:function(t){var e=t.originalEvent.touches,n=e[0],r=e[1];n&&r?this.onMouseUp(t):(t.preventDefault(),this.onDrag(t))},onDrag:function(t){if(this.mousedown){var e=this.graph;if(!this.keydown&&this.allowDrag(t)&&(t=Wu(t),this.origin)){if(this.dragging)t.type="drag",e.emit("canvas:drag",t);else{if(Yu(this.origin.x-t.clientX)+Yu(this.origin.y-t.clientY)<10)return;this.shouldBegin(t,this)&&(t.type="dragstart",e.emit("canvas:dragstart",t),this.originPosition={x:t.clientX,y:t.clientY},this.dragging=!0)}this.shouldUpdate(t,this)&&this.updateViewport(t)}}},onMouseUp:function(t){var e,n;this.mousedown=!1,this.dragstart=!1;var r=this.graph;if(!this.keydown){var i=r.getZoom(),o=r.get("modeController"),a=null===(n=null===(e=null===o||void 0===o?void 0:o.modes[o.mode])||void 0===e?void 0:e.filter(function(t){return"zoom-canvas"===t.type}))||void 0===n?void 0:n[0],s=a?a.optimizeZoom||.1:0;if(this.enableOptimize){for(var u=r.getEdges(),l=0,c=u.length;l<c;l++){var h=u[l].get("group").get("children");h&&h.forEach(function(t){var e=t.get("ori-visibility");t.set("ori-visibility",void 0),e&&t.show()})}if(i>s)for(var d=r.getNodes(),f=0,p=d.length;f<p;f++)for(var g=0,v=d[f].getContainer().get("children");g<v.length;g++){var y=v[g];if(!y.get("isKeyShape")){var m=y.get("ori-visibility");y.set("ori-visibility",void 0),m&&y.show()}}}this.dragging?(t=Wu(t),this.shouldEnd(t,this)&&this.updateViewport(t),t.type="dragend",t.dx=t.clientX-this.originPosition.x,t.dy=t.clientY-this.originPosition.y,r.emit("canvas:dragend",t),this.endDrag(),"undefined"!=typeof window&&document.body.removeEventListener("contextmenu",this.handleDOMContextMenu)):this.origin=null}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1,this.mousedown=!1,this.dragstart=!1},onKeyDown:function(t){var e=t.key;e&&(Xu.indexOf(e.toLowerCase())>-1?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1},allowDrag:function(t){var e,n,r=t.target,i=r&&r.isCanvas&&r.isCanvas();if(Object(g.isBoolean)(this.allowDragOnItem)&&!this.allowDragOnItem&&!i)return!1;if(Object(g.isObject)(this.allowDragOnItem)){var o=this.allowDragOnItem,a=o.node,s=o.edge,u=o.combo,l=null===(n=null===(e=t.item)||void 0===e?void 0:e.getType)||void 0===n?void 0:n.call(e);if(!a&&"node"===l)return!1;if(!s&&"edge"===l)return!1;if(!u&&"combo"===l)return!1}return!0}},Qu={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:mousedown":"onMouseDown",drag:"onDragMove",dragend:"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd",afterchangedata:"onDragEnd"}},validationCombo:function(t){return!(!this.origin||!t||t.destroyed)&&"combo"===t.getType()},onTouchStart:function(t){if(t.item){try{var e=t.originalEvent.touches,n=e[0],r=e[1];if(n&&r)return;t.preventDefault()}catch(t){console.warn("Touch original event not exist!")}this.mousedown={item:t.item,target:t.target,origin:{x:t.x,y:t.y}},this.dragstart=!0,this.onDragStart(t)}},onTouchMove:function(t){try{var e=t.originalEvent.touches,n=e[0],r=e[1];if(n&&r)return void this.onDragEnd(t);t.preventDefault()}catch(t){console.warn("Touch original event not exist!")}this.onDrag(t)},onMouseDown:function(t){this.mousedown={item:t.item,target:t.target,origin:{x:t.x,y:t.y}},"undefined"==typeof window||this.windowEventBinded||(this.windowEventBinded=!0,document.body.addEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.addEventListener("mouseup",this.onDragEnd.bind(this)))},onDragMove:function(t){var e,n;"node"===(null===(n=null===(e=t.item)||void 0===e?void 0:e.getType)||void 0===n?void 0:n.call(e))?this.mousedown&&(this.dragstart?this.onDrag(Object(p.__assign)(Object(p.__assign)({},t),this.mousedown)):(this.dragstart=!0,this.onDragStart(t))):this.onDragEnd()},onDragStart:function(t){var e=this;if(this.currentShouldEnd=!0,this.shouldBegin(Object(p.__assign)(Object(p.__assign)({},t),this.mousedown),this)){var n=this.mousedown,r=n.item,i=n.target;if(r&&!r.destroyed&&!r.hasLocked()){if(r.getContainer().set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(r),i)if(i.get("isAnchorPoint"))return;var o=this.graph;this.targets=[],this.targetCombo=null;var a=o.findAllByState("node",this.selectedState),s=r.get("id");if(0===a.filter(function(t){var e=t.get("id");return s===e}).length?this.targets.push(r):a.length>1?a.forEach(function(t){t.hasLocked()||e.targets.push(t)}):this.targets.push(r),this.graph.get("enabledStack")&&this.enableStack){var u=[];this.targets.forEach(function(t){var e=t.getModel(),n=e.x,r=e.y,i=e.id;u.push({x:n,y:r,id:i})}),this.set("beforeDragNodes",u)}this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(t){t.getEdges().forEach(function(t){t.isVisible()&&(e.hidenEdge[t.getID()]=!0,t.hide())})}),this.origin=this.mousedown.origin,this.point={},this.originPoint={}}}},onDrag:function(t){var e=this;if(this.mousedown&&this.origin&&this.shouldUpdate(t,this))if(this.get("enableDelegate"))this.updateDelegate(t);else if(this.enableDebounce)this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:t,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos});else{var n={};this.targets.map(function(r){e.update(r,t);var i=r.getModel().comboId;i&&(n[i]=e.graph.findById(i))}),this.onlyChangeComboSize&&this.updateParentCombos()}},onDragEnd:function(t){var e,n=this;if(this.mousedown=!1,this.dragstart=!1,"undefined"!=typeof window&&this.windowEventBinded&&(this.windowEventBinded=!1,document.body.removeEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.removeEventListener("mouseup",this.onDragEnd.bind(this))),this.origin){null===(e=this.cachedCaptureItems)||void 0===e||e.forEach(function(t){t.getContainer().set("capture",!0)}),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(t){t.getEdges().forEach(function(t){n.hidenEdge[t.getID()]&&t.show(),t.refresh()})}),this.hidenEdge={};var r=this.graph;if(r.get("enabledStack")&&this.enableStack){var i={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach(function(t){i.before.nodes.push(t)}),this.targets.forEach(function(t){var e=t.getModel(),n=e.x,r=e.y,o=e.id;i.after.nodes.push({x:n,y:r,id:o})}),r.pushStack("update",Object(g.clone)(i))}r.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(t){var e=t.item;if(this.currentShouldEnd=this.shouldEnd(t,e,this),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd&&this.validationCombo(e)){var n=this.graph;if(this.comboActiveState&&n.setItemState(e,this.comboActiveState,!1),this.targetCombo=e,this.onlyChangeComboSize)n.updateCombos();else{var r=e.getModel();this.targets.map(function(t){t.getModel().comboId!==r.id&&n.updateComboTree(t,r.id)}),n.updateCombo(e)}n.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(t){var e=this.graph;this.currentShouldEnd=this.shouldEnd(t,void 0,this),this.updatePositions(t,!this.currentShouldEnd),this.targets&&0!==this.targets.length&&this.currentShouldEnd&&(this.onlyChangeComboSize?this.updateParentCombos():this.targets.map(function(t){t.getModel().comboId&&e.updateComboTree(t)}))},onDropNode:function(t){if(this.targets&&0!==this.targets.length){var e=t.item,n=this.graph,r=e.getModel().comboId,i=r?n.findById(r):void 0;if(this.currentShouldEnd=this.shouldEnd(t,i,this),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd){if(this.onlyChangeComboSize)this.updateParentCombos();else if(r){var o=n.findById(r);this.comboActiveState&&n.setItemState(o,this.comboActiveState,!1),this.targets.map(function(t){var e=t.getModel();r!==e.comboId&&n.updateComboTree(t,r)}),n.updateCombo(o)}else this.targets.map(function(t){t.getModel().comboId&&n.updateComboTree(t)});n.emit("dragnodeend",{items:this.targets,targetItem:e})}}},onDragEnter:function(t){var e=t.item;if(this.validationCombo(e)){var n=this.graph;this.comboActiveState&&n.setItemState(e,this.comboActiveState,!0)}},onDragLeave:function(t){var e=t.item;if(this.validationCombo(e)){var n=this.graph;this.comboActiveState&&n.setItemState(e,this.comboActiveState,!1)}},updatePositions:function(t,e){var n=this;this.targets&&0!==this.targets.length&&(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:t,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos}):e||this.targets.map(function(e){return n.update(e,t)}):this.targets.map(function(r){return n.update(r,t,e)}))},update:function(t,e,n){var r=this.origin,i=t.get("model"),o=t.get("id");this.point[o]||(this.point[o]={x:i.x||0,y:i.y||0});var a=e.x-r.x+this.point[o].x,s=e.y-r.y+this.point[o].y;n&&(a+=r.x-e.x,s+=r.y-e.y);var u={x:a,y:s};this.get("updateEdge")?this.graph.updateItem(t,u,!1):t.updatePosition(u)},debounceUpdate:Object(g.debounce)(function(t){var e=t.targets,n=t.graph,r=t.point,i=t.origin,o=t.evt,a=t.updateEdge,s=t.onlyChangeComboSize,u=t.updateParentCombos;e.map(function(t){var e=t.get("model"),s=t.get("id");r[s]||(r[s]={x:e.x||0,y:e.y||0});var u={x:o.x-i.x+r[s].x,y:o.y-i.y+r[s].y};a?n.updateItem(t,u,!1):t.updatePosition(u)}),s&&u(n,e)},50,!0),updateDelegate:function(t){var e=this.graph;if(this.delegateRect){var n=t.x-this.origin.x+this.originPoint.minX,r=t.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:n,y:r})}else{var i=e.get("group"),o=Object(g.deepMix)({},oi.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(t),s=a.x,u=a.y,l=a.width,c=a.height,h=a.minX,d=a.minY;this.originPoint={x:s,y:u,width:l,height:c,minX:h,minY:d},this.delegateRect=i.addShape("rect",{attrs:Object(p.__assign)({width:l,height:c,x:s,y:u},o),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(t){var e=this.targets;0===e.length&&e.push(t.item);for(var n=1/0,r=-1/0,i=1/0,o=-1/0,a=0;a<e.length;a++){var s=e[a].getBBox(),u=s.minX,l=s.minY,c=s.maxX,h=s.maxY;u<n&&(n=u),l<i&&(i=l),c>r&&(r=c),h>o&&(o=h)}return{x:Math.floor(n),y:Math.floor(i),width:Math.ceil(r)-Math.floor(n),height:Math.ceil(o)-Math.floor(i),minX:n,minY:i}},updateParentCombos:function(t,e){var n=t||this.graph,r=e||this.targets,i={};null===r||void 0===r||r.forEach(function(t){var e=t.getModel().comboId;e&&(i[e]=n.findById(e))}),Object.values(i).forEach(function(t){t&&n.updateCombo(t)})}},Zu={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return"mouseenter"===this.get("trigger")?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(t){try{var e=t.originalEvent.touches,n=e[0],r=e[1];if(n&&r)return;t.preventDefault()}catch(t){console.warn("Touch original event not exist!")}this.setAllItemStates(t)},clearOnTouchStart:function(t){try{var e=t.originalEvent.touches,n=e[0],r=e[1];if(n&&r)return;t.preventDefault()}catch(t){console.warn("Touch original event not exist!")}this.clearActiveState(t)},setAllItemStates:function(t){clearTimeout(this.timer),this.throttleSetAllItemStates(t,this)},clearActiveState:function(t){var e=this;this.timer=setTimeout(function(){e.throttleClearActiveState(t,e)},50)},throttleSetAllItemStates:Object(g.throttle)(function(t,e){var n=t.item,r=e.graph;if(r&&!r.destroyed&&(e.item=n,e.shouldUpdate(t.item,{event:t,action:"activate"},e))){for(var i=e.activeState,o=e.inactiveState,a=r.getNodes(),s=r.getCombos(),u=r.getEdges(),l=r.get("vedges"),c=a.length,h=s.length,d=u.length,f=l.length,p=e.inactiveItems||{},g=e.activeItems||{},v=0;v<c;v++){var y=a[v],m=y.getID(),b=y.hasState("selected");e.resetSelected&&b&&r.setItemState(y,"selected",!1),g[m]&&(r.setItemState(y,i,!1),delete g[m]),o&&!p[m]&&(r.setItemState(y,o,!0),p[m]=y)}for(v=0;v<h;v++){var x=s[v],A=x.getID();b=x.hasState("selected");e.resetSelected&&b&&r.setItemState(x,"selected",!1),g[A]&&(r.setItemState(x,i,!1),delete g[A]),o&&!p[A]&&(r.setItemState(x,o,!0),p[A]=x)}for(v=0;v<d;v++){g[I=(O=u[v]).getID()]&&(r.setItemState(O,i,!1),delete g[I]),o&&!p[I]&&(r.setItemState(O,o,!0),p[I]=O)}for(v=0;v<f;v++){var w=l[v],_=w.getID();g[_]&&(r.setItemState(w,i,!1),delete g[_]),o&&!p[_]&&(r.setItemState(w,o,!0),p[_]=w)}if(n&&!n.destroyed){o&&(r.setItemState(n,o,!1),delete p[n.getID()]),g[n.getID()]||(r.setItemState(n,i,!0),g[n.getID()]=n);var M=n.getEdges(),S=M.length;for(v=0;v<S;v++){var O,I=(O=M[v]).getID(),E=void 0,C=(E=O.getSource()===n?O.getTarget():O.getSource()).getID();o&&p[C]&&(r.setItemState(E,o,!1),delete p[C]),g[C]||(r.setItemState(E,i,!0),g[C]=E),p[I]&&(r.setItemState(O,o,!1),delete p[I]),g[I]||(r.setItemState(O,i,!0),g[I]=O),O.toFront()}}e.activeItems=g,e.inactiveItems=p,r.emit("afteractivaterelations",{item:t.item,action:"activate"})}},50,{trailing:!0,leading:!0}),throttleClearActiveState:Object(g.throttle)(function(t,e){var n=e.get("graph");if(n&&!n.destroyed&&e.shouldUpdate(t.item,{event:t,action:"deactivate"},e)){var r=e.activeState,i=e.inactiveState,o=e.activeItems||{},a=e.inactiveItems||{};Object.values(o).filter(function(t){return!t.destroyed}).forEach(function(t){n.clearItemStates(t,r)}),Object.values(a).filter(function(t){return!t.destroyed}).forEach(function(t){n.clearItemStates(t,i)}),e.activeItems={},e.inactiveItems={},n.emit("afteractivaterelations",{item:t.item||e.get("item"),action:"deactivate"})}},50,{trailing:!0,leading:!0})},Ku=Math.min,Ju=Math.max,$u=Math.abs,tl=["drag","shift","ctrl","alt","control"],el={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0,includeCombos:!1,selectedEdges:[],selectedNodes:[],selectedCombos:[]}},getEvents:function(){return tl.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior brush-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),"drag"===this.trigger?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(t){var e=t.item,n=this.brush;e||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),n||(n=this.createBrush()),this.originPoint={x:t.canvasX,y:t.canvasY},n.attr({width:0,height:0}),n.show(),this.dragging=!0)},onMouseMove:function(t){this.dragging&&("drag"===this.trigger||this.keydown)&&this.updateBrush(t)},onMouseUp:function(t){this.graph;(this.brush||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(t),this.dragging=!1)},clearStates:function(){var t=this.graph,e=this.selectedState,n=t.findAllByState("node",e),r=t.findAllByState("edge",e),i=t.findAllByState("combo",e);n.forEach(function(n){return t.setItemState(n,e,!1)}),r.forEach(function(n){return t.setItemState(n,e,!1)}),i.forEach(function(n){return t.setItemState(n,e,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.selectedCombos=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges,this.selectedCombos),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},isBBoxCenterInRect:function(t,e,n,r,i){var o=t.getBBox();return o.centerX>=e&&o.centerX<=n&&o.centerY>=r&&o.centerY<=i},getSelectedNodes:function(t){var e=this,n=this.graph,r=this.originPoint,i=this.shouldUpdate,o=this.isBBoxCenterInRect,a=this.selectedState,s={x:t.x,y:t.y},u=n.getPointByCanvas(r.x,r.y),l=Ku(s.x,u.x),c=Ju(s.x,u.x),h=Ku(s.y,u.y),d=Ju(s.y,u.y),f=[],p=[];n.getNodes().forEach(function(t){if(t.isVisible()&&o(t,l,c,h,d)&&i(t,"select",e)){f.push(t);var r=t.getModel();p.push(r.id),n.setItemState(t,a,!0)}});var g=[];this.includeEdges&&f.forEach(function(t){t.getOutEdges().forEach(function(t){if(t.isVisible()){var r=t.getModel(),o=r.source,a=r.target;p.includes(o)&&p.includes(a)&&i(t,"select",e)&&(g.push(t),n.setItemState(t,e.selectedState,!0))}})});var v=[];this.includeCombos&&n.getCombos().forEach(function(t){if(t.isVisible()&&o(t,l,c,h,d)&&i(t,"select",e)){v.push(t);var r=t.getModel();p.push(r.id),n.setItemState(t,a,!0)}}),this.selectedEdges=g,this.selectedNodes=f,this.selectedCombos=v,this.onSelect&&this.onSelect(f,g,v),n.emit("nodeselectchange",{selectedItems:{nodes:f,edges:g,combos:v},select:!0})},createBrush:function(){var t=this.graph.get("canvas").addShape("rect",{attrs:this.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,this.delegate=t,t},updateBrush:function(t){var e=this.originPoint;this.brush.attr({width:$u(t.canvasX-e.x),height:$u(t.canvasY-e.y),x:Ku(t.canvasX,e.x),y:Ku(t.canvasY,e.y)})},onKeyDown:function(t){var e=t.key;if(e){var n=this.trigger.toLowerCase(),r=e.toLowerCase();this.keydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},nl=["shift","ctrl","alt","control"],rl={getDefaultCfg:function(){return{multiple:!0,trigger:"shift",selectedState:"selected",selectNode:!0,selectEdge:!1,selectCombo:!0}},getEvents:function(){return nl.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior click-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),this.multiple?{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(t){var e=this,n=t.item;if(n&&!n.destroyed){var r=n.getType(),i=e.graph,o=e.keydown,a=e.multiple,s=e.shouldUpdate;if((0,e.shouldBegin)(t,e)){if(!o||!a){var u=i.findAllByState("node",e.selectedState).concat(i.findAllByState("edge",e.selectedState)).concat(i.findAllByState("combo",e.selectedState));Object(g.each)(u,function(t){t!==n&&i.setItemState(t,e.selectedState,!1)})}if(function(){switch(r){case"node":return e.selectNode;case"edge":return e.selectEdge;case"combo":return e.selectCombo;default:return!1}}())if(n.hasState(e.selectedState)){s(t,e)&&i.setItemState(n,e.selectedState,!1);l=i.findAllByState("node",e.selectedState),c=i.findAllByState("edge",e.selectedState),h=i.findAllByState("combo",e.selectedState);i.emit("nodeselectchange",{target:n,selectedItems:{nodes:l,edges:c,combos:h},select:!1})}else{s(t,e)&&i.setItemState(n,e.selectedState,!0);l=i.findAllByState("node",e.selectedState),c=i.findAllByState("edge",e.selectedState),h=i.findAllByState("combo",e.selectedState);i.emit("nodeselectchange",{target:n,selectedItems:{nodes:l,edges:c,combos:h},select:!0})}else{var l=i.findAllByState("node",e.selectedState),c=i.findAllByState("edge",e.selectedState),h=i.findAllByState("combo",e.selectedState);i.emit("nodeselectchange",{selectedItems:{nodes:l,edges:c,combos:h},select:!1})}}}},onCanvasClick:function(t){var e=this,n=this.graph;if((0,this.shouldBegin)(t,this)){var r=n.findAllByState("node",this.selectedState);Object(g.each)(r,function(t){n.setItemState(t,e.selectedState,!1)});var i=n.findAllByState("edge",this.selectedState);Object(g.each)(i,function(t){n.setItemState(t,e.selectedState,!1)});var o=n.findAllByState("combo",this.selectedState);Object(g.each)(o,function(t){n.setItemState(t,e.selectedState,!1)}),n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.trigger.toLowerCase()||"control"===e.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},il=x.a.transform,ol={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var t=this.fixSelectedItems;return t.fixState||(t.fixState="selected"),t.fixAll&&(t.fixLineWidth=!0,t.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(t){var e=t.originalEvent.touches,n=e[0],r=e[1];t.preventDefault(),r&&(this.shouldBegin&&!this.shouldBegin(t,this)||(this.startPoint={pageX:n.pageX,pageY:n.pageY},this.moveable=!0,r&&(this.endPoint={pageX:r.pageX,pageY:r.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(t){if(this.moveable){t.preventDefault();var e=t.originalEvent.touches,n=e[0],r=e[1];if(r){this.endPoint||(this.endPoint={pageX:r.pageX,pageY:r.pageY});var i=function(t,e){return Math.hypot(e.x-t.x,e.y-t.y)},o=i({x:n.pageX,y:n.pageY},{x:r.pageX,y:r.pageY})/i({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),a=this.originScale*o;this.currentScale=a;var s=this.get("minZoom")||this.graph.get("minZoom");if(!(a>(this.get("maxZoom")||this.graph.get("maxZoom"))||a<s)){var u=this.get("animate"),l=this.get("animateCfg"),c=this.graph.get("canvas").getPointByClient(t.clientX,t.clientY);this.graph.zoomTo(a,{x:c.x,y:c.y},u,l),this.graph.emit("wheelzoom",t)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(t){var e=this,n=this.graph,r=this.fixSelectedItems;if((!this.shouldBegin||this.shouldBegin(t,this))&&this.shouldUpdate(t,this)){t.preventDefault();var i=n.get("canvas").getPointByClient(t.clientX,t.clientY),o=this.get("sensitivity"),a=n.getZoom(),s=a;s=a*(t.wheelDelta<0?1-.05*o:1/(1-.05*o));var u=this.get("minZoom")||n.get("minZoom"),l=this.get("maxZoom")||n.get("maxZoom");if(s>l?s=l:s<u&&(s=u),this.get("enableOptimize")){var c=this.get("optimizeZoom"),h=this.get("optimized"),d=n.getNodes(),f=n.getEdges(),p=d.length,v=f.length;if(!h){for(var y=0;y<p;y++){if(!(I=d[y]).destroyed)for(var m=(Q=I.get("group").get("children")).length,b=0;b<m;b++){(R=Q[b]).destoryed||R.get("isKeyShape")||(R.set("ori-visibility",R.get("ori-visibility")||R.get("visible")),R.hide())}}for(var x=0;x<v;x++)for(m=(Q=(q=f[x]).get("group").get("children")).length,b=0;b<m;b++){(R=Q[b]).set("ori-visibility",R.get("ori-visibility")||R.get("visible")),R.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var A=setTimeout(function(){var t=n.getZoom();if(e.get("optimized")){e.set("optimized",!1);for(var r=0;r<p;r++){var i=d[r],o=(l=i.get("group").get("children")).length;if(t<c){var a=(g=i.getKeyShape()).get("ori-visibility");g.set("ori-visibility",void 0),a&&g.show()}else for(var s=0;s<o;s++){a=(y=l[s]).get("ori-visibility");y.set("ori-visibility",void 0),!y.get("visible")&&a&&a&&y.show()}}for(var u=0;u<v;u++){var l,h=f[u];o=(l=h.get("group").get("children")).length;if(t<c){var g;a=(g=h.getKeyShape()).get("ori-visibility");g.set("ori-visibility",void 0),a&&g.show()}else for(s=0;s<o;s++){var y;if(!(y=l[s]).get("visible")){a=y.get("ori-visibility");y.set("ori-visibility",void 0),a&&y.show()}}}}},100);this.set("timeout",A)}if(a<=1){var w=void 0,_=void 0;if(r.fixAll||r.fixLineWidth||r.fixLabel){w=n.findAllByState("node",r.fixState),_=n.findAllByState("edge",r.fixState);for(var M=a/s,S=w.length,O=0;O<S;O++){var I,E=(I=w[O]).getContainer(),C=I.getModel(),k=I.getOriginStyle(),T=I.getStateStyle(r.fixState),D=I.get("shapeFactory").getShape(C.type).getStateStyle(r.fixState,I)[r.fixState];if(r.fixAll){if(s<=1){var j=Object(g.clone)(E.getMatrix());j||(j=[1,0,0,0,1,0,0,0,1]);var L=I.getModel(),P=L.x,N=L.y;j=il(j,[["t",-P,-N],["s",M,M],["t",P,N]]),E.setMatrix(j)}}else for(m=(Q=E.get("children")).length,b=0;b<m;b++){var R=Q[b],B=void 0,z=void 0;if(r.fixLabel)if("text"===R.get("type")){B=R.attr("fontSize")||12;var F=T[R.get("name")],G=D[R.get("name")],V=F?F.fontSize:12,U=G?G.fontSize:12,W=V||U||12;if(s<=1&&R.attr("fontSize",W/s),z)break}if(r.fixLineWidth&&R.get("isKeyShape")){z=R.attr("lineWidth")||0;var H=T.lineWidth||D.lineWidth||k.lineWidth||0;if(s<=1&&R.attr("lineWidth",H/s),B)break}}}for(var Y=_.length,X=0;X<Y;X++){var q,Q=(E=(q=_[X]).getContainer()).get("children");for(C=q.getModel(),T=q.getStateStyle(r.fixState),D=q.get("shapeFactory").getShape(C.type).getStateStyle(r.fixState,q)[r.fixState],m=Q.length,b=0;b<m;b++){R=Q[b],B=void 0,z=void 0;if(r.fixLabel||r.fixAll)if("text"===R.get("type")){B=R.attr("fontSize")||12;F=T[R.get("name")],G=D[R.get("name")],V=F?F.fontSize:12,U=G?G.fontSize:12,W=V||U||12;if(s<=1&&R.attr("fontSize",W/s),z)break}if((r.fixLineWidth||r.fixAll)&&R.get("isKeyShape")){z=R.attr("lineWidth")||0;H=T.lineWidth||D.lineWidth||1;if(s<=1&&R.attr("lineWidth",H/s),B)break}}}}}var Z=this.get("animate"),K=this.get("animateCfg");n.zoomTo(s,{x:i.x,y:i.y},Z,K),n.emit("wheelzoom",t)}}},al={onMouseEnter:function(t){var e=t.item;this.currentTarget=e,this.showTooltip(t),this.graph.emit("tooltipchange",{item:t.item,action:"show"})},onMouseMove:function(t){this.shouldUpdate(t,this)?this.currentTarget&&t.item===this.currentTarget&&this.updatePosition(t):this.hideTooltip()},onMouseLeave:function(t){this.shouldEnd(t,this)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(t){var e=this.container;if(t.item&&!t.item.destroyed){e||(e=this.createTooltip(this.graph.get("canvas")),this.container=e);var n=this.formatText(t.item.get("model"),t);e.innerHTML=n,ui(this.container,{visibility:"visible"}),this.updatePosition(t)}},hideTooltip:function(){ui(this.container,{visibility:"hidden"})},updatePosition:function(t){var e=this.get("shouldBegin"),n=this.width,r=this.height,i=this.container,o=this.graph;if(e(t,this)){var a=o.getPointByClient(t.clientX,t.clientY),s=o.getCanvasByPoint(a.x,a.y),u=s.x,l=s.y,c=i.getBoundingClientRect();u>n/2?u-=c.width:u+=this.offset,l>r/2?l-=c.height:l+=this.offset;var h="".concat(u,"px"),d="".concat(l,"px");ui(this.container,{left:h,top:d,visibility:"visible"})}else ui(i,{visibility:"hidden"})},createTooltip:function(t){var e=t.get("el");e.style.position="relative";var n=si('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return e.parentNode.appendChild(n),ui(n,{position:"absolute",visibility:"visible"}),this.width=t.get("width"),this.height=t.get("height"),this.container=n,this.graph.get("tooltips").push(n),n}},sl=Object(p.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},al),ul=Object(p.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: ".concat(t.source," target: ").concat(t.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},al),ll=["click","dblclick"],cl={getDefaultCfg:function(){return{trigger:"click",onChange:function(){}}},getEvents:function(){var t,e;return ll.includes(this.trigger)?e=this.trigger:(e="click",console.warn("Behavior collapse-expand 的 trigger 参数不合法，请输入 'click' 或 'dblclick'")),(t={})["node:".concat(e)]="onNodeClick",t.touchstart="onNodeClick",t},onNodeClick:function(t){var e=this;if("click"===this.trigger){if(this.timer)return clearTimeout(this.timer),void(this.timer=0);this.timer=setTimeout(function(){e.toggle(t),clearTimeout(e.timer),e.timer=0},200)}else this.toggle(t)},toggle:function(t){var e=t.item;if(e){var n=this.graph.findDataById(e.get("id"));if(n){var r=n.children;if(r&&0!==r.length){var i=!n.collapsed;this.shouldBegin(t,i,this)&&(n.collapsed=i,e.getModel().collapsed=i,this.graph.emit("itemcollapsed",{item:t.item,collapsed:i}),this.shouldUpdate(t,i,this)&&(this.onChange(e,i,this),this.graph.layout()))}}}}},hl=Mi.calculationItemsBBox,dl={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected",enableStack:!0}},getEvents:function(){return{"combo:mousedown":"onMouseDown","combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(t){var e=t.item;return!(!e||e.destroyed)&&(!!this.shouldUpdate(t,this)&&"combo"===e.getType())},onMouseDown:function(t){this.origin={x:t.x,y:t.y}},onDragStart:function(t){var e=this,n=this.graph,r=t.item;if(this.currentShouldEnd=!0,this.validationCombo(t)){this.targets=[];var i=n.findAllByState("combo",this.selectedState),o=r.get("id");0===i.filter(function(t){var e=t.get("id");return o===e}).length?this.targets.push(r):this.targets=i;var a=[];this.targets.forEach(function(t){var e=t.getModel(),n=e.x,r=e.y,i=e.id;a.push({x:n,y:r,id:i})}),this.set("beforeDragItems",a),this.activeState&&this.targets.map(function(t){var r=t.getModel();if(r.parentId){var i=n.findById(r.parentId);i&&n.setItemState(i,e.activeState,!0)}}),this.point={},this.originPoint={},this.currentItemChildCombos=[],function t(e,n){if(!1!==n(e)&&e){var r=e.get("combos");if(0===r.length)return!1;Object(g.each)(r,function(e){t(e,n)})}}(r,function(t){if(t.destroyed)return!1;var n=t.getModel();return e.currentItemChildCombos.push(n.id),!0})}},onDrag:function(t){var e=this;if(this.origin&&this.validationCombo(t))if(this.enableDelegate)this.updateDelegate(t);else{if(this.activeState){var n=this.graph,r=t.item,i=r.getModel(),o=n.getCombos(),a=r.getBBox(),s=a.centerX,u=a.centerY,l=a.width;o.filter(function(t){var n=t.getModel();return i.parentId,n.id!==i.id&&!e.currentItemChildCombos.includes(n.id)}).map(function(t){var r=t.getBBox(),i=r.centerX,o=r.centerY,a=r.width,c=s-i,h=u-o,d=2*Math.sqrt(c*c+h*h);l+a-d>.8*l?n.setItemState(t,e.activeState,!0):n.setItemState(t,e.activeState,!1)})}Object(g.each)(this.targets,function(n){e.updateCombo(n,t)}),this.onlyChangeComboSize&&this.updateParentCombos()}},updatePositions:function(t,e){var n=this;(this.enableDelegate||e)&&Object(g.each)(this.targets,function(r){n.updateCombo(r,t,e)})},onDrop:function(t){var e=this,n=t.item;if(this.currentShouldEnd=this.shouldEnd(t,n,this),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd&&n&&this.targets&&!n.destroyed){var r=this.graph,i=n.getModel();this.targets.map(function(t){t.getModel().parentId!==i.id?(e.activeState&&r.setItemState(n,e.activeState,!1),e.onlyChangeComboSize?r.updateCombo(t):r.updateComboTree(t,i.id,!1)):r.updateCombo(n)}),this.end(n,t),this.endComparison=!0}},onNodeDrop:function(t){var e=this;if(this.targets&&0!==this.targets.length){var n=this.graph,r=t.item.getModel().comboId,i=r?n.findById(r):void 0;if(this.currentShouldEnd=this.shouldEnd(t,i,this),this.updatePositions(t,!this.currentShouldEnd),this.currentShouldEnd){var o;if(r){if(this.activeState){var a=n.findById(r);n.setItemState(a,this.activeState,!1)}this.targets.map(function(t){e.onlyChangeComboSize?n.updateCombo(t):r!==t.getID()&&(o=n.findById(r),r!==t.getModel().parentId&&n.updateComboTree(t,r,!1))})}else this.targets.map(function(t){e.onlyChangeComboSize?n.updateCombo(t):t.getModel().comboId&&n.updateComboTree(t,void 0,!1)});this.endComparison=!0,this.end(o,t)}}},onDragEnter:function(t){if(this.origin&&this.validationCombo(t)){var e=t.item,n=this.graph;this.activeState&&n.setItemState(e,this.activeState,!0)}},onDragLeave:function(t){if(this.origin&&this.validationCombo(t)){var e=t.item,n=this.graph;this.activeState&&n.setItemState(e,this.activeState,!1)}},onDragEnd:function(t){if(this.targets&&0!==this.targets.length){var e=t.item;this.currentShouldEnd&&this.updatePositions(t);var n=this.getParentCombo(e.getModel().parentId),r=this.graph;n&&this.activeState&&r.setItemState(n,this.activeState,!1),this.end(void 0,t)}},end:function(t,e){var n=this;if(this.origin){var r=this.graph;if(this.delegateShape)r.get("delegateGroup").clear(),this.delegateShape=null;if(t&&this.activeState&&r.setItemState(t,this.activeState,!1),!t){var i=r.get("enabledStack")&&this.enableStack,o={before:{nodes:[],edges:[],combos:[].concat(this.get("beforeDragItems"))},after:{nodes:[],edges:[],combos:[]}};this.targets.map(function(t){if(n.onlyChangeComboSize){r.updateCombo(t);var e=t.getModel(),a=e.x,s=e.y,u=e.id;o.after.combos.push({x:a,y:s,id:u}),r.pushStack("update",o)}else r.updateComboTree(t,void 0,i)})}this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(t,e,n){var r=this;if(void 0===n&&(n={}),!1!==e(t,n)&&t){var i=t.get("combos");Object(g.each)(i,function(t){r.traverse(t,e,n)});var o=t.get("nodes");Object(g.each)(o,function(t){r.traverse(t,e,n)})}},updateCombo:function(t,e,n){this.updateSingleItem(t,e,n);var r={};this.traverse(t,function(t,e){return!t.destroyed&&(t.getEdges().forEach(function(t){return e[t.getID()]=t}),!0)},r),Object.values(r).forEach(function(t){return t.refresh()})},updateSingleItem:function(t,e,n){var r=this.origin,i=this.graph,o=t.getModel(),a=t.get("id");this.point[a]||(this.point[a]={x:o.x,y:o.y});var s=e.x-r.x+this.point[a].x,u=e.y-r.y+this.point[a].y;n&&(s+=r.x-e.x,u+=r.y-e.y),i.updateItem(t,{x:s,y:u},!1)},getParentCombo:function(t){var e=this.graph;if(t){var n=e.findById(t);if(n)return n}},updateDelegate:function(t){var e=this.graph;if(this.delegateShape){var n=t.x-this.origin.x+this.originPoint.minX,r=t.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:n,y:r})}else{var i=e.get("delegateGroup"),o=null,a=(o=this.targets.length>1?hl(this.targets):this.targets[0].getBBox()).x,s=o.y,u=o.width,l=o.height,c=o.minX,h=o.minY;this.originPoint={x:a,y:s,width:u,height:l,minX:c,minY:h};var d=Object(p.__assign)(Object(p.__assign)({},oi.delegateStyle),this.delegateStyle);this.delegateShape=i.addShape("rect",{attrs:Object(p.__assign)({width:o.width,height:o.height,x:o.x,y:o.y},d),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}},updateParentCombos:function(){var t=this.graph,e=this.targets,n={};null===e||void 0===e||e.forEach(function(e){var r=e.getModel().parentId;r&&(n[r]=t.findById(r))}),Object.values(n).forEach(function(e){e&&t.updateCombo(e)})}},fl=["click","dblclick"],pl={getDefaultCfg:function(){return{trigger:"dblclick",relayout:!0}},getEvents:function(){var t,e;return fl.includes(this.trigger)?e=this.trigger:(e="dblclick",console.warn("Behavior collapse-expand-group 的 trigger 参数不合法，请输入 'click' 或 'dblclick'")),(t={})["combo:".concat(e)]="onComboClick",t},onComboClick:function(t){var e=t.item,n=this.graph,r=this.relayout;if(e&&!e.destroyed&&"combo"===e.getType()){var i=e.getModel().id;i&&(n.collapseExpandCombo(i),r&&n.get("layout")?n.layout():n.refreshPositions())}}},gl=Mi.isPolygonsIntersect,vl=Mi.pathToPoints,yl=["drag","shift","ctrl","alt","control"],ml=["click","drag"],bl=["shift","ctrl","control","alt","meta",void 0],xl=["shift","ctrl","alt","control"],Al=["shift","ctrl","alt","control","meta"],wl={"drag-canvas":qu,"zoom-canvas":ol,"drag-node":Qu,"activate-relations":Zu,"brush-select":el,"click-select":rl,"lasso-select":{getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},shouldDeselect:void 0,selectedState:"selected",trigger:"shift",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return yl.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior lasso-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),"drag"===this.trigger?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(t){var e=this.lasso;t.item||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates("dragstart"),e||(e=this.createLasso()),this.dragging=!0,this.originPoint={x:t.x,y:t.y},this.points.push(this.originPoint),e.show())},onDragMove:function(t){this.dragging&&("drag"===this.trigger||this.keydown)&&(this.points.push({x:t.x,y:t.y}),this.updateLasso(t))},onDragEnd:function(t){(this.lasso||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var t=this.points,e=[];return t.length&&(t.forEach(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])}),e.push(["L",t[0].x,t[0].y])),e},clearStates:function(t){void 0===t&&(t="canvas:click");var e=this.graph,n=this.selectedState,r=this.shouldDeselect,i=e.findAllByState("node",n),o=e.findAllByState("edge",n);r&&!r({action:t,nodes:i,edges:o})||(i.forEach(function(t){return e.setItemState(t,n,!1)}),o.forEach(function(t){return e.setItemState(t,n,!1)})),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var t=this,e=this.graph,n=this.shouldUpdate,r=this.points.map(function(t){return[e.getCanvasByPoint(t.x,t.y).x,e.getCanvasByPoint(t.x,t.y).y]}),i=this.selectedState,o=[],a=[];e.getNodes().forEach(function(s){if(s.isVisible()&&function(t,e){var n,r=t.getKeyShape();if("path"===t.get("type"))n=vl(r.attr("path"));else{var i=r.getCanvasBBox();n=[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}return gl(e,n)}(s,r)&&n(s,"select",t)){o.push(s);var u=s.getModel();a.push(u.id),e.setItemState(s,i,!0)}});var s=[];this.includeEdges&&o.forEach(function(r){r.getOutEdges().forEach(function(r){if(r.isVisible()){var i=r.getModel(),o=i.source,u=i.target;a.includes(o)&&a.includes(u)&&n(r,"select",t)&&(s.push(r),e.setItemState(r,t.selectedState,!0))}})}),this.selectedEdges=s,this.selectedNodes=o,this.onSelect&&this.onSelect(o,s),e.emit("nodeselectchange",{selectedItems:{nodes:o,edges:s},select:!0})},createLasso:function(){var t=this.graph.get("delegateGroup").addShape("path",{attrs:Object(p.__assign)({path:[]},this.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.delegate=t,this.points=[],t},updateLasso:function(t){this.lasso.attr({path:this.getLassoPath()})},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},tooltip:sl,"edge-tooltip":ul,"collapse-expand":cl,"drag-combo":dl,"collapse-expand-combo":pl,"create-edge":{getDefaultCfg:function(){return{trigger:"click",key:void 0,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var t;return ml.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="click",console.warn("Behavior create-edge 的 trigger 参数不合法，请输入 'click'，'drag'")),this.key&&-1===bl.indexOf(this.key.toLowerCase())&&(this.trigger=void 0,console.warn("Behavior create-edge 的 key 参数不合法，请输入 'shift'，'ctrl'，'alt'，'control'，或 undefined")),"drag"===this.trigger?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:"click"===this.trigger&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),this.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(t){if(!this.key||this.keydown){var e=t.item;e&&e.getID()!==this.source&&"node"===e.getType()||this.cancelCreating({item:this.edge,x:t.x,y:t.y})}},onClick:function(t){if(!this.key||this.keydown){var e=t.item,n=this.graph,r=e.getModel(),i=this.getEdgeConfig;if(this.addingEdge&&this.edge){if(!this.shouldEnd(t,this))return;var o=void 0;o=i&&Object(g.isFunction)(i)?i({source:this.source,target:r.id},this):this.edgeConfig;var a=Object(p.__assign)({target:r.id},o);if(this.source===r.id&&(a.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(this.edge,a,!1),n.get("enabledStack")){var s=Object(p.__assign)(Object(p.__assign)({},this.edge.getModel()),{itemType:"edge"}),u={};u.edges=[s],n.pushStack("add",{before:{},after:u})}n.emit("aftercreateedge",{edge:this.edge}),this.edge.getKeyShape().set("capture",!0),this.edge=null,this.addingEdge=!1}else{if(!this.shouldBegin(t,this))return;o=void 0;o=i&&Object(g.isFunction)(i)?i({source:r.id,target:r.id},this):this.edgeConfig,this.edge=n.addItem("edge",Object(p.__assign)({source:r.id,target:r.id},o),!1),this.source=r.id,this.addingEdge=!0,this.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(t){if(!this.key||this.keydown){this.edge&&this.edge.destroyed&&this.cancelCreating({item:this.edge});var e={x:t.x,y:t.y};this.graph.findById(this.source)?this.addingEdge&&this.edge&&this.graph.updateItem(this.edge,{target:e},!1):this.addingEdge=!1}},cancelCreating:function(t){var e,n;if(!this.key||this.keydown){var r=this.graph,i=t.item;return this.addingEdge&&(this.edge===i||(null===(n=null===(e=t.target)||void 0===e?void 0:e.isCanvas)||void 0===n?void 0:n.call(e)))?(this.edge&&!this.edge.destroyed&&r.removeItem(this.edge,!1),this.edge=null,void(this.addingEdge=!1)):void 0}},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.key.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.addingEdge&&this.edge&&(this.graph.removeItem(this.edge,!1),this.addingEdge=!1,this.edge=null),this.keydown=!1}},"shortcuts-call":{getDefaultCfg:function(){return{trigger:"ctrl",combinedKey:"1",functionName:"fitView",functionParams:[]}},getEvents:function(){return xl.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="ctrl",console.warn("Behavior shortcuts-fit-view 的 trigger 参数 '".concat(this.trigger,"' 不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(t){var e=t.key;if(e){var n=this.trigger.toLowerCase(),r=e.toLowerCase();this.triggerKeydown||(this.triggerKeydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n);var i=this.graph;if(!i[this.functionName])return console.warn("Behavior shortcuts-fit-view 的 functionName 参数 '".concat(this.functionName,"' 不合法，它不是 Graph 的一个函数名")),{};if(!this.triggerKeydown||this.combinedKey){var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(r===o||"control"===r&&"ctrl"===o||"ctrl"===r&&"control"===o)&&(this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]())}else this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]()}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},"scroll-canvas":{getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0,allowDragOnItem:!0}},getEvents:function(){return this.zoomKey&&-1!==Al.indexOf(this.zoomKey)||(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(t){var e=this;if(this.allowDrag(t)){var n=this.graph,r=Array.isArray(this.zoomKey)?[].concat(this.zoomKey):[this.zoomKey];if(r.includes("control")&&r.push("ctrl"),r.some(function(e){return t["".concat(e,"Key")]})){var i=n.get("canvas").getPointByClient(t.clientX,t.clientY),o=n.getZoom();t.wheelDelta>0?o+=.05*o:o-=.05*o,n.zoomTo(o,{x:i.x,y:i.y})}else{var a=t.deltaX||t.movementX,s=t.deltaY||t.movementY;!s&&navigator.userAgent.indexOf("Firefox")>-1&&(s=125*-t.wheelDelta/3);var u=this.graph.get("width"),l=this.graph.get("height"),c=this.graph.get("canvas").getCanvasBBox(),h=this.scalableRange,d=this.scalableRange;h<1&&h>-1&&(h*=u,d*=l);var f=c.minX,p=c.maxX,g=c.minY,v=c.maxY;a>0?p<-h?a=0:p-a<-h&&(a=p+h):a<0&&(f>u+h?a=0:f-a>u+h&&(a=f-(u+h))),s>0?v<-d?s=0:v-s<-d&&(s=v+d):s<0&&(g>l+d?s=0:g-s>l+d&&(s=g-(l+d))),"x"===this.get("direction")?s=0:"y"===this.get("direction")&&(a=0),n.translate(-a,-s)}if(t.preventDefault(),this.get("enableOptimize")){var y=this.get("optimizeZoom"),m=this.get("optimized"),b=n.getNodes(),x=n.getEdges(),A=b.length,w=x.length;if(!m){for(var _=0;_<A;_++){var M=b[_];if(!M.destroyed)for(var S=(E=M.get("group").get("children")).length,O=0;O<S;O++){(C=E[O]).destoryed||C.get("isKeyShape")||(C.set("ori-visibility",C.get("ori-visibility")||C.get("visible")),C.hide())}}for(var I=0;I<w;I++){var E;for(S=(E=x[I].get("group").get("children")).length,O=0;O<S;O++){var C;(C=E[O]).set("ori-visibility",C.get("ori-visibility")||C.get("visible")),C.hide()}}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var k=setTimeout(function(){var t=n.getZoom();if(e.get("optimized")){e.set("optimized",!1);for(var r=0;r<A;r++){var i=b[r],o=(l=i.get("group").get("children")).length;if(t<y)(s=(c=i.getKeyShape()).get("ori-visibility"))&&c.show();else for(var a=0;a<o;a++){var s=(d=l[a]).get("ori-visibility");!d.get("visible")&&s&&s&&d.show()}}for(var u=0;u<w;u++){var l,c,h=x[u];o=(l=h.get("group").get("children")).length;if(t<y)(s=(c=h.getKeyShape()).get("ori-visibility"))&&c.show();else for(a=0;a<o;a++){var d;if(!(d=l[a]).get("visible"))(s=d.get("ori-visibility"))&&d.show()}}}},100);this.set("timeout",k)}}},allowDrag:function(t){var e,n,r=t.target,i=r&&r.isCanvas&&r.isCanvas();if(Object(g.isBoolean)(this.allowDragOnItem)&&!this.allowDragOnItem&&!i)return!1;if(Object(g.isObject)(this.allowDragOnItem)){var o=this.allowDragOnItem,a=o.node,s=o.edge,u=o.combo,l=null===(n=null===(e=t.item)||void 0===e?void 0:e.getType)||void 0===n?void 0:n.call(e);if(!a&&"node"===l)return!1;if(!s&&"edge"===l)return!1;if(!u&&"combo"===l)return!1}return!0}}};Object(g.each)(wl,function(t,e){Ir(e,t)});var _l=Object(p.__assign)(Object(p.__assign)({},r),Cr),Ml=hu.Grid,Sl=hu.Minimap,Ol=hu.Bundling,Il=hu.Menu,El=hu.Fisheye,Cl=hu.ToolBar,kl=hu.Tooltip,Tl=hu.TimeBar,Dl=hu.ImageMinimap,jl=hu.EdgeFilterLens,Ll=hu.SnapLine,Pl=hu.Legend,Nl=hu.Annotation,Rl={version:oi.version,Graph:Zi,TreeGraph:$i,Util:Mi,Layout:di.Layouts,TreeLayout:Oi,registerLayout:Ii,Global:oi,registerBehavior:Ir,registerCombo:Or,registerEdge:Sr,registerNode:Mr,Minimap:hu.Minimap,Grid:hu.Grid,Bundling:hu.Bundling,Menu:hu.Menu,ToolBar:hu.ToolBar,Tooltip:hu.Tooltip,Legend:hu.Legend,TimeBar:Tl,SnapLine:Ll,Fisheye:El,ImageMinimap:Dl,EdgeFilterLens:jl,Annotation:Nl,Algorithm:_l,Arrow:gr,Marker:vr,Shape:yr};n.d(e,!1,function(){return Zi}),n.d(e,!1,function(){return $i}),n.d(e,!1,function(){return Mi}),n.d(e,!1,function(){return di.Layouts}),n.d(e,!1,function(){return Oi}),n.d(e,!1,function(){return Ii}),n.d(e,!1,function(){return oi}),n.d(e,!1,function(){return Sl}),n.d(e,!1,function(){return Ml}),n.d(e,!1,function(){return Ol}),n.d(e,!1,function(){return Il}),n.d(e,!1,function(){return El}),n.d(e,!1,function(){return _l}),n.d(e,!1,function(){return Cl}),n.d(e,!1,function(){return kl}),n.d(e,!1,function(){return Tl}),n.d(e,!1,function(){return Dl}),n.d(e,!1,function(){return jl}),n.d(e,!1,function(){return Ll}),n.d(e,!1,function(){return Pl}),n.d(e,!1,function(){return Nl}),n.d(e,!1,function(){return gr}),n.d(e,!1,function(){return vr}),n.d(e,!1,function(){return yr}),n.d(e,!1,function(){return In}),n.d(e,!1,function(){return On}),n.d(e,!1,function(){return En}),n.d(e,!1,function(){return tr}),n.d(e,!1,function(){return Mr}),n.d(e,!1,function(){return Or}),n.d(e,!1,function(){return nr}),n.d(e,!1,function(){return Sr}),n.d(e,!1,function(){return Ir}),n.d(e,!1,function(){return wr}),n.d(e,!1,function(){return _r}),n.d(e,!1,function(){return Er}),n.d(e,!1,function(){return en}),Rl.version="4.8.9";e.a=Rl},"NtQ/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"GADDIAsync",{enumerable:!0,get:function(){return r.GADDIAsync}}),Object.defineProperty(e,"connectedComponentAsync",{enumerable:!0,get:function(){return r.connectedComponentAsync}}),e.default=void 0,Object.defineProperty(e,"detectAllCyclesAsync",{enumerable:!0,get:function(){return r.detectAllCyclesAsync}}),Object.defineProperty(e,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllDirectedCycleAsync}}),Object.defineProperty(e,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllUndirectedCycleAsync}}),Object.defineProperty(e,"detectCycleAsync",{enumerable:!0,get:function(){return r.detectCycleAsync}}),e.detectDirectedCycleAsync=void 0,Object.defineProperty(e,"dijkstraAsync",{enumerable:!0,get:function(){return r.dijkstraAsync}}),Object.defineProperty(e,"findAllPathAsync",{enumerable:!0,get:function(){return r.findAllPathAsync}}),Object.defineProperty(e,"findShortestPathAsync",{enumerable:!0,get:function(){return r.findShortestPathAsync}}),Object.defineProperty(e,"floydWarshallAsync",{enumerable:!0,get:function(){return r.floydWarshallAsync}}),Object.defineProperty(e,"getAdjMatrixAsync",{enumerable:!0,get:function(){return r.getAdjMatrixAsync}}),Object.defineProperty(e,"getDegreeAsync",{enumerable:!0,get:function(){return r.getDegreeAsync}}),Object.defineProperty(e,"getInDegreeAsync",{enumerable:!0,get:function(){return r.getInDegreeAsync}}),Object.defineProperty(e,"getNeighborsAsync",{enumerable:!0,get:function(){return r.getNeighborsAsync}}),Object.defineProperty(e,"getOutDegreeAsync",{enumerable:!0,get:function(){return r.getOutDegreeAsync}}),Object.defineProperty(e,"labelPropagationAsync",{enumerable:!0,get:function(){return r.labelPropagationAsync}}),Object.defineProperty(e,"louvainAsync",{enumerable:!0,get:function(){return r.louvainAsync}}),Object.defineProperty(e,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return r.minimumSpanningTreeAsync}}),Object.defineProperty(e,"pageRankAsync",{enumerable:!0,get:function(){return r.pageRankAsync}});var r=n("uSER"),i=r.detectCycleAsync;e.detectDirectedCycleAsync=i;var o={getAdjMatrixAsync:r.getAdjMatrixAsync,connectedComponentAsync:r.connectedComponentAsync,getDegreeAsync:r.getDegreeAsync,getInDegreeAsync:r.getInDegreeAsync,getOutDegreeAsync:r.getOutDegreeAsync,detectCycleAsync:r.detectCycleAsync,detectDirectedCycleAsync:i,detectAllCyclesAsync:r.detectAllCyclesAsync,detectAllDirectedCycleAsync:r.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:r.detectAllUndirectedCycleAsync,dijkstraAsync:r.dijkstraAsync,findAllPathAsync:r.findAllPathAsync,findShortestPathAsync:r.findShortestPathAsync,floydWarshallAsync:r.floydWarshallAsync,labelPropagationAsync:r.labelPropagationAsync,louvainAsync:r.louvainAsync,minimumSpanningTreeAsync:r.minimumSpanningTreeAsync,pageRankAsync:r.pageRankAsync,getNeighborsAsync:r.getNeighborsAsync,GADDIAsync:r.GADDIAsync};e.default=o},Nvyw:function(t,e){t.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAB3RJTUUH2AceFygf+WPe9AAACYlJREFUSIktz1mPnWd9APD/s77r2ebMmTP7jB3bsWPTSIGgiLUJRIBSFdESuKMfoJ+oN72qKlVCtPSiCiqhTYAQEhIgru1xEns8Z/Y527u/z/70ov19gx/yXlvrEKYYYfh/HsABKGelAcMIQqABNHjhrMaYASLgCQADhMFrQBgAA2APAN5Z1di2At0a1XocUK2NtRZ5a40NA+qdBDCADBihZC2RDEKCvcagtKyd0ZQyjJkHihDHhHhnwBOEGbAAYYYwQmARxhZhpa2ygjIWIq8IeKDetTnxElwLSIOT3LSEamIAGQlOelkpKTwhngaAA0wDQoh3zjmECCcQQxB7gxBgElLgCQYPwiGrnTOaYmNE4esFiMLbCiNJkEXYQIgBOZA1mNapRskWEUJ4hEiAeYgYB/BGW+0Q5QnhKcKBBwKIIsyttg5xignyUuky08XUy0zkl015lcSEYBMENEgThKCZX1IvwWqnBQ9DhwXiIYpSFEUOjGoF4eFiPgvCbnewZj3FJEIMYY8o5xSMdro1bamarLqaZFeTPDtbX+tzjnrdnm3M5NkzXWU3ru3KuljMpmmv5xnXmI42WIgDHBGCQOa5rWRdiRAxHnfBY3DYIwLMUm+lbgvdZOX8Ip9d5PPLti5MLyJAz06mV7P2t+++Pzu/ePOvXyNgT46P+qvD3nh8/9PDlY3pF19+MYx8GAWgkSyqLK+pp6N1Lq3SrgrijsecIqyVKKtsqpqiWEwnzw4ZdmujoVL6408+e/u3Bx//cRJRv//c8ajfsS4xDf3wdwf//G+/ifvRa988+NpLt7fGo63NDdO6ZlktyTTmHQuk1eC0ZcCp1XWZz0RdEnCUoJAHGNmrq9lyuXznvY/+cJCN9q59/eW7S6Xe/eXHRd0Mx6vjnfHmnbsHzz7/p59/OPn06Id/9Wo/XW1ysT4cI4y9UjxMlNOyLBxLaVss63zOnCTeMEqiODbGzOf54eGh0f6ll7802tj9bDL59NHjq+mSMDDn2drl8vXvvXb97vPv/+od5Nx//ec71LmQoWB7azgaExZEaap9XdUN6Jb8/U/+ViwvEmx0W1R1eXh8PBytsYCNhv318dp0WX38p/sffnKwMEYyaoPIc3o5LU4+P7o+Hnzl3u53v/YX+xuDo88exiH2BMcro3hlRKLUgq/r3BBKtVRKti1Ip2Qr5Op4I0pTVDnA7qNfvvt40sxzDRgsJq0BpzXCPsCoquu3fvHr11+5mUL+5RefH/Ti8/PzpNubZflgh0jrCKXOmabIMYD3DoRQdSsaoYqqqWqRpN0iL3u9XtLp8jC0AEJqh4gnzDmsPCJJPNzcKDRcLMr3/vBJ2BviIC4qYR0IIbWUhNJ+rwfeUSMVRth71Eo9OTmbZwVnYVXky8XSGFvWTVEL48A6561BPPQOIx5lrR4CnTUqXort7RuNARQmT45O1jzfUIYw56ztxGksETVag/dSmeks+/P9R0lv8PTo2KtWVbPjk9OyNHXtrQf0f1OjESHOO2ndk+PTqws4o0Y27ZPDZ2nELCJzYVc3dzc3N5xCCfVxFFGKUWt9WdaTk/OylgqqOO48v7/fDfZ7gzE7XKiHRyezyiFQ3nrnEaLOWobAWCu9X9nsD8drjMMim7Mwzk/PJ5OT4cpqNl3sjgc0iijyXklVVPUir5Zlg1t79+4XvvDiS9TUg5URG84VYPL54cm8kt4jihB4q503rpvwG7ujb3317ou3r3U4puCny/ztd9+//8mDmzduyqYtSw4+pFK0QrStVMrYspJAXZT2GqmpEgCw0olu39hxTg0GucU0jFNKKCO4F8VpFBKkukm4uT5iVom23t7aWF9ff3p0WhQFcXa5LDrxgHpnrbFKmVboWtiklwilF8ssBpEtpoyFexurWta3b+5VQvIo2tvZHQ0GKQ+Qs0o3dbuUdT4cDZyq86ocDQfHp1dVVQcYqNOxcxR58ICU0nXdFI0Wrjw5PXvh+h4nkMZJbzRqtU0i7hBkRUEZ3d9aGXS7XmmGSac3lHbkregloaqp1Ha40u/30snkeGNtmLCONY4a6ywyhrjGOe2gyeXV1XkUsxDTUX+fxVEpRNJJsqqI06jbScOAE+T6wx723gGsrI67ESfeIKBAlsrSNAo+/OD39+7di+/c4dJiqWTjKkF1C1h5bA1QbLVcVkUOKLAeEUoBY8wYC0NgzAJWHhALWZgmvVEQrVrUAdbrDjY4jUCrUa9jtXhydJxpOFtUuG3KqsqEEOAJQ5QgQODPTidVlXlvMUIYYwDPCInCAJyryhK8RxgFYZh2Usa5x9g5DwgnScIYTePw+t5uvlzmWX52eoalLKty2RaVFZpYTAA4ZRhDmDDrpXUaI4/BRwHvxDHDSInWGSPb1lnjnPHIEYYxw4ABY7w+XueUMYS7Yfjk0aPpxQVdLq+y+bzKalkKbH0n4HEYrY5WkjSsZRkiYCHHCIIgYJyrtgVrjZJNVfbSpGka8C4OQ0DIOi+NBkDD4apU0Lb24OHDfRZSraQSQrZC1S04v9ofJlEUhKEwwkjhEcOMEcABZYzxkAedNAXnm6bR2tRNy1wHIbAIrHeASRDGw+Eoy9uAsTgIZ5eXVFuvlK7yolguUx52koRSMl3M0k58dj67tp3wKCWYUhpgjznh49X1VgjvfSNU3tTEGKNVHHACoD1K4yRKJA/jMIzCIMiqmmKa1o2czaac4QDTwSCRWp5ezuwFSIk2NqBVJk0SYwEcIKDWQRR3WiktEBZExkFRtQhhsF5ZAjzuDMm40UUjt6/deHh8SltFWuW63RRbTH036XDtzNHppbB4NNy5WlTOUUCsKkUn6SDElFbeGB4leS3+5af/boGtjde/8/orP//Xt4SCH/3wewePnohWfuPVV//jF+/dfOEeXRnt9VfWGIJByu7ceolwrGn9wZ8/yGo4n9pstrh98zmEGXYeAZNCAEZxJz27mjVCf344f/7W/o/ffOOnP3vr6fHZeH3rH/7xZ/1+9+mz0/HuzoPPDr+xv0n/8ltvdHrtk4cfhSgtM0lJ4LxLe6v7d27vbN0Q+Zk26unhJCCsLNq2aRDGPA4fPD7Y3N0LonBrY3xxejqfZzt7+1vbO2//9/tJv/fG97/95Pj8waeP3/zJ39DRndtfHfxguLZ1Pjkjs+K5W7fifvx3d17oj/YxClQ1e/b44aMHD7P5IpOtBDK9vJzPZ2mabO9f//Z3ultr6R/v/8+du7d4yFZHq1GnZ53Z3N58ZW+7qJtrN1/4X49k4qeXiHbHAAAAAElFTkSuQmCC"},OFVe:function(t,e){},OiFs:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n("FlGC"),o=n("DmAK"),a=r(n("8ej2")),s=i.longestPath,u=function(t){(0,i.longestPathWithLayer)(t),(0,o.feasibleTreeWithLayer)(t)},l=function(t){(0,a.default)(t)};e.default=function(t){switch(t.graph().ranker){case"network-simplex":l(t);break;case"tight-tree":u(t);break;case"longest-path":s(t);break;default:u(t)}}},OqTO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.aveMovementBundle=e.aveMovementCode=e.gForceBundle=e.gForceCode=void 0,e.gForceCode="\nimport { globalInvocationID } from 'g-webgpu';\n\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\nconst SHIFT_20 = 1048576;\n\n@numthreads(1, 1, 1)\nclass GGForce {\n  @in @out\n  u_Data: vec4[];\n\n  @in\n  u_damping: float;\n  \n  @in\n  u_maxSpeed: float;\n\n  @in\n  u_minMovement: float;\n\n  @in\n  u_AveMovement: vec4[];\n\n  @in\n  u_coulombDisScale: float;\n\n  @in\n  u_factor: float;\n\n  @in\n  u_NodeAttributeArray1: vec4[];\n\n  @in\n  u_NodeAttributeArray2: vec4[];\n\n  @in\n  u_interval: float;\n\n  unpack_float(packedValue: float): ivec2 {\n    const packedIntValue = int(packedValue);\n    const v0 = packedIntValue / SHIFT_20;\n    return [v0, packedIntValue - v0 * SHIFT_20];\n  }\n\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let ax = 0, ay = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const vx = currentNode[0] - nextNode[0];\n        const vy = currentNode[1] - nextNode[1];\n        const dist = sqrt(vx * vx + vy * vy) + 0.01;\n        const n_dist = (dist + 0.1) * this.u_coulombDisScale;\n        const direx = vx / dist;\n        const direy = vy / dist;\n        const attributesi = this.u_NodeAttributeArray1[i];\n        const attributesj = this.u_NodeAttributeArray1[j];\n        const massi = attributesi[0];\n        const nodeStrengthi = attributesi[2];\n        const nodeStrengthj = attributesj[2];\n        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;\n        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);\n        const param = nodeStrength * this.u_factor / (n_dist * n_dist);\n        ax += direx * param;\n        ay += direy * param;\n      }\n    }\n    return [ax, ay];\n  }\n\n  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {\n    // note: attributes2 = [centerX, centerY, gravity, 0]\n\n    const vx = currentNode[0] - attributes2[0];\n    const vy = currentNode[1] - attributes2[1];\n    \n    const ax = vx * attributes2[2];\n    const ay = vy * attributes2[2];\n    \n    return [ax, ay];\n  }\n\n  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {\n    // note: attributes1 = [mass, degree, nodeSterngth, 0]\n\n    const mass = attributes1[0];\n    let ax = 0, ay = 0;\n    // const arr_offset = int(floor(currentNode[2] + 0.5));\n    // const length = int(floor(currentNode[3] + 0.5));\n\n    const compressed = this.unpack_float(currentNode[2]);\n    const length = compressed[0];\n    const arr_offset = compressed[1];\n\n    const node_buffer: vec4;\n    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + 4 * p; // i 节点的第 p 条边开始的小格子位置\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)]; // 大格子，大格子位置=小个子位置 / 4，\n      }\n\n      let float_j: float = node_buffer[0];\n\n      const nextNode = this.u_Data[int(float_j)];\n      const vx = nextNode[0] - currentNode[0];\n      const vy = nextNode[1] - currentNode[1];\n      const dist = sqrt(vx * vx + vy * vy) + 0.01;\n      const direx = vx / dist;\n      const direy = vy / dist;\n      const edgeLength = node_buffer[1];\n      const edgeStrength = node_buffer[2];\n      const diff: float = edgeLength - dist;//edgeLength\n      // const param = diff * this.u_stiffness / mass; //\n      const param = diff * edgeStrength / mass; // \n      ax -= direx * param;\n      ay -= direy * param;\n    }\n    return [ax, ay];\n  }\n\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    const movement = u_AveMovement[0];\n    let ax = 0, ay = 0;\n\n    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // 每个节点属性占两个数组中各一格\n    // [mass, degree, nodeStrength, fx]\n    const nodeAttributes1 = this.u_NodeAttributeArray1[i];\n    // [centerX, centerY, centerGravity, fy]\n    const nodeAttributes2 = this.u_NodeAttributeArray2[i];\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    ax += repulsive[0];\n    ay += repulsive[1];\n\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);\n    ax += attractive[0];\n    ay += attractive[1];\n\n    // gravity\n    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);\n    ax -= gravity[0];\n    ay -= gravity[1];\n\n    // speed\n    const param = this.u_interval * this.u_damping;\n    let vx = ax * param;\n    let vy = ay * param;\n    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;\n    if (vlength > this.u_maxSpeed) {\n      const param2 = this.u_maxSpeed / vlength;\n      vx = param2 * vx;\n      vy = param2 * vy;\n    }\n\n    // move\n    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {\n      this.u_Data[i] = [\n        nodeAttributes1[3],\n        nodeAttributes2[3],\n        currentNode[2],\n        0\n      ];\n    } else {\n      const distx = vx * this.u_interval;\n      const disty = vy * this.u_interval;\n      const distLength = sqrt(distx * distx + disty * disty);\n      this.u_Data[i] = [\n        currentNode[0] + distx,\n        currentNode[1] + disty,\n        currentNode[2],\n        distLength\n      ];\n    }\n    \n    // the avarage move distance\n    // need to share memory\n    \n  }\n}\n",e.gForceBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {float distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',e.aveMovementCode="\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass CalcAveMovement {\n  @in\n  u_Data: vec4[];\n  @in\n  u_iter: float;\n  @in @out\n  u_AveMovement: vec4[];\n  @main\n  compute() {\n    let movement = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      const vertex = this.u_Data[j];\n      movement += vertex[3];\n    }\n    movement = movement / float(VERTEX_COUNT);\n    this.u_AveMovement[0] = [movement, 0, 0, 0];\n  }\n}\n",e.aveMovementBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}'},OwOc:function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"d",function(){return h}),e.e=function(t){for(var e in h)t[e]&&(h[e]=t[e])};var r=12,i="sans-serif",o=r+"px "+i,a=20,s=100;var u,l,c=function(t){var e={};if("undefined"==typeof JSON)return e;for(var n=0;n<t.length;n++){var r=String.fromCharCode(n+32),i=(t.charCodeAt(n)-a)/s;e[r]=i}return e}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),h={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(t,e){if(!u){var n=h.createCanvas();u=n&&n.getContext("2d")}if(u)return l!==e&&(l=u.font=e||o),u.measureText(t);t=t||"";var i=/(\d+)px/.exec(e=e||o),a=i&&+i[1]||r,s=0;if(e.indexOf("mono")>=0)s=a*t.length;else for(var d=0;d<t.length;d++){var f=c[t[d]];s+=null==f?a:f*a}return{width:s}},loadImage:function(t,e,n){var r=new Image;return r.onload=e,r.onerror=n,r.src=t,r}}},"P/9i":function(t,e,n){"use strict";var r=n("csQB"),i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-transfer",{attrs:{"data-source":t.mockData,"list-style":{width:"493px",height:"240px"},"target-keys":t.targetKeys,render:t.renderItem},on:{change:t.handleChange},scopedSlots:t._u([{key:"footer",fn:function(e){return n("a-button",{staticClass:"reSelect",attrs:{size:"small"},on:{click:t.reSelectMock}},[t._v("\n  重置\n")])}}])})},staticRenderFns:[]};var o=n("VU/8")({props:["mockData","targetKeys"],data:function(){return{targetKeysSource:this.targetKeys,targetKeystemp:this.targetKeys}},mounted:function(){},methods:{renderItem:function(t){return{label:(0,this.$createElement)("span",{class:"custom-item"},[t.title," | ",t.description]),value:t.title}},handleChange:function(t){0==this.targetKeysSource.length&&(this.targetKeysSource=this.targetKeys),this.targetKeystemp=t,this.$emit("clientTransfer",this.targetKeystemp)},reSelectMock:function(){0==this.targetKeysSource.length?(this.targetKeys=this.targetKeys,this.targetKeystemp=this.targetKeys,this.$emit("clientTransfer",this.targetKeystemp)):(this.targetKeys=this.targetKeysSource,this.targetKeystemp=this.targetKeys,this.$emit("clientTransfer",this.targetKeystemp))}}},i,!1,function(t){n("c7ya")},"data-v-4951b64b",null).exports,a={template:'\n        <svg t="1680138013828" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4354" width="128" height="128"><path d="M534.869333 490.496a1403.306667 1403.306667 0 0 0 50.858667-25.813333c16.042667-8.618667 29.013333-15.061333 38.570667-19.029334 9.557333-3.925333 17.066667-6.058667 22.869333-6.058666 9.557333 0 17.749333 3.2 24.917333 10.026666 6.826667 6.826667 10.581333 15.061333 10.581334 25.088 0 5.76-1.706667 11.818667-5.12 17.92-3.413333 6.101333-7.168 10.069333-10.922667 11.861334-35.157333 14.677333-74.410667 25.429333-116.736 31.872 7.850667 7.168 17.066667 17.237333 28.330667 29.781333 11.264 12.544 17.066667 18.986667 17.749333 20.053333 4.096 6.101333 9.898667 13.653333 17.408 22.613334 7.509333 8.96 12.629333 15.786667 15.36 20.778666 2.730667 5.034667 4.437333 11.093333 4.437333 18.304a33.706667 33.706667 0 0 1-9.898666 24.021334 33.834667 33.834667 0 0 1-25.6 10.410666c-10.24 0-22.186667-8.618667-35.157334-25.472-12.970667-16.512-30.037333-46.933333-50.517333-91.050666-20.821333 39.424-34.816 65.962667-41.642667 78.506666-7.168 12.544-13.994667 22.186667-20.48 28.672a30.976 30.976 0 0 1-22.528 9.685334 32.256 32.256 0 0 1-25.258666-11.093334 35.413333 35.413333 0 0 1-9.898667-23.68c0-7.893333 1.365333-13.653333 4.096-17.578666 25.258667-35.84 51.541333-67.413333 78.848-93.568a756.650667 756.650667 0 0 1-61.44-12.544 383.061333 383.061333 0 0 1-57.685333-20.48c-3.413333-1.749333-6.485333-5.717333-9.557334-11.818667a30.208 30.208 0 0 1-5.12-16.853333 32.426667 32.426667 0 0 1 10.581334-25.088 33.152 33.152 0 0 1 24.234666-10.026667c6.485333 0 14.677333 2.133333 24.576 6.101333 9.898667 4.266667 22.186667 10.026667 37.546667 18.261334 15.36 7.893333 32.426667 16.853333 51.882667 26.538666-3.413333-18.261333-6.485333-39.082667-8.874667-62.378666-2.389333-23.296-3.413333-39.424-3.413333-48.042667 0-10.752 3.072-19.712 9.557333-27.264A30.677333 30.677333 0 0 1 512.341333 341.333333c9.898667 0 18.090667 3.925333 24.576 11.477334 6.485333 7.893333 9.557333 17.92 9.557334 30.464 0 3.584-0.682667 10.410667-1.365334 20.48-0.682667 10.368-2.389333 22.570667-4.096 36.906666-2.048 14.677333-4.096 31.146667-6.144 49.834667z" fill="#FF3838" p-id="4355"></path></svg>\n        '},s={template:'\n            <a-icon :component="selectSvg" />\n        ',data:function(){return{selectSvg:a}}},u={name:"fairnessDataset",components:{datatable:r.a,dataAttrTranfer:o,selectIcon:s},props:{dataname:{default:function(){return["German","Adult","Compas","Cifar10-S","CelebA"]}}},data:function(){return{labelshow:[!0,!1,!1],value:0,radioStyle:{display:"block",lineHeight:"30px"},dataAttrlist:{German:[{title:"credit",description:"银行是否批准贷款 ",chosen:!1,type:"tar"},{title:"skill_level",description:"客户的职业 ",chosen:!1,type:"tar"},{title:"credit_amount",description:"申请贷款的金额 ",chosen:!0,type:"tar"},{title:"sex",description:"客户的性别 ",chosen:!1,type:"sen"},{title:"age",description:"客户的年龄 ",chosen:!0,type:"sen"},{title:"status",description:"现有支票账户的状态 ",chosen:!0,type:"sta"},{title:"credit_history",description:"以前的信用记录和信贷经验",chosen:!0,type:"sta"},{title:"purpose",description:"申请贷款的原因 ",chosen:!0,type:"sta"},{title:"savings",description:"储蓄账户和债券的状态 ",chosen:!1,type:"sta"},{title:"employment",description:"客户现在的工作时长 ",chosen:!1,type:"sta"},{title:"other_debtors",description:"是否有其他债务人或担保人 ",chosen:!1,type:"sta"},{title:"personal_status",description:"客户的个人状况和性别 ",chosen:!1,type:"sta"},{title:"property",description:"客户的财产状况 ",chosen:!1,type:"sta"},{title:"installment_plans",description:"客户是否有其他分期付款计划 ",chosen:!1,type:"sta"},{title:"housing",description:"客户的住房状况 ",chosen:!1,type:"sta"},{title:"skill_level",description:"客户的职业 ",chosen:!1,type:"sta"},{title:"telephone",description:"客户是否有电话 ",chosen:!1,type:"sta"},{title:"foreign_worker",description:"客户是否为外籍工人 ",chosen:!1,type:"sta"}],Adult:[{title:"income-per-year",description:"年收入",chosen:!1,type:"tar"},{title:"capital-gain",description:"资本收益",chosen:!0,type:"tar"},{title:"capital-loss",description:"资本损失",chosen:!1,type:"tar"},{title:"race",description:"种族",chosen:!0,type:"sen"},{title:"sex",description:"性别",chosen:!1,type:"sen"},{title:"workclass",description:"工作类型",chosen:!0,type:"sta"},{title:"education",description:"受教育程度 ",chosen:!0,type:"sta"},{title:"marital-status",description:"婚姻状况",chosen:!0,type:"sta"},{title:"occupation",description:"职业",chosen:!1,type:"sta"},{title:"relationship",description:"家庭关系",chosen:!1,type:"sta"},{title:"native-country",description:"国籍",chosen:!1,type:"sta"},{title:"income-per-year",description:"年收入",chosen:!1,type:"sta"}],Compas:[{title:"two_year_recid",description:"二元变量，表示被告是否在两年内再次被逮捕",chosen:!1,type:"tar"},{title:"decile_score",description:"十分制的被告人得分",chosen:!1,type:"tar"},{title:"score_text",description:"被告的得分类别",chosen:!0,type:"tar"},{title:"sex",description:"被告的性别",chosen:!1,type:"sen"},{title:"race",description:"被告的种族",chosen:!0,type:"sen"},{title:"age_cat",description:"被告的年龄类别",chosen:!0,type:"sta"},{title:"c_charge_degree",description:"被告的罪名程度。F: 重罪，M: 轻罪",chosen:!0,type:"sta"},{title:"c_charge_desc",description:"用文字描述的被告人罪名",chosen:!1,type:"sta"}],CelebA:[{title:"5_o_Clock_Shadow",description:"是否有五点钟阴影（下巴上的短须）",chosen:!1,type:"tar"},{title:"Arched_Eyebrows",description:"是否有拱形眉毛",chosen:!1,type:"tar"},{title:"Attractive",description:"是否吸引人",chosen:!1,type:"tar"},{title:"Bags_Under_Eyes",description:"是否眼袋明显",chosen:!1,type:"tar"},{title:"Bald",description:"是否秃头",chosen:!1,type:"tar"},{title:"Bangs",description:"是否有刘海",chosen:!1,type:"tar"},{title:"Big_Lips",description:"是否嘴唇丰满",chosen:!1,type:"tar"},{title:"Big_Nose",description:"是否鼻子大",chosen:!1,type:"tar"},{title:"Black_Hair",description:"是否有黑发",chosen:!1,type:"tar"},{title:"Blond_Hair",description:"是否有金发",chosen:!1,type:"tar"},{title:"Blurry",description:"图片是否模糊",chosen:!1,type:"tar"},{title:"Brown_Hair",description:"是否有棕发",chosen:!1,type:"tar"},{title:"Bushy_Eyebrows",description:"是否眉毛浓密",chosen:!1,type:"tar"},{title:"Chubby",description:"\t是否圆胖",chosen:!1,type:"tar"},{title:"Double_Chin",description:"是否有双下巴",chosen:!1,type:"tar"},{title:"Eyeglasses",description:"是否戴眼镜",chosen:!1,type:"tar"},{title:"Goatee",description:"是否有山羊胡",chosen:!1,type:"tar"},{title:"Gray_Hair",description:"是否有灰发",chosen:!1,type:"tar"},{title:"Heavy_Makeup",description:"是否化妆浓重",chosen:!1,type:"tar"},{title:"High_Cheekbones",description:"是否颧骨高",chosen:!1,type:"tar"},{title:"Male",description:"性别是否为男",chosen:!0,type:"sen"},{title:"Mouth_Slightly_Open",description:"是否微张嘴",chosen:!1,type:"tar"},{title:"Mustache",description:"是否有胡子",chosen:!1,type:"tar"},{title:"Narrow_Eyes",description:"是否眼睛狭长",chosen:!1,type:"tar"},{title:"No_Beard",description:"是否没有胡须",chosen:!1,type:"tar"},{title:"Oval_Face",description:"是否脸形为椭圆形",chosen:!1,type:"tar"},{title:"Pale_Skin",description:"是否皮肤苍白",chosen:!1,type:"tar"},{title:"Pointy_Nose",description:"是否鼻子尖",chosen:!1,type:"tar"},{title:"Receding_Hairline",description:"是否发际线后移",chosen:!1,type:"tar"},{title:"Rosy_Cheeks",description:"是否面颊红",chosen:!1,type:"tar"},{title:"Sideburns",description:"是否有鬓角",chosen:!1,type:"tar"},{title:"Smiling",description:"是否在微笑",chosen:!1,type:"tar"},{title:"Straight_Hair",description:"是否直发",chosen:!1,type:"tar"},{title:"Wavy_Hair",description:"是否波浪型发型",chosen:!1,type:"tar"},{title:"Wearing_Earrings",description:"是否戴耳环",chosen:!1,type:"tar"},{title:"Wearing_Hat",description:"是否戴帽子",chosen:!1,type:"tar"},{title:"Wearing_Lipstick",description:"是否涂口红",chosen:!1,type:"tar"},{title:"Wearing_Necklace",description:"是否戴项链",chosen:!1,type:"tar"},{title:"Wearing_Necktie",description:"是否戴领带",chosen:!1,type:"tar"},{title:"Young",description:"是否年轻",chosen:!0,type:"tar"}],"Cifar10-S":[{title:"domain",description:"图片的所属领域，灰度图片或彩色图片",chosen:!0,type:"sen"},{title:"class",description:"图片中物体类别，10分类包括飞机、轿车、鸟、鹿、青蛙、船只、猫、狗、卡车、马",chosen:!0,type:"tar"}]},senMockData:[],senTargetKeys:[],tarMockData:[],tarTargetKeys:[],staMockData:[],staTargetKeys:[],datainfo:{German:{name:"German数据集",text:"是一个用于信用评估的数据集。该数据集包含各种个人信息，包括性别、年龄、工作类型、信用记录等等。这些信息被用于预测个人的信用违约概率，以便银行等金融机构能够做出更好的贷款决策。",href:"https://archive.ics.uci.edu/ml/datasets/statlog+(german+credit+data)",tabledata:[{name:"数据集特征",value:"多元统计"},{name:"示例个数",value:"1,000"},{name:"所属领域",value:"财经"},{name:"属性类型",value:"连续型，离散型"},{name:"属性数量",value:"20"},{name:"创建日期",value:"1994-11-17"},{name:"相关任务",value:"分类"},{name:"是否缺失",value:"否"}]},Adult:{name:"Adult数据集",text:"Adult数据集是一个用于预测个人收入是否超过50000美元的数据集。该数据集包含各种个人信息，包括年龄、教育程度、职业、婚姻状况等等。",href:"https://archive.ics.uci.edu/ml/datasets/adult",tabledata:[{name:"数据集特征",value:"多元统计"},{name:"示例个数",value:"48842"},{name:"所属领域",value:"财经/社会"},{name:"属性类型",value:"连续型，离散型"},{name:"属性数量",value:"14"},{name:"创建日期",value:"1996-05-01"},{name:"相关任务",value:"分类"},{name:"是否缺失",value:"是"}]},Compas:{name:"Compas数据集",text:"是一个用于犯罪风险评估的数据集。该数据集包含各种犯罪嫌疑人的个人信息，包括性别、年龄、种族、前科记录等等。这些信息被用于预测嫌疑人的未来犯罪行为的概率，以便法院能够在决定是否对其进行拘留或释放时做出更好的判断。",href:"https://www.propublica.org/datastore/dataset/compas-recidivism-risk-score-data-and-analysis",tabledata:[{name:"数据集特征",value:"多元统计"},{name:"示例个数",value:"6172"},{name:"所属领域",value:"社会"},{name:"属性特征",value:"连续型，离散型"},{name:"属性数量",value:"12"},{name:"创建日期",value:"2016-5-23"},{name:"相关任务",value:"分类"},{name:"是否缺失",value:"否"}]},"Cifar10-S":{name:"Cifar10-S数据集",text:"CIFAR-10S数据集是CIFAR-10数据集的修改版本，包含50,000张32x32的图像，这些图像均匀分布在10个对象类别中。在CIFAR-10S中，每个原始的10个类别都被细分为两个新的领域子类，对应于该类别内的颜色和灰度领域。每个类别的5,000个训练图像在两个领域之间分割为95%到5%；五个类别是95%的颜色，五个类别是95%的灰度。因此，分配给每个领域的图像总数是平衡的。对于测试，创建了标准CIFAR-10测试集的两个副本：一个是颜色（COLOR），一个是灰度（GRAY）。",href:"https://github.com/princetonvisualai/DomainBiasMitigation",tabledata:[{name:"样本数",value:"60000"},{name:"所属领域",value:"物体识别"},{name:"分类类型",value:"10分类"},{name:"标签属性数",value:1},{name:"发布时间",value:"2020-9"},{name:"相关任务",value:"分类"},{name:"是否缺失",value:"否"}]},CelebA:{name:"Cifar10-S数据集",text:"CelebA数据集是一个大规模的面部属性数据集，包含超过200,000张名人图像，每张图像都有40个属性注释。此数据集的图像覆盖了大的姿态变化和背景杂乱。CelebA具有大的多样性，大量的数量和丰富的注释。",href:"https://mmlab.ie.cuhk.edu.hk/projects/CelebA.html",tabledata:[{name:"样本数",value:"202599"},{name:"所属领域",value:"人脸识别"},{name:"分类类型",value:"2分类"},{name:"标签属性数",value:40},{name:"发布时间",value:"2015-12"},{name:"相关任务",value:"分类"},{name:"是否缺失",value:"是"}]}}}},mounted:function(){this.onChangeRadio()},methods:{sendSelect:function(){for(var t=[],e=[],n=[],r=0;r<this.senTargetKeys.length;r++)t.push(this.dataAttrlist[this.dataname[this.value]][this.senTargetKeys[r]].title);for(var i=0;i<this.tarTargetKeys.length;i++)e.push(this.dataAttrlist[this.dataname[this.value]][this.tarTargetKeys[i]].title);for(var o=0;o<this.staTargetKeys.length;o++)n.push(this.dataAttrlist[this.dataname[this.value]][this.staTargetKeys[o]].title);this.$emit("clientDatasetSelect",this.value,t,e,n)},onChangeRadio:function(t,e){var n=[],r=[],i=[],o=[],a=[],s=[],u=this.dataAttrlist[this.dataname[this.value]];for(var l in u){var c={key:l,title:u[l].title,description:u[l].description,chosen:u[l].chosen};switch(u[l].type){case"sen":n.push(c),c.chosen&&r.push(c.key);break;case"tar":i.push(c),c.chosen&&o.push(c.key);break;case"sta":a.push(c),c.chosen&&s.push(c.key)}}this.senMockData=n,this.senTargetKeys=r,this.tarMockData=i,this.tarTargetKeys=o,this.staMockData=a,this.staTargetKeys=s,this.sendSelect(),console.log("print e:",t),t&&this.showDataDes(t,e)},senClientTransfer:function(t){for(var e=0;e<this.senTargetKeys.length;e++)-1==t.indexOf(this.senTargetKeys[e])&&this.staTargetKeys.splice(this.staTargetKeys.indexOf(this.senTargetKeys[e]),1);this.senTargetKeys=t;for(var n=0;n<t.length;n++)-1==this.staTargetKeys.indexOf(t[n])&&this.staTargetKeys.push(t[n]);this.sendSelect()},showDataDes:function(t,e){var n;console.log(t),console.log(e),n=this.labelshow[e],this.labelshow=[!1,!1,!1],this.labelshow[e]=!n,t.preventDefault()},tarClientTransfer:function(t){for(var e=0;e<this.tarTargetKeys.length;e++)-1==t.indexOf(this.tarTargetKeys[e])&&this.staTargetKeys.splice(this.staTargetKeys.indexOf(this.tarTargetKeys[e]),1);this.tarTargetKeys=t;for(var n=0;n<t.length;n++)-1==this.staTargetKeys.indexOf(t[n])&&this.staTargetKeys.push(t[n]);this.sendSelect()},staClientTransfer:function(t){this.staTargetKeys=t,this.sendSelect()}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"datasetselect"},[n("p",{staticClass:"mainParamNameNotop"},[n("select-icon",{attrs:{stlye:{width:"4px"}}}),t._v("请选择数据集")],1),t._v(" "),t._l(t.dataname,function(e,r){return n("a-radio-group",{key:r,on:{change:function(e){return t.onChangeRadio(e,r)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[n("a-radio",{style:t.radioStyle,attrs:{value:r}},[t._v("\r\n                "+t._s(e)+"\r\n            ")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.labelshow[r],expression:"labelshow[index]"}],staticClass:"datades"},[n("p",{staticClass:"bgInfo",staticStyle:{height:"auto"}},[n("a",{attrs:{href:t.datainfo[e].href}},[t._v(t._s(t.datainfo[e].name))]),t._v("："+t._s(t.datainfo[e].text))]),t._v(" "),n("datatable",{attrs:{tabledata:t.datainfo[e].tabledata}}),t._v(" "),["German","Adult","Compas"].indexOf(e)>-1?n("p",{staticClass:"paramName"},[n("select-icon",{attrs:{stlye:{width:"4px"}}}),t._v("请选择敏感属性")],1):t._e(),t._v(" "),["German","Adult","Compas"].indexOf(e)>-1?n("div",[n("dataAttrTranfer",{attrs:{mockData:t.senMockData,targetKeys:t.senTargetKeys},on:{clientTransfer:t.senClientTransfer}})],1):t._e(),t._v(" "),["German","Adult","Compas"].indexOf(e)>-1?n("p",{staticClass:"paramName"},[n("select-icon",{attrs:{stlye:{width:"4px"}}}),t._v("请选择目标属性")],1):t._e(),t._v(" "),["German","Adult","Compas"].indexOf(e)>-1?n("div",[n("dataAttrTranfer",{attrs:{mockData:t.tarMockData,targetKeys:t.tarTargetKeys},on:{clientTransfer:t.tarClientTransfer}})],1):t._e(),t._v(" "),["German","Adult","Compas"].indexOf(e)>-1?n("p",{staticClass:"paramName"},[n("select-icon",{attrs:{stlye:{width:"4px"}}}),t._v("请选择统计属性")],1):t._e(),t._v(" "),["German","Adult","Compas"].indexOf(e)>-1?n("div",[n("dataAttrTranfer",{attrs:{mockData:t.staMockData,targetKeys:t.staTargetKeys},on:{clientTransfer:t.staClientTransfer}})],1):t._e(),t._v(" "),n("div",{staticStyle:{"margin-bottom":"24px"}})],1)],1)})],2)},staticRenderFns:[]};var c=n("VU/8")(u,l,!1,function(t){n("X4kz")},"data-v-7412b85a",null);e.a=c.exports},P2Of:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.id=t.id||0,this.rx=t.rx,this.ry=t.ry,this.fx=0,this.fy=0,this.mass=t.mass,this.degree=t.degree,this.g=t.g||0}return t.prototype.distanceTo=function(t){var e=this.rx-t.rx,n=this.ry-t.ry;return Math.hypot(e,n)},t.prototype.setPos=function(t,e){this.rx=t,this.ry=e},t.prototype.resetForce=function(){this.fx=0,this.fy=0},t.prototype.addForce=function(t){var e=t.rx-this.rx,n=t.ry-this.ry,r=Math.hypot(e,n);r=r<1e-4?1e-4:r;var i=this.g*(this.degree+1)*(t.degree+1)/r;this.fx+=i*e/r,this.fy+=i*n/r},t.prototype.in=function(t){return t.contains(this.rx,this.ry)},t.prototype.add=function(e){var n=this.mass+e.mass;return new t({rx:(this.rx*this.mass+e.rx*e.mass)/n,ry:(this.ry*this.mass+e.ry*e.mass)/n,mass:n,degree:this.degree+e.degree})},t}();e.default=r},P6gd:function(t,e,n){t.exports=n.p+"static/img/frameworkTestIcon.05d02fb.png"},P9ea:function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wgARCACiAKUDASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAUGAQQHAwL/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHn4AAAAAAAAAAAAAAAAAAAAAAAAAAADOyav3OzBUN26zxy3R7DRymsjAAAAAG793Uj5qU1Dc3aJGHQIelaRaYSJwAAAAD1PqVmLKVqarMOS0F4fJ6fGAAAAAAPo+ZDR2jrWh5SxyqMvtLNYAAAAAA9j3sktMlCgbRXT26DQegkzy3ovMyLwAAAAAD18hfbZyKwl4+IHYJL1gq+bVT+vEAAAAAAAZwMsDOAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/8QAIhAAAgIDAQEAAgMBAAAAAAAAAQIDBAAREgUwI0AUFWBB/9oACAEBAAEFAv8AR8nFhZsFGQ4aEox4WT7axIi2R0S2L5R1F53ORwKokiXXoxhc/wC/OCEu0fnbEPnKMSFEztAJbIXJPQ5x/WO7FszfSGEsatQLnccYe4gE187N98kuOcMzH6JH3kdFmyFBDhtqsdm4WwzMc7Ob+sa9GnT3hjES3J9M05IJ3+hUG5asYEd7rVkN19wN4RrK7cyVbi8nmVbtPJU5b6wwmQxeblipxjDkwzFT58vYnUFLi/k+kQ29Koupfxrbd2LRucgrszUIuBamAW0+5PpGdPStZ0kg/ixthox4tRELyJELtrZduj9YpSpjvaxPTAz+1TG9Ncs3S+O5b9HZzZzZ/wBD/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAwEBPwFz/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAgEBPwFz/8QAHhAAAQQDAQEBAAAAAAAAAAAAAQAQITERMEAgYEH/2gAIAQEABj8C+nnjpVurxatXvyQ0FQVavdlS0FXxRxBoU8eMsY5SjtAQKhqVMUdwGW/FQeDwX4g8d/Rf/8QAHxABAQEAAgIDAQEAAAAAAAAAAQARITEwQRBRYUBg/9oACAEBAAE/If8ARZvwdQR/BCcnn1q9bOnDM6NxdLnYk9FsYT28ebAiESl2OSvZHQLqxYnJtGtqbe/Gf4iCDzsujZrX8De/l13xsuLpDIgerOGTDHtkp7lPl4G4yl0e2f1YjZVz/AAH7hiWDqFHj+BLM5/bEwvqmTURWPMLAlzX43RR/mQtt6+oCHvyC5cG2+BLAJfWANnbwNvr4Y9+TCYASHMpPPyZ43mEhBLchNXy9W324+w7lv0nnDaEdg/wa/d+jfsv0bX7/wBB/9oADAMBAAIAAwAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAACSDDAAAAATAhhhDAAAAQTgBCAAAAAQDxAAAAAAARBRBggAAAAASSChwAAAAAAADDAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAwEBPxBz/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAgEBPxBz/8QAJhABAAIBAgYDAQADAAAAAAAAAQARITAxIEBBUWGBcZGh8RDB4f/aAAgBAQABPxDlDlTlTlTXEqIMbRU6niXr85avxjbSgm16omxFClHjchRc08M9yFD3iPaHHaFMpj8mmJYLiNVPiDJydoGINQ5jrzKEY/Mvtt2ZcrK7Moij5hgTnvFtPfSC2oylhSUbPUJiBCU0fc/2Rl0H7jbdvcIRxYrJy/4NEEBbggKIakV1I2QodIYv6ZZX98btT7nVIq7vAaFHW7ZdxvxMnG0O0o7I/siRW+gaGwxSF8XRKUMVFwdYFU6JxJs3m4EBPYEQ/YJbVYkVg2+CLA20TgBXESLl7SjIMdZZcmIiWpJfDq5mB03j2C7SrK3Zv6BwbTCwgBaXLULB2n5YYsR9Q6Sr7SjQlRV9aXi8WxWnQODwnNtBXWHxlkbsl+Il19Eqga8QGLEYdgvRjHRjgFVkN4QYgG15lWv9yz/qKNz5mRf3FlvirvonCKbSrq+5/an9Cf2otun3pnKnKnKnKk//2Q=="},PDVq:function(t,e,n){"use strict";e.d=function(){return window?window.devicePixelRatio:1},e.b=function(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)},e.e=function(t,e,n,r,i,o){return i>=t&&i<=t+n&&o>=e&&o<=e+r},e.f=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},e.l=function(t,e){if(!t||!e)return t||e;return{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}},e.j=function(t,e){return t[0]===e[0]&&t[1]===e[1]};var r=n("IgWN");n.d(e,"i",function(){return r.isNil}),n.d(e,"k",function(){return r.isString}),n.d(e,"h",function(){return r.isFunction}),n.d(e,"g",function(){return r.isArray}),n.d(e,"c",function(){return r.each}),n.d(e,"o",function(){return r.toRadian}),n.d(e,"m",function(){return r.mod}),n.d(e,"n",function(){return r.requestAnimationFrame}),n.d(e,"a",function(){return r.clearAnimationFrame})},PRxO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCoreNodeAndRelativeLeafNodes=e.getAvgNodePosition=e.getLayoutBBox=e.traverseTreeUp=e.scaleMatrix=e.getAdjMatrix=e.floydWarshall=e.getDegreeMap=e.getDegree=e.getEdgeTerminal=void 0;var r=n("i3IR"),i=n("yKiC"),o=n("hTOL");e.getEdgeTerminal=function(t,e){var n=t[e];return(0,o.isObject)(n)?n.cell:n};e.getDegree=function(t,n,r){for(var i=[],o=0;o<t;o++)i[o]={in:0,out:0,all:0};return r?(r.forEach(function(t){var r=(0,e.getEdgeTerminal)(t,"source"),o=(0,e.getEdgeTerminal)(t,"target");r&&i[n[r]]&&(i[n[r]].out+=1,i[n[r]].all+=1),o&&i[n[o]]&&(i[n[o]].in+=1,i[n[o]].all+=1)}),i):i};e.getDegreeMap=function(t,n){var r={};return t.forEach(function(t){r[t.id]={in:0,out:0,all:0}}),n?(n.forEach(function(t){var n=(0,e.getEdgeTerminal)(t,"source"),i=(0,e.getEdgeTerminal)(t,"target");n&&(r[n].out+=1,r[n].all+=1),i&&(r[i].in+=1,r[i].all+=1)}),r):r};e.floydWarshall=function(t){for(var e=[],n=t.length,r=0;r<n;r+=1){e[r]=[];for(var i=0;i<n;i+=1)r===i?e[r][i]=0:0!==t[r][i]&&t[r][i]?e[r][i]=t[r][i]:e[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)e[r][i]>e[r][o]+e[o][i]&&(e[r][i]=e[r][o]+e[o][i]);return e};e.getAdjMatrix=function(t,n){var r=t.nodes,i=t.edges,o=[],a={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach(function(t,e){a[t.id]=e,o.push([])}),null===i||void 0===i||i.forEach(function(t){var r=(0,e.getEdgeTerminal)(t,"source"),i=(0,e.getEdgeTerminal)(t,"target"),s=a[r],u=a[i];void 0!==s&&void 0!==u&&(o[s][u]=1,n||(o[u][s]=1))}),o};e.scaleMatrix=function(t,e){var n=[];return t.forEach(function(t){var r=[];t.forEach(function(t){r.push(t*e)}),n.push(r)}),n};var a=function(t,e){if(t&&t.children)for(var n=t.children.length-1;n>=0;n--)if(!a(t.children[n],e))return;return!!e(t)};e.traverseTreeUp=function(t,e){"function"==typeof e&&a(t,e)};e.getLayoutBBox=function(t){var e=1/0,n=1/0,o=-1/0,a=-1/0;return t.forEach(function(t){var s=t.size;(0,r.isArray)(s)?1===s.length&&(s=[s[0],s[0]]):(0,i.isNumber)(s)?s=[s,s]:(void 0===s||isNaN(s))&&(s=[30,30]);var u=[s[0]/2,s[1]/2],l=t.x-u[0],c=t.x+u[0],h=t.y-u[1],d=t.y+u[1];e>l&&(e=l),n>h&&(n=h),o<c&&(o=c),a<d&&(a=d)}),{minX:e,minY:n,maxX:o,maxY:a}};e.getAvgNodePosition=function(t){var e={x:0,y:0};t.forEach(function(t){e.x+=t.x||0,e.y+=t.y||0});var n=t.length||1;return{x:e.x/n,y:e.y/n}};var s=function(t,e,n){var r,i;return"source"===t?(null===(r=null===n||void 0===n?void 0:n.find(function(t){return t.target===e.id}))||void 0===r?void 0:r.source)||{}:(null===(i=null===n||void 0===n?void 0:n.find(function(t){return t.source===e.id}))||void 0===i?void 0:i.target)||{}},u=function(t,e,n){var r=[];switch(t){case"source":r=null===n||void 0===n?void 0:n.filter(function(t){return t.source===e.id}).map(function(t){return t.target});break;case"target":r=null===n||void 0===n?void 0:n.filter(function(t){return t.target===e.id}).map(function(t){return t.source});break;case"both":r=null===n||void 0===n?void 0:n.filter(function(t){return t.source===e.id}).map(function(t){return t.target}).concat(null===n||void 0===n?void 0:n.filter(function(t){return t.target===e.id}).map(function(t){return t.source}))}var i=new Set(r);return Array.from(i)};e.getCoreNodeAndRelativeLeafNodes=function(t,e,n,r,i,o){var a=i[e.id],l=a.in,c=a.out,h=e,d=[];return 0===l?(h=s("source",e,n),d=u("both",h,n).map(function(t){return o[t]})):0===c&&(h=s("target",e,n),d=u("both",h,n).map(function(t){return o[t]})),{coreNode:h,relativeLeafNodes:d=d.filter(function(t){return i[t.id]&&(0===i[t.id].in||0===i[t.id].out)}),sameTypeLeafNodes:function(t,e,n,r,i){var o=n[e]||"",a=(null===r||void 0===r?void 0:r.filter(function(t){return t[e]===o}))||[];return"leaf"===t&&(a=a.filter(function(t){var e,n;return 0===(null===(e=i[t.id])||void 0===e?void 0:e.in)||0===(null===(n=i[t.id])||void 0===n?void 0:n.out)})),a}(t,r,e,d,i)}}},Ppgw:function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wgARCACkAKIDASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAQGAgMFBwH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHz8AAAAAAAB9HwAAAAAAAADP5Yjbvt/CKBhs1gAAAABI7xWU2EDMn+kVG+GXnNgoZo+AAAAANhYb9Vbmeb12x1wxmRLIXT70uAUjkyooAAAAMzHs/L0T+d1vPzjwfs0k3+P3yF5316aYgAAAGR9sXy+jrauCdquTe0eXdW77TRXLZSSmRJMYAAAASou89HkVHknb4MLE7V9849GLB8iUY9B4NOgEeHliAAAAAZYg3au2de7aI5yqBM5p9+AAAAAAABI9H81txcqB16YaMAAAAAAAAAZYjLEAAAAAAAAAAAAAAAAAP/xAAlEAACAgMAAQQCAwEAAAAAAAABAgMEABESMAUTMUAQIhQhUDL/2gAIAQEAAQUC/wAXWa+mq7yrS7WeiqIw030ApOU6hYwQiNLr/wBP/wBfQqL1JUiAEzBUuz7c/PijTrEo7SeLhvwo2aFf9l/RLtrWTN2/j9OjDn2FEN5P3PzldenpwAJdYotqUsfGq9H02AjGPMV5/wBz8j5pwbaEcx+oyjUzdHx0ounrxcLds8CxJ22Vq3uGrV4WzN7MVu37vjCk5XrMzVaYXJtot5nLHK8fbUqwAYhEv2d4fnwqvWVKhbK1VVXQXJB1lin1klFuqdIqyLwl23zk0hd/CBs06nZrVvaDuEWT1EAwXA5GnHsjaxgYy7F6iWMkfDeGuNy1QqLPcCCf1E485Y17BU05iyg/17i4ZUy3OvM7bk8MJ5c29JJZZsJ3+IF2aEeknfhJrxDfz3yS0zYTs+Lo/lF6NKrkY9pL1wakbb784ylCS9eIItqflbUnT/QhG5KUKczP7a3bJLE7+jGdNVuhMtXw6yv0fpbOdH/X/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAwEBPwFz/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAgEBPwFz/8QAHRAAAgEFAQEAAAAAAAAAAAAAAAExEBEhMEAgUP/aAAgBAQAGPwL7UFx8WVRofFAxrbe3m9Gi+zNHVCMcDqnvilvT2QJmPTW2KwQZo1ffa/pstrTMMt5kkeu5hk+pJ42i/G1xrlkw+Wfr/wD/xAAhEAEBAQACAQQDAQAAAAAAAAABABEhMDEQQEFxIFBRYf/aAAgBAQABPyH9KJtfz2aPiEljPBZD2LOEAY8J+Iyj37uzPxwDIWz6UuQJanrV+Ln80j14a4OIBfV55anYOwSyI+71sV/s5ZfS0t2Xet8ibG2NifuucO4nwLLhOHh6w2Ud+Ue0Kbt1vLZfEQORJjIhvWxwQreEfhzJJFVvebEjTk+5sIs9fUi4lTSNbygnEJS5rNfFFERUVDh3jq4qQeIA0JU6TKPLp1X1l8LbIelnYXVhD6+AC91KHYJzDryGT8zFM0Jb71YsQj4PQTPX0c7A233/ACehH+28utzXUcfgcdO45DPKMjTVu9w1yFaW6yMhmd359iQDAQDbRySAzvX2OG2aMSEbb7MLw2vy/b//2gAMAwEAAgADAAAAEAAAAAAAABAAAAAAAAADDKAAAAAHBBJCIAAAAAMKGEGAAAAAHCLICIAAABLEMBGCAAAAFGAIPNIAAAAEMBKOMAAAAAAAIJAAAAAAAAAAMAAAAAAAAAAAAAAAAAP/xAAUEQEAAAAAAAAAAAAAAAAAAABg/9oACAEDAQE/EHP/xAAUEQEAAAAAAAAAAAAAAAAAAABg/9oACAECAQE/EHP/xAAjEAEAAgICAgMBAAMAAAAAAAABABEhMTBRQWEQQIFQIHGR/9oACAEBAAE/EP4ugLiZb9MFAs3pjyQhEk69H6JMbZ5MEoLSukO7Acci3X+JpWjqGiUpRlDE7T2A8YgLXGbQ9RTSqYlNfFRCXpYFCorB6xVHkFRKg+OpQhqBSPhqTCJuqrqVpRZTzEVvHnBFUOoAl4hyVCsZTRqosdQ7xVEKFNRA9uNVQMJE/EO0CiCrxjGvmA6rjIvvqKoFEcBK6YLVhqKrbxAsk2+o7K7agkaJiFifbKpVxHV/JWwKJnB/Yrb28VIhJV/IhHT1KyAIKC4oOz/qPwC+omH9IIxVEGpDrcsJVxOJ8xU7yqJiBUK9zxYNQSZ3LBhuOkf+TPhJ3qJ4Ijc8uCO+EdEjgQaGMQMRYbj7jdWXuVOt9xkYcLNAQDxgFDDKiycVueJnIdGOIrMtJn4p0dkZg6gCNJC3ce40SBiKGKi4kqyYKuKrb8PSLzEWlWpVEMfOkl6tz2RW3MtSKiosKIFEOgYg6de0Vd/Q0OMxzIhWFURltZl6Lfo+kYFVVLOEdRu/pCmptkjuJ+xV23/W/9k="},Py8m:function(t,e,n){var r;"undefined"!=typeof self&&self,r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=36)}([function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Array.isArray?Array.isArray(t):Object(r.a)(t,"Array")}},function(t,e,n){"use strict";e.a=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Object(r.a)(t,"Function")}},function(t,e,n){"use strict";var r={}.toString;e.a=function(t,e){return r.call(t)==="[object "+e+"]"}},function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Object(r.a)(t,"String")}},function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Object(r.a)(t,"Number")}},function(t,e,n){var r=n(38).mix;t.exports={assign:r,getHeight:function(t,e,n,r){return void 0===r&&(r="height"),"center"===n?(t[r]+e[r])/2:t.height}}},function(t,e,n){"use strict";e.a=function(t){return null===t||void 0===t}},function(t,e,n){"use strict";var r=n(0),i=n(12);e.a=function(t,e){if(t)if(Object(r.a)(t))for(var n=0,o=t.length;n<o&&!1!==e(t[n],n);n++);else if(Object(i.a)(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===e(t[a],a))break}},function(t,e,n){"use strict";var r=n(7);e.a=function(t){return Object(r.a)(t)?"":t.toString()}},function(t,e,n){"use strict";var r=n(14),i=n(3);e.a=function(t){if(!Object(r.a)(t)||!Object(i.a)(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e,n){var r=n(18),i=function(){function t(t,e){void 0===e&&(e={});this.options=e,this.rootNode=r(t,e)}return t.prototype.execute=function(){throw new Error("please override this method")},t}();t.exports=i},function(t,e,n){"use strict";e.a=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e}},function(t,e,n){"use strict";var r=n(1);e.a=function(t,e){return!!Object(r.a)(t)&&t.indexOf(e)>-1}},function(t,e,n){"use strict";e.a=function(t){return"object"==typeof t&&null!==t}},function(t,e,n){"use strict";var r=n(8),i=n(2),o=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return Object(r.a)(t,function(n,r){Object(i.a)(t)&&"prototype"===r||e.push(n)}),e};e.a=o},function(t,e,n){"use strict";function r(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}e.a=function(t,e,n,i){e&&r(t,e);n&&r(t,n);i&&r(t,i);return t}},function(t,e,n){var r=n(35),i=["LR","RL","TB","BT","H","V"],o=["LR","RL","H"],a=i[0];t.exports=function(t,e,n){var s=e.direction||a;if(e.isHorizontal=function(t){return o.indexOf(t)>-1}(s),s&&-1===i.indexOf(s))throw new TypeError("Invalid direction: "+s);if(s===i[0])n(t,e);else if(s===i[1])n(t,e),t.right2left();else if(s===i[2])n(t,e);else if(s===i[3])n(t,e),t.bottom2top();else if(s===i[4]||s===i[5]){var u=r(t,e),l=u.left,c=u.right;n(l,e),n(c,e),e.isHorizontal?l.right2left():l.bottom2top(),c.translate(l.x-c.x,l.y-c.y),t.x=l.x,t.y=c.y;var h=t.getBoundingBox();e.isHorizontal?h.top<0&&t.translate(0,-h.top):h.left<0&&t.translate(-h.left,0)}var d=e.fixedRoot;return void 0===d&&(d=!0),d&&t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),t}},function(t,e,n){var r=n(6),i={getId:function(t){return t.id||t.name},getPreH:function(t){return t.preH||0},getPreV:function(t){return t.preV||0},getHGap:function(t){return t.hgap||18},getVGap:function(t){return t.vgap||18},getChildren:function(t){return t.children},getHeight:function(t){return t.height||36},getWidth:function(t){var e=t.label||" ";return t.width||18*e.split("").length}};function o(t,e){var n=this;if(n.vgap=n.hgap=0,t instanceof o)return t;n.data=t;var r=e.getHGap(t),i=e.getVGap(t);return n.preH=e.getPreH(t),n.preV=e.getPreV(t),n.width=e.getWidth(t),n.height=e.getHeight(t),n.width+=n.preH,n.height+=n.preV,n.id=e.getId(t),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,i),n}r.assign(o.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(t,e){this.hgap+=t,this.vgap+=e,this.width+=2*t,this.height+=2*e},eachNode:function(t){for(var e,n=[this];e=n.shift();)t(e),n=e.children.concat(n)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){for(var e,n=[this];e=n.shift();)t(e),n=n.concat(e.children)},getBoundingBox:function(){var t={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.width=Math.max(t.width,e.x+e.width),t.height=Math.max(t.height,e.y+e.height)}),t},translate:function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.eachNode(function(n){n.x+=t,n.y+=e,n.x+=n.preH,n.y+=n.preV})},right2left:function(){var t=this.getBoundingBox();this.eachNode(function(e){e.x=e.x-2*(e.x-t.left)-e.width}),this.translate(t.width,0)},bottom2top:function(){var t=this.getBoundingBox();this.eachNode(function(e){e.y=e.y-2*(e.y-t.top)-e.height}),this.translate(0,t.height)}}),t.exports=function(t,e,n){void 0===e&&(e={});var a,s=new o(t,e=r.assign({},i,e)),u=[s];if(!n&&!t.collapsed)for(;a=u.shift();)if(!a.data.collapsed){var l=e.getChildren(a.data),c=l?l.length:0;if(a.children=new Array(c),l&&c)for(var h=0;h<c;h++){var d=new o(l[h],e);a.children[h]=d,u.push(d),d.parent=a,d.depth=a.depth+1}}return s}},function(t,e,n){"use strict";var r=n(1);e.a=function(t,e){if(!Object(r.a)(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];e(o,i)&&n.push(o)}return n}},function(t,e,n){"use strict";var r=n(7),i=n(21);e.a=function(t,e){var n=Object(i.a)(e),o=n.length;if(Object(r.a)(t))return!o;for(var a=0;a<o;a+=1){var s=n[a];if(e[s]!==t[s]||!(s in t))return!1}return!0}},function(t,e,n){"use strict";var r=n(8),i=n(2),o=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return Object(r.a)(t,function(n,r){Object(i.a)(t)&&"prototype"===r||e.push(r)}),e};e.a=o},function(t,e,n){"use strict";var r=n(0);e.a=function(t){if(Object(r.a)(t))return t.reduce(function(t,e){return Math.max(t,e)},t[0])}},function(t,e,n){"use strict";var r=n(0);e.a=function(t){if(Object(r.a)(t))return t.reduce(function(t,e){return Math.min(t,e)},t[0])}},function(t,e,n){"use strict";var r=n(1),i=Array.prototype.splice;e.a=function(t,e){if(!Object(r.a)(t))return[];for(var n=t?e.length:0,o=n-1;n--;){var a=void 0,s=e[n];n!==o&&s===a||(a=s,i.call(t,s,1))}return t}},function(t,e,n){"use strict";var r=n(8),i=n(0),o=n(10);e.a=function(t,e,n){if(!Object(i.a)(t)&&!Object(o.a)(t))return t;var a=n;return Object(r.a)(t,function(t,n){a=e(a,t,n)}),a}},function(t,e,n){"use strict";e.a=function(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r];e.has(o)||(n.push(o),e.set(o,!0))}return n}},function(t,e,n){"use strict";e.a=function(t,e){if(!e)return{0:t};if(!Object(i.a)(e)){var n=Object(r.a)(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return Object(o.a)(t,e)};var r=n(0),i=n(2),o=n(28)},function(t,e,n){"use strict";var r=n(0),i=n(2),o=Object.prototype.hasOwnProperty;e.a=function(t,e){if(!e||!Object(r.a)(t))return{};for(var n,a={},s=Object(i.a)(e)?e:function(t){return t[e]},u=0;u<t.length;u++){var l=t[u];n=s(l),o.call(a,n)?a[n].push(l):a[n]=[l]}return a}},function(t,e,n){"use strict";e.a=function(t,e){return t.hasOwnProperty(e)}},function(t,e,n){"use strict";var r={}.toString;e.a=function(t){return r.call(t).replace(/^\[object /,"").replace(/]$/,"")}},function(t,e,n){"use strict";var r=Object.prototype;e.a=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},function(t,e,n){"use strict";var r=n(2);e.a=function(t,e){if(!Object(r.a)(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n}},function(t,e,n){"use strict";var r=n(14),i=n(1),o=n(4),a=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Object(o.a)(t)||Object(o.a)(e))return!1;if(Object(i.a)(t)||Object(i.a)(e)){if(t.length!==e.length)return!1;for(var n=!0,s=0;s<t.length&&(n=a(t[s],e[s]));s++);return n}if(Object(r.a)(t)||Object(r.a)(e)){var u=Object.keys(t),l=Object.keys(e);if(u.length!==l.length)return!1;for(n=!0,s=0;s<u.length&&(n=a(t[u[s]],e[u[s]]));s++);return n}return!1};e.a=a},function(t,e,n){"use strict";var r,i=n(116),o=n(15),a=n(32),s=n(4);e.a=Object(a.a)(function(t,e){void 0===e&&(e={});var n=e.fontSize,i=e.fontFamily,o=e.fontWeight,a=e.fontStyle,u=e.fontVariant;return r||(r=document.createElement("canvas").getContext("2d")),r.font=[a,u,o,n+"px",i].join(" "),r.measureText(Object(s.a)(t)?t:"").width},function(t,e){return void 0===e&&(e={}),Object(i.a)([t],Object(o.a)(e)).join("")})},function(t,e,n){var r=n(18);t.exports=function(t,e){for(var n=r(t.data,e,!0),i=r(t.data,e,!0),o=t.children.length,a=Math.round(o/2),s=e.getSide||function(t,e){return e<a?"right":"left"},u=0;u<o;u++){var l=t.children[u];"right"===s(l,u)?i.children.push(l):n.children.push(l)}return n.eachNode(function(t){t.isRoot()||(t.side="left")}),i.eachNode(function(t){t.isRoot()||(t.side="right")}),{left:n,right:i}}},function(t,e,n){var r={compactBox:n(37),dendrogram:n(120),indented:n(122),mindmap:n(124)};t.exports=r},function(t,e,n){function r(t,e){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var i=n(11),o=n(119),a=n(17),s=n(6),u=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n),i.prototype.execute=function(){return a(this.rootNode,this.options,o)},i}(i),l={};t.exports=function(t,e){return e=s.assign({},l,e),new u(t,e).execute()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(13);n.d(e,"contains",function(){return r.a}),n.d(e,"includes",function(){return r.a});var i=n(39);n.d(e,"difference",function(){return i.a});var o=n(40);n.d(e,"find",function(){return o.a});var a=n(41);n.d(e,"findIndex",function(){return a.a});var s=n(42);n.d(e,"firstValue",function(){return s.a});var u=n(43);n.d(e,"flatten",function(){return u.a});var l=n(44);n.d(e,"flattenDeep",function(){return l.a});var c=n(45);n.d(e,"getRange",function(){return c.a});var h=n(46);n.d(e,"pull",function(){return h.a});var d=n(24);n.d(e,"pullAt",function(){return d.a});var f=n(25);n.d(e,"reduce",function(){return f.a});var p=n(47);n.d(e,"remove",function(){return p.a});var g=n(48);n.d(e,"sortBy",function(){return g.a});var v=n(49);n.d(e,"union",function(){return v.a});var y=n(26);n.d(e,"uniq",function(){return y.a});var m=n(50);n.d(e,"valuesOfKey",function(){return m.a});var b=n(51);n.d(e,"head",function(){return b.a});var x=n(52);n.d(e,"last",function(){return x.a});var A=n(53);n.d(e,"startsWith",function(){return A.a});var w=n(54);n.d(e,"endsWith",function(){return w.a});var _=n(19);n.d(e,"filter",function(){return _.a});var M=n(55);n.d(e,"every",function(){return M.a});var S=n(56);n.d(e,"some",function(){return S.a});var O=n(57);n.d(e,"group",function(){return O.a});var I=n(28);n.d(e,"groupBy",function(){return I.a});var E=n(27);n.d(e,"groupToMap",function(){return E.a});var C=n(58);n.d(e,"getWrapBehavior",function(){return C.a});var k=n(59);n.d(e,"wrapBehavior",function(){return k.a});var T=n(60);n.d(e,"number2color",function(){return T.a});var D=n(61);n.d(e,"parseRadius",function(){return D.a});var j=n(62);n.d(e,"clamp",function(){return j.a});var L=n(63);n.d(e,"fixedBase",function(){return L.a});var P=n(64);n.d(e,"isDecimal",function(){return P.a});var N=n(65);n.d(e,"isEven",function(){return N.a});var R=n(66);n.d(e,"isInteger",function(){return R.a});var B=n(67);n.d(e,"isNegative",function(){return B.a});var z=n(68);n.d(e,"isNumberEqual",function(){return z.a});var F=n(69);n.d(e,"isOdd",function(){return F.a});var G=n(70);n.d(e,"isPositive",function(){return G.a});var V=n(22);n.d(e,"max",function(){return V.a});var U=n(71);n.d(e,"maxBy",function(){return U.a});var W=n(23);n.d(e,"min",function(){return W.a});var H=n(72);n.d(e,"minBy",function(){return H.a});var Y=n(73);n.d(e,"mod",function(){return Y.a});var X=n(74);n.d(e,"toDegree",function(){return X.a});var q=n(75);n.d(e,"toInteger",function(){return q.a});var Q=n(76);n.d(e,"toRadian",function(){return Q.a});var Z=n(77);n.d(e,"forIn",function(){return Z.a});var K=n(29);n.d(e,"has",function(){return K.a});var J=n(78);n.d(e,"hasKey",function(){return J.a});var $=n(79);n.d(e,"hasValue",function(){return $.a});var tt=n(21);n.d(e,"keys",function(){return tt.a});var et=n(20);n.d(e,"isMatch",function(){return et.a});var nt=n(15);n.d(e,"values",function(){return nt.a});var rt=n(80);n.d(e,"lowerCase",function(){return rt.a});var it=n(81);n.d(e,"lowerFirst",function(){return it.a});var ot=n(82);n.d(e,"substitute",function(){return ot.a});var at=n(83);n.d(e,"upperCase",function(){return at.a});var st=n(84);n.d(e,"upperFirst",function(){return st.a});var ut=n(30);n.d(e,"getType",function(){return ut.a});var lt=n(85);n.d(e,"isArguments",function(){return lt.a});var ct=n(0);n.d(e,"isArray",function(){return ct.a});var ht=n(1);n.d(e,"isArrayLike",function(){return ht.a});var dt=n(86);n.d(e,"isBoolean",function(){return dt.a});var ft=n(87);n.d(e,"isDate",function(){return ft.a});var pt=n(88);n.d(e,"isError",function(){return pt.a});var gt=n(2);n.d(e,"isFunction",function(){return gt.a});var vt=n(89);n.d(e,"isFinite",function(){return vt.a});var yt=n(7);n.d(e,"isNil",function(){return yt.a});var mt=n(90);n.d(e,"isNull",function(){return mt.a});var bt=n(5);n.d(e,"isNumber",function(){return bt.a});var xt=n(12);n.d(e,"isObject",function(){return xt.a});var At=n(14);n.d(e,"isObjectLike",function(){return At.a});var wt=n(10);n.d(e,"isPlainObject",function(){return wt.a});var _t=n(31);n.d(e,"isPrototype",function(){return _t.a});var Mt=n(91);n.d(e,"isRegExp",function(){return Mt.a});var St=n(4);n.d(e,"isString",function(){return St.a});var Ot=n(3);n.d(e,"isType",function(){return Ot.a});var It=n(92);n.d(e,"isUndefined",function(){return It.a});var Et=n(93);n.d(e,"isElement",function(){return Et.a});var Ct=n(94);n.d(e,"requestAnimationFrame",function(){return Ct.a});var kt=n(95);n.d(e,"clearAnimationFrame",function(){return kt.a});var Tt=n(96);n.d(e,"augment",function(){return Tt.a});var Dt=n(97);n.d(e,"clone",function(){return Dt.a});var jt=n(98);n.d(e,"debounce",function(){return jt.a});var Lt=n(32);n.d(e,"memoize",function(){return Lt.a});var Pt=n(99);n.d(e,"deepMix",function(){return Pt.a});var Nt=n(8);n.d(e,"each",function(){return Nt.a});var Rt=n(100);n.d(e,"extend",function(){return Rt.a});var Bt=n(101);n.d(e,"indexOf",function(){return Bt.a});var zt=n(102);n.d(e,"isEmpty",function(){return zt.a});var Ft=n(33);n.d(e,"isEqual",function(){return Ft.a});var Gt=n(103);n.d(e,"isEqualWith",function(){return Gt.a});var Vt=n(104);n.d(e,"map",function(){return Vt.a});var Ut=n(105);n.d(e,"mapValues",function(){return Ut.a});var Wt=n(16);n.d(e,"mix",function(){return Wt.a}),n.d(e,"assign",function(){return Wt.a});var Ht=n(106);n.d(e,"get",function(){return Ht.a});var Yt=n(107);n.d(e,"set",function(){return Yt.a});var Xt=n(108);n.d(e,"pick",function(){return Xt.a});var qt=n(109);n.d(e,"omit",function(){return qt.a});var Qt=n(110);n.d(e,"throttle",function(){return Qt.a});var Zt=n(111);n.d(e,"toArray",function(){return Zt.a});var Kt=n(9);n.d(e,"toString",function(){return Kt.a});var Jt=n(112);n.d(e,"uniqueId",function(){return Jt.a});var $t=n(113);n.d(e,"noop",function(){return $t.a});var te=n(114);n.d(e,"identity",function(){return te.a});var ee=n(115);n.d(e,"size",function(){return ee.a});var ne=n(34);n.d(e,"measureTextWidth",function(){return ne.a});var re=n(117);n.d(e,"getEllipsisText",function(){return re.a});var ie=n(118);n.d(e,"Cache",function(){return ie.a})},function(t,e,n){"use strict";var r=n(19),i=n(13);e.a=function(t,e){return void 0===e&&(e=[]),Object(r.a)(t,function(t){return!Object(i.a)(e,t)})}},function(t,e,n){"use strict";var r=n(2),i=n(20),o=n(0),a=n(10);e.a=function(t,e){if(!Object(o.a)(t))return null;var n;if(Object(r.a)(e)&&(n=e),Object(a.a)(e)&&(n=function(t){return Object(i.a)(t,e)}),n)for(var s=0;s<t.length;s+=1)if(n(t[s]))return t[s];return null}},function(t,e,n){"use strict";e.a=function(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1}},function(t,e,n){"use strict";var r=n(7),i=n(0);e.a=function(t,e){for(var n=null,o=0;o<t.length;o++){var a=t[o][e];if(!Object(r.a)(a)){n=Object(i.a)(a)?a[0]:a;break}}return n}},function(t,e,n){"use strict";var r=n(0);e.a=function(t){if(!Object(r.a)(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e}},function(t,e,n){"use strict";var r=n(0),i=function(t,e){if(void 0===e&&(e=[]),Object(r.a)(t))for(var n=0;n<t.length;n+=1)i(t[n],e);else e.push(t);return e};e.a=i},function(t,e,n){"use strict";var r=n(0),i=n(22),o=n(23);e.a=function(t){var e=t.filter(function(t){return!isNaN(t)});if(!e.length)return{min:0,max:0};if(Object(r.a)(t[0])){for(var n=[],a=0;a<t.length;a++)n=n.concat(t[a]);e=n}var s=Object(i.a)(e);return{min:Object(o.a)(e),max:s}}},function(t,e,n){"use strict";var r=Array.prototype,i=r.splice,o=r.indexOf;e.a=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var a=e[r],s=-1;(s=o.call(t,a))>-1;)i.call(t,s,1);return t}},function(t,e,n){"use strict";var r=n(1),i=n(24);e.a=function(t,e){var n=[];if(!Object(r.a)(t))return n;for(var o=-1,a=[],s=t.length;++o<s;){var u=t[o];e(u,o,t)&&(n.push(u),a.push(o))}return Object(i.a)(t,a),n}},function(t,e,n){"use strict";var r=n(0),i=n(4),o=n(2);e.a=function(t,e){var n;if(Object(o.a)(e))n=function(t,n){return e(t)-e(n)};else{var a=[];Object(i.a)(e)?a.push(e):Object(r.a)(e)&&(a=e),n=function(t,e){for(var n=0;n<a.length;n+=1){var r=a[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0}}return t.sort(n),t}},function(t,e,n){"use strict";var r=n(26);e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(r.a)([].concat.apply([],t))}},function(t,e,n){"use strict";var r=n(0),i=n(7);e.a=function(t,e){for(var n=[],o={},a=0;a<t.length;a++){var s=t[a][e];if(!Object(i.a)(s)){Object(r.a)(s)||(s=[s]);for(var u=0;u<s.length;u++){var l=s[u];o[l]||(n.push(l),o[l]=!0)}}}return n}},function(t,e,n){"use strict";e.a=function(t){if(Object(r.a)(t))return t[0];return};var r=n(1)},function(t,e,n){"use strict";e.a=function(t){if(Object(r.a)(t)){var e=t;return e[e.length-1]}return};var r=n(1)},function(t,e,n){"use strict";var r=n(0),i=n(4);e.a=function(t,e){return!(!Object(r.a)(t)&&!Object(i.a)(t))&&t[0]===e}},function(t,e,n){"use strict";var r=n(0),i=n(4);e.a=function(t,e){return!(!Object(r.a)(t)&&!Object(i.a)(t))&&t[t.length-1]===e}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1}},function(t,e,n){"use strict";var r=n(27);e.a=function(t,e){if(!e)return[t];var n=Object(r.a)(t,e),i=[];for(var o in n)i.push(n[o]);return i}},function(t,e,n){"use strict";e.a=function(t,e){return t["_wrap_"+e]}},function(t,e,n){"use strict";e.a=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n}},function(t,e,n){"use strict";var r={};e.a=function(t){var e=r[t];if(!e){for(var n=t.toString(16),i=n.length;i<6;i++)n="0"+n;e="#"+n,r[t]=e}return e}},function(t,e,n){"use strict";var r=n(0);e.a=function(t){var e=0,n=0,i=0,o=0;return Object(r.a)(t)?1===t.length?e=n=i=o=t[0]:2===t.length?(e=i=t[0],n=o=t[1]):3===t.length?(e=t[0],n=o=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],o=t[3]):e=n=i=o=t,{r1:e,r2:n,r3:i,r4:o}}},function(t,e,n){"use strict";e.a=function(t,e,n){return t<e?e:t>n?n:t}},function(t,e,n){"use strict";e.a=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&t%1!=0}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&t%2==0}},function(t,e,n){"use strict";var r=n(5),i=Number.isInteger?Number.isInteger:function(t){return Object(r.a)(t)&&t%1==0};e.a=i},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&t<0}},function(t,e,n){"use strict";e.a=function(t,e,n){void 0===n&&(n=r);return Math.abs(t-e)<n};var r=1e-5},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&t%2!=0}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&t>0}},function(t,e,n){"use strict";var r=n(0),i=n(2);e.a=function(t,e){if(Object(r.a)(t)){for(var n,o=-1/0,a=0;a<t.length;a++){var s=t[a],u=Object(i.a)(e)?e(s):s[e];u>o&&(n=s,o=u)}return n}}},function(t,e,n){"use strict";var r=n(0),i=n(2);e.a=function(t,e){if(Object(r.a)(t)){for(var n,o=1/0,a=0;a<t.length;a++){var s=t[a],u=Object(i.a)(e)?e(s):s[e];u<o&&(n=s,o=u)}return n}}},function(t,e,n){"use strict";e.a=function(t,e){return(t%e+e)%e}},function(t,e,n){"use strict";var r=180/Math.PI;e.a=function(t){return r*t}},function(t,e,n){"use strict";e.a=parseInt},function(t,e,n){"use strict";var r=Math.PI/180;e.a=function(t){return r*t}},function(t,e,n){"use strict";var r=n(8);e.a=r.a},function(t,e,n){"use strict";var r=n(29);e.a=r.a},function(t,e,n){"use strict";var r=n(13),i=n(15);e.a=function(t,e){return Object(r.a)(Object(i.a)(t),e)}},function(t,e,n){"use strict";var r=n(9);e.a=function(t){return Object(r.a)(t).toLowerCase()}},function(t,e,n){"use strict";var r=n(9);e.a=function(t){var e=Object(r.a)(t);return e.charAt(0).toLowerCase()+e.substring(1)}},function(t,e,n){"use strict";e.a=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]}):t}},function(t,e,n){"use strict";var r=n(9);e.a=function(t){return Object(r.a)(t).toUpperCase()}},function(t,e,n){"use strict";var r=n(9);e.a=function(t){var e=Object(r.a)(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Object(r.a)(t,"Arguments")}},function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Object(r.a)(t,"Boolean")}},function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Object(r.a)(t,"Date")}},function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Object(r.a)(t,"Error")}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){return Object(r.a)(t)&&isFinite(t)}},function(t,e,n){"use strict";e.a=function(t){return null===t}},function(t,e,n){"use strict";var r=n(3);e.a=function(t){return Object(r.a)(t,"RegExp")}},function(t,e,n){"use strict";e.a=function(t){return void 0===t}},function(t,e,n){"use strict";e.a=function(t){return t instanceof Element||t instanceof HTMLDocument}},function(t,e,n){"use strict";e.a=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,n){"use strict";e.a=function(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}},function(t,e,n){"use strict";var r=n(16),i=n(2);e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],o=1;o<t.length;o++){var a=t[o];Object(i.a)(a)&&(a=a.prototype),Object(r.a)(n.prototype,a)}}},function(t,e,n){"use strict";var r=n(0),i=function(t){if("object"!=typeof t||null===t)return t;var e;if(Object(r.a)(t)){e=[];for(var n=0,o=t.length;n<o;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=i(t[n]):e[n]=t[n]}else for(var a in e={},t)"object"==typeof t[a]&&null!=t[a]?e[a]=i(t[a]):e[a]=t[a];return e};e.a=i},function(t,e,n){"use strict";e.a=function(t,e,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(i,o)},e),a&&t.apply(i,o)}}},function(t,e,n){"use strict";var r=n(0),i=n(10),o=5;function a(t,e,n,s){for(var u in n=n||0,s=s||o,e)if(e.hasOwnProperty(u)){var l=e[u];null!==l&&Object(i.a)(l)?(Object(i.a)(t[u])||(t[u]={}),n<s?a(t[u],l,n+1,s):t[u]=e[u]):Object(r.a)(l)?(t[u]=[],t[u]=t[u].concat(l)):void 0!==l&&(t[u]=l)}}e.a=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)a(t,e[r]);return t}},function(t,e,n){"use strict";var r=n(16),i=n(2);e.a=function(t,e,n,o){Object(i.a)(e)||(n=e,e=t,t=function(){});var a=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},s=a(e.prototype,t);return t.prototype=Object(r.a)(s,t.prototype),t.superclass=a(e.prototype,e),Object(r.a)(s,n),Object(r.a)(t,o),t}},function(t,e,n){"use strict";var r=n(1);e.a=function(t,e){if(!Object(r.a)(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,o=0;o<t.length;o++)if(t[o]===e){i=o;break}return i}},function(t,e,n){"use strict";var r=n(7),i=n(1),o=n(30),a=n(31),s=Object.prototype.hasOwnProperty;e.a=function(t){if(Object(r.a)(t))return!0;if(Object(i.a)(t))return!t.length;var e=Object(o.a)(t);if("Map"===e||"Set"===e)return!t.size;if(Object(a.a)(t))return!Object.keys(t).length;for(var n in t)if(s.call(t,n))return!1;return!0}},function(t,e,n){"use strict";var r=n(2),i=n(33);e.a=function(t,e,n){return Object(r.a)(n)?!!n(t,e):Object(i.a)(t,e)}},function(t,e,n){"use strict";var r=n(1);e.a=function(t,e){if(!Object(r.a)(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];n.push(e(o,i))}return n}},function(t,e,n){"use strict";var r=n(7),i=n(12),o=function(t){return t};e.a=function(t,e){void 0===e&&(e=o);var n={};return Object(i.a)(t)&&!Object(r.a)(t)&&Object.keys(t).forEach(function(r){n[r]=e(t[r],r)}),n}},function(t,e,n){"use strict";var r=n(4);e.a=function(t,e,n){for(var i=0,o=Object(r.a)(e)?e.split("."):e;t&&i<o.length;)t=t[o[i++]];return void 0===t||i<o.length?n:t}},function(t,e,n){"use strict";var r=n(12),i=n(4),o=n(5);e.a=function(t,e,n){var a=t,s=Object(i.a)(e)?e.split("."):e;return s.forEach(function(t,e){e<s.length-1?(Object(r.a)(a[t])||(a[t]=Object(o.a)(s[e+1])?[]:{}),a=a[t]):a[t]=n}),t}},function(t,e,n){"use strict";var r=n(8),i=n(10),o=Object.prototype.hasOwnProperty;e.a=function(t,e){if(null===t||!Object(i.a)(t))return{};var n={};return Object(r.a)(e,function(e){o.call(t,e)&&(n[e]=t[e])}),n}},function(t,e,n){"use strict";var r=n(25);e.a=function(t,e){return Object(r.a)(t,function(t,n,r){return e.includes(r)||(t[r]=n),t},{})}},function(t,e,n){"use strict";e.a=function(t,e,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)},l=function(){var l=Date.now();s||!1!==n.leading||(s=l);var c=e-(l-s);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=l,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l}},function(t,e,n){"use strict";var r=n(1);e.a=function(t){return Object(r.a)(t)?Array.prototype.slice.call(t):[]}},function(t,e,n){"use strict";var r={};e.a=function(t){return r[t=t||"g"]?r[t]+=1:r[t]=1,t+r[t]}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";e.a=function(t){if(Object(r.a)(t))return 0;if(Object(i.a)(t))return t.length;return Object.keys(t).length};var r=n(7),i=n(1)},function(t,e,n){"use strict";e.a=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.create;Object.create},function(t,e,n){"use strict";var r=n(4),i=n(9),o=n(34);e.a=function(t,e,n,a){void 0===a&&(a="...");var s,u,l=Object(o.a)(a,n),c=Object(r.a)(t)?t:Object(i.a)(t),h=e,d=[];if(Object(o.a)(t,n)<=e)return t;for(;s=c.substr(0,16),!((u=Object(o.a)(s,n))+l>h&&u>h);)if(d.push(s),h-=u,!(c=c.substr(16)))return d.join("");for(;s=c.substr(0,1),!((u=Object(o.a)(s,n))+l>h);)if(d.push(s),h-=u,!(c=c.substr(1)))return d.join("");return""+d.join("")+a}},function(t,e,n){"use strict";var r=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}();e.a=r},function(t,e){function n(t,e,n,r){void 0===r&&(r=[]);var i=this;i.w=t||0,i.h=e||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function r(t,e){!function t(e,n,r){r?e.y+=n:e.x+=n,e.children.forEach(function(e){t(e,n,r)})}(t,-function t(e,n){var r=n?e.y:e.x;return e.children.forEach(function(e){r=Math.min(t(e,n),r)}),r}(t,e),e)}n.fromNode=function(t,e){if(!t)return null;var r=[];return t.children.forEach(function(t){r.push(n.fromNode(t,e))}),e?new n(t.height,t.width,t.x,r):new n(t.width,t.height,t.y,r)},t.exports=function(t,e){void 0===e&&(e={});var i=e.isHorizontal;function o(t){0===t.cs?(t.el=t,t.er=t,t.msel=t.mser=0):(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function a(t,e,n){for(var r=t.c[e-1],i=r.mod,o=t.c[e],a=o.mod;null!==r&&null!==o;){c(r)>n.low&&(n=n.nxt);var h=i+r.prelim+r.w-(a+o.prelim);h>0&&(a+=h,s(t,e,n.index,h));var d=c(r),f=c(o);d<=f&&null!==(r=l(r))&&(i+=r.mod),d>=f&&null!==(o=u(o))&&(a+=o.mod)}!r&&o?function(t,e,n,r){var i=t.c[0].el;i.tl=n;var o=r-n.mod-t.c[0].msel;i.mod+=o,i.prelim-=o,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}(t,e,o,a):r&&!o&&function(t,e,n,r){var i=t.c[e].er;i.tr=n;var o=r-n.mod-t.c[e].mser;i.mod+=o,i.prelim-=o,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}(t,e,r,i)}function s(t,e,n,r){t.c[e].mod+=r,t.c[e].msel+=r,t.c[e].mser+=r,function(t,e,n,r){if(n!==e-1){var i=e-n;t.c[n+1].shift+=r/i,t.c[e].shift-=r/i,t.c[e].change-=r-r/i}}(t,e,n,r)}function u(t){return 0===t.cs?t.tl:t.c[0]}function l(t){return 0===t.cs?t.tr:t.c[t.cs-1]}function c(t){return t.y+t.h}function h(t,e,n){for(;null!==n&&t>=n.low;)n=n.nxt;return{low:t,index:e,nxt:n}}!function t(e,n,r){void 0===r&&(r=0),n?(e.x=r,r+=e.width):(e.y=r,r+=e.height),e.children.forEach(function(e){t(e,n,r)})}(t,i);var d=n.fromNode(t,i);return function t(e){if(0!==e.cs){t(e.c[0]);for(var n=h(c(e.c[0].el),0,null),r=1;r<e.cs;++r){t(e.c[r]);var i=c(e.c[r].er);a(e,r,n),n=h(i,r,n)}!function(t){t.prelim=(t.c[0].prelim+t.c[0].mod+t.c[t.cs-1].mod+t.c[t.cs-1].prelim+t.c[t.cs-1].w)/2-t.w/2}(e),o(e)}else o(e)}(d),function t(e,n){n+=e.mod,e.x=e.prelim+n,function(t){for(var e=0,n=0,r=0;r<t.cs;r++)e+=t.c[r].shift,n+=e+t.c[r].change,t.c[r].mod+=n}(e);for(var r=0;r<e.cs;r++)t(e.c[r],n)}(d,0),function t(e,n,r){r?n.y=e.x:n.x=e.x,e.c.forEach(function(e,i){t(e,n.children[i],r)})}(d,t,i),r(t,i),t}},function(t,e,n){function r(t,e){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var i=n(11),o=n(121),a=n(17),s=n(6),u=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n),i.prototype.execute=function(){return this.rootNode.width=0,a(this.rootNode,this.options,o)},i}(i),l={};t.exports=function(t,e){return e=s.assign({},l,e),new u(t,e).execute()}},function(t,e,n){var r=n(6);var i={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};t.exports=function(t,e){void 0===e&&(e={}),e=r.assign({},i,e);var n,o=0;var a=function t(e){if(!e)return null;e.width=0,e.depth&&e.depth>o&&(o=e.depth);var n=e.children,r=n.length,i=new function(t,e){void 0===t&&(t=0),void 0===e&&(e=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=e}(e.height,[]);return n.forEach(function(e,n){var o=t(e);i.children.push(o),0===n&&(i.leftChild=o),n===r-1&&(i.rightChild=o)}),i.originNode=e,i.isLeaf=e.isLeaf(),i}(t);return function t(e){if(e.isLeaf||0===e.children.length)e.drawingDepth=o;else{var n=e.children.map(function(e){return t(e)}),r=Math.min.apply(null,n);e.drawingDepth=r-1}return e.drawingDepth}(a),function t(r){r.x=r.drawingDepth*e.rankSep,r.isLeaf?(r.y=0,n&&(r.y=n.y+n.height+e.nodeSep,r.originNode.parent!==n.originNode.parent&&(r.y+=e.subTreeSep)),n=r):(r.children.forEach(function(e){t(e)}),r.y=(r.leftChild.y+r.rightChild.y)/2)}(a),function t(e,n,r){r?(n.x=e.x,n.y=e.y):(n.x=e.y,n.y=e.x),e.children.forEach(function(e,i){t(e,n.children[i],r)})}(a,t,e.isHorizontal),t}},function(t,e,n){function r(t,e){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var i=n(11),o=n(123),a=n(35),s=n(6),u=["LR","RL","H"],l=u[0],c=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n),i.prototype.execute=function(){var t=this.options,e=this.rootNode;t.isHorizontal=!0;var n=t.indent,r=void 0===n?20:n,i=t.dropCap,s=void 0===i||i,c=t.direction,h=void 0===c?l:c,d=t.align;if(h&&-1===u.indexOf(h))throw new TypeError("Invalid direction: "+h);if(h===u[0])o(e,r,s,d);else if(h===u[1])o(e,r,s,d),e.right2left();else if(h===u[2]){var f=a(e,t),p=f.left,g=f.right;o(p,r,s,d),p.right2left(),o(g,r,s,d);var v=p.getBoundingBox();g.translate(v.width,0),e.x=g.x-e.width/2}return e},i}(i),h={};t.exports=function(t,e){return e=s.assign({},h,e),new c(t,e).execute()}},function(t,e,n){var r=n(6);t.exports=function(t,e,n,i){var o=null;t.eachNode(function(t){!function(t,e,n,i,o){var a="function"==typeof n?n(t):n*t.depth;if(!i)try{if(t.id===t.parent.children[0].id)return t.x+=a,void(t.y=e?e.y:0)}catch(t){}if(t.x+=a,e){if(t.y=e.y+r.getHeight(e,t,o),e.parent&&t.parent.id!==e.parent.id){var s=e.parent,u=s.y+r.getHeight(s,t,o);t.y=u>t.y?u:t.y}}else t.y=0}(t,o,e,n,i),o=t})}},function(t,e,n){function r(t,e){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var i=n(11),o=n(125),a=n(17),s=n(6),u=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n),i.prototype.execute=function(){return a(this.rootNode,this.options,o)},i}(i),l={};t.exports=function(t,e){return e=s.assign({},l,e),new u(t,e).execute()}},function(t,e,n){var r=n(6);var i={getSubTreeSep:function(){return 0}};t.exports=function(t,e){void 0===e&&(e={}),e=r.assign({},i,e),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse(function(t){t.x=t.parent.x+t.parent.width}),t.parent=null,function t(e,n){var r=0;return e.children.length?e.children.forEach(function(e){r+=t(e,n)}):r=e.height,e._subTreeSep=n.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,r)+2*e._subTreeSep,e.totalHeight}(t,e),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode(function(t){var e=t.children,n=e.length;if(n){var r=e[0];if(r.startY=t.startY+t._subTreeSep,1===n)r.y=t.y+t.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=e[i];o.startY=e[i-1].startY+e[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}}),function t(e){var n=e.children,r=n.length;if(r){n.forEach(function(e){t(e)});var i=n[0],o=n[r-1],a=o.y-i.y+o.height,s=0;if(n.forEach(function(t){s+=t.totalHeight}),a>e.height)e.y=i.y+a/2-e.height/2;else if(1!==n.length||e.height>s){var u=e.y+(e.height-a)/2-i.y;n.forEach(function(t){t.translate(0,u)})}else e.y=(i.y+i.height/2+o.y+o.height/2)/2-e.height/2}}(t)}}])},t.exports=r()},Q9R3:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("JHWa")),o=n("+ZTV");e.default={layout:i.default,util:{time:o.time,notime:o.notime}}},R45V:function(t,e,n){"use strict";var r=n("I+x0"),i=n("L/O1"),o={name:"navmodule",components:{loginDialog:r.a},data:function(){return{current:["join"],loginShow:!0,username:""}},mounted:function(){this.username=Object(i.b)("username"),console.log("nav username",this.username)},watch:{loginShow:{immediate:!0,handler:function(t){t?this.noScroll():this.canScroll()}}},methods:{loginout:function(){delCookie("username"),setTimeout(function(){this.$router.push("/")}.bind(this),1e3)},closeLoginDialog:function(){this.loginShow=!1},clicklogin:function(){this.loginShow=!0},clientUserlogin:function(t,e){this.loginShow=e,this.username=t,console.log(this.username)}}},a={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"banner"},[r("div",{staticClass:"nav"},[r("div",{staticClass:"icon_title"},[r("img",{attrs:{src:n("Hm+t")}}),t._v(" "),r("p",{staticClass:"title_des"},[t._v(" AI安全理论及验证平台")])]),t._v(" "),r("div",{staticClass:"top_nav"},[r("a-menu",{attrs:{mode:"horizontal"},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}},[r("a-menu-item",{key:"index",staticClass:"menu-item"},[r("a",{attrs:{href:"/"}},[t._v("平台介绍")])]),t._v(" "),r("a-menu-item",{key:"join",staticClass:"menu-item"},[r("router-link",{attrs:{to:"/homme_menu",target:"_blank",rel:"noopener noreferrer"}},[t._v("在线体验 ")])],1),t._v(" "),r("a-menu-item",{directives:[{name:"show",rawName:"v-show",value:""==t.username,expression:"username==''"}],key:"login",staticClass:"menu-item",on:{click:function(e){return t.clicklogin()}}},[t._v("登录/注册")]),t._v(" "),r("a-sub-menu",{directives:[{name:"show",rawName:"v-show",value:""!=t.username,expression:"username != ''"}],staticClass:"menu-item"},[r("span",{staticClass:"menu-item sub-title",attrs:{slot:"title"},slot:"title"},[r("span",[t._v(t._s(t.username))])]),t._v(" "),r("a-menu-item",{key:"taskList",staticClass:"sub-menu-item"},[r("router-link",{attrs:{to:"/taskList"}},[t._v("任务中心")])],1),t._v(" "),r("a-menu-item",{key:"loginout",staticClass:"sub-menu-item",on:{click:function(e){return t.loginout()}}},[t._v("注销")])],1)],1)],1)]),t._v(" "),t._m(0),t._v(" "),r("loginDialog",{directives:[{name:"show",rawName:"v-show",value:t.loginShow,expression:"loginShow"}],attrs:{isShow:t.loginShow},on:{"on-close":t.closeLoginDialog,clientUserlogin:t.clientUserlogin}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pro_des"},[e("div",{staticClass:"product_text"},[e("h1",[this._v("人工智能"),e("br"),this._v("安全理论及验证平台")]),this._v(" "),e("p",[this._v("聚焦人工智能系统面临的安全问题，提供人工智能系统全生命周期一站式检测和一体化安全防御方案，适用于安防、交通、金融行业广泛应用的的人脸识别、目标检测等人工智能场景。")]),this._v(" "),e("div",{staticClass:"pro_bottom"})])])}]};var s=n("VU/8")(o,a,!1,function(t){n("hCgo")},"data-v-77c8967b",null);e.a=s.exports},RjVl:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("hDRz"),i=function(){function t(t){this.distances=t.distances,this.dimension=t.dimension||2,this.linkDistance=t.linkDistance}return t.prototype.layout=function(){var t=this.dimension,e=this.distances,n=this.linkDistance;try{var i=r.Matrix.mul(r.Matrix.pow(e,2),-.5),o=i.mean("row"),a=i.mean("column"),s=i.mean();i.add(s).subRowVector(o).subColumnVector(a);var u=new r.SingularValueDecomposition(i),l=r.Matrix.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(e){return r.Matrix.mul([e],[l]).toJSON()[0].splice(0,t)})}catch(t){for(var c=[],h=0;h<e.length;h++){var d=Math.random()*n,f=Math.random()*n;c.push([d,f])}return c}},t}();e.default=i},"Rn/q":function(t,e,n){"use strict";var r={name:"resultTable",props:{tableHead:{type:Array,default:["1","2","3","4"]},tableBody:{type:Array,default:[]}},methods:{checkImg:function(t){return!!new Array(".png",".jpg").includes(t.slice(-4))}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"conclic_table"},[n("thead",{staticClass:"conclic_thead"},[n("tr",t._l(t.tableHead,function(e,r){return n("th",{key:r},[t._v(t._s(e))])}),0)]),t._v(" "),n("tbody",t._l(t.tableBody,function(e,r){return n("tr",{key:r},[t._l(e,function(e,r){return 1==t.checkImg(e)?n("td",{key:r,staticClass:"conclic_td"},[n("img",{staticClass:"resultTableImg",attrs:{src:e}})]):t._e()}),t._v(" "),t._l(e,function(e,r){return 0==t.checkImg(e)?n("td",{key:r,staticClass:"conclic_td"},[t._v(t._s(e))]):t._e()})],2)}),0)])])},staticRenderFns:[]};var o=n("VU/8")(r,i,!1,function(t){n("LTpj")},null,null);e.a=o.exports},Rq7w:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CircularLayout=void 0;var o=n("w9t0"),a=n("ZE1E");function s(t,e){var n=t.degree,r=e.degree;return n<r?-1:n>r?1:0}var u=function(t){function e(e){var n=t.call(this)||this;return n.radius=null,n.nodeSize=void 0,n.startRadius=null,n.endRadius=null,n.startAngle=0,n.endAngle=2*Math.PI,n.clockwise=!0,n.divisions=1,n.ordering=null,n.angleRatio=1,n.nodes=[],n.edges=[],n.nodeMap={},n.degrees=[],n.width=300,n.height=300,n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},e.prototype.execute=function(){var t,e=this.nodes,n=this.edges,r=e.length;if(0!==r){this.width||"undefined"==typeof window||(this.width=window.innerWidth),this.height||"undefined"==typeof window||(this.height=window.innerHeight),this.center||(this.center=[this.width/2,this.height/2]);var i=this.center;if(1===r)return e[0].x=i[0],e[0].y=i[1],void(this.onLayoutEnd&&this.onLayoutEnd());var o=this.radius,s=this.startRadius,u=this.endRadius,l=this.divisions,c=this.startAngle,h=this.endAngle,d=this.angleRatio,f=this.ordering,p=this.clockwise,g=this.nodeSpacing,v=this.nodeSize,y=(h-c)/r,m={};e.forEach(function(t,e){m[t.id]=e}),this.nodeMap=m;var b=(0,a.getDegree)(e.length,m,n);if(this.degrees=b,g){var x=(0,a.getFuncByUnknownType)(10,g),A=(0,a.getFuncByUnknownType)(10,v),w=-1/0;e.forEach(function(t){var e=A(t);w<e&&(w=e)});var _=0;e.forEach(function(t,e){_+=0===e?w||10:(x(t)||0)+(w||10)}),o=_/(2*Math.PI)}else o||s||u?!s&&u?s=u:s&&!u&&(u=s):o=this.height>this.width?this.width/2:this.height/2;var M=y*d,S=[];S="topology"===f?this.topologyOrdering():"topology-directed"===f?this.topologyOrdering(!0):"degree"===f?this.degreeOrdering():e;for(var O=Math.ceil(r/l),I=0;I<r;++I){var E=o;E||null===s||null===u||(E=s+I*(u-s)/(r-1)),E||(E=10+100*I/(r-1));var C=c+I%O*M+2*Math.PI/l*Math.floor(I/O);p||(C=h-I%O*M-2*Math.PI/l*Math.floor(I/O)),S[I].x=i[0]+Math.cos(C)*E,S[I].y=i[1]+Math.sin(C)*E,S[I].weight=b[I].all}return null===(t=this.onLayoutEnd)||void 0===t||t.call(this),{nodes:S,edges:this.edges}}this.onLayoutEnd&&this.onLayoutEnd()},e.prototype.topologyOrdering=function(t){void 0===t&&(t=!1);var e=this.degrees,n=this.edges,r=this.nodes,i=(0,a.clone)(r),o=this.nodeMap,s=[i[0]],u=[r[0]],l=[],c=r.length;l[0]=!0,function(t,e,n,r){t.forEach(function(e,n){t[n].children=[],t[n].parent=[]}),r?e.forEach(function(e){var r=(0,a.getEdgeTerminal)(e,"source"),i=(0,a.getEdgeTerminal)(e,"target"),o=0;r&&(o=n[r]);var s=0;i&&(s=n[i]);var u=t[o].children,l=t[s].parent;u.push(t[s].id),l.push(t[o].id)}):e.forEach(function(e){var r=(0,a.getEdgeTerminal)(e,"source"),i=(0,a.getEdgeTerminal)(e,"target"),o=0;r&&(o=n[r]);var s=0;i&&(s=n[i]);var u=t[o].children,l=t[s].children;u.push(t[s].id),l.push(t[o].id)})}(i,n,o,t);var h=0;return i.forEach(function(t,d){if(0!==d)if(d!==c-1&&e[d].all===e[d+1].all&&!function(t,e,n){for(var r=n.length,i=0;i<r;i++){var o=(0,a.getEdgeTerminal)(n[i],"source"),s=(0,a.getEdgeTerminal)(n[i],"target");if(t.id===o&&e.id===s||e.id===o&&t.id===s)return!0}return!1}(s[h],t,n)||l[d]){for(var f=s[h].children,p=!1,g=0;g<f.length;g++){var v=o[f[g]];if(e[v].all===e[d].all&&!l[v]){s.push(i[v]),u.push(r[o[i[v].id]]),l[v]=!0,p=!0;break}}for(var y=0;!p&&(l[y]||(s.push(i[y]),u.push(r[o[i[y].id]]),l[y]=!0,p=!0),++y!==c););}else s.push(t),u.push(r[o[t.id]]),l[d]=!0,h++}),u},e.prototype.degreeOrdering=function(){var t=this.nodes,e=[],n=this.degrees;return t.forEach(function(t,r){t.degree=n[r].all,e.push(t)}),e.sort(s),e},e.prototype.getType=function(){return"circular"},e}(o.Base);e.CircularLayout=u},S5lj:function(t,e,n){t.exports=n.p+"static/img/ImageNet3.b5ad0fc.png"},S7HD:function(t,e,n){"use strict";n("3BVV"),n("i6H2");var r=n("vrXp");n.d(e,"Canvas",function(){return r.a});n("SodV"),n("dAFD")},S99w:function(t,e){t.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAB3RJTUUH2AgBBjkvG63UFwAACNtJREFUSIlNVkmTnMURzazK+rZep2emZ0YrkkZC20igDbDAljAHHAYO4LDDeDn5F/BfOOGjwz4TAgcgQ2AcOByEhYQWIyHGM4CW2dXdX3d//dWS6UNLCtep6pLv5ct8LwpPnT2IkGxt9AVtrWEiMolpVqrTOq1opQDB2QASGaOdH3pfsgQABBFUqpZF6Hnl7ur2uYmTTx2ebDavfHX9qxtfp5VqklAIYW11jQDDcNgT9GQY0IPSjl0+KnudoigKHzwH4aABBZGT1DhrQ/DMIiAakEQh++Z0DUgTmW6eLy4tJ2kFAIRZAGhY9AGoVk8BnCER5MKWwRVDH5UOtU5Eg4AAAiooLIsYQc3IgCCsBCmK+buV1c08n2pM+iDDYsRIwYmIkCEKXoxRSokIh8AsuvCsSAsQoqRZRWsNwCLCDMxsXcEhKABjDAfwZVCR6vS3bi8u7du2mwFL6wIUwJqZceQoBFQoID54FyfESEgV1DE4AYGIjFIIikE0InEQhcISFKIxRgC2yg6zjuPKt4vLG0cegFIsGBhAPIsggI6z2JaOWVCgPTOr41rpY6KaBGb2HEI/75Zl7p1DARBACSAcvOcQFHpXFhqhksa9zY1Wo9Gembu/uj4YFSxegKPE6Hqzaq313p88efrV197IB35tLU+TCilJYkpiU0lNq15p1RuTzWajVm1Us3olraZJNY3TSGVRlEZRNUt9WQDLG7/45XR75stLl70vReTkiROUpjGR0lo/d/bciy+9em+1sKO43Z6lCE1kIhNFxmSGSBsyBhFBQECYOXjvg7fW2tJ677oP9rMra7WJI4cW0igZ5r1qpfrT8y+R1hoRjTH37q3cuXN//975vbv3NyeaSWK01kop0loDIgAgIoCIAIAAgIyv4L0fDAfBWW/toD/Me3mr1VpbW0nipFatUVGUWmtmWwwK8fzE7l1KESkVGVKISqkxa0T4/8PM4/KoFIeQJpEwcwhlWRLR6VOnb936Ok1T7z0ZiqMoiuLo6adOtCenEAEVKkFCpRQCICAAooAg4OMmWMYAiADMWmvkwMySJAkinjt/7oMP34+iqCxLarUmRaTdnjly6Gg1ywAZgBFQg0JUCDAGYJFHTaDIWB15/DRBMYMIMgcROHz4yLFjx65du3bx4kUyJh4Oh0+fONmebhsygH5MVilCRBFBQNJamOXRYRF5WB0ABBA0UWBgQRENAFEcnTx56vLly8vLy1SWljQtHDmaxIlWCpVGFEYAREQUFhFxthyr4r13zvEjCKWV1lqhQsQg6MPDFSCjn3zyySiKut0uxZGZbc/OTc/GkQFEEQEgUkoQRQBBtNZKG2Y2htbXNxaXlo4fP0ZkAAQRQwjCEpi1CAkCQPBeEz2xc8/M1Mwwz6mztXXm5OlKVvnwww+u37ieJIlzDhGVUmVZJkkSRdELz79w+MhhpQkQO92uJhPFsbX2408+uXr1ar/f995778uyVEqNRiMQ/O2vf9eeaq+u3CUETpMYEC5cuPDp3z+tVqtFURhjiGg0GtXr9U6n895777399tvz8/NJkuzbtw8RvfcfffTRW2+9RUTMbK01xogIERlDCOr1117fv39ft7dBWphD0JqOHD06KkdjChMTE0S0sbERx3FRFIjY6/Wcc1mW7dq1a2yuTqezZ8+eer3uvQ8hZFkWRZFSqtFoTE9NT7cnzz7/3PyB3fijUwd//OLPfvP7P8RxPCqGzOycU0oBQAheBIjIGFOr1aIoGvMNIQBAURR5nnvvRUQppbUmIq21Jm00IcutW//581/+RAuHD554+qlmswkA1Ur22Ks43iIRfDj5sckAEbXWAFCr1arVKjM/3FYREUEEEQghgHf1ei3PO9SeagmHPO9rrbV6WHc8ZOectXaMAQBa67EI1lrnXAhh3I2IpGmqtR7nBzNzCOzKTufBoUOHKI5MacutjfXu1mYcUVqp1psTqJTW+ubNm1euXFFKaa3GoXTgwIGDBw9eunTp9re3QcA5b61HkPPnfrJj584A4kajez98P8hzAI6zaKY9SaC0DeXdH5b+9u67E43qzK49Z8+/mFRqzHDlylfvvPPHKIpQBa01h/DzV17ZuWv7+3+98I/PPtNaixjnQpaYw/vn57bNOeEHm2uff3xx/f7d+uTEqbPPkApUq9VGo1EW21azkSWxVsghMIexJt1uR2sFGJRS3vuVlfuDQX91dWVza1NrUhgHz4mZSOJIMUPwpNQTe3Zvm51KstTZkQRPE83mWm+w7tTBowuRMWm9PhwVVqSSVZrNepomZTl6nP/W2tFo5JwDAKVUmibehcmpVqWa9Tpbed7vD3OqZkyIAMVgqAUpS9Kw3r1+/Us7chJCXMmak62JVmtudm6i1Tx2fOG75WUBNsYwc6PRcM41Go12ux3HcaXSMGSee+ZUWY7+9c/P19fWv7t3p1P0Q/BH9+6Z37snTWOyZSmeB8Xwv0t3tjY2UWOtXt2xY3u9Xj9z5sybb/5qfX2DmZVSIYRx3ZdffvnZZ59VSilFcRRPTtSv37h6++bNXq/3zfLyiDlOk/kd2yOtNShypVUiSmuTVZKad25Uerv1YKvf733xBS8sLGRZFkWJ1nocOEtLS0qpsYGHw6Lb7Sze/vru90vDQb90LkpiZKxUq8NyxD4EFLLWBu87nY6girOqFIzghsOBJMny8tLi4rdFUSZJmmVZWZbee6W0c5Y0+RC6vVzYt5r1WhozhCI4bSimtJbVt7YeDAdDTIhufLNYq9b6vV5/4JrNVqSqIj4yRES2tHmvn+e5c5sTrRaIdLrd8be3kmXWuuGwX6lmqJRJMtRKB05iFsGtzQehkigy1nsqrJvKkiSOVr5ZyjsdIkqSJG61pqdmvA/GxI1Gy3uHiGVZ1msNZlYKQ+B6vT63bVYp0FoPS9fPB/1BUQwLa+1gMDxx7DgoLeLpwIEDU63G3Ez7319e29jYGAfZ0tJSkiSPEziOYxHx3j/KHGaWwWCwvrFubRl88N4zC7P44BEQUfd6eZ7nWaL+B/UqY4kzrX3EAAAAAElFTkSuQmCC"},SEFl:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=i,e.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=o,e.multiply=a,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.distance=u,e.squaredDistance=l,e.length=c,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i));return t[0]=e[0]*i,t[1]=e[1]*i,t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},e.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},e.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},e.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},e.rotate=function(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t},e.angle=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))},e.zero=function(t){return t[0]=0,t[1]=0,t},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var n=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))},n.d(e,"len",function(){return f}),n.d(e,"sub",function(){return p}),n.d(e,"mul",function(){return g}),n.d(e,"div",function(){return v}),n.d(e,"dist",function(){return y}),n.d(e,"sqrDist",function(){return m}),n.d(e,"sqrLen",function(){return b}),n.d(e,"forEach",function(){return x});var r=n("NVY2");function i(){var t=new r.ARRAY_TYPE(2);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function a(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function s(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function u(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function l(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function c(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function h(t){var e=t[0],n=t[1];return e*e+n*n}var d,f=c,p=o,g=a,v=s,y=u,m=l,b=h,x=(d=i(),function(t,e,n,r,i,o){var a,s;for(e||(e=2),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)d[0]=t[a],d[1]=t[a+1],i(d,d,o),t[a]=d[0],t[a+1]=d[1];return t})},SVAo:function(t,e,n){"use strict";var r=n("TToO"),i=n("oEtn"),o=n("BuFP"),a=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=Object(o.i)(r,e),n}return Object(r.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(i.a);e.a=a},Sisf:function(t,e,n){t.exports=n.p+"static/img/ImageNet6.f051da8.png"},SodV:function(t,e,n){"use strict";var r=n("TToO"),i=n("i6H2"),o=n("3BVV"),a=n("gosJ"),s=n("IgWN"),u=n("PDVq"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.onCanvasChange=function(t){Object(a.h)(this,t)},e.prototype.getShapeBase=function(){return o},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),Object(a.a)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],n=[];Object(s.each)(t,function(t){var r=t.cfg.cacheCanvasBBox;r&&t.cfg.isInView&&(e.push(r.minX,r.maxX),n.push(r.minY,r.maxY))});var r=null;if(e.length){var i=Object(s.min)(e),o=Object(s.max)(e),a=Object(s.min)(n),l=Object(s.max)(n);r={minX:i,minY:a,x:i,y:a,maxX:o,maxY:l,width:o-i,height:l-a};var c=this.cfg.canvas;if(c){var h=c.getViewRange();this.set("isInView",Object(u.f)(r,h))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},e.prototype.draw=function(t,e){var n=this.cfg.children,r=!e||this.cfg.refresh;n.length&&r&&(t.save(),Object(a.a)(t,this),this._applyClip(t,this.getClip()),Object(a.d)(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(i.AbstractGroup);e.a=l},T7DD:function(t,e){},T9rv:function(t,e,n){"use strict";var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logdiv"},[t._m(0),t._v(" "),n("a-progress",{attrs:{percent:t.percent,status:"active"}}),t._v(" "),n("div",{staticClass:"logtext"},t._l(t.logtext,function(e,r){return n("div",{key:"log"+r},t._l(t.logtext[r],function(i,o){return"object"==typeof t.logtext[r]?n("p",{key:"text"+o},[t._v(t._s(i))]):n("p",[t._v(t._s(e))])}),0)}),0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logtitle"},[e("p",[this._v("执行日志")])])}]};var i=n("VU/8")({name:"showLog",props:{percent:{default:0},logtext:{default:function(){return[["2023-08-14 14:50:40,289 [INFO]  Msg: [数据集获取]：获取imagenet数据集正常样本已完成.","2023-08-14 14:50:40,290 [INFO]  Msg: [加载被解释模型]：准备加载被解释模型vgg11","2023-08-14 14:50:50,767 [INFO]  Msg: [加载被解释模型]：被解释模型vgg11已加载完成"],["2023-08-14 14:50:40,289 [INFO]  Msg: [数据集获取]：获取imagenet数据集正常样本已完成.","2023-08-14 14:50:40,290 [INFO]  Msg: [加载被解释模型]：准备加载被解释模型vgg11","2023-08-14 14:50:50,767 [INFO]  Msg: [加载被解释模型]：被解释模型vgg11已加载完成"]]}}},data:function(){return{j:0}}},r,!1,function(t){n("0bYM")},"data-v-1d3ec845",null);e.a=i.exports},TEXG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+ZTV"),i=function(t,e){var n=e.v,i=t.node(n).rank,o=e.w,a=t.node(o).rank,s=e.name,u=t.edge(e),l=u.labelRank;if(a!==i+1){t.removeEdgeObj(e);var c,h,d,f=t.graph();for(d=0,++i;i<a;++d,++i)u.points=[],h={edgeLabel:u,width:0,height:0,edgeObj:e,rank:i},c=(0,r.addDummyNode)(t,"edge",h,"_d"),i===l&&(h.width=u.width,h.height=u.height,h.dummy="edge-label",h.labelpos=u.labelpos),t.setEdge(n,c,{weight:u.weight},s),0===d&&(f.dummyChains||(f.dummyChains=[]),f.dummyChains.push(c)),n=c;t.setEdge(n,o,{weight:u.weight},s)}};e.default={run:function(t){t.graph().dummyChains=[],t.edges().forEach(function(e){return i(t,e)})},undo:function(t){var e;null===(e=t.graph().dummyChains)||void 0===e||e.forEach(function(e){var n,r=t.node(e),i=r.edgeLabel;r.edgeObj&&t.setEdgeObj(r.edgeObj,i);for(var o=e;r.dummy;)n=t.successors(o)[0],t.removeNode(o),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),o=n,r=t.node(o)})}}},TQfK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=1200,i=800,o=1e7,a=10,s=3.141592653589793,u=1.5707963267948966,l=.375*s,c=.625*s,h=new Map,d=10,f=10,p=.8,g=.1,v=.5;function y(t,e){var n=(h.get(t.id)||[]).find(function(t){return t.source===e.id||t.target===e.id}),r=t.size[0]*t.size[1],i=e.size[0]*e.size[1],s=r>i?e:t,d=r>i?t:e,f=s.x-s.size[0]/2,p=s.y-s.size[1]/2,g=s.x+s.size[0]/2,v=s.y+s.size[1]/2,y=d.x-d.size[0]/2,m=d.y-d.size[1]/2,b=d.x+d.size[0]/2,x=d.y+d.size[1]/2,A=s.x,w=s.y,_=d.x,M=d.y,S=0,O=0;if(g>=y&&b>=f&&v>=m&&x>=p){0===(O=Math.sqrt(Math.pow(_-A,2)+Math.pow(M-w,2)))&&(O=1e-7),S=1*a/O*100+((g<b?g:b)-(f>y?f:y))*((v<x?v:x)-(p>m?p:m)),S*=o}else{var I=!1,E=function(t,e,n){var r=t.x-t.size[0]/2,i=t.y-t.size[1]/2,o=t.x+t.size[0]/2,a=t.y+t.size[1]/2,s=e.x-e.size[0]/2,h=e.y-e.size[1]/2,d=e.x+e.size[0]/2,f=e.y+e.size[1]/2,p=t.x,g=t.y,v=e.x,y=e.y,m=v-p,b=Math.atan2(m,y-g),x=0,A=0,w=0,_=0;b>u?(A=i-f,x=s-o,w=parseFloat(A?(A/Math.cos(b)).toFixed(2):x.toFixed(2)),_=parseFloat(x?(x/Math.sin(b)).toFixed(2):A.toFixed(2))):w=_=0<b&&b<=u?(A=h-a)>(x=s-o)?parseFloat(A?(A/Math.cos(b)).toFixed(2):x.toFixed(2)):parseFloat(x?(x/Math.sin(b)).toFixed(2):A.toFixed(2)):b<-u?(A=i-f)>(x=-(d-r))?parseFloat(A?(A/Math.cos(b)).toFixed(2):x.toFixed(2)):parseFloat(x?(x/Math.sin(b)).toFixed(2):A.toFixed(2)):(A=h-a)>(x=Math.abs(m)>(o-r)/2?r-d:m)?parseFloat(A?(A/Math.cos(b)).toFixed(2):x.toFixed(2)):parseFloat(x&&0!==b?(x/Math.sin(b)).toFixed(2):A.toFixed(2));var M=parseFloat(b.toFixed(2)),S=n;return n&&(S=l<M&&M<c),{distance:Math.abs(w<_?w:_),isHoriz:S}}(s,d,I);O=E.distance,I=E.isHoriz,O<=a?S+=0!==O?n?a+1*o/O:a+o*a/O:o:(S+=O,n&&(S+=O*O))}return S}function m(t){for(var e=0,n=0;n<t.length;n++){var o=t[n];(o.x<0||o.y<0||o.x>r||o.y>i)&&(e+=1e12);for(var a=n+1;a<t.length;a++)e+=y(o,t[a])}return e}function b(t,e,n,r){var i=new Map;n.forEach(function(t,e){i.set(t.id,t)});var o=[];(r.filter(function(e){return e.source===t.id||e.target===t.id})||[]).forEach(function(e){var n=e.source===t.id?e.target:e.source,r=i.get(n);r&&o.push(r)});for(var a=!0,s=0;s<o.length;s++){var u=o[s],l=180*Math.atan((t.y-u.y)/(u.x-t.y)),c=180*Math.atan((e.y-u.y)/(u.x-e.y));if((l<30||l>150)&&!(c<30||c>150)||l*c<0){a=!1;break}if(l>70&&l<110&&!(c>70&&c<110)||l*c<0){a=!1;break}if((u.x-t.x)*(u.x-e.x)<0){a=!1;break}if((u.y-t.y)*(u.y-e.y)<0){a=!1;break}}return a}function x(t,e){for(var n=!1,r=1*d,i=1*f,o=[r,-r,0,0],a=[0,0,i,-i],s=0;s<t.length;++s)for(var u=t[s],l=A(u,t),c=0;c<o.length;c++){if(b(u,{x:u.x+o[c],y:u.y+a[c]},t,e)){u.x+=o[c],u.y+=a[c];var h=A(u,t),y=Math.random();h<l?(l=h,n=!0):y<p&&y>g?(l=h,n=!0):(u.x-=o[c],u.y-=a[c])}}return p>g&&(p*=v),n?m(t):0}function A(t,e){var n=0;(t.x<0||t.y<0||t.x+t.size[0]+20>r||t.y+t.size[1]+20>i)&&(n+=1e12);for(var o=0;o<e.length;++o)t.id!==e[o].id&&(n+=y(t,e[o]));return n}e.default=function(t,e){if(0===t.length)return{nodes:t,edges:e};t.forEach(function(t){var n=e.filter(function(e){return e.source===t.id||e.target===t.id});h.set(t,n)}),t.sort(function(t,e){var n,r;return(null===(n=h.get(t.id))||void 0===n?void 0:n.length)-(null===(r=h.get(e.id))||void 0===r?void 0:r.length)});for(var n=m(t),r=20,i=1,o=0,a=0;r>0&&!(++a>=50);){var s=x(t,e);0!==s&&(o=s),i=o-n,n=o,0===i?--r:r=20}return t.forEach(function(t){t.x=t.x-t.size[0]/2,t.y=t.y-t.size[1]/2}),{nodes:t,edges:e}}},TToO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"__assign",function(){return i}),e.__rest=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},e.__decorate=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},e.__param=function(t,e){return function(n,r){e(n,r,t)}},e.__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__awaiter=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})},e.__generator=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},n.d(e,"__createBinding",function(){return o}),e.__exportStar=function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||o(e,t,n)},e.__values=a,e.__read=s,e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t},e.__spreadArrays=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},e.__spreadArray=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)},e.__await=u,e.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof u?Promise.resolve(n.value.v).then(l,c):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function l(t){s("next",t)}function c(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},e.__asyncDelegator=function(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:u(t[r](e)),done:"return"===r}:i?i(e):e}:i}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=a(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){e=t[n](e),function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,e.done,e.value)})}}},e.__makeTemplateObject=function(t,e){Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e;return t},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return l(e,t),e},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}},e.__classPrivateFieldGet=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)},e.__classPrivateFieldSet=function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var o=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function u(t){return this instanceof u?(this.v=t,this):new u(t)}var l=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}},Tb0P:function(t,e,n){"use strict";e.b=function(t,e,n){var i=1;Object(r.h)(t)&&(i=t.split("\n").length);if(i>1){var o=function(t,e){return e?e-t:.14*t}(e,n);return e*i+o*(i-1)}return e},e.c=function(t,e){var n=Object(i.a)(),o=0;if(Object(r.e)(t)||""===t)return o;if(n.save(),n.font=e,Object(r.h)(t)&&t.includes("\n")){var a=t.split("\n");Object(r.a)(a,function(t){var e=n.measureText(t).width;o<e&&(o=e)})}else o=n.measureText(t).width;return n.restore(),o},e.a=function(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight,i=t.fontStyle,o=t.fontVariant;return[i,o,r,e+"px",n].join(" ").trim()};var r=n("BuFP"),i=n("cOOB")},TmV0:function(t,e,n){n("fZOM"),t.exports=n("FeBl").Object.values},TnYd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"catmullRomToBezier",function(){return u}),n.d(e,"fillPath",function(){return C}),n.d(e,"fillPathByDiff",function(){return D}),n.d(e,"formatPath",function(){return P}),n.d(e,"intersection",function(){return O}),n.d(e,"parsePathArray",function(){return v}),n.d(e,"parsePathString",function(){return s}),n.d(e,"pathToAbsolute",function(){return c}),n.d(e,"pathToCurve",function(){return p}),n.d(e,"rectPath",function(){return A});var r=n("IgWN"),i="\t\n\v\f\r   ᠎             　\u2028\u2029",o=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig"),s=function(t){if(!t)return null;if(Object(r.isArray)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(o,function(r,i,o){var s=[],u=i.toLowerCase();if(o.replace(a,function(t,e){e&&s.push(+e)}),"m"===u&&s.length>2&&(n.push([i].concat(s.splice(0,2))),u="l",i="m"===i?"l":"L"),"o"===u&&1===s.length&&n.push([i,s[0]]),"r"===u)n.push([i].concat(s));else for(;s.length>=e[u]&&(n.push([i].concat(s.splice(0,e[u]))),e[u]););return t}),n},u=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},l=function(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var a=Math.PI/180,s=t+n*Math.cos(-r*a),u=t+n*Math.cos(-i*a);o=[["M",s,e+n*Math.sin(-r*a)],["A",n,n,0,+(i-r>180),0,u,e+n*Math.sin(-i*a)]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},c=function(t){if(!(t=s(t))||!t.length)return[["M",0,0]];var e,n,r=[],i=0,o=0,a=0,c=0,h=0;"M"===t[0][0]&&(a=i=+t[0][1],c=o=+t[0][2],h++,r[0]=["M",i,o]);for(var d=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),f=void 0,p=void 0,g=h,v=t.length;g<v;g++){if(r.push(f=[]),(e=(p=t[g])[0])!==e.toUpperCase())switch(f[0]=e.toUpperCase(),f[0]){case"A":f[1]=p[1],f[2]=p[2],f[3]=p[3],f[4]=p[4],f[5]=p[5],f[6]=+p[6]+i,f[7]=+p[7]+o;break;case"V":f[1]=+p[1]+o;break;case"H":f[1]=+p[1]+i;break;case"R":for(var y=2,m=(n=[i,o].concat(p.slice(1))).length;y<m;y++)n[y]=+n[y]+i,n[++y]=+n[y]+o;r.pop(),r=r.concat(u(n,d));break;case"O":r.pop(),(n=l(i,o,p[1],p[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(l(i,o,p[1],p[2],p[3])),f=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+p[1]+i,c=+p[2]+o;break;default:for(y=1,m=p.length;y<m;y++)f[y]=+p[y]+(y%2?i:o)}else if("R"===e)n=[i,o].concat(p.slice(1)),r.pop(),r=r.concat(u(n,d)),f=["R"].concat(p.slice(-2));else if("O"===e)r.pop(),(n=l(i,o,p[1],p[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(l(i,o,p[1],p[2],p[3])),f=["U"].concat(r[r.length-1].slice(-2));else for(var b=0,x=p.length;b<x;b++)f[b]=p[b];if("O"!==(e=e.toUpperCase()))switch(f[0]){case"Z":i=+a,o=+c;break;case"H":i=f[1];break;case"V":o=f[1];break;case"M":a=f[f.length-2],c=f[f.length-1];break;default:i=f[f.length-2],o=f[f.length-1]}}return r},h=function(t,e,n,r){return[t,e,n,r,n,r]},d=function(t,e,n,r,i,o){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]},f=function(t,e,n,r,i,o,a,s,u,l){n===r&&(n+=1);var c,h,d,p,g,v=120*Math.PI/180,y=Math.PI/180*(+i||0),m=[],b=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(l)h=l[0],d=l[1],p=l[2],g=l[3];else{t=(c=b(t,e,-y)).x,e=c.y,s=(c=b(s,u,-y)).x,u=c.y,t===s&&e===u&&(s+=1,u+=1);var x=(t-s)/2,A=(e-u)/2,w=x*x/(n*n)+A*A/(r*r);w>1&&(n*=w=Math.sqrt(w),r*=w);var _=n*n,M=r*r,S=(o===a?-1:1)*Math.sqrt(Math.abs((_*M-_*A*A-M*x*x)/(_*A*A+M*x*x)));p=S*n*A/r+(t+s)/2,g=S*-r*x/n+(e+u)/2,h=Math.asin(((e-g)/r).toFixed(9)),d=Math.asin(((u-g)/r).toFixed(9)),h=t<p?Math.PI-h:h,d=s<p?Math.PI-d:d,h<0&&(h=2*Math.PI+h),d<0&&(d=2*Math.PI+d),a&&h>d&&(h-=2*Math.PI),!a&&d>h&&(d-=2*Math.PI)}var O=d-h;if(Math.abs(O)>v){var I=d,E=s,C=u;d=h+v*(a&&d>h?1:-1),s=p+n*Math.cos(d),u=g+r*Math.sin(d),m=f(s,u,n,r,i,0,a,E,C,[d,I,p,g])}O=d-h;var k=Math.cos(h),T=Math.sin(h),D=Math.cos(d),j=Math.sin(d),L=Math.tan(O/4),P=4/3*n*L,N=4/3*r*L,R=[t,e],B=[t+P*T,e-N*k],z=[s+P*j,u-N*D],F=[s,u];if(B[0]=2*R[0]-B[0],B[1]=2*R[1]-B[1],l)return[B,z,F].concat(m);for(var G=[],V=0,U=(m=[B,z,F].concat(m).join().split(",")).length;V<U;V++)G[V]=V%2?b(m[V-1],m[V],y).y:b(m[V],m[V+1],y).x;return G},p=function(t,e){var n,r=c(t),i=e&&c(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],l="",p="",g=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(f.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(d(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(d(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(h(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(h(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(h(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(h(e.x,e.y,e.X,e.Y))}return t},v=function(t,e){if(t[e].length>7){t[e].shift();for(var o=t[e];o.length;)s[e]="A",i&&(u[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},y=function(t,e,o,a,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var m=0;m<n;m++){r[m]&&(l=r[m][0]),"C"!==l&&(s[m]=l,m&&(p=s[m-1])),r[m]=g(r[m],o,p),"A"!==s[m]&&"C"===l&&(s[m]="C"),v(r,m),i&&(i[m]&&(l=i[m][0]),"C"!==l&&(u[m]=l,m&&(p=u[m-1])),i[m]=g(i[m],a,p),"A"!==u[m]&&"C"===l&&(u[m]="C"),v(i,m)),y(r,i,o,a,m),y(i,r,a,o,m);var b=r[m],x=i&&i[m],A=b.length,w=i&&x.length;o.x=b[A-2],o.y=b[A-1],o.bx=parseFloat(b[A-4])||o.x,o.by=parseFloat(b[A-3])||o.y,a.bx=i&&(parseFloat(x[w-4])||a.x),a.by=i&&(parseFloat(x[w-3])||a.y),a.x=i&&x[w-2],a.y=i&&x[w-1]}return i?[r,i]:r},g=/,?([a-z]),?/gi,v=function(t){return t.join(",").replace(g,"$1")},y=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},m=function(t,e,n,r,i,o,a,s,u){null===u&&(u=1);for(var l=(u=u>1?1:u<0?0:u)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,f=0;f<12;f++){var p=l*c[f]+l,g=y(p,t,n,i,a),v=y(p,e,r,o,s),m=g*g+v*v;d+=h[f]*Math.sqrt(m)}return l*d},b=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var u=(t-n)*(o-s)-(e-r)*(i-a);if(u){var l=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/u,c=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/u,h=+l.toFixed(2),d=+c.toFixed(2);if(!(h<+Math.min(t,n).toFixed(2)||h>+Math.max(t,n).toFixed(2)||h<+Math.min(i,a).toFixed(2)||h>+Math.max(i,a).toFixed(2)||d<+Math.min(e,r).toFixed(2)||d>+Math.max(e,r).toFixed(2)||d<+Math.min(o,s).toFixed(2)||d>+Math.max(o,s).toFixed(2)))return{x:l,y:c}}}},x=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},A=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=v,o},w=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:A(t,e,n,r),vb:[t,e,n,r].join(" ")}},_=function(t,e,n,i,o,a,s,u){Object(r.isArray)(t)||(t=[t,e,n,i,o,a,s,u]);var l=function(t,e,n,r,i,o,a,s){for(var u,l,c,h,d=[],f=[[],[]],p=0;p<2;++p)if(0===p?(l=6*t-12*n+6*i,u=-3*t+9*n-9*i+3*a,c=3*n-3*t):(l=6*e-12*r+6*o,u=-3*e+9*r-9*o+3*s,c=3*r-3*e),Math.abs(u)<1e-12){if(Math.abs(l)<1e-12)continue;(h=-c/l)>0&&h<1&&d.push(h)}else{var g=l*l-4*c*u,v=Math.sqrt(g);if(!(g<0)){var y=(-l+v)/(2*u);y>0&&y<1&&d.push(y);var m=(-l-v)/(2*u);m>0&&m<1&&d.push(m)}}for(var b,x=d.length,A=x;x--;)b=1-(h=d[x]),f[0][x]=b*b*b*t+3*b*b*h*n+3*b*h*h*i+h*h*h*a,f[1][x]=b*b*b*e+3*b*b*h*r+3*b*h*h*o+h*h*h*s;return f[0][A]=t,f[1][A]=e,f[0][A+1]=a,f[1][A+1]=s,f[0].length=f[1].length=A+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}}.apply(null,t);return w(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},M=function(t,e,n,r,i,o,a,s,u){var l=1-u,c=Math.pow(l,3),h=Math.pow(l,2),d=u*u,f=d*u,p=t+2*u*(n-t)+d*(i-2*n+t),g=e+2*u*(r-e)+d*(o-2*r+e),v=n+2*u*(i-n)+d*(a-2*i+n),y=r+2*u*(o-r)+d*(s-2*o+r);return{x:c*t+3*h*u*n+3*l*u*u*i+f*a,y:c*e+3*h*u*r+3*l*u*u*o+f*s,m:{x:p,y:g},n:{x:v,y:y},start:{x:l*t+u*n,y:l*e+u*r},end:{x:l*i+u*a,y:l*o+u*s},alpha:90-180*Math.atan2(p-v,g-y)/Math.PI}},S=function(t,e,n){if(!function(t,e){return t=w(t),e=w(e),x(e,t.x,t.y)||x(e,t.x2,t.y)||x(e,t.x,t.y2)||x(e,t.x2,t.y2)||x(t,e.x,e.y)||x(t,e.x2,e.y)||x(t,e.x,e.y2)||x(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(_(t),_(e)))return n?0:[];for(var r=~~(m.apply(0,t)/8),i=~~(m.apply(0,e)/8),o=[],a=[],s={},u=n?0:[],l=0;l<r+1;l++){var c=M.apply(0,t.concat(l/r));o.push({x:c.x,y:c.y,t:l/r})}for(l=0;l<i+1;l++){c=M.apply(0,e.concat(l/i));a.push({x:c.x,y:c.y,t:l/i})}for(l=0;l<r;l++)for(var h=0;h<i;h++){var d=o[l],f=o[l+1],p=a[h],g=a[h+1],v=Math.abs(f.x-d.x)<.001?"y":"x",y=Math.abs(g.x-p.x)<.001?"y":"x",A=b(d.x,d.y,f.x,f.y,p.x,p.y,g.x,g.y);if(A){if(s[A.x.toFixed(4)]===A.y.toFixed(4))continue;s[A.x.toFixed(4)]=A.y.toFixed(4);var S=d.t+Math.abs((A[v]-d[v])/(f[v]-d[v]))*(f.t-d.t),O=p.t+Math.abs((A[y]-p[y])/(g[y]-p[y]))*(g.t-p.t);S>=0&&S<=1&&O>=0&&O<=1&&(n?u+=1:u.push({x:A.x,y:A.y,t1:S,t2:O}))}}return u},O=function(t,e){return function(t,e,n){var r,i,o,a,s,u,l,c,h,d;t=p(t),e=p(e);for(var f=n?0:[],g=0,v=t.length;g<v;g++){var y=t[g];if("M"===y[0])r=s=y[1],i=u=y[2];else{"C"===y[0]?(r=(h=[r,i].concat(y.slice(1)))[6],i=h[7]):(h=[r,i,r,i,s,u,s,u],r=s,i=u);for(var m=0,b=e.length;m<b;m++){var x=e[m];if("M"===x[0])o=l=x[1],a=c=x[2];else{"C"===x[0]?(o=(d=[o,a].concat(x.slice(1)))[6],a=d[7]):(d=[o,a,o,a,l,c,l,c],o=l,a=c);var A=S(h,d,n);if(n)f+=A;else{for(var w=0,_=A.length;w<_;w++)A[w].segment1=g,A[w].segment2=m,A[w].bez1=h,A[w].bez2=d;f=f.concat(A)}}}}}return f}(t,e)};function I(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&n.push(e[0]),a===e.length-2&&r.push(e[a+1]),o[a]=[(1-i)*e[a][0]+i*e[a+1][0],(1-i)*e[a][1]+i*e[a+1][1]];t(o,i)}}(t,e),{left:n,right:r.reverse()}}var E=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,a=1/n,s=0;s<n-1;s++){var u=I(o,a/(1-a*s));i.push(u.left),o=u.right}return i.push(o),i.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])})}(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r},C=function(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<r-n;a++)t.push(t[0]);return t}for(a=0;a<r;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var u=o.reduce(function(e,r,i){return i===n?e.concat(t[n]):e.concat(E(t[i],t[i+1],r))},[]);return u.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||u.push("Z"),u},k=function(t,e){if(t.length!==e.length)return!1;var n=!0;return Object(r.each)(t,function(t,r){if(t!==e[r])return n=!1,!1}),n};function T(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var D=function(t,e){var n=function(t,e){var n,r,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var s=[],u=0;u<=i;u++)s[u]=[],s[u][0]={min:u};for(var l=0;l<=o;l++)s[0][l]={min:l};for(u=1;u<=i;u++)for(n=t[u-1],l=1;l<=o;l++){r=e[l-1],a=k(n,r)?0:1;var c=s[u-1][l].min+1,h=s[u][l-1].min+1,d=s[u-1][l-1].min+a;s[u][l]=T(c,h,d)}return s}(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var u=1;u<=r;u++){var l=n[u][u].min;s=u;for(var c=a;c<=i;c++)n[u][c].min<l&&(l=n[u][c].min,s=c);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(u=o.length-1;u>=0;u--)a=o[u].index,"add"===o[u].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var h=i-(r=t.length);if(r<i)for(u=0;u<h;u++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function j(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=L(e)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function L(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var P=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=L(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=j(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=j(n,t[r-1],2)}t[r]=["C"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=j(n,t[r-1],1)}t[r]=["S"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;default:t[r]=e[r]}return t}},ToeE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("KgSl")),i=a(n("9Nhl")),o=n("lSAc");function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t,e){var n=[],r=t.nodes,a=void 0===r?[]:r,s=t.edges,u=void 0===s?[]:s;if(0===a.length)return n;var l=a[0],c=new Set;c.add(l);var h=new i.default(function(t,n){return e?t.weight-n.weight:0});for((0,o.getEdgesByNodeId)(l.id,u).forEach(function(t){h.insert(t)});!h.isEmpty();){var d=h.delMin(),f=d.source,p=d.target;c.has(f)&&c.has(p)||(n.push(d),c.has(f)||(c.add(f),(0,o.getEdgesByNodeId)(f,u).forEach(function(t){h.insert(t)})),c.has(p)||(c.add(p),(0,o.getEdgesByNodeId)(p,u).forEach(function(t){h.insert(t)})))}return n},u=function(t,e){var n=[],i=t.nodes,o=void 0===i?[]:i,a=t.edges,s=void 0===a?[]:a;if(0===o.length)return n;var u=s.map(function(t){return t});e&&u.sort(function(t,e){return t.weight-e.weight});for(var l=new r.default(o.map(function(t){return t.id}));u.length>0;){var c=u.shift(),h=c.source,d=c.target;l.connected(h,d)||(n.push(c),l.union(h,d))}return n},l=function(t,e,n){return n?{prim:s,kruskal:u}[n](t,e):u(t,e)};e.default=l},"UI/F":function(t,e,n){"use strict";var r={name:"resultDialog",props:{isShow:{type:Boolean,default:!1,required:!0},widNum:{type:Number,default:50},leftSite:{type:Number,default:25.2},topDistance:{type:Number,default:10},pdt:{type:Number,default:22},pdb:{type:Number,default:47}},methods:{closeMyself:function(){this.$emit("on-close")},_stopPropagation:function(t){t.stopPropagation()}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog"},[t.isShow?n("div",{staticClass:"dialog-cover back",on:{click:t.closeMyself}}):t._e(),t._v(" "),n("transition",{attrs:{name:"drop"}},[t.isShow?n("div",{staticClass:"dialog-content",on:{click:function(e){return e.stopPropagation(),t._stopPropagation(e)}}},[n("div",{staticClass:"dialog_head back"},[n("div",{staticClass:"close_button"},[n("a-icon",{staticClass:"closebutton",staticStyle:{"font-size":"20px",color:"#6C7385"},attrs:{type:"close"},on:{click:t.closeMyself}})],1),t._v(" "),t._t("header",function(){return[t._v("结果报告")]})],2),t._v(" "),n("div",{staticClass:"dialog_main"},[t._t("main",function(){return[t._v("弹窗内容")]})],2)]):t._e()])],1)},staticRenderFns:[]};var o=n("VU/8")(r,i,!1,function(t){n("cTIi")},"data-v-267e3a92",null);e.a=o.exports},UO3t:function(t,e,n){"use strict";function r(t){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.detectAllUndirectedCycle=e.detectAllDirectedCycle=e.detectAllCycles=e.default=void 0;var i,o=(i=n("0buI"))&&i.__esModule?i:{default:i},a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}i.default=t,n&&n.set(t,i);return i}(n("l8+k")),s=n("lSAc");function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}var l=function(t,e,n){var r,i;void 0===n&&(n=!0);for(var o=[],u=0,l=(0,a.default)(t,!1);u<l.length;u++){var c=l[u];if(c.length)for(var h=c[0],d=h.id,f=[h],p=((r={})[d]=h,r),g=((i={})[d]=new Set,i);f.length>0;)for(var v=f.pop(),y=v.id,m=(0,s.getNeighbors)(y,t.edges),b=function(r){var i,a=m[r],s=t.nodes.find(function(t){return t.id===a});if(a===y)o.push(((i={})[a]=v,i));else if(a in g){if(!g[y].has(s)){for(var u=!0,l=[s,v],c=p[y];g[a].size&&!g[a].has(c)&&(l.push(c),c!==p[c.id]);)c=p[c.id];if(l.push(c),e&&n?(u=!1,l.findIndex(function(t){return e.indexOf(t.id)>-1})>-1&&(u=!0)):e&&!n&&l.findIndex(function(t){return e.indexOf(t.id)>-1})>-1&&(u=!1),u){for(var h={},d=1;d<l.length;d+=1)h[l[d-1].id]=l[d];l.length&&(h[l[l.length-1].id]=l[0]),o.push(h)}g[a].add(v)}}else p[a]=v,f.push(s),g[a]=new Set([v])},x=0;x<m.length;x+=1)b(x)}return o};e.detectAllUndirectedCycle=l;var c=function(t,e,n){void 0===n&&(n=!0);for(var r=[],i=new Set,o=[],u=[],l={},c={},h=function t(a,s,c){var h=!1;if(e&&!1===n&&e.indexOf(a.id)>-1)return h;r.push(a),i.add(a);for(var d=c[a.id],f=0;f<d.length;f+=1){if((v=l[d[f]])===s){for(var p={},g=1;g<r.length;g+=1)p[r[g-1].id]=r[g];r.length&&(p[r[r.length-1].id]=r[0]),u.push(p),h=!0}else i.has(v)||t(v,s,c)&&(h=!0)}if(h)!function(t){for(var e=[t];e.length>0;){var n=e.pop();i.has(n)&&(i.delete(n),o[n.id].forEach(function(t){e.push(t)}),o[n.id].clear())}}(a);else for(f=0;f<d.length;f+=1){var v=l[d[f]];o[v.id].has(a)||o[v.id].add(a)}return r.pop(),h},d=t.nodes,f=void 0===d?[]:d,p=0;p<f.length;p+=1){var g=f[p],v=g.id;c[v]=p,l[p]=g}if(e&&n){var y=function(t){var n=e[t];c[f[t].id]=c[n],c[n]=0,l[0]=f.find(function(t){return t.id===n}),l[c[f[t].id]]=f[t]};for(p=0;p<e.length;p++)y(p)}for(var m=function(r){for(var i,o,a=1/0,l=0;l<r.length;l+=1)for(var h=r[l],d=0;d<h.length;d++){var f=c[h[d].id];f<a&&(a=f,o=l)}var p=r[o],g=[];for(l=0;l<p.length;l+=1){var v=p[l];g[v.id]=[];for(var y=0,m=(0,s.getNeighbors)(v.id,t.edges,"target").filter(function(t){return p.map(function(t){return t.id}).indexOf(t)>-1});y<m.length;y++){var b=m[y];b!==v.id||!1===n&&e.indexOf(v.id)>-1?g[v.id].push(c[b]):u.push(((i={})[v.id]=v,i))}}return{component:p,adjList:g,minIdx:a}},b=0;b<f.length;){var x=f.filter(function(t){return c[t.id]>=b}),A=(0,a.detectStrongConnectComponents)({nodes:x,edges:t.edges}).filter(function(t){return t.length>1});if(0===A.length)break;var w=m(A),_=w.minIdx,M=w.adjList,S=w.component;if(!(S.length>1))break;S.forEach(function(t){o[t.id]=new Set});var O=l[_];if(e&&n&&-1===e.indexOf(O.id))return u;h(O,O,M),b=_+1}return u};e.detectAllDirectedCycle=c;e.detectAllCycles=function(t,e,n,r){return void 0===r&&(r=!0),e?c(t,n,r):l(t,n,r)};var h=function(t){var e=null,n=t.nodes,r={},i={},a={},s={};(void 0===n?[]:n).forEach(function(t){i[t.id]=t});for(var u={enter:function(t){var n=t.current,o=t.previous;if(a[n]){e={};for(var s=n,u=o;u!==n;)e[s]=u,s=u,u=r[u];e[s]=u}else a[n]=n,delete i[n],r[n]=o},leave:function(t){var e=t.current;s[e]=e,delete a[e]},allowTraversal:function(t){var n=t.next;return!e&&!s[n]}};Object.keys(i).length;){var l=Object.keys(i)[0];(0,o.default)(t,l,u)}return e};e.default=h},Umca:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.getLayoutByName=e.unRegisterLayout=e.registerLayout=void 0;var o=n("w9t0"),a=n("ZE1E"),s=new Map;e.registerLayout=function(t,e){if(s.get(t)&&console.warn("The layout with the name ".concat(t," exists already, it will be overridden")),(0,a.isObject)(e)){var n=function(t){function n(n){var r,i,o=r=t.call(this)||this,a={},s=Object.assign({},o.getDefaultCfg(),(null===(i=e.getDefaultCfg)||void 0===i?void 0:i.call(e))||{});return Object.assign(a,s,e,n),Object.keys(a).forEach(function(t){var e=a[t];o[t]=e}),r}return i(n,t),n}(o.Base);s.set(t,n)}else s.set(t,e);return s.get(t)};e.unRegisterLayout=function(t){s.has(t)&&s.delete(t)};e.getLayoutByName=function(t){return s.has(t)?s.get(t):null}},Upny:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GridLayout=void 0;var o=n("ZE1E"),a=function(t){function e(e){var n=t.call(this)||this;return n.begin=[0,0],n.preventOverlap=!0,n.preventOverlapPadding=10,n.condense=!1,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.row=0,n.col=0,n.cellWidth=0,n.cellHeight=0,n.cellUsed={},n.id2manPos={},n.onLayoutEnd=function(){},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,r=t.begin,i=e.length;if(0===i)return t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n};if(1===i)return e[0].x=r[0],e[0].y=r[1],t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n};var a=t.sortBy,s=t.width,u=t.height,l=t.condense,c=t.preventOverlapPadding,h=t.preventOverlap,d=t.nodeSpacing,f=t.nodeSize,p=[];e.forEach(function(t){p.push(t)});var g={};if(p.forEach(function(t,e){g[t.id]=e}),("degree"===a||!(0,o.isString)(a)||void 0===p[0][a])&&(a="degree",(0,o.isNaN)(e[0].degree))){var v=(0,o.getDegree)(p.length,g,n);p.forEach(function(t,e){t.degree=v[e].all})}p.sort(function(t,e){return e[a]-t[a]}),s||"undefined"==typeof window||(s=window.innerWidth),u||"undefined"==typeof window||(u=window.innerHeight);var y=t.rows,m=null!=t.cols?t.cols:t.columns;if(t.cells=i,null!=y&&null!=m?(t.rows=y,t.cols=m):null!=y&&null==m?(t.rows=y,t.cols=Math.ceil(t.cells/t.rows)):null==y&&null!=m?(t.cols=m,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.rows=Math.max(t.rows,1),t.cols=Math.max(t.cols,1),t.cols*t.rows>t.cells)((x=t.small())-1)*(b=t.large())>=t.cells?t.small(x-1):(b-1)*x>=t.cells&&t.large(b-1);else for(;t.cols*t.rows<t.cells;){var b,x=t.small();((b=t.large())+1)*x>=t.cells?t.large(b+1):t.small(x+1)}if(t.cellWidth=s/t.cols,t.cellHeight=u/t.rows,l&&(t.cellWidth=0,t.cellHeight=0),h||d){var A=(0,o.getFuncByUnknownType)(10,d),w=(0,o.getFuncByUnknownType)(30,f,!1);p.forEach(function(e){e.x&&e.y||(e.x=0,e.y=0);var n,r,i=w(e)||30;(0,o.isArray)(i)?(n=i[0],r=i[1]):(n=i,r=i);var a=void 0!==A?A(e):c,s=n+a,u=r+a;t.cellWidth=Math.max(t.cellWidth,s),t.cellHeight=Math.max(t.cellHeight,u)})}t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var _=0;_<p.length;_++){var M=p[_],S=void 0;if(t.position&&(S=t.position(M)),S&&(void 0!==S.row||void 0!==S.col)){var O={row:S.row,col:S.col};if(void 0===O.col)for(O.col=0;t.used(O.row,O.col);)O.col++;else if(void 0===O.row)for(O.row=0;t.used(O.row,O.col);)O.row++;t.id2manPos[M.id]=O,t.use(O.row,O.col)}t.getPos(M)}return t.onLayoutEnd&&t.onLayoutEnd(),{edges:n,nodes:p}},e.prototype.small=function(t){var e,n=this.rows||5,r=this.cols||5;null==t?e=Math.min(n,r):Math.min(n,r)===this.rows?this.rows=t:this.cols=t;return e},e.prototype.large=function(t){var e,n=this.rows||5,r=this.cols||5;null==t?e=Math.max(n,r):Math.max(n,r)===this.rows?this.rows=t:this.cols=t;return e},e.prototype.used=function(t,e){return this.cellUsed["c-".concat(t,"-").concat(e)]||!1},e.prototype.use=function(t,e){this.cellUsed["c-".concat(t,"-").concat(e)]=!0},e.prototype.moveToNextCell=function(){var t=this.cols||5;this.col++,this.col>=t&&(this.col=0,this.row++)},e.prototype.getPos=function(t){var e,n,r=this.begin,i=this.cellWidth,o=this.cellHeight,a=this.id2manPos[t.id];if(a)e=a.col*i+i/2+r[0],n=a.row*o+o/2+r[1];else{for(;this.used(this.row,this.col);)this.moveToNextCell();e=this.col*i+i/2+r[0],n=this.row*o+o/2+r[1],this.use(this.row,this.col),this.moveToNextCell()}t.x=e,t.y=n},e.prototype.getType=function(){return"grid"},e}(n("w9t0").Base);e.GridLayout=a},V9uW:function(t,e,n){"use strict";var r={};function i(t){return+t}function o(t){return t*t}function a(t){return t*(2-t)}function s(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function u(t){return t*t*t}function l(t){return--t*t*t+1}function c(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}n.d(r,"easeLinear",function(){return i}),n.d(r,"easeQuad",function(){return s}),n.d(r,"easeQuadIn",function(){return o}),n.d(r,"easeQuadOut",function(){return a}),n.d(r,"easeQuadInOut",function(){return s}),n.d(r,"easeCubic",function(){return c}),n.d(r,"easeCubicIn",function(){return u}),n.d(r,"easeCubicOut",function(){return l}),n.d(r,"easeCubicInOut",function(){return c}),n.d(r,"easePoly",function(){return f}),n.d(r,"easePolyIn",function(){return h}),n.d(r,"easePolyOut",function(){return d}),n.d(r,"easePolyInOut",function(){return f}),n.d(r,"easeSin",function(){return m}),n.d(r,"easeSinIn",function(){return v}),n.d(r,"easeSinOut",function(){return y}),n.d(r,"easeSinInOut",function(){return m}),n.d(r,"easeExp",function(){return w}),n.d(r,"easeExpIn",function(){return x}),n.d(r,"easeExpOut",function(){return A}),n.d(r,"easeExpInOut",function(){return w}),n.d(r,"easeCircle",function(){return S}),n.d(r,"easeCircleIn",function(){return _}),n.d(r,"easeCircleOut",function(){return M}),n.d(r,"easeCircleInOut",function(){return S}),n.d(r,"easeBounce",function(){return R}),n.d(r,"easeBounceIn",function(){return N}),n.d(r,"easeBounceOut",function(){return R}),n.d(r,"easeBounceInOut",function(){return B}),n.d(r,"easeBack",function(){return G}),n.d(r,"easeBackIn",function(){return z}),n.d(r,"easeBackOut",function(){return F}),n.d(r,"easeBackInOut",function(){return G}),n.d(r,"easeElastic",function(){return W}),n.d(r,"easeElasticIn",function(){return U}),n.d(r,"easeElasticOut",function(){return W}),n.d(r,"easeElasticInOut",function(){return H});var h=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),d=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),f=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),p=Math.PI,g=p/2;function v(t){return 1==+t?1:1-Math.cos(t*g)}function y(t){return Math.sin(t*g)}function m(t){return(1-Math.cos(p*t))/2}function b(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function x(t){return b(1-+t)}function A(t){return 1-b(t)}function w(t){return((t*=2)<=1?b(1-t):2-b(t-1))/2}function _(t){return 1-Math.sqrt(1-t*t)}function M(t){return Math.sqrt(1- --t*t)}function S(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var O=4/11,I=6/11,E=8/11,C=.75,k=9/11,T=10/11,D=.9375,j=21/22,L=63/64,P=1/O/O;function N(t){return 1-R(1-t)}function R(t){return(t=+t)<O?P*t*t:t<E?P*(t-=I)*t+C:t<T?P*(t-=k)*t+D:P*(t-=j)*t+L}function B(t){return((t*=2)<=1?1-R(1-t):R(t-1)+1)/2}var z=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(1.70158),F=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(1.70158),G=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),V=2*Math.PI,U=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=V);function i(t){return e*b(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*V)},i.period=function(n){return t(e,n)},i}(1,.3),W=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=V);function i(t){return 1-e*b(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*V)},i.period=function(n){return t(e,n)},i}(1,.3),H=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=V);function i(t){return((t=2*t-1)<0?e*b(-t)*Math.sin((r-t)/n):2-e*b(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*V)},i.period=function(n){return t(e,n)},i}(1,.3);e.a=function(t){return Y[t.toLowerCase()]||r[t]};var Y={}},VWzN:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RandomLayout=void 0;var o=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},e.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;return t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),e&&e.forEach(function(e){e.x=.9*(Math.random()-.5)*t.width+n[0],e.y=.9*(Math.random()-.5)*t.height+n[1]}),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:this.edges}},e.prototype.getType=function(){return"random"},e}(n("w9t0").Base);e.RandomLayout=o},Wb5I:function(t,e,n){"use strict";function r(t){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=o?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}i.default=t,n&&n.set(t,i);return i}(n("6Kz3")),o=n("LsnM");function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}var s="undefined"!=typeof self?self:{};s.onmessage=function(t){var e=t.data,n=e._algorithmType,r=e.data;if(n)if("function"!=typeof i[n])s.postMessage({_algorithmType:o.MESSAGE.FAILURE});else{var a=i[n].apply(i,r);s.postMessage({_algorithmType:o.MESSAGE.SUCCESS,data:a})}};e.default=null},WlQy:function(t,e,n){var r=n("72Lu"),i=n("on7W"),o=Object.hasOwnProperty,a=Object.create(null);for(var s in r)o.call(r,s)&&(a[r[s]]=s);var u=t.exports={to:{},get:{}};function l(t,e,n){return Math.min(Math.max(e,t),n)}function c(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}u.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=u.get.hsl(t),n="hsl";break;case"hwb":e=u.get.hwb(t),n="hwb";break;default:e=u.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},u.get.rgb=function(t){if(!t)return null;var e,n,i,a=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=e[2],e=e[1],n=0;n<3;n++){var s=2*n;a[n]=parseInt(e.slice(s,s+2),16)}i&&(a[3]=parseInt(i,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(i=(e=e[1])[3],n=0;n<3;n++)a[n]=parseInt(e[n]+e[n],16);i&&(a[3]=parseInt(i+i,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(e[n+1],0);e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:o.call(r,e[1])?((a=r[e[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}for(n=0;n<3;n++)a[n]=l(a[n],0,255);return a[3]=l(a[3],0,1),a},u.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,l(parseFloat(e[2]),0,100),l(parseFloat(e[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},u.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,l(parseFloat(e[2]),0,100),l(parseFloat(e[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},u.to.hex=function(){var t=i(arguments);return"#"+c(t[0])+c(t[1])+c(t[2])+(t[3]<1?c(Math.round(255*t[3])):"")},u.to.rgb=function(){var t=i(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},u.to.rgb.percent=function(){var t=i(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},u.to.hsl=function(){var t=i(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},u.to.hwb=function(){var t=i(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},u.to.keyword=function(t){return a[t.slice(0,3)]}},X4kz:function(t,e){},XLwt:function(t,e,n){"use strict";var r={};n.d(r,"create",function(){return v}),n.d(r,"copy",function(){return y}),n.d(r,"clone",function(){return m}),n.d(r,"set",function(){return b}),n.d(r,"add",function(){return x}),n.d(r,"scaleAndAdd",function(){return A}),n.d(r,"sub",function(){return w}),n.d(r,"len",function(){return _}),n.d(r,"length",function(){return M}),n.d(r,"lenSquare",function(){return S}),n.d(r,"lengthSquare",function(){return O}),n.d(r,"mul",function(){return I}),n.d(r,"div",function(){return E}),n.d(r,"dot",function(){return C}),n.d(r,"scale",function(){return k}),n.d(r,"normalize",function(){return T}),n.d(r,"distance",function(){return D}),n.d(r,"dist",function(){return j}),n.d(r,"distanceSquare",function(){return L}),n.d(r,"distSquare",function(){return P}),n.d(r,"negate",function(){return N}),n.d(r,"lerp",function(){return R}),n.d(r,"applyTransform",function(){return B}),n.d(r,"min",function(){return z}),n.d(r,"max",function(){return F});var i={};n.d(i,"create",function(){return ft}),n.d(i,"identity",function(){return pt}),n.d(i,"copy",function(){return gt}),n.d(i,"mul",function(){return vt}),n.d(i,"translate",function(){return yt}),n.d(i,"rotate",function(){return mt}),n.d(i,"scale",function(){return bt}),n.d(i,"invert",function(){return xt}),n.d(i,"clone",function(){return At});var o={};n.d(o,"init",function(){return ir}),n.d(o,"dispose",function(){return or}),n.d(o,"disposeAll",function(){return ar}),n.d(o,"getInstance",function(){return sr}),n.d(o,"registerPainter",function(){return ur}),n.d(o,"version",function(){return lr});var a={};n.d(a,"updateProps",function(){return tl}),n.d(a,"initProps",function(){return el}),n.d(a,"removeElement",function(){return rl}),n.d(a,"removeElementWithFadeOut",function(){return ol}),n.d(a,"isElementRemoved",function(){return nl}),n.d(a,"extendShape",function(){return cl}),n.d(a,"extendPath",function(){return dl}),n.d(a,"registerShape",function(){return fl}),n.d(a,"getShapeClass",function(){return pl}),n.d(a,"makePath",function(){return gl}),n.d(a,"makeImage",function(){return vl}),n.d(a,"mergePath",function(){return ml}),n.d(a,"resizePath",function(){return bl}),n.d(a,"subPixelOptimizeLine",function(){return xl}),n.d(a,"subPixelOptimizeRect",function(){return Al}),n.d(a,"subPixelOptimize",function(){return wl}),n.d(a,"getTransform",function(){return _l}),n.d(a,"applyTransform",function(){return Ml}),n.d(a,"transformDirection",function(){return Sl}),n.d(a,"groupTransition",function(){return Il}),n.d(a,"clipPointsByRect",function(){return El}),n.d(a,"clipRectByRect",function(){return Cl}),n.d(a,"createIcon",function(){return kl}),n.d(a,"linePolygonIntersect",function(){return Tl}),n.d(a,"lineLineIntersect",function(){return Dl}),n.d(a,"setTooltipConfig",function(){return Ll}),n.d(a,"traverseElements",function(){return Nl}),n.d(a,"Group",function(){return tr}),n.d(a,"Image",function(){return na}),n.d(a,"Text",function(){return Oa}),n.d(a,"Circle",function(){return Js}),n.d(a,"Ellipse",function(){return eu}),n.d(a,"Sector",function(){return yu}),n.d(a,"Ring",function(){return xu}),n.d(a,"Polygon",function(){return Mu}),n.d(a,"Polyline",function(){return Iu}),n.d(a,"Rect",function(){return ca}),n.d(a,"Line",function(){return Tu}),n.d(a,"BezierCurve",function(){return Nu}),n.d(a,"Arc",function(){return zu}),n.d(a,"IncrementalDisplayable",function(){return Zu}),n.d(a,"CompoundPath",function(){return Fu}),n.d(a,"LinearGradient",function(){return Vu}),n.d(a,"RadialGradient",function(){return Uu}),n.d(a,"BoundingRect",function(){return Tt}),n.d(a,"OrientedBoundingRect",function(){return qu}),n.d(a,"Point",function(){return wt}),n.d(a,"Path",function(){return Qo});var s={};n.d(s,"createList",function(){return Mb}),n.d(s,"getLayoutRect",function(){return gh}),n.d(s,"createDimensions",function(){return im}),n.d(s,"dataStack",function(){return Sb}),n.d(s,"createSymbol",function(){return Eg}),n.d(s,"createScale",function(){return Ob}),n.d(s,"mixinAxisModelCommonMethods",function(){return Ib}),n.d(s,"getECData",function(){return Ia}),n.d(s,"enableHoverEmphasis",function(){return xs}),n.d(s,"createTextStyle",function(){return Eb});var u={};n.d(u,"linearMap",function(){return dr}),n.d(u,"round",function(){return pr}),n.d(u,"asc",function(){return gr}),n.d(u,"getPrecision",function(){return vr}),n.d(u,"getPrecisionSafe",function(){return yr}),n.d(u,"getPixelPrecision",function(){return mr}),n.d(u,"getPercentWithPrecision",function(){return br}),n.d(u,"MAX_SAFE_INTEGER",function(){return wr}),n.d(u,"remRadian",function(){return _r}),n.d(u,"isRadianAroundZero",function(){return Mr}),n.d(u,"parseDate",function(){return Or}),n.d(u,"quantity",function(){return Ir}),n.d(u,"quantityExponent",function(){return Er}),n.d(u,"nice",function(){return Cr}),n.d(u,"quantile",function(){return kr}),n.d(u,"reformIntervals",function(){return Tr}),n.d(u,"isNumeric",function(){return jr}),n.d(u,"numericToNumber",function(){return Dr});var l={};n.d(l,"parse",function(){return Or}),n.d(l,"format",function(){return Lc});var c={};n.d(c,"extendShape",function(){return cl}),n.d(c,"extendPath",function(){return dl}),n.d(c,"makePath",function(){return gl}),n.d(c,"makeImage",function(){return vl}),n.d(c,"mergePath",function(){return ml}),n.d(c,"resizePath",function(){return bl}),n.d(c,"createIcon",function(){return kl}),n.d(c,"updateProps",function(){return tl}),n.d(c,"initProps",function(){return el}),n.d(c,"getTransform",function(){return _l}),n.d(c,"clipPointsByRect",function(){return El}),n.d(c,"clipRectByRect",function(){return Cl}),n.d(c,"registerShape",function(){return fl}),n.d(c,"getShapeClass",function(){return pl}),n.d(c,"Group",function(){return tr}),n.d(c,"Image",function(){return na}),n.d(c,"Text",function(){return Oa}),n.d(c,"Circle",function(){return Js}),n.d(c,"Ellipse",function(){return eu}),n.d(c,"Sector",function(){return yu}),n.d(c,"Ring",function(){return xu}),n.d(c,"Polygon",function(){return Mu}),n.d(c,"Polyline",function(){return Iu}),n.d(c,"Rect",function(){return ca}),n.d(c,"Line",function(){return Tu}),n.d(c,"BezierCurve",function(){return Nu}),n.d(c,"Arc",function(){return zu}),n.d(c,"IncrementalDisplayable",function(){return Zu}),n.d(c,"CompoundPath",function(){return Fu}),n.d(c,"LinearGradient",function(){return Vu}),n.d(c,"RadialGradient",function(){return Uu}),n.d(c,"BoundingRect",function(){return Tt});var h={};n.d(h,"addCommas",function(){return Jc}),n.d(h,"toCamelCase",function(){return $c}),n.d(h,"normalizeCssArray",function(){return th}),n.d(h,"encodeHTML",function(){return $}),n.d(h,"formatTpl",function(){return ih}),n.d(h,"getTooltipMarker",function(){return oh}),n.d(h,"formatTime",function(){return ah}),n.d(h,"capitalFirst",function(){return sh}),n.d(h,"truncateText",function(){return Ei}),n.d(h,"getTextRect",function(){return Kc});var d={};n.d(d,"map",function(){return g.H}),n.d(d,"each",function(){return g.k}),n.d(d,"indexOf",function(){return g.r}),n.d(d,"inherits",function(){return g.s}),n.d(d,"reduce",function(){return g.N}),n.d(d,"filter",function(){return g.n}),n.d(d,"bind",function(){return g.c}),n.d(d,"curry",function(){return g.h}),n.d(d,"isArray",function(){return g.t}),n.d(d,"isString",function(){return g.C}),n.d(d,"isObject",function(){return g.A}),n.d(d,"isFunction",function(){return g.w}),n.d(d,"extend",function(){return g.m}),n.d(d,"defaults",function(){return g.i}),n.d(d,"clone",function(){return g.d}),n.d(d,"merge",function(){return g.I});var f=n("TToO"),p=n("YNzw"),g=n("/gxq");function v(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function y(t,e){return t[0]=e[0],t[1]=e[1],t}function m(t){return[t[0],t[1]]}function b(t,e,n){return t[0]=e,t[1]=n,t}function x(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function A(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function w(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function _(t){return Math.sqrt(S(t))}var M=_;function S(t){return t[0]*t[0]+t[1]*t[1]}var O=S;function I(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function E(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function C(t,e){return t[0]*e[0]+t[1]*e[1]}function k(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function T(t,e){var n=_(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function D(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var j=D;function L(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var P=L;function N(t,e){return t[0]=-e[0],t[1]=-e[1],t}function R(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t}function B(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function z(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function F(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var G=function(){return function(t,e){this.target=t,this.topTarget=e&&e.topTarget}}(),V=function(){function t(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new G(e,t),"dragstart",t.event))},t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,i=n-this._x,o=r-this._y;this._x=n,this._y=r,e.drift(i,o,t),this.handler.dispatchToElement(new G(e,t),"drag",t.event);var a=this.handler.findHover(n,r,e).target,s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.handler.dispatchToElement(new G(s,t),"dragleave",t.event),a&&a!==s&&this.handler.dispatchToElement(new G(a,t),"dragenter",t.event))}},t.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new G(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new G(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},t}(),U=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,e,n,r){this._$handlers||(this._$handlers={});var i=this._$handlers;if("function"==typeof e&&(r=n,n=e,e=null),!n||!t)return this;var o=this._$eventProcessor;null!=e&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),i[t]||(i[t]=[]);for(var a=0;a<i[t].length;a++)if(i[t][a].h===n)return this;var s={h:n,query:e,ctx:r||this,callAtLast:n.zrEventfulCallAtLast},u=i[t].length-1,l=i[t][u];return l&&l.callAtLast?i[t].splice(u,0,s):i[t].push(s),this},t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},t.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],i=0,o=n[t].length;i<o;i++)n[t][i].h!==e&&r.push(n[t][i]);n[t]=r}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],i=this._$eventProcessor;if(r)for(var o=e.length,a=r.length,s=0;s<a;s++){var u=r[s];if(!i||!i.filter||null==u.query||i.filter(t,u.query))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,e[0]);break;case 2:u.h.call(u.ctx,e[0],e[1]);break;default:u.h.apply(u.ctx,e)}}return i&&i.afterTrigger&&i.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],i=this._$eventProcessor;if(r)for(var o=e.length,a=e[o-1],s=r.length,u=0;u<s;u++){var l=r[u];if(!i||!i.filter||null==l.query||i.filter(t,l.query))switch(o){case 0:l.h.call(a);break;case 1:l.h.call(a,e[0]);break;case 2:l.h.call(a,e[0],e[1]);break;default:l.h.apply(a,e.slice(1,o-1))}}return i&&i.afterTrigger&&i.afterTrigger(t),this},t}(),W=Math.log(2);function H(t,e,n,r,i,o){var a=r+"-"+i,s=t.length;if(o.hasOwnProperty(a))return o[a];if(1===e){var u=Math.round(Math.log((1<<s)-1&~i)/W);return t[n][u]}for(var l=r|1<<n,c=n+1;r&1<<c;)c++;for(var h=0,d=0,f=0;d<s;d++){var p=1<<d;p&i||(h+=(f%2?-1:1)*t[n][d]*H(t,e-1,c,l,i|p,o),f++)}return o[a]=h,h}function Y(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],r={},i=H(n,8,0,0,0,r);if(0!==i){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*H(n,7,0===a?1:0,1<<a,1<<s,r)/i*e[a];return function(t,e,n){var r=e*o[6]+n*o[7]+1;t[0]=(e*o[0]+n*o[1]+o[2])/r,t[1]=(e*o[3]+n*o[4]+o[5])/r}}}var X="___zrEVENTSAVED",q=[];function Q(t,e,n,r,i){if(e.getBoundingClientRect&&p.a.domSupported&&!Z(e)){var o=e[X]||(e[X]={}),a=function(t,e,n){for(var r=n?"invTrans":"trans",i=e[r],o=e.srcCoords,a=[],s=[],u=!0,l=0;l<4;l++){var c=t[l].getBoundingClientRect(),h=2*l,d=c.left,f=c.top;a.push(d,f),u=u&&o&&d===o[h]&&f===o[h+1],s.push(t[l].offsetLeft,t[l].offsetTop)}return u&&i?i:(e.srcCoords=a,e[r]=n?Y(s,a):Y(a,s))}(function(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var r=["left","right"],i=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=a.style,u=o%2,l=(o>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[u]+":0",i[l]+":0",r[1-u]+":auto",i[1-l]+":auto",""].join("!important;"),t.appendChild(a),n.push(a)}return n}(e,o),o,i);if(a)return a(t,n,r),!0}return!1}function Z(t){return"CANVAS"===t.nodeName.toUpperCase()}var K=/([&<>"'])/g,J={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function $(t){return null==t?"":(t+"").replace(K,function(t,e){return J[e]})}var tt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,et=[],nt=p.a.browser.firefox&&+p.a.browser.version.split(".")[0]<39;function rt(t,e,n,r){return n=n||{},r?it(t,e,n):nt&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):it(t,e,n),n}function it(t,e,n){if(p.a.domSupported&&t.getBoundingClientRect){var r=e.clientX,i=e.clientY;if(Z(t)){var o=t.getBoundingClientRect();return n.zrX=r-o.left,void(n.zrY=i-o.top)}if(Q(et,t,r,i))return n.zrX=et[0],void(n.zrY=et[1])}n.zrX=n.zrY=0}function ot(t){return t||window.event}function at(t,e,n){if(null!=(e=ot(e)).zrX)return e;var r=e.type;if(r&&r.indexOf("touch")>=0){var i="touchend"!==r?e.targetTouches[0]:e.changedTouches[0];i&&rt(t,i,e,n)}else{rt(t,e,e,n);var o=function(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,r=t.deltaY;if(null==n||null==r)return e;return 3*(0!==r?Math.abs(r):Math.abs(n))*(r>0?-1:r<0?1:n>0?-1:1)}(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var a=e.button;return null==e.which&&void 0!==a&&tt.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e}function st(t,e,n,r){t.addEventListener(e,n,r)}var ut=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function lt(t){return 2===t.which||3===t.which}var ct=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,e,n){var r=t.touches;if(r){for(var i={points:[],touches:[],target:e,event:t},o=0,a=r.length;o<a;o++){var s=r[o],u=rt(n,s,{});i.points.push([u.zrX,u.zrY]),i.touches.push(s)}this._track.push(i)}},t.prototype._recognize=function(t){for(var e in dt)if(dt.hasOwnProperty(e)){var n=dt[e](this._track,t);if(n)return n}},t}();function ht(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}var dt={pinch:function(t,e){var n=t.length;if(n){var r,i=(t[n-1]||{}).points,o=(t[n-2]||{}).points||i;if(o&&o.length>1&&i&&i.length>1){var a=ht(i)/ht(o);!isFinite(a)&&(a=1),e.pinchScale=a;var s=[((r=i)[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2];return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:t[0].target,event:e}}}}};function ft(){return[1,0,0,1,0,0]}function pt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function gt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function vt(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],u=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t}function yt(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function mt(t,e,n){var r=e[0],i=e[2],o=e[4],a=e[1],s=e[3],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+a*l,t[1]=-r*l+a*c,t[2]=i*c+s*l,t[3]=-i*l+c*s,t[4]=c*o+l*u,t[5]=c*u-l*o,t}function bt(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}function xt(t,e){var n=e[0],r=e[2],i=e[4],o=e[1],a=e[3],s=e[5],u=n*a-o*r;return u?(u=1/u,t[0]=a*u,t[1]=-o*u,t[2]=-r*u,t[3]=n*u,t[4]=(r*s-a*i)*u,t[5]=(o*i-n*s)*u,t):null}function At(t){var e=[1,0,0,1,0,0];return gt(e,t),e}var wt=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},t.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,e,n){t.x=e,t.y=n},t.copy=function(t,e){t.x=e.x,t.y=e.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},t.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},t.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},t.scaleAndAdd=function(t,e,n,r){t.x=e.x+n.x*r,t.y=e.y+n.y*r},t.lerp=function(t,e,n,r){var i=1-r;t.x=i*e.x+r*n.x,t.y=i*e.y+r*n.y},t}(),_t=Math.min,Mt=Math.max,St=new wt,Ot=new wt,It=new wt,Et=new wt,Ct=new wt,kt=new wt,Tt=function(){function t(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}return t.prototype.union=function(t){var e=_t(t.x,this.x),n=_t(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Mt(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=Mt(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,r=t.height/e.height,i=[1,0,0,1,0,0];return yt(i,i,[-e.x,-e.y]),bt(i,i,[n,r]),yt(i,i,[t.x,t.y]),i},t.prototype.intersect=function(e,n){if(!e)return!1;e instanceof t||(e=t.create(e));var r=this,i=r.x,o=r.x+r.width,a=r.y,s=r.y+r.height,u=e.x,l=e.x+e.width,c=e.y,h=e.y+e.height,d=!(o<u||l<i||s<c||h<a);if(n){var f=1/0,p=0,g=Math.abs(o-u),v=Math.abs(l-i),y=Math.abs(s-c),m=Math.abs(h-a),b=Math.min(g,v),x=Math.min(y,m);o<u||l<i?b>p&&(p=b,g<v?wt.set(kt,-g,0):wt.set(kt,v,0)):b<f&&(f=b,g<v?wt.set(Ct,g,0):wt.set(Ct,-v,0)),s<c||h<a?x>p&&(p=x,y<m?wt.set(kt,0,-y):wt.set(kt,0,m)):b<f&&(f=b,y<m?wt.set(Ct,0,y):wt.set(Ct,0,-m))}return n&&wt.copy(n,d?Ct:kt),d},t.prototype.contain=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},t.applyTransform=function(e,n,r){if(r){if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],o=r[3],a=r[4],s=r[5];return e.x=n.x*i+a,e.y=n.y*o+s,e.width=n.width*i,e.height=n.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}St.x=It.x=n.x,St.y=Et.y=n.y,Ot.x=Et.x=n.x+n.width,Ot.y=It.y=n.y+n.height,St.transform(r),Et.transform(r),Ot.transform(r),It.transform(r),e.x=_t(St.x,Ot.x,It.x,Et.x),e.y=_t(St.y,Ot.y,It.y,Et.y);var u=Mt(St.x,Ot.x,It.x,Et.x),l=Mt(St.y,Ot.y,It.y,Et.y);e.width=u-e.x,e.height=l-e.y}else e!==n&&t.copy(e,n)},t}(),Dt="silent";function jt(){ut(this.event)}var Lt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return Object(f.__extends)(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(U),Pt=function(){return function(t,e){this.x=t,this.y=e}}(),Nt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Rt=new Tt(0,0,0,0),Bt=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a._hovered=new Pt(0,0),a.storage=e,a.painter=n,a.painterRoot=i,a._pointerSize=o,r=r||new Lt,a.proxy=null,a.setHandlerProxy(r),a._draggingMgr=new V(a),a}return Object(f.__extends)(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(g.k(Nt,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,n=t.zrY,r=Gt(this,e,n),i=this._hovered,o=i.target;o&&!o.__zr&&(o=(i=this.findHover(i.x,i.y)).target);var a=this._hovered=r?new Pt(e,n):this.findHover(e,n),s=a.target,u=this.proxy;u.setCursor&&u.setCursor(s?s.cursor:"default"),o&&s!==o&&this.dispatchToElement(i,"mouseout",t),this.dispatchToElement(a,"mousemove",t),s&&s!==o&&this.dispatchToElement(a,"mouseover",t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new Pt(0,0)},e.prototype.dispatch=function(t,e){var n=this[t];n&&n.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,n){var r=(t=t||{}).target;if(!r||!r.silent){for(var i="on"+e,o=function(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:jt}}(e,t,n);r&&(r[i]&&(o.cancelBubble=!!r[i].call(r,o)),r.trigger(e,o),r=r.__hostTarget?r.__hostTarget:r.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(t){"function"==typeof t[i]&&t[i].call(t,o),t.trigger&&t.trigger(e,o)}))}},e.prototype.findHover=function(t,e,n){var r=this.storage.getDisplayList(),i=new Pt(t,e);if(Ft(r,i,t,e,n),this._pointerSize&&!i.target){for(var o=[],a=this._pointerSize,s=a/2,u=new Tt(t-s,e-s,a,a),l=r.length-1;l>=0;l--){var c=r[l];c===n||c.ignore||c.ignoreCoarsePointer||c.parent&&c.parent.ignoreCoarsePointer||(Rt.copy(c.getBoundingRect()),c.transform&&Rt.applyTransform(c.transform),Rt.intersect(u)&&o.push(c))}if(o.length)for(var h=Math.PI/12,d=2*Math.PI,f=0;f<s;f+=4)for(var p=0;p<d;p+=h){if(Ft(o,i,t+f*Math.cos(p),e+f*Math.sin(p),n),i.target)return i}}return i},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new ct);var n=this._gestureMgr;"start"===e&&n.clear();var r=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),r){var i=r.type;t.gestureEvent=i;var o=new Pt;o.target=r.target,this.dispatchToElement(o,i,r.event)}},e}(U);function zt(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var r=t,i=void 0,o=!1;r;){if(r.ignoreClip&&(o=!0),!o){var a=r.getClipPath();if(a&&!a.contain(e,n))return!1;r.silent&&(i=!0)}var s=r.__hostTarget;r=s||r.parent}return!i||Dt}return!1}function Ft(t,e,n,r,i){for(var o=t.length-1;o>=0;o--){var a=t[o],s=void 0;if(a!==i&&!a.ignore&&(s=zt(a,n,r))&&(!e.topTarget&&(e.topTarget=a),s!==Dt)){e.target=a;break}}}function Gt(t,e,n){var r=t.painter;return e<0||e>r.getWidth()||n<0||n>r.getHeight()}g.k(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){Bt.prototype[t]=function(e){var n,r,i=e.zrX,o=e.zrY,a=Gt(this,i,o);if("mouseup"===t&&a||(r=(n=this.findHover(i,o)).target),"mousedown"===t)this._downEl=r,this._downPoint=[e.zrX,e.zrY],this._upEl=r;else if("mouseup"===t)this._upEl=r;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||j(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}});var Vt=Bt,Ut=32,Wt=7;function Ht(t,e,n,r){var i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){for(;i<n&&r(t[i],t[i-1])<0;)i++;!function(t,e,n){n--;for(;e<n;){var r=t[e];t[e++]=t[n],t[n--]=r}}(t,e,i)}else for(;i<n&&r(t[i],t[i-1])>=0;)i++;return i-e}function Yt(t,e,n,r,i){for(r===e&&r++;r<n;r++){for(var o,a=t[r],s=e,u=r;s<u;)i(a,t[o=s+u>>>1])<0?u=o:s=o+1;var l=r-s;switch(l){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;l>0;)t[s+l]=t[s+l-1],l--}t[s]=a}}function Xt(t,e,n,r,i,o){var a=0,s=0,u=1;if(o(t,e[n+i])>0){for(s=r-i;u<s&&o(t,e[n+i+u])>0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),a+=i,u+=i}else{for(s=i+1;u<s&&o(t,e[n+i-u])<=0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var l=a;a=i-u,u=i-l}for(a++;a<u;){var c=a+(u-a>>>1);o(t,e[n+c])>0?a=c+1:u=c}return u}function qt(t,e,n,r,i,o){var a=0,s=0,u=1;if(o(t,e[n+i])<0){for(s=i+1;u<s&&o(t,e[n+i-u])<0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var l=a;a=i-u,u=i-l}else{for(s=r-i;u<s&&o(t,e[n+i+u])>=0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),a+=i,u+=i}for(a++;a<u;){var c=a+(u-a>>>1);o(t,e[n+c])<0?u=c:a=c+1}return u}function Qt(t,e){var n,r,i,o=Wt,a=0;n=t.length;var s=[];function u(n){var u=r[n],l=i[n],c=r[n+1],h=i[n+1];i[n]=l+h,n===a-3&&(r[n+1]=r[n+2],i[n+1]=i[n+2]),a--;var d=qt(t[c],t,u,l,0,e);u+=d,0!==(l-=d)&&0!==(h=Xt(t[u+l-1],t,c,h,h-1,e))&&(l<=h?function(n,r,i,a){var u=0;for(u=0;u<r;u++)s[u]=t[n+u];var l=0,c=i,h=n;if(t[h++]=t[c++],0==--a){for(u=0;u<r;u++)t[h+u]=s[l+u];return}if(1===r){for(u=0;u<a;u++)t[h+u]=t[c+u];return void(t[h+a]=s[l])}var d,f,p,g=o;for(;;){d=0,f=0,p=!1;do{if(e(t[c],s[l])<0){if(t[h++]=t[c++],f++,d=0,0==--a){p=!0;break}}else if(t[h++]=s[l++],d++,f=0,1==--r){p=!0;break}}while((d|f)<g);if(p)break;do{if(0!==(d=qt(t[c],s,l,r,0,e))){for(u=0;u<d;u++)t[h+u]=s[l+u];if(h+=d,l+=d,(r-=d)<=1){p=!0;break}}if(t[h++]=t[c++],0==--a){p=!0;break}if(0!==(f=Xt(s[l],t,c,a,0,e))){for(u=0;u<f;u++)t[h+u]=t[c+u];if(h+=f,c+=f,0===(a-=f)){p=!0;break}}if(t[h++]=s[l++],1==--r){p=!0;break}g--}while(d>=Wt||f>=Wt);if(p)break;g<0&&(g=0),g+=2}if((o=g)<1&&(o=1),1===r){for(u=0;u<a;u++)t[h+u]=t[c+u];t[h+a]=s[l]}else{if(0===r)throw new Error;for(u=0;u<r;u++)t[h+u]=s[l+u]}}(u,l,c,h):function(n,r,i,a){var u=0;for(u=0;u<a;u++)s[u]=t[i+u];var l=n+r-1,c=a-1,h=i+a-1,d=0,f=0;if(t[h--]=t[l--],0==--r){for(d=h-(a-1),u=0;u<a;u++)t[d+u]=s[u];return}if(1===a){for(f=(h-=r)+1,d=(l-=r)+1,u=r-1;u>=0;u--)t[f+u]=t[d+u];return void(t[h]=s[c])}var p=o;for(;;){var g=0,v=0,y=!1;do{if(e(s[c],t[l])<0){if(t[h--]=t[l--],g++,v=0,0==--r){y=!0;break}}else if(t[h--]=s[c--],v++,g=0,1==--a){y=!0;break}}while((g|v)<p);if(y)break;do{if(0!==(g=r-qt(s[c],t,n,r,r-1,e))){for(r-=g,f=(h-=g)+1,d=(l-=g)+1,u=g-1;u>=0;u--)t[f+u]=t[d+u];if(0===r){y=!0;break}}if(t[h--]=s[c--],1==--a){y=!0;break}if(0!==(v=a-Xt(t[l],s,0,a,a-1,e))){for(a-=v,f=(h-=v)+1,d=(c-=v)+1,u=0;u<v;u++)t[f+u]=s[d+u];if(a<=1){y=!0;break}}if(t[h--]=t[l--],0==--r){y=!0;break}p--}while(g>=Wt||v>=Wt);if(y)break;p<0&&(p=0),p+=2}(o=p)<1&&(o=1);if(1===a){for(f=(h-=r)+1,d=(l-=r)+1,u=r-1;u>=0;u--)t[f+u]=t[d+u];t[h]=s[c]}else{if(0===a)throw new Error;for(d=h-(a-1),u=0;u<a;u++)t[d+u]=s[u]}}(u,l,c,h))}return n<120?5:n<1542?10:n<119151?19:40,r=[],i=[],{mergeRuns:function(){for(;a>1;){var t=a-2;if(t>=1&&i[t-1]<=i[t]+i[t+1]||t>=2&&i[t-2]<=i[t]+i[t-1])i[t-1]<i[t+1]&&t--;else if(i[t]>i[t+1])break;u(t)}},forceMergeRuns:function(){for(;a>1;){var t=a-2;t>0&&i[t-1]<i[t+1]&&t--,u(t)}},pushRun:function(t,e){r[a]=t,i[a]=e,a+=1}}}function Zt(t,e,n,r){n||(n=0),r||(r=t.length);var i=r-n;if(!(i<2)){var o=0;if(i<Ut)Yt(t,n,r,n+(o=Ht(t,n,r,e)),e);else{var a=Qt(t,e),s=function(t){for(var e=0;t>=Ut;)e|=1&t,t>>=1;return t+e}(i);do{if((o=Ht(t,n,r,e))<s){var u=i;u>s&&(u=s),Yt(t,n,n+u,n+o,e),o=u}a.pushRun(n,o),a.mergeRuns(),i-=o,n+=o}while(0!==i);a.forceMergeRuns()}}}var Kt=1,Jt=4,$t=!1;function te(){$t||($t=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function ee(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var ne=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=ee}return t.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return!t&&n.length||this.updateDisplayList(e),n},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,i=e.length;r<i;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,Zt(n,ee)},t.prototype._updateAndAddDisplayable=function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)e=null;else if(r){e=e?e.slice():[];for(var i=r,o=t;i;)i.parent=o,i.updateTransform(),e.push(i),o=i,i=i.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),s=0;s<a.length;s++){var u=a[s];t.__dirty&&(u.__dirty|=Kt),this._updateAndAddDisplayable(u,e,n)}t.__dirty=0}else{var l=t;e&&e.length?l.__clipPaths=e:l.__clipPaths&&l.__clipPaths.length>0&&(l.__clipPaths=[]),isNaN(l.z)&&(te(),l.z=0),isNaN(l.z2)&&(te(),l.z2=0),isNaN(l.zlevel)&&(te(),l.zlevel=0),this._displayList[this._displayListLen++]=l}var c=t.getDecalElement&&t.getDecalElement();c&&this._updateAndAddDisplayable(c,e,n);var h=t.getTextGuideLine();h&&this._updateAndAddDisplayable(h,e,n);var d=t.getTextContent();d&&this._updateAndAddDisplayable(d,e,n)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);else{var r=g.r(this._roots,t);r>=0&&this._roots.splice(r,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),re=p.a.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},ie={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-ie.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*ie.bounceIn(2*t):.5*ie.bounceOut(2*t-1)+.5}},oe=ie,ae=Math.pow,se=Math.sqrt,ue=1e-8,le=1e-4,ce=se(3),he=1/3,de=v(),fe=v(),pe=v();function ge(t){return t>-ue&&t<ue}function ve(t){return t>ue||t<-ue}function ye(t,e,n,r,i){var o=1-i;return o*o*(o*t+3*i*e)+i*i*(i*r+3*o*n)}function me(t,e,n,r,i){var o=1-i;return 3*(((e-t)*o+2*(n-e)*i)*o+(r-n)*i*i)}function be(t,e,n,r,i,o){var a=r+3*(e-n)-t,s=3*(n-2*e+t),u=3*(e-t),l=t-i,c=s*s-3*a*u,h=s*u-9*a*l,d=u*u-3*s*l,f=0;if(ge(c)&&ge(h)){if(ge(s))o[0]=0;else(M=-u/s)>=0&&M<=1&&(o[f++]=M)}else{var p=h*h-4*c*d;if(ge(p)){var g=h/c,v=-g/2;(M=-s/a+g)>=0&&M<=1&&(o[f++]=M),v>=0&&v<=1&&(o[f++]=v)}else if(p>0){var y=se(p),m=c*s+1.5*a*(-h+y),b=c*s+1.5*a*(-h-y);(M=(-s-((m=m<0?-ae(-m,he):ae(m,he))+(b=b<0?-ae(-b,he):ae(b,he))))/(3*a))>=0&&M<=1&&(o[f++]=M)}else{var x=(2*c*s-3*a*h)/(2*se(c*c*c)),A=Math.acos(x)/3,w=se(c),_=Math.cos(A),M=(-s-2*w*_)/(3*a),S=(v=(-s+w*(_+ce*Math.sin(A)))/(3*a),(-s+w*(_-ce*Math.sin(A)))/(3*a));M>=0&&M<=1&&(o[f++]=M),v>=0&&v<=1&&(o[f++]=v),S>=0&&S<=1&&(o[f++]=S)}}return f}function xe(t,e,n,r,i){var o=6*n-12*e+6*t,a=9*e+3*r-3*t-9*n,s=3*e-3*t,u=0;if(ge(a)){if(ve(o))(c=-s/o)>=0&&c<=1&&(i[u++]=c)}else{var l=o*o-4*a*s;if(ge(l))i[0]=-o/(2*a);else if(l>0){var c,h=se(l),d=(-o-h)/(2*a);(c=(-o+h)/(2*a))>=0&&c<=1&&(i[u++]=c),d>=0&&d<=1&&(i[u++]=d)}}return u}function Ae(t,e,n,r,i,o){var a=(e-t)*i+t,s=(n-e)*i+e,u=(r-n)*i+n,l=(s-a)*i+a,c=(u-s)*i+s,h=(c-l)*i+l;o[0]=t,o[1]=a,o[2]=l,o[3]=h,o[4]=h,o[5]=c,o[6]=u,o[7]=r}function we(t,e,n,r,i,o,a,s,u,l,c){var h,d,f,p,g,v=.005,y=1/0;de[0]=u,de[1]=l;for(var m=0;m<1;m+=.05)fe[0]=ye(t,n,i,a,m),fe[1]=ye(e,r,o,s,m),(p=P(de,fe))<y&&(h=m,y=p);y=1/0;for(var b=0;b<32&&!(v<le);b++)d=h-v,f=h+v,fe[0]=ye(t,n,i,a,d),fe[1]=ye(e,r,o,s,d),p=P(fe,de),d>=0&&p<y?(h=d,y=p):(pe[0]=ye(t,n,i,a,f),pe[1]=ye(e,r,o,s,f),g=P(pe,de),f<=1&&g<y?(h=f,y=g):v*=.5);return c&&(c[0]=ye(t,n,i,a,h),c[1]=ye(e,r,o,s,h)),se(y)}function _e(t,e,n,r,i,o,a,s,u){for(var l=t,c=e,h=0,d=1/u,f=1;f<=u;f++){var p=f*d,g=ye(t,n,i,a,p),v=ye(e,r,o,s,p),y=g-l,m=v-c;h+=Math.sqrt(y*y+m*m),l=g,c=v}return h}function Me(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function Se(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))}function Oe(t,e,n){var r=t+n-2*e;return 0===r?.5:(t-e)/r}function Ie(t,e,n,r,i){var o=(e-t)*r+t,a=(n-e)*r+e,s=(a-o)*r+o;i[0]=t,i[1]=o,i[2]=s,i[3]=s,i[4]=a,i[5]=n}function Ee(t,e,n,r,i,o,a,s,u){var l,c=.005,h=1/0;de[0]=a,de[1]=s;for(var d=0;d<1;d+=.05){fe[0]=Me(t,n,i,d),fe[1]=Me(e,r,o,d),(v=P(de,fe))<h&&(l=d,h=v)}h=1/0;for(var f=0;f<32&&!(c<le);f++){var p=l-c,g=l+c;fe[0]=Me(t,n,i,p),fe[1]=Me(e,r,o,p);var v=P(fe,de);if(p>=0&&v<h)l=p,h=v;else{pe[0]=Me(t,n,i,g),pe[1]=Me(e,r,o,g);var y=P(pe,de);g<=1&&y<h?(l=g,h=y):c*=.5}}return u&&(u[0]=Me(t,n,i,l),u[1]=Me(e,r,o,l)),se(h)}function Ce(t,e,n,r,i,o,a){for(var s=t,u=e,l=0,c=1/a,h=1;h<=a;h++){var d=h*c,f=Me(t,n,i,d),p=Me(e,r,o,d),g=f-s,v=p-u;l+=Math.sqrt(g*g+v*v),s=f,u=p}return l}var ke=/cubic-bezier\(([0-9,\.e ]+)\)/;function Te(t){var e=t&&ke.exec(t);if(e){var n=e[1].split(","),r=+Object(g.T)(n[0]),i=+Object(g.T)(n[1]),o=+Object(g.T)(n[2]),a=+Object(g.T)(n[3]);if(isNaN(r+i+o+a))return;var s=[];return function(t){return t<=0?0:t>=1?1:be(0,r,o,1,t,s)&&ye(0,i,a,1,s[0])}}}var De=function(){function t(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||g.L,this.ondestroy=t.ondestroy||g.L,this.onrestart=t.onrestart||g.L,t.easing&&this.setEasing(t.easing)}return t.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),!this._paused){var n=this._life,r=t-this._startTime-this._pausedTime,i=r/n;i<0&&(i=0),i=Math.min(i,1);var o=this.easingFunc,a=o?o(i):i;if(this.onframe(a),1===i){if(!this.loop)return!0;var s=r%n;this._startTime=t-s,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=e},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Object(g.w)(t)?t:oe[t]||Te(t)},t}(),je=n("DRaW"),Le=n("edjc"),Pe=Array.prototype.slice;function Ne(t,e,n){return(e-t)*n+t}function Re(t,e,n,r){for(var i=e.length,o=0;o<i;o++)t[o]=Ne(e[o],n[o],r);return t}function Be(t,e,n,r){for(var i=e.length,o=0;o<i;o++)t[o]=e[o]+n[o]*r;return t}function ze(t,e,n,r){for(var i=e.length,o=i&&e[0].length,a=0;a<i;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=e[a][s]+n[a][s]*r}return t}function Fe(t,e){for(var n=t.length,r=e.length,i=n>r?e:t,o=Math.min(n,r),a=i[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(n,r);s++)i.push({offset:a.offset,color:a.color.slice()})}function Ge(t,e,n){var r=t,i=e;if(r.push&&i.push){var o=r.length,a=i.length;if(o!==a)if(o>a)r.length=a;else for(var s=o;s<a;s++)r.push(1===n?i[s]:Pe.call(i[s]));var u=r[0]&&r[0].length;for(s=0;s<r.length;s++)if(1===n)isNaN(r[s])&&(r[s]=i[s]);else for(var l=0;l<u;l++)isNaN(r[s][l])&&(r[s][l]=i[s][l])}}function Ve(t){if(Object(g.u)(t)){var e=t.length;if(Object(g.u)(t[0])){for(var n=[],r=0;r<e;r++)n.push(Pe.call(t[r]));return n}return Pe.call(t)}return t}function Ue(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=null==t[3]?1:t[3],"rgba("+t.join(",")+")"}var We=1,He=2,Ye=4,Xe=5;function qe(t){return t===Ye||t===Xe}function Qe(t){return t===We||t===He}var Ze=[0,0,0,0],Ke=function(){function t(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,e,n){this._needsSort=!0;var r=this.keyframes,i=r.length,o=!1,a=6,s=e;if(Object(g.u)(e)){var u=function(t){return Object(g.u)(t&&t[0])?2:1}(e);a=u,(1===u&&!Object(g.z)(e[0])||2===u&&!Object(g.z)(e[0][0]))&&(o=!0)}else if(Object(g.z)(e)&&!Object(g.l)(e))a=0;else if(Object(g.C)(e))if(isNaN(+e)){var l=je.g(e);l&&(s=l,a=3)}else a=0;else if(Object(g.x)(e)){var c=Object(g.m)({},s);c.colorStops=Object(g.H)(e.colorStops,function(t){return{offset:t.offset,color:je.g(t.color)}}),Object(Le.m)(e)?a=Ye:Object(Le.o)(e)&&(a=Xe),s=c}0===i?this.valType=a:a===this.valType&&6!==a||(o=!0),this.discrete=this.discrete||o;var h={time:t,value:s,rawValue:e,percent:0};return n&&(h.easing=n,h.easingFunc=Object(g.w)(n)?n:oe[n]||Te(n)),r.push(h),h},t.prototype.prepare=function(t,e){var n=this.keyframes;this._needsSort&&n.sort(function(t,e){return t.time-e.time});for(var r=this.valType,i=n.length,o=n[i-1],a=this.discrete,s=Qe(r),u=qe(r),l=0;l<i;l++){var c=n[l],h=c.value,d=o.value;c.percent=c.time/t,a||(s&&l!==i-1?Ge(h,d,r):u&&Fe(h.colorStops,d.colorStops))}if(!a&&r!==Xe&&e&&this.needsAnimate()&&e.needsAnimate()&&r===e.valType&&!e._finished){this._additiveTrack=e;var f=n[0].value;for(l=0;l<i;l++)0===r?n[l].additiveValue=n[l].value-f:3===r?n[l].additiveValue=Be([],n[l].value,f,-1):Qe(r)&&(n[l].additiveValue=r===We?Be([],n[l].value,f,-1):ze([],n[l].value,f,-1))}},t.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,r,i,o=null!=this._additiveTrack,a=o?"additiveValue":"value",s=this.valType,u=this.keyframes,l=u.length,c=this.propName,h=3===s,d=this._lastFr,f=Math.min;if(1===l)r=i=u[0];else{if(e<0)n=0;else if(e<this._lastFrP){for(n=f(d+1,l-1);n>=0&&!(u[n].percent<=e);n--);n=f(n,l-2)}else{for(n=d;n<l&&!(u[n].percent>e);n++);n=f(n-1,l-2)}i=u[n+1],r=u[n]}if(r&&i){this._lastFr=n,this._lastFrP=e;var p=i.percent-r.percent,v=0===p?1:f((e-r.percent)/p,1);i.easingFunc&&(v=i.easingFunc(v));var y=o?this._additiveValue:h?Ze:t[c];if(!Qe(s)&&!h||y||(y=this._additiveValue=[]),this.discrete)t[c]=v<1?r.rawValue:i.rawValue;else if(Qe(s))s===We?Re(y,r[a],i[a],v):function(t,e,n,r){for(var i=e.length,o=i&&e[0].length,a=0;a<i;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=Ne(e[a][s],n[a][s],r)}}(y,r[a],i[a],v);else if(qe(s)){var m=r[a],b=i[a],x=s===Ye;t[c]={type:x?"linear":"radial",x:Ne(m.x,b.x,v),y:Ne(m.y,b.y,v),colorStops:Object(g.H)(m.colorStops,function(t,e){var n=b.colorStops[e];return{offset:Ne(t.offset,n.offset,v),color:Ue(Re([],t.color,n.color,v))}}),global:b.global},x?(t[c].x2=Ne(m.x2,b.x2,v),t[c].y2=Ne(m.y2,b.y2,v)):t[c].r=Ne(m.r,b.r,v)}else if(h)Re(y,r[a],i[a],v),o||(t[c]=Ue(y));else{var A=Ne(r[a],i[a],v);o?this._additiveValue=A:t[c]=A}o&&this._addToTarget(t)}}},t.prototype._addToTarget=function(t){var e=this.valType,n=this.propName,r=this._additiveValue;0===e?t[n]=t[n]+r:3===e?(je.g(t[n],Ze),Be(Ze,Ze,r,1),t[n]=Ue(Ze)):e===We?Be(t[n],t[n],r,1):e===He&&ze(t[n],t[n],r,1)},t}(),Je=function(){function t(t,e,n,r){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&r?Object(g.G)("Can' use additive animation on looped animation."):(this._additiveAnimators=r,this._allowDiscrete=n)}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,e,n){return this.whenWithKeys(t,e,Object(g.F)(e),n)},t.prototype.whenWithKeys=function(t,e,n,r){for(var i=this._tracks,o=0;o<n.length;o++){var a=n[o],s=i[a];if(!s){s=i[a]=new Ke(a);var u=void 0,l=this._getAdditiveTrack(a);if(l){var c=l.keyframes,h=c[c.length-1];u=h&&h.value,3===l.valType&&u&&(u=Ue(u))}else u=this._target[a];if(null==u)continue;t>0&&s.addKeyframe(0,Ve(u),r),this._trackKeys.push(a)}s.addKeyframe(t,Ve(e[a]),r)}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},t.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var r=0;r<n.length;r++){var i=n[r].getTrack(t);i&&(e=i)}return e},t.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,n=[],r=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var o=this._trackKeys[i],a=this._tracks[o],s=this._getAdditiveTrack(o),u=a.keyframes,l=u.length;if(a.prepare(r,s),a.needsAnimate())if(!this._allowDiscrete&&a.discrete){var c=u[l-1];c&&(e._target[a.propName]=c.rawValue),a.setFinished()}else n.push(a)}if(n.length||this._force){var h=new De({life:r,loop:this._loop,delay:this._delay||0,onframe:function(t){e._started=2;var r=e._additiveAnimators;if(r){for(var i=!1,o=0;o<r.length;o++)if(r[o]._clip){i=!0;break}i||(e._additiveAnimators=null)}for(o=0;o<n.length;o++)n[o].step(e._target,t);var a=e._onframeCbs;if(a)for(o=0;o<a.length;o++)a[o](e._target,t)},ondestroy:function(){e._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),t&&h.setEasing(t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},t.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.getTracks=function(){var t=this;return Object(g.H)(this._trackKeys,function(e){return t._tracks[e]})},t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,r=this._trackKeys,i=0;i<t.length;i++){var o=n[t[i]];o&&!o.isFinished()&&(e?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var a=!0;for(i=0;i<r.length;i++)if(!n[r[i]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},t.prototype.saveTo=function(t,e,n){if(t){e=e||this._trackKeys;for(var r=0;r<e.length;r++){var i=e[r],o=this._tracks[i];if(o&&!o.isFinished()){var a=o.keyframes,s=a[n?0:a.length-1];s&&(t[i]=Ve(s.rawValue))}}}},t.prototype.__changeFinalValue=function(t,e){e=e||Object(g.F)(t);for(var n=0;n<e.length;n++){var r=e[n],i=this._tracks[r];if(i){var o=i.keyframes;if(o.length>1){var a=o.pop();i.addKeyframe(a.time,t[r]),i.prepare(this._maxTime,i.getAdditiveTrack())}}}},t}();function $e(){return(new Date).getTime()}var tn,en,nn=function(t){function e(e){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n}return Object(f.__extends)(e,t),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();e&&this.addClip(e)},e.prototype.removeClip=function(t){if(t.animation){var e=t.prev,n=t.next;e?e.next=n:this._head=n,n?n.prev=e:this._tail=e,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},e.prototype.update=function(t){for(var e=$e()-this._pausedTime,n=e-this._time,r=this._head;r;){var i=r.next;r.step(e,n)?(r.ondestroy(),this.removeClip(r),r=i):r=i}this._time=e,t||(this.trigger("frame",n),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,re(function e(){t._running&&(re(e),!t._paused&&t.update())})},e.prototype.start=function(){this._running||(this._time=$e(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=$e(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=$e()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._head=this._tail=null},e.prototype.isFinished=function(){return null==this._head},e.prototype.animate=function(t,e){e=e||{},this.start();var n=new Je(t,e.loop);return this.addAnimator(n),n},e}(U),rn=p.a.domSupported,on=(en={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:tn=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:g.H(tn,function(t){var e=t.replace("mouse","pointer");return en.hasOwnProperty(e)?e:t})}),an={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},sn=!1;function un(t){var e=t.pointerType;return"pen"===e||"touch"===e}function ln(t){t&&(t.zrByTouch=!0)}function cn(t,e){for(var n=e,r=!1;n&&9!==n.nodeType&&!(r=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return r}var hn=function(){return function(t,e){this.stopPropagation=g.L,this.stopImmediatePropagation=g.L,this.preventDefault=g.L,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}}(),dn={mousedown:function(t){t=at(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=at(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=at(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){cn(this,(t=at(this.dom,t)).toElement||t.relatedTarget)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){sn=!0,t=at(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){sn||(t=at(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){ln(t=at(this.dom,t)),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),dn.mousemove.call(this,t),dn.mousedown.call(this,t)},touchmove:function(t){ln(t=at(this.dom,t)),this.handler.processGesture(t,"change"),dn.mousemove.call(this,t)},touchend:function(t){ln(t=at(this.dom,t)),this.handler.processGesture(t,"end"),dn.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<300&&dn.click.call(this,t)},pointerdown:function(t){dn.mousedown.call(this,t)},pointermove:function(t){un(t)||dn.mousemove.call(this,t)},pointerup:function(t){dn.mouseup.call(this,t)},pointerout:function(t){un(t)||dn.mouseout.call(this,t)}};g.k(["click","dblclick","contextmenu"],function(t){dn[t]=function(e){e=at(this.dom,e),this.trigger(t,e)}});var fn={pointermove:function(t){un(t)||fn.mousemove.call(this,t)},pointerup:function(t){fn.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function pn(t,e){var n=e.domHandlers;p.a.pointerEventsSupported?g.k(on.pointer,function(r){vn(e,r,function(e){n[r].call(t,e)})}):(p.a.touchEventsSupported&&g.k(on.touch,function(r){vn(e,r,function(i){n[r].call(t,i),function(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}(e)})}),g.k(on.mouse,function(r){vn(e,r,function(i){i=ot(i),e.touching||n[r].call(t,i)})}))}function gn(t,e){function n(n){vn(e,n,function(r){r=ot(r),cn(t,r.target)||(r=function(t,e){return at(t.dom,new hn(t,e),!0)}(t,r),e.domHandlers[n].call(t,r))},{capture:!0})}p.a.pointerEventsSupported?g.k(an.pointer,n):p.a.touchEventsSupported||g.k(an.mouse,n)}function vn(t,e,n,r){t.mounted[e]=n,t.listenerOpts[e]=r,st(t.domTarget,e,n,r)}function yn(t){var e,n,r,i,o=t.mounted;for(var a in o)o.hasOwnProperty(a)&&(e=t.domTarget,n=a,r=o[a],i=t.listenerOpts[a],e.removeEventListener(n,r,i));t.mounted={}}var mn=function(){return function(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}}(),bn=function(t){function e(e,n){var r=t.call(this)||this;return r.__pointerCapturing=!1,r.dom=e,r.painterRoot=n,r._localHandlerScope=new mn(e,dn),rn&&(r._globalHandlerScope=new mn(document,fn)),pn(r,r._localHandlerScope),r}return Object(f.__extends)(e,t),e.prototype.dispose=function(){yn(this._localHandlerScope),rn&&yn(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,rn&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?gn(this,e):yn(e)}},e}(U),xn=1;p.a.hasGlobalWindow&&(xn=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var An=xn,wn=.4,_n=pt,Mn=5e-5;function Sn(t){return t>Mn||t<-Mn}var On=[],In=[],En=[1,0,0,1,0,0],Cn=Math.abs,kn=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Tn(t,e){for(var n=0;n<kn.length;n++){var r=kn[n];t[r]=e[r]}}var Dn=function(){function t(){}var e;return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return Sn(this.rotation)||Sn(this.x)||Sn(this.y)||Sn(this.scaleX-1)||Sn(this.scaleY-1)||Sn(this.skewX)||Sn(this.skewY)},t.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;e||t?(n=n||[1,0,0,1,0,0],e?this.getLocalTransform(n):_n(n),t&&(e?vt(n,t,n):gt(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&_n(n)},t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(On);var n=On[0]<0?-1:1,r=On[1]<0?-1:1,i=((On[0]-n)*e+n)/On[0]||0,o=((On[1]-r)*e+r)/On[1]||0;t[0]*=i,t[1]*=i,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||[1,0,0,1,0,0],xt(this.invTransform,t)},t.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],r=Math.atan2(t[1],t[0]),i=Math.PI/2+r-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(i),e=Math.sqrt(e),this.skewX=i,this.skewY=0,this.rotation=-r,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(vt(In,t.invTransform,e),e=In);var n=this.originX,r=this.originY;(n||r)&&(En[4]=n,En[5]=r,vt(In,e,En),In[4]-=n,In[5]-=r,e=In),this.setLocalTransform(e)}},t.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&B(n,n,r),n},t.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&B(n,n,r),n},t.prototype.getLineScale=function(){var t=this.transform;return t&&Cn(t[0]-1)>1e-10&&Cn(t[3]-1)>1e-10?Math.sqrt(Cn(t[0]*t[3]-t[2]*t[1])):1},t.prototype.copyTransform=function(t){Tn(this,t)},t.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,r=t.originY||0,i=t.scaleX,o=t.scaleY,a=t.anchorX,s=t.anchorY,u=t.rotation||0,l=t.x,c=t.y,h=t.skewX?Math.tan(t.skewX):0,d=t.skewY?Math.tan(-t.skewY):0;if(n||r||a||s){var f=n+a,p=r+s;e[4]=-f*i-h*p*o,e[5]=-p*o-d*f*i}else e[4]=e[5]=0;return e[0]=i,e[3]=o,e[1]=d*i,e[2]=h*o,u&&mt(e,e,u),e[4]+=n+l,e[5]+=r+c,e},t.initDefaultProps=((e=t.prototype).scaleX=e.scaleY=e.globalScaleRatio=1,void(e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0)),t}(),jn=n("zMj2"),Ln=n("OwOc"),Pn={};function Nn(t,e){e=e||Ln.a;var n=Pn[e];n||(n=Pn[e]=new jn.a(500));var r=n.get(t);return null==r&&(r=Ln.d.measureText(t,e).width,n.put(t,r)),r}function Rn(t,e,n,r){var i=Nn(t,e),o=Gn(e),a=zn(0,i,n),s=Fn(0,o,r);return new Tt(a,s,i,o)}function Bn(t,e,n,r){var i=((t||"")+"").split("\n");if(1===i.length)return Rn(i[0],e,n,r);for(var o=new Tt(0,0,0,0),a=0;a<i.length;a++){var s=Rn(i[a],e,n,r);0===a?o.copy(s):o.union(s)}return o}function zn(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function Fn(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function Gn(t){return Nn("国",t)}function Vn(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function Un(t,e,n){var r=e.position||"inside",i=null!=e.distance?e.distance:5,o=n.height,a=n.width,s=o/2,u=n.x,l=n.y,c="left",h="top";if(r instanceof Array)u+=Vn(r[0],n.width),l+=Vn(r[1],n.height),c=null,h=null;else switch(r){case"left":u-=i,l+=s,c="right",h="middle";break;case"right":u+=i+a,l+=s,h="middle";break;case"top":u+=a/2,l-=i,c="center",h="bottom";break;case"bottom":u+=a/2,l+=o+i,c="center";break;case"inside":u+=a/2,l+=s,c="center",h="middle";break;case"insideLeft":u+=i,l+=s,h="middle";break;case"insideRight":u+=a-i,l+=s,c="right",h="middle";break;case"insideTop":u+=a/2,l+=i,c="center";break;case"insideBottom":u+=a/2,l+=o-i,c="center",h="bottom";break;case"insideTopLeft":u+=i,l+=i;break;case"insideTopRight":u+=a-i,l+=i,c="right";break;case"insideBottomLeft":u+=i,l+=o-i,h="bottom";break;case"insideBottomRight":u+=a-i,l+=o-i,c="right",h="bottom"}return(t=t||{}).x=u,t.y=l,t.align=c,t.verticalAlign=h,t}var Wn=kn.concat(["ignore"]),Hn=Object(g.N)(kn,function(t,e){return t[e]=!0,t},{ignore:!1}),Yn={},Xn=new Tt(0,0,0,0),qn=function(){function t(t){this.id=Object(g.p)(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,r=n.local,i=e.innerTransformable,o=void 0,a=void 0,s=!1;i.parent=r?this:null;var u=!1;if(i.copyTransform(e),null!=n.position){var l=Xn;n.layoutRect?l.copy(n.layoutRect):l.copy(this.getBoundingRect()),r||l.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Yn,n,l):Un(Yn,n,l),i.x=Yn.x,i.y=Yn.y,o=Yn.align,a=Yn.verticalAlign;var c=n.origin;if(c&&null!=n.rotation){var h=void 0,d=void 0;"center"===c?(h=.5*l.width,d=.5*l.height):(h=Vn(c[0],l.width),d=Vn(c[1],l.height)),u=!0,i.originX=-i.x+h+(r?0:l.x),i.originY=-i.y+d+(r?0:l.y)}}null!=n.rotation&&(i.rotation=n.rotation);var f=n.offset;f&&(i.x+=f[0],i.y+=f[1],u||(i.originX=-f[0],i.originY=-f[1]));var p=null==n.inside?"string"==typeof n.position&&n.position.indexOf("inside")>=0:n.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),v=void 0,y=void 0,m=void 0;p&&this.canBeInsideText()?(v=n.insideFill,y=n.insideStroke,null!=v&&"auto"!==v||(v=this.getInsideTextFill()),null!=y&&"auto"!==y||(y=this.getInsideTextStroke(v),m=!0)):(v=n.outsideFill,y=n.outsideStroke,null!=v&&"auto"!==v||(v=this.getOutsideFill()),null!=y&&"auto"!==y||(y=this.getOutsideStroke(v),m=!0)),(v=v||"#000")===g.fill&&y===g.stroke&&m===g.autoStroke&&o===g.align&&a===g.verticalAlign||(s=!0,g.fill=v,g.stroke=y,g.autoStroke=m,g.align=o,g.verticalAlign=a,e.setDefaultTextStyle(g)),e.__dirty|=Kt,s&&e.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(t){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?"#ccc":"#333"},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n="string"==typeof e&&Object(je.g)(e);n||(n=[255,255,255,1]);for(var r=n[3],i=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*r+(i?0:255)*(1-r);return n[3]=1,Object(je.h)(n,"rgba")},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},Object(g.m)(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(Object(g.A)(t))for(var n=t,r=Object(g.F)(n),i=0;i<r.length;i++){var o=r[i];this.attrKV(o,t[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var r=this.animators[n],i=r.__fromStateTransition;if(!(r.getLoop()||i&&"__zr_normal__"!==i)){var o=r.targetName,a=o?e[o]:e;r.saveTo(a)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,Wn)},t.prototype._savePrimaryToNormal=function(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];null==t[i]||i in e||(e[i]=this[i])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState("__zr_normal__",!1,t)},t.prototype.useState=function(t,e,n,r){var i="__zr_normal__"===t;if(this.hasState()||!i){var o=this.currentStates,a=this.stateTransition;if(!(Object(g.r)(o,t)>=0)||!e&&1!==o.length){var s;if(this.stateProxy&&!i&&(s=this.stateProxy(t)),s||(s=this.states&&this.states[t]),s||i){i||this.saveCurrentToNormalState(s);var u=!!(s&&s.hoverLayer||r);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,s,this._normalState,e,!n&&!this.__inHover&&a&&a.duration>0,a);var l=this._textContent,c=this._textGuide;return l&&l.useState(t,e,n,u),c&&c.useState(t,e,n,u),i?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Kt),s}Object(g.G)("State "+t+" not exists.")}}},t.prototype.useStates=function(t,e,n){if(t.length){var r=[],i=this.currentStates,o=t.length,a=o===i.length;if(a)for(var s=0;s<o;s++)if(t[s]!==i[s]){a=!1;break}if(a)return;for(s=0;s<o;s++){var u=t[s],l=void 0;this.stateProxy&&(l=this.stateProxy(u,t)),l||(l=this.states[u]),l&&r.push(l)}var c=r[o-1],h=!!(c&&c.hoverLayer||n);h&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(r),f=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(t.join(","),d,this._normalState,!1,!e&&!this.__inHover&&f&&f.duration>0,f);var p=this._textContent,g=this._textGuide;p&&p.useStates(t,e,h),g&&g.useStates(t,e,h),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Kt)}else this.clearStates()},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=Object(g.r)(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},t.prototype.replaceState=function(t,e,n){var r=this.currentStates.slice(),i=Object(g.r)(r,t),o=Object(g.r)(r,e)>=0;i>=0?o?r.splice(i,1):r[i]=e:n&&!o&&r.push(e),this.useStates(r)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,n={},r=0;r<t.length;r++){var i=t[r];Object(g.m)(n,i),i.textConfig&&(e=e||{},Object(g.m)(e,i.textConfig))}return e&&(n.textConfig=e),n},t.prototype._applyStateObj=function(t,e,n,r,i,o){var a=!(e&&r);e&&e.textConfig?(this.textConfig=Object(g.m)({},r?this.textConfig:n.textConfig),Object(g.m)(this.textConfig,e.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var s={},u=!1,l=0;l<Wn.length;l++){var c=Wn[l],h=i&&Hn[c];e&&null!=e[c]?h?(u=!0,s[c]=e[c]):this[c]=e[c]:a&&null!=n[c]&&(h?(u=!0,s[c]=n[c]):this[c]=n[c])}if(!i)for(l=0;l<this.animators.length;l++){var d=this.animators[l],f=d.targetName;d.getLoop()||d.__changeFinalValue(f?(e||n)[f]:e||n)}u&&this._transitionState(t,s,o)},t.prototype._attachComponent=function(t){if((!t.__zr||t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new Dn,this._attachComponent(t),this._textContent=t,this.markRedraw())},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),Object(g.m)(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=Kt;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},t.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},t.prototype.animate=function(t,e,n){var r=t?this[t]:this;var i=new Je(r,e,n);return t&&(i.targetName=t),this.addAnimator(i,t),i},t.prototype.addAnimator=function(t,e){var n=this.__zr,r=this;t.during(function(){r.updateDuringAnimation(e)}).done(function(){var e=r.animators,n=Object(g.r)(e,t);n>=0&&e.splice(n,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var n=this.animators,r=n.length,i=[],o=0;o<r;o++){var a=n[o];t&&t!==a.scope?i.push(a):a.stop(e)}return this.animators=i,this},t.prototype.animateTo=function(t,e,n){Qn(this,t,e,n)},t.prototype.animateFrom=function(t,e,n){Qn(this,t,e,n,!0)},t.prototype._transitionState=function(t,e,n,r){for(var i=Qn(this,e,n,r),o=0;o<i.length;o++)i[o].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Kt;function n(t,n,r,i){function o(t,e){Object.defineProperty(e,0,{get:function(){return t[r]},set:function(e){t[r]=e}}),Object.defineProperty(e,1,{get:function(){return t[i]},set:function(e){t[i]=e}})}Object.defineProperty(e,t,{get:function(){this[n]||o(this,this[n]=[]);return this[n]},set:function(t){this[r]=t[0],this[i]=t[1],this[n]=t,o(this,t)}})}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),t}();function Qn(t,e,n,r,i){var o=[];!function t(e,n,r,i,o,a,s,u){var l=Object(g.F)(i);var c=o.duration;var h=o.delay;var d=o.additive;var f=o.setToFinal;var p=!Object(g.A)(a);var v=e.animators;var y=[];for(var m=0;m<l.length;m++){var b=l[m],x=i[b];if(null!=x&&null!=r[b]&&(p||a[b]))if(!Object(g.A)(x)||Object(g.u)(x)||Object(g.x)(x))y.push(b);else{if(n){u||(r[b]=x,e.updateDuringAnimation(n));continue}t(e,b,r[b],x,o,a&&a[b],s,u)}else u||(r[b]=x,e.updateDuringAnimation(n),y.push(b))}var A=y.length;if(!d&&A)for(var w=0;w<v.length;w++){var _=v[w];if(_.targetName===n){var M=_.stopTracks(y);if(M){var S=Object(g.r)(v,_);v.splice(S,1)}}}o.force||(y=Object(g.n)(y,function(t){return e=i[t],n=r[t],!(e===n||Object(g.u)(e)&&Object(g.u)(n)&&function(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}(e,n));var e,n}),A=y.length);if(A>0||o.force&&!s.length){var O=void 0,I=void 0,E=void 0;if(u){I={},f&&(O={});for(var w=0;w<A;w++){var b=y[w];I[b]=r[b],f?O[b]=i[b]:r[b]=i[b]}}else if(f){E={};for(var w=0;w<A;w++){var b=y[w];E[b]=Ve(r[b]),Kn(r,i,b)}}var _=new Je(r,!1,!1,d?Object(g.n)(v,function(t){return t.targetName===n}):null);_.targetName=n,o.scope&&(_.scope=o.scope),f&&O&&_.whenWithKeys(0,O,y),E&&_.whenWithKeys(0,E,y),_.whenWithKeys(null==c?500:c,u?I:i,y).delay(h||0),e.addAnimator(_,n),s.push(_)}}(t,"",t,e,n=n||{},r,o,i);var a=o.length,s=!1,u=n.done,l=n.aborted,c=function(){s=!0,--a<=0&&(s?u&&u():l&&l())},h=function(){--a<=0&&(s?u&&u():l&&l())};a||u&&u(),o.length>0&&n.during&&o[0].during(function(t,e){n.during(e)});for(var d=0;d<o.length;d++){var f=o[d];c&&f.done(c),h&&f.aborted(h),n.force&&f.duration(n.duration),f.start(n.easing)}return o}function Zn(t,e,n){for(var r=0;r<n;r++)t[r]=e[r]}function Kn(t,e,n){if(Object(g.u)(e[n]))if(Object(g.u)(t[n])||(t[n]=[]),Object(g.E)(e[n])){var r=e[n].length;t[n].length!==r&&(t[n]=new e[n].constructor(r),Zn(t[n],e[n],r))}else{var i=e[n],o=t[n],a=i.length;if(l=i,Object(g.u)(l[0]))for(var s=i[0].length,u=0;u<a;u++)o[u]?Zn(o[u],i[u],s):o[u]=Array.prototype.slice.call(i[u]);else Zn(o,i,a);o.length=i.length}else t[n]=e[n];var l}Object(g.K)(qn,U),Object(g.K)(qn,Dn);var Jn=qn,$n=function(t){function e(e){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return Object(f.__extends)(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,r=n.indexOf(e);r>=0&&(n.splice(r,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,e){var n=g.r(this._children,t);return n>=0&&this.replaceAt(e,n),this},e.prototype.replaceAt=function(t,e){var n=this._children,r=n[e];if(t&&t!==this&&t.parent!==this&&t!==r){n[e]=t,r.parent=null;var i=this.__zr;i&&r.removeSelfFromZr(i),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},e.prototype.remove=function(t){var e=this.__zr,n=this._children,r=g.r(n,t);return r<0?this:(n.splice(r,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,n=0;n<t.length;n++){var r=t[n];e&&r.removeSelfFromZr(e),r.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,e){for(var n=this._children,r=0;r<n.length;r++){var i=n[r];t.call(e,i,r)}return this},e.prototype.traverse=function(t,e){for(var n=0;n<this._children.length;n++){var r=this._children[n],i=t.call(e,r);r.isGroup&&!i&&r.traverse(t,e)}return this},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++){this._children[n].addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++){this._children[n].removeSelfFromZr(e)}},e.prototype.getBoundingRect=function(t){for(var e=new Tt(0,0,0,0),n=t||this._children,r=[],i=null,o=0;o<n.length;o++){var a=n[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),u=a.getLocalTransform(r);u?(Tt.applyTransform(e,s,u),(i=i||e.clone()).union(e)):(i=i||s.clone()).union(s)}}return i||e},e}(Jn);$n.prototype.type="group";var tr=$n,er={},nr={};
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var rr=function(){function t(t,e,n){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var i=new ne,o=n.renderer||"canvas";er[o]||(o=g.F(er)[0]),n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var a=new er[o](e,i,n,t),s=n.ssr||a.ssrOnly;this.storage=i,this.painter=a;var u,l=p.a.node||p.a.worker||s?null:new bn(a.getViewportRoot(),a.root),c=n.useCoarsePointer;(null==c||"auto"===c?p.a.touchEventsSupported:!!c)&&(u=g.P(n.pointerSize,44)),this.handler=new Vt(i,a,l,a.root,u),this.animation=new nn({stage:{update:s?null:function(){return r._flush(!0)}}}),s||this.animation.start()}return t.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},t.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(t){if(!t)return!1;if("string"==typeof t)return Object(je.d)(t,1)<wn;if(t.colorStops){for(var e=t.colorStops,n=0,r=e.length,i=0;i<r;i++)n+=Object(je.d)(e[i].color,1);return(n/=r)<wn}return!1}(t)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(t){var e,n=$e();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var r=$e();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},t.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},t.prototype.on=function(t,e,n){return this.handler.on(t,e,n),this},t.prototype.off=function(t,e){this.handler.off(t,e)},t.prototype.trigger=function(t,e){this.handler.trigger(t,e)},t.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof tr&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete nr[t]},t}();function ir(t,e){var n=new rr(g.p(),t,e);return nr[n.id]=n,n}function or(t){t.dispose()}function ar(){for(var t in nr)nr.hasOwnProperty(t)&&nr[t].dispose();nr={}}function sr(t){return nr[t]}function ur(t,e){er[t]=e}var lr="5.4.1",cr=1e-4,hr=20;function dr(t,e,n,r){var i=e[0],o=e[1],a=n[0],s=n[1],u=o-i,l=s-a;if(0===u)return 0===l?a:(a+s)/2;if(r)if(u>0){if(t<=i)return a;if(t>=o)return s}else{if(t>=i)return a;if(t<=o)return s}else{if(t===i)return a;if(t===o)return s}return(t-i)/u*l+a}function fr(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return g.C(t)?(n=t,n.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;var n}function pr(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),hr),t=(+t).toFixed(e),n?t:+t}function gr(t){return t.sort(function(t,e){return t-e}),t}function vr(t){if(t=+t,isNaN(t))return 0;if(t>1e-14)for(var e=1,n=0;n<15;n++,e*=10)if(Math.round(t*e)/e===t)return n;return yr(t)}function yr(t){var e=t.toString().toLowerCase(),n=e.indexOf("e"),r=n>0?+e.slice(n+1):0,i=n>0?n:e.length,o=e.indexOf("."),a=o<0?0:i-1-o;return Math.max(0,a-r)}function mr(t,e){var n=Math.log,r=Math.LN10,i=Math.floor(n(t[1]-t[0])/r),o=Math.round(n(Math.abs(e[1]-e[0]))/r),a=Math.min(Math.max(-i+o,0),20);return isFinite(a)?a:20}function br(t,e,n){return t[e]&&xr(t,n)[e]||0}function xr(t,e){var n=g.N(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===n)return[];for(var r=Math.pow(10,e),i=g.H(t,function(t){return(isNaN(t)?0:t)/n*r*100}),o=100*r,a=g.H(i,function(t){return Math.floor(t)}),s=g.N(a,function(t,e){return t+e},0),u=g.H(i,function(t,e){return t-a[e]});s<o;){for(var l=Number.NEGATIVE_INFINITY,c=null,h=0,d=u.length;h<d;++h)u[h]>l&&(l=u[h],c=h);++a[c],u[c]=0,++s}return g.H(a,function(t){return t/r})}function Ar(t,e){var n=Math.max(vr(t),vr(e)),r=t+e;return n>hr?r:pr(r,n)}var wr=9007199254740991;function _r(t){var e=2*Math.PI;return(t%e+e)%e}function Mr(t){return t>-cr&&t<cr}var Sr=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Or(t){if(t instanceof Date)return t;if(g.C(t)){var e=Sr.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return null==t?new Date(NaN):new Date(Math.round(t))}function Ir(t){return Math.pow(10,Er(t))}function Er(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function Cr(t,e){var n=Er(t),r=Math.pow(10,n),i=t/r;return t=(e?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10)*r,n>=-20?+t.toFixed(n<0?-n:0):t}function kr(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i}function Tr(t){t.sort(function(t,e){return function t(e,n,r){return e.interval[r]<n.interval[r]||e.interval[r]===n.interval[r]&&(e.close[r]-n.close[r]==(r?-1:1)||!r&&t(e,n,1))}(t,e,0)?-1:1});for(var e=-1/0,n=1,r=0;r<t.length;){for(var i=t[r].interval,o=t[r].close,a=0;a<2;a++)i[a]<=e&&(i[a]=e,o[a]=a?1:1-n),e=i[a],n=o[a];i[0]===i[1]&&o[0]*o[1]!=1?t.splice(r,1):r++}return t}function Dr(t){var e=parseFloat(t);return e==t&&(0!==e||!g.C(t)||t.indexOf("x")<=0)?e:NaN}function jr(t){return!isNaN(Dr(t))}function Lr(){return Math.round(9*Math.random())}function Pr(t,e){return null==t?e:null==e?t:t*e/function t(e,n){return 0===n?e:t(n,e%n)}(t,e)}"undefined"!=typeof console&&console.warn&&console.log;function Nr(t){0}function Rr(t){throw new Error(t)}function Br(t,e,n){return(e-t)*n+t}var zr="series\0",Fr="\0_ec_\0";function Gr(t){return t instanceof Array?t:null==t?[]:[t]}function Vr(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var r=0,i=n.length;r<i;r++){var o=n[r];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}var Ur=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Wr(t){return!Object(g.A)(t)||Object(g.t)(t)||t instanceof Date?t:t.value}function Hr(t){return Object(g.A)(t)&&!(t instanceof Array)}function Yr(t,e,n){var r="normalMerge"===n,i="replaceMerge"===n,o="replaceAll"===n;t=t||[],e=(e||[]).slice();var a=Object(g.f)();Object(g.k)(e,function(t,n){Object(g.A)(t)||(e[n]=null)});var s,u,l=function(t,e,n){var r=[];if("replaceAll"===n)return r;for(var i=0;i<t.length;i++){var o=t[i];o&&null!=o.id&&e.set(o.id,i),r.push({existing:"replaceMerge"===n||Kr(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return r}(t,a,n);return(r||i)&&function(t,e,n,r){Object(g.k)(r,function(i,o){if(i&&null!=i.id){var a=qr(i.id),s=n.get(a);if(null!=s){var u=t[s];Object(g.b)(!u.newOption,'Duplicated option on id "'+a+'".'),u.newOption=i,u.existing=e[s],r[o]=null}}})}(l,t,a,e),r&&function(t,e){Object(g.k)(e,function(n,r){if(n&&null!=n.name)for(var i=0;i<t.length;i++){var o=t[i].existing;if(!t[i].newOption&&o&&(null==o.id||null==n.id)&&!Kr(n)&&!Kr(o)&&Xr("name",o,n))return t[i].newOption=n,void(e[r]=null)}})}(l,e),r||i?function(t,e,n){Object(g.k)(e,function(e){if(e){for(var r,i=0;(r=t[i])&&(r.newOption||Kr(r.existing)||r.existing&&null!=e.id&&!Xr("id",e,r.existing));)i++;r?(r.newOption=e,r.brandNew=n):t.push({newOption:e,brandNew:n,existing:null,keyInfo:null}),i++}})}(l,e,i):o&&function(t,e){Object(g.k)(e,function(e){t.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}(l,e),s=l,u=Object(g.f)(),Object(g.k)(s,function(t){var e=t.existing;e&&u.set(e.id,t)}),Object(g.k)(s,function(t){var e=t.newOption;Object(g.b)(!e||null==e.id||!u.get(e.id)||u.get(e.id)===t,"id duplicates: "+(e&&e.id)),e&&null!=e.id&&u.set(e.id,t),!t.keyInfo&&(t.keyInfo={})}),Object(g.k)(s,function(t,e){var n=t.existing,r=t.newOption,i=t.keyInfo;if(Object(g.A)(r)){if(i.name=null!=r.name?qr(r.name):n?n.name:zr+e,n)i.id=qr(n.id);else if(null!=r.id)i.id=qr(r.id);else{var o=0;do{i.id="\0"+i.name+"\0"+o++}while(u.get(i.id))}u.set(i.id,t)}}),l}function Xr(t,e,n){var r=Qr(e[t],null),i=Qr(n[t],null);return null!=r&&null!=i&&r===i}function qr(t){return Qr(t,"")}function Qr(t,e){return null==t?e:Object(g.C)(t)?t:Object(g.z)(t)||Object(g.D)(t)?t+"":e}function Zr(t){var e=t.name;return!(!e||!e.indexOf(zr))}function Kr(t){return t&&null!=t.id&&0===qr(t.id).indexOf(Fr)}function Jr(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?Object(g.t)(e.dataIndex)?Object(g.H)(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?Object(g.t)(e.name)?Object(g.H)(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0}function $r(){var t="__ec_inner_"+ti++;return function(e){return e[t]||(e[t]={})}}var ti=Lr();function ei(t,e,n){var r=ni(e,n),i=r.mainTypeSpecified,o=r.queryOptionMap,a=r.others,s=n?n.defaultMainType:null;return!i&&s&&o.set(s,{}),o.each(function(e,r){var i=oi(t,r,e,{useDefault:s===r,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});a[r+"Models"]=i.models,a[r+"Model"]=i.models[0]}),a}function ni(t,e){var n;if(Object(g.C)(t)){var r={};r[t+"Index"]=0,n=r}else n=t;var i=Object(g.f)(),o={},a=!1;return Object(g.k)(n,function(t,n){if("dataIndex"!==n&&"dataIndexInside"!==n){var r=n.match(/^(\w+)(Index|Id|Name)$/)||[],s=r[1],u=(r[2]||"").toLowerCase();if(s&&u&&!(e&&e.includeMainTypes&&Object(g.r)(e.includeMainTypes,s)<0))a=a||!!s,(i.get(s)||i.set(s,{}))[u]=t}else o[n]=t}),{mainTypeSpecified:a,queryOptionMap:i,others:o}}var ri={useDefault:!0,enableAll:!1,enableNone:!1},ii={useDefault:!1,enableAll:!0,enableNone:!0};function oi(t,e,n,r){r=r||ri;var i=n.index,o=n.id,a=n.name,s={models:null,specified:null!=i||null!=o||null!=a};if(!s.specified){var u=void 0;return s.models=r.useDefault&&(u=t.getComponent(e))?[u]:[],s}return"none"===i||!1===i?(Object(g.b)(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===i&&(Object(g.b)(r.enableAll,'`"all"` is not a valid value on index option.'),i=o=a=null),s.models=t.queryComponents({mainType:e,index:i,id:o,name:a}),s)}function ai(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function si(t,e){var n=Object(g.f)(),r=[];return Object(g.k)(t,function(t){var i=e(t);(n.get(i)||(r.push(i),n.set(i,[]))).push(t)}),{keys:r,buckets:n}}function ui(t,e,n,r,i){var o=null==e||"auto"===e;if(null==r)return r;if(Object(g.z)(r))return pr(p=Br(n||0,r,i),o?Math.max(vr(n||0),vr(r)):e);if(Object(g.C)(r))return i<1?n:r;for(var a=[],s=n,u=r,l=Math.max(s?s.length:0,u.length),c=0;c<l;++c){var h=t.getDimensionInfo(c);if(h&&"ordinal"===h.type)a[c]=(i<1&&s?s:u)[c];else{var d=s&&s[c]?s[c]:0,f=u[c],p=Br(d,f,i);a[c]=pr(p,o?Math.max(vr(d),vr(f)):e)}}return a}var li=".",ci="___EC__COMPONENT__CONTAINER___",hi="___EC__EXTENDED_CLASS___";function di(t){var e={main:"",sub:""};if(t){var n=t.split(li);e.main=n[0]||"",e.sub=n[1]||""}return e}function fi(t,e){t.$constructor=t,t.extend=function(t){var e,n,r=this;return n=r,g.w(n)&&/^class\s/.test(Function.prototype.toString.call(n))?e=function(t){function e(){return t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e}(r):(e=function(){(t.$constructor||r).apply(this,arguments)},g.s(e,this)),g.m(e.prototype,t),e[hi]=!0,e.extend=this.extend,e.superCall=vi,e.superApply=yi,e.superClass=r,e}}function pi(t,e){t.extend=e.extend}var gi=Math.round(10*Math.random());function vi(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[e].apply(t,n)}function yi(t,e,n){return this.superClass.prototype[e].apply(t,n)}function mi(t){var e={};t.registerClass=function(t){var n,r=t.type||t.prototype.type;if(r){n=r,g.b(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal'),t.prototype.type=r;var i=di(r);if(i.sub){if(i.sub!==ci){((function(t){var n=e[t.main];n&&n[ci]||((n=e[t.main]={})[ci]=!0);return n})(i))[i.sub]=t}}else e[i.main]=t}return t},t.getClass=function(t,n,r){var i=e[t];if(i&&i[ci]&&(i=n?i[n]:null),r&&!i)throw new Error(n?"Component "+t+"."+(n||"")+" is used but not imported.":t+".type should be specified.");return i},t.getClassesByMainType=function(t){var n=di(t),r=[],i=e[n.main];return i&&i[ci]?g.k(i,function(t,e){e!==ci&&r.push(t)}):r.push(i),r},t.hasClass=function(t){var n=di(t);return!!e[n.main]},t.getAllClassMainTypes=function(){var t=[];return g.k(e,function(e,n){t.push(n)}),t},t.hasSubTypes=function(t){var n=di(t),r=e[n.main];return r&&r[ci]}}function bi(t,e){for(var n=0;n<t.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(n,r,i){for(var o={},a=0;a<t.length;a++){var s=t[a][1];if(!(r&&g.r(r,s)>=0||i&&g.r(i,s)<0)){var u=n.getShallow(s,e);null!=u&&(o[t[a][0]]=u)}}return o}}var xi=bi([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Ai=function(){function t(){}return t.prototype.getAreaStyle=function(t,e){return xi(this,t,e)},t}(),wi=new jn.a(50);function _i(t){if("string"==typeof t){var e=wi.get(t);return e&&e.image}return t}function Mi(t,e,n,r,i){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var o=wi.get(t),a={hostEl:n,cb:r,cbPayload:i};return o?!Oi(e=o.image)&&o.pending.push(a):((e=Ln.d.loadImage(t,Si,Si)).__zrImageSrc=t,wi.put(t,e.__cachedImgObj={image:e,pending:[a]})),e}return t}return e}function Si(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function Oi(t){return t&&t.width&&t.height}var Ii=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Ei(t,e,n,r,i){if(!e)return"";var o=(t+"").split("\n");i=Ci(e,n,r,i);for(var a=0,s=o.length;a<s;a++)o[a]=ki(o[a],i);return o.join("\n")}function Ci(t,e,n,r){r=r||{};var i=Object(g.m)({},r);i.font=e,n=Object(g.P)(n,"..."),i.maxIterations=Object(g.P)(r.maxIterations,2);var o=i.minChar=Object(g.P)(r.minChar,0);i.cnCharWidth=Nn("国",e);var a=i.ascCharWidth=Nn("a",e);i.placeholder=Object(g.P)(r.placeholder,"");for(var s=t=Math.max(0,t-1),u=0;u<o&&s>=a;u++)s-=a;var l=Nn(n,e);return l>s&&(n="",l=0),s=t-l,i.ellipsis=n,i.ellipsisWidth=l,i.contentWidth=s,i.containerWidth=t,i}function ki(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";var o=Nn(t,r);if(o<=n)return t;for(var a=0;;a++){if(o<=i||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?Ti(t,i,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*i/o):0;o=Nn(t=t.substr(0,s),r)}return""===t&&(t=e.placeholder),t}function Ti(t,e,n,r){for(var i=0,o=0,a=t.length;o<a&&i<e;o++){var s=t.charCodeAt(o);i+=0<=s&&s<=127?n:r}return o}var Di=function(){return function(){}}(),ji=function(){return function(t){this.tokens=[],t&&(this.tokens=t)}}(),Li=function(){return function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}}();function Pi(t,e,n,r,i){var o,a,s=""===e,u=i&&n.rich[i]||{},l=t.lines,c=u.font||n.font,h=!1;if(r){var d=u.padding,f=d?d[1]+d[3]:0;if(null!=u.width&&"auto"!==u.width){var p=Vn(u.width,r.width)+f;l.length>0&&p+r.accumWidth>r.width&&(o=e.split("\n"),h=!0),r.accumWidth=p}else{var g=Bi(e,c,r.width,r.breakAll,r.accumWidth);r.accumWidth=g.accumWidth+f,a=g.linesWidths,o=g.lines}}else o=e.split("\n");for(var v=0;v<o.length;v++){var y=o[v],m=new Di;if(m.styleName=i,m.text=y,m.isLineHolder=!y&&!s,"number"==typeof u.width?m.width=u.width:m.width=a?a[v]:Nn(y,c),v||h)l.push(new ji([m]));else{var b=(l[l.length-1]||(l[0]=new ji)).tokens,x=b.length;1===x&&b[0].isLineHolder?b[0]=m:(y||!x||s)&&b.push(m)}}}var Ni=Object(g.N)(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function Ri(t){return!function(t){var e=t.charCodeAt(0);return e>=33&&e<=383}(t)||!!Ni[t]}function Bi(t,e,n,r,i){for(var o=[],a=[],s="",u="",l=0,c=0,h=0;h<t.length;h++){var d=t.charAt(h);if("\n"!==d){var f=Nn(d,e),p=!r&&!Ri(d);(o.length?c+f>n:i+c+f>n)?c?(s||u)&&(p?(s||(s=u,u="",c=l=0),o.push(s),a.push(c-l),u+=d,s="",c=l+=f):(u&&(s+=u,u="",l=0),o.push(s),a.push(c),s=d,c=f)):p?(o.push(u),a.push(l),u=d,l=f):(o.push(d),a.push(f)):(c+=f,p?(u+=d,l+=f):(u&&(s+=u,u="",l=0),s+=d))}else u&&(s+=u,c+=l),o.push(s),a.push(c),s="",u="",l=0,c=0}return o.length||s||(s=t,u="",l=0),u&&(s+=u),s&&(o.push(s),a.push(c)),1===o.length&&(c+=i),{accumWidth:c,lines:o,linesWidths:a}}var zi="__zr_style_"+Math.round(10*Math.random()),Fi={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Gi={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Fi[zi]=!0;var Vi=["z","z2","invisible"],Ui=["invisible"],Wi=function(t){function e(e){return t.call(this,e)||this}var n;return Object(f.__extends)(e,t),e.prototype._init=function(e){for(var n=Object(g.F)(e),r=0;r<n.length;r++){var i=n[r];"style"===i?this.useStyle(e[i]):t.prototype.attrKV.call(this,i,e[i])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,e,n,r){var i=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(t,e,n){Hi.copy(t.getBoundingRect()),t.transform&&Hi.applyTransform(t.transform);return Yi.width=e,Yi.height=n,!Hi.intersect(Yi)}(this,t,e)||i&&!i[0]&&!i[3])return!1;if(n&&this.__clipPaths)for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1;if(r&&this.parent)for(var a=this.parent;a;){if(a.ignore)return!1;a=a.parent}return!0},e.prototype.contain=function(t,e){return this.rectContain(t,e)},e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.rectContain=function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform,n=this.getBoundingRect(),r=this.style,i=r.shadowBlur||0,o=r.shadowOffsetX||0,a=r.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new Tt(0,0,0,0)),e?Tt.applyTransform(t,n,e):t.copy(n),(i||o||a)&&(t.width+=2*i+Math.abs(o),t.height+=2*i+Math.abs(a),t.x=Math.min(t.x,t.x+o-i),t.y=Math.min(t.y,t.y+a-i));var s=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-s),t.y=Math.floor(t.y-s),t.width=Math.ceil(t.width+1+2*s),t.height=Math.ceil(t.height+1+2*s))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new Tt(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(e,n){"style"!==e?t.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(t,e){return"string"==typeof t?this.style[t]=e:Object(g.m)(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(2&this.__dirty)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(t){return Object(g.g)(Fi,t)},e.prototype.useStyle=function(t){t[zi]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[zi]},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,Vi)},e.prototype._applyStateObj=function(e,n,r,i,o,a){t.prototype._applyStateObj.call(this,e,n,r,i,o,a);var s,u=!(n&&i);if(n&&n.style?o?i?s=n.style:(s=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(s,n.style)):(s=this._mergeStyle(this.createStyle(),i?this.style:r.style),this._mergeStyle(s,n.style)):u&&(s=r.style),s)if(o){var l=this.style;if(this.style=this.createStyle(u?{}:l),u)for(var c=Object(g.F)(l),h=0;h<c.length;h++){(f=c[h])in s&&(s[f]=s[f],this.style[f]=l[f])}var d=Object(g.F)(s);for(h=0;h<d.length;h++){var f=d[h];this.style[f]=this.style[f]}this._transitionState(e,{style:s},a,this.getAnimationStyleProps())}else this.useStyle(s);var p=this.__inHover?Ui:Vi;for(h=0;h<p.length;h++){f=p[h];n&&null!=n[f]?this[f]=n[f]:u&&null!=r[f]&&(this[f]=r[f])}},e.prototype._mergeStates=function(e){for(var n,r=t.prototype._mergeStates.call(this,e),i=0;i<e.length;i++){var o=e[i];o.style&&(n=n||{},this._mergeStyle(n,o.style))}return n&&(r.style=n),r},e.prototype._mergeStyle=function(t,e){return Object(g.m)(t,e),t},e.prototype.getAnimationStyleProps=function(){return Gi},e.initDefaultProps=((n=e.prototype).type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,void(n.__dirty=2|Kt)),e}(Jn),Hi=new Tt(0,0,0,0),Yi=new Tt(0,0,0,0);var Xi=Wi,qi=Math.min,Qi=Math.max,Zi=Math.sin,Ki=Math.cos,Ji=2*Math.PI,$i=v(),to=v(),eo=v();function no(t,e,n){if(0!==t.length){for(var r=t[0],i=r[0],o=r[0],a=r[1],s=r[1],u=1;u<t.length;u++)r=t[u],i=qi(i,r[0]),o=Qi(o,r[0]),a=qi(a,r[1]),s=Qi(s,r[1]);e[0]=i,e[1]=a,n[0]=o,n[1]=s}}function ro(t,e,n,r,i,o){i[0]=qi(t,n),i[1]=qi(e,r),o[0]=Qi(t,n),o[1]=Qi(e,r)}var io=[],oo=[];function ao(t,e,n,r,i,o,a,s,u,l){var c=xe,h=ye,d=c(t,n,i,a,io);u[0]=1/0,u[1]=1/0,l[0]=-1/0,l[1]=-1/0;for(var f=0;f<d;f++){var p=h(t,n,i,a,io[f]);u[0]=qi(p,u[0]),l[0]=Qi(p,l[0])}d=c(e,r,o,s,oo);for(f=0;f<d;f++){var g=h(e,r,o,s,oo[f]);u[1]=qi(g,u[1]),l[1]=Qi(g,l[1])}u[0]=qi(t,u[0]),l[0]=Qi(t,l[0]),u[0]=qi(a,u[0]),l[0]=Qi(a,l[0]),u[1]=qi(e,u[1]),l[1]=Qi(e,l[1]),u[1]=qi(s,u[1]),l[1]=Qi(s,l[1])}function so(t,e,n,r,i,o,a,s){var u=Oe,l=Me,c=Qi(qi(u(t,n,i),1),0),h=Qi(qi(u(e,r,o),1),0),d=l(t,n,i,c),f=l(e,r,o,h);a[0]=qi(t,i,d),a[1]=qi(e,o,f),s[0]=Qi(t,i,d),s[1]=Qi(e,o,f)}function uo(t,e,n,r,i,o,a,s,u){var l=z,c=F,h=Math.abs(i-o);if(h%Ji<1e-4&&h>1e-4)return s[0]=t-n,s[1]=e-r,u[0]=t+n,void(u[1]=e+r);if($i[0]=Ki(i)*n+t,$i[1]=Zi(i)*r+e,to[0]=Ki(o)*n+t,to[1]=Zi(o)*r+e,l(s,$i,to),c(u,$i,to),(i%=Ji)<0&&(i+=Ji),(o%=Ji)<0&&(o+=Ji),i>o&&!a?o+=Ji:i<o&&a&&(i+=Ji),a){var d=o;o=i,i=d}for(var f=0;f<o;f+=Math.PI/2)f>i&&(eo[0]=Ki(f)*n+t,eo[1]=Zi(f)*r+e,l(s,eo,s),c(u,eo,u))}var lo={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},co=[],ho=[],fo=[],po=[],go=[],vo=[],yo=Math.min,mo=Math.max,bo=Math.cos,xo=Math.sin,Ao=Math.abs,wo=Math.PI,_o=2*wo,Mo="undefined"!=typeof Float32Array,So=[];function Oo(t){return Math.round(t/wo*1e8)/1e8%2*wo}function Io(t,e){var n=Oo(t[0]);n<0&&(n+=_o);var r=n-t[0],i=t[1];i+=r,!e&&i-n>=_o?i=n+_o:e&&n-i>=_o?i=n-_o:!e&&n>i?i=n+(_o-Oo(n-i)):e&&n<i&&(i=n-(_o-Oo(i-n))),t[0]=n,t[1]=i}var Eo=function(){function t(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}var e;return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,e,n){(n=n||0)>0&&(this._ux=Ao(n/An/t)||0,this._uy=Ao(n/An/e)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(lo.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},t.prototype.lineTo=function(t,e){var n=Ao(t-this._xi),r=Ao(e-this._yi),i=n>this._ux||r>this._uy;if(this.addData(lo.L,t,e),this._ctx&&i&&this._ctx.lineTo(t,e),i)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var o=n*n+r*r;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(t,e,n,r,i,o){return this._drawPendingPt(),this.addData(lo.C,t,e,n,r,i,o),this._ctx&&this._ctx.bezierCurveTo(t,e,n,r,i,o),this._xi=i,this._yi=o,this},t.prototype.quadraticCurveTo=function(t,e,n,r){return this._drawPendingPt(),this.addData(lo.Q,t,e,n,r),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,r),this._xi=n,this._yi=r,this},t.prototype.arc=function(t,e,n,r,i,o){this._drawPendingPt(),So[0]=r,So[1]=i,Io(So,o),r=So[0];var a=(i=So[1])-r;return this.addData(lo.A,t,e,n,n,r,a,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,r,i,o),this._xi=bo(i)*n+t,this._yi=xo(i)*n+e,this},t.prototype.arcTo=function(t,e,n,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,r,i),this},t.prototype.rect=function(t,e,n,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,r),this.addData(lo.R,t,e,n,r),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(lo.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&t.closePath(),this._xi=e,this._yi=n,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!Mo||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,r=this._len,i=0;i<e;i++)n+=t[i].len();Mo&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(i=0;i<e;i++)for(var o=t[i].data,a=0;a<o.length;a++)this.data[r++]=o[a];this._len=r},t.prototype.addData=function(t,e,n,r,i,o,a,s,u){if(this._saveData){var l=this.data;this._len+arguments.length>l.length&&(this._expandData(),l=this.data);for(var c=0;c<arguments.length;c++)l[this._len++]=arguments[c]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,Mo&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){fo[0]=fo[1]=go[0]=go[1]=Number.MAX_VALUE,po[0]=po[1]=vo[0]=vo[1]=-Number.MAX_VALUE;var t,e=this.data,n=0,r=0,i=0,o=0;for(t=0;t<this._len;){var a=e[t++],s=1===t;switch(s&&(i=n=e[t],o=r=e[t+1]),a){case lo.M:n=i=e[t++],r=o=e[t++],go[0]=i,go[1]=o,vo[0]=i,vo[1]=o;break;case lo.L:ro(n,r,e[t],e[t+1],go,vo),n=e[t++],r=e[t++];break;case lo.C:ao(n,r,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],go,vo),n=e[t++],r=e[t++];break;case lo.Q:so(n,r,e[t++],e[t++],e[t],e[t+1],go,vo),n=e[t++],r=e[t++];break;case lo.A:var u=e[t++],l=e[t++],c=e[t++],h=e[t++],d=e[t++],f=e[t++]+d;t+=1;var p=!e[t++];s&&(i=bo(d)*c+u,o=xo(d)*h+l),uo(u,l,c,h,d,f,p,go,vo),n=bo(f)*c+u,r=xo(f)*h+l;break;case lo.R:ro(i=n=e[t++],o=r=e[t++],i+e[t++],o+e[t++],go,vo);break;case lo.Z:n=i,r=o}z(fo,fo,go),F(po,po,vo)}return 0===t&&(fo[0]=fo[1]=po[0]=po[1]=0),new Tt(fo[0],fo[1],po[0]-fo[0],po[1]-fo[1])},t.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,r=this._uy,i=0,o=0,a=0,s=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,l=0,c=0,h=0;h<e;){var d=t[h++],f=1===h;f&&(a=i=t[h],s=o=t[h+1]);var p=-1;switch(d){case lo.M:i=a=t[h++],o=s=t[h++];break;case lo.L:var g=t[h++],v=(b=t[h++])-o;(Ao(C=g-i)>n||Ao(v)>r||h===e-1)&&(p=Math.sqrt(C*C+v*v),i=g,o=b);break;case lo.C:var y=t[h++],m=t[h++],b=(g=t[h++],t[h++]),x=t[h++],A=t[h++];p=_e(i,o,y,m,g,b,x,A,10),i=x,o=A;break;case lo.Q:p=Ce(i,o,y=t[h++],m=t[h++],g=t[h++],b=t[h++],10),i=g,o=b;break;case lo.A:var w=t[h++],_=t[h++],M=t[h++],S=t[h++],O=t[h++],I=t[h++],E=I+O;h+=1;t[h++];f&&(a=bo(O)*M+w,s=xo(O)*S+_),p=mo(M,S)*yo(_o,Math.abs(I)),i=bo(E)*M+w,o=xo(E)*S+_;break;case lo.R:a=i=t[h++],s=o=t[h++],p=2*t[h++]+2*t[h++];break;case lo.Z:var C=a-i;v=s-o;p=Math.sqrt(C*C+v*v),i=a,o=s}p>=0&&(u[c++]=p,l+=p)}return this._pathLen=l,l},t.prototype.rebuildPath=function(t,e){var n,r,i,o,a,s,u,l,c,h,d=this.data,f=this._ux,p=this._uy,g=this._len,v=e<1,y=0,m=0,b=0;if(!v||(this._pathSegLen||this._calculateLength(),u=this._pathSegLen,l=e*this._pathLen))t:for(var x=0;x<g;){var A=d[x++],w=1===x;switch(w&&(n=i=d[x],r=o=d[x+1]),A!==lo.L&&b>0&&(t.lineTo(c,h),b=0),A){case lo.M:n=i=d[x++],r=o=d[x++],t.moveTo(i,o);break;case lo.L:a=d[x++],s=d[x++];var _=Ao(a-i),M=Ao(s-o);if(_>f||M>p){if(v){if(y+(q=u[m++])>l){var S=(l-y)/q;t.lineTo(i*(1-S)+a*S,o*(1-S)+s*S);break t}y+=q}t.lineTo(a,s),i=a,o=s,b=0}else{var O=_*_+M*M;O>b&&(c=a,h=s,b=O)}break;case lo.C:var I=d[x++],E=d[x++],C=d[x++],k=d[x++],T=d[x++],D=d[x++];if(v){if(y+(q=u[m++])>l){Ae(i,I,C,T,S=(l-y)/q,co),Ae(o,E,k,D,S,ho),t.bezierCurveTo(co[1],ho[1],co[2],ho[2],co[3],ho[3]);break t}y+=q}t.bezierCurveTo(I,E,C,k,T,D),i=T,o=D;break;case lo.Q:I=d[x++],E=d[x++],C=d[x++],k=d[x++];if(v){if(y+(q=u[m++])>l){Ie(i,I,C,S=(l-y)/q,co),Ie(o,E,k,S,ho),t.quadraticCurveTo(co[1],ho[1],co[2],ho[2]);break t}y+=q}t.quadraticCurveTo(I,E,C,k),i=C,o=k;break;case lo.A:var j=d[x++],L=d[x++],P=d[x++],N=d[x++],R=d[x++],B=d[x++],z=d[x++],F=!d[x++],G=P>N?P:N,V=Ao(P-N)>.001,U=R+B,W=!1;if(v)y+(q=u[m++])>l&&(U=R+B*(l-y)/q,W=!0),y+=q;if(V&&t.ellipse?t.ellipse(j,L,P,N,z,R,U,F):t.arc(j,L,G,R,U,F),W)break t;w&&(n=bo(R)*P+j,r=xo(R)*N+L),i=bo(U)*P+j,o=xo(U)*N+L;break;case lo.R:n=i=d[x],r=o=d[x+1],a=d[x++],s=d[x++];var H=d[x++],Y=d[x++];if(v){if(y+(q=u[m++])>l){var X=l-y;t.moveTo(a,s),t.lineTo(a+yo(X,H),s),(X-=H)>0&&t.lineTo(a+H,s+yo(X,Y)),(X-=Y)>0&&t.lineTo(a+mo(H-X,0),s+Y),(X-=H)>0&&t.lineTo(a,s+mo(Y-X,0));break t}y+=q}t.rect(a,s,H,Y);break;case lo.Z:if(v){var q;if(y+(q=u[m++])>l){S=(l-y)/q;t.lineTo(i*(1-S)+n*S,o*(1-S)+r*S);break t}y+=q}t.closePath(),i=n,o=r}}},t.prototype.clone=function(){var e=new t,n=this.data;return e.data=n.slice?n.slice():Array.prototype.slice.call(n),e._len=this._len,e},t.CMD=lo,t.initDefaultProps=((e=t.prototype)._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,void(e._version=0)),t}();function Co(t,e,n,r,i,o,a){if(0===i)return!1;var s=i,u=0;if(a>e+s&&a>r+s||a<e-s&&a<r-s||o>t+s&&o>n+s||o<t-s&&o<n-s)return!1;if(t===n)return Math.abs(o-t)<=s/2;var l=(u=(e-r)/(t-n))*o-a+(t*r-n*e)/(t-n);return l*l/(u*u+1)<=s/2*s/2}function ko(t,e,n,r,i,o,a,s,u,l,c){if(0===u)return!1;var h=u;return!(c>e+h&&c>r+h&&c>o+h&&c>s+h||c<e-h&&c<r-h&&c<o-h&&c<s-h||l>t+h&&l>n+h&&l>i+h&&l>a+h||l<t-h&&l<n-h&&l<i-h&&l<a-h)&&we(t,e,n,r,i,o,a,s,l,c,null)<=h/2}function To(t,e,n,r,i,o,a,s,u){if(0===a)return!1;var l=a;return!(u>e+l&&u>r+l&&u>o+l||u<e-l&&u<r-l&&u<o-l||s>t+l&&s>n+l&&s>i+l||s<t-l&&s<n-l&&s<i-l)&&Ee(t,e,n,r,i,o,s,u,null)<=l/2}var Do=2*Math.PI;function jo(t){return(t%=Do)<0&&(t+=Do),t}var Lo=2*Math.PI;function Po(t,e,n,r,i,o,a,s,u){if(0===a)return!1;var l=a;s-=t,u-=e;var c=Math.sqrt(s*s+u*u);if(c-l>n||c+l<n)return!1;if(Math.abs(r-i)%Lo<1e-4)return!0;if(o){var h=r;r=jo(i),i=jo(h)}else r=jo(r),i=jo(i);r>i&&(i+=Lo);var d=Math.atan2(u,s);return d<0&&(d+=Lo),d>=r&&d<=i||d+Lo>=r&&d+Lo<=i}function No(t,e,n,r,i,o){if(o>e&&o>r||o<e&&o<r)return 0;if(r===e)return 0;var a=(o-e)/(r-e),s=r<e?1:-1;1!==a&&0!==a||(s=r<e?.5:-.5);var u=a*(n-t)+t;return u===i?1/0:u>i?s:0}var Ro=Eo.CMD,Bo=2*Math.PI,zo=1e-4;var Fo=[-1,-1,-1],Go=[-1,-1];function Vo(t,e,n,r,i,o,a,s,u,l){if(l>e&&l>r&&l>o&&l>s||l<e&&l<r&&l<o&&l<s)return 0;var c,h=be(e,r,o,s,l,Fo);if(0===h)return 0;for(var d=0,f=-1,p=void 0,g=void 0,v=0;v<h;v++){var y=Fo[v],m=0===y||1===y?.5:1;ye(t,n,i,a,y)<u||(f<0&&(f=xe(e,r,o,s,Go),Go[1]<Go[0]&&f>1&&(void 0,c=Go[0],Go[0]=Go[1],Go[1]=c),p=ye(e,r,o,s,Go[0]),f>1&&(g=ye(e,r,o,s,Go[1]))),2===f?y<Go[0]?d+=p<e?m:-m:y<Go[1]?d+=g<p?m:-m:d+=s<g?m:-m:y<Go[0]?d+=p<e?m:-m:d+=s<p?m:-m)}return d}function Uo(t,e,n,r,i,o,a,s){if(s>e&&s>r&&s>o||s<e&&s<r&&s<o)return 0;var u=function(t,e,n,r,i){var o=t-2*e+n,a=2*(e-t),s=t-r,u=0;if(ge(o))ve(a)&&(c=-s/a)>=0&&c<=1&&(i[u++]=c);else{var l=a*a-4*o*s;if(ge(l))(c=-a/(2*o))>=0&&c<=1&&(i[u++]=c);else if(l>0){var c,h=se(l),d=(-a-h)/(2*o);(c=(-a+h)/(2*o))>=0&&c<=1&&(i[u++]=c),d>=0&&d<=1&&(i[u++]=d)}}return u}(e,r,o,s,Fo);if(0===u)return 0;var l=Oe(e,r,o);if(l>=0&&l<=1){for(var c=0,h=Me(e,r,o,l),d=0;d<u;d++){var f=0===Fo[d]||1===Fo[d]?.5:1;Me(t,n,i,Fo[d])<a||(Fo[d]<l?c+=h<e?f:-f:c+=o<h?f:-f)}return c}f=0===Fo[0]||1===Fo[0]?.5:1;return Me(t,n,i,Fo[0])<a?0:o<e?f:-f}function Wo(t,e,n,r,i,o,a,s){if((s-=e)>n||s<-n)return 0;var u=Math.sqrt(n*n-s*s);Fo[0]=-u,Fo[1]=u;var l=Math.abs(r-i);if(l<1e-4)return 0;if(l>=Bo-1e-4){r=0,i=Bo;var c=o?1:-1;return a>=Fo[0]+t&&a<=Fo[1]+t?c:0}if(r>i){var h=r;r=i,i=h}r<0&&(r+=Bo,i+=Bo);for(var d=0,f=0;f<2;f++){var p=Fo[f];if(p+t>a){var g=Math.atan2(s,p);c=o?1:-1;g<0&&(g=Bo+g),(g>=r&&g<=i||g+Bo>=r&&g+Bo<=i)&&(g>Math.PI/2&&g<1.5*Math.PI&&(c=-c),d+=c)}}return d}function Ho(t,e,n,r,i){for(var o,a,s,u,l=t.data,c=t.len(),h=0,d=0,f=0,p=0,g=0,v=0;v<c;){var y=l[v++],m=1===v;switch(y===Ro.M&&v>1&&(n||(h+=No(d,f,p,g,r,i))),m&&(p=d=l[v],g=f=l[v+1]),y){case Ro.M:d=p=l[v++],f=g=l[v++];break;case Ro.L:if(n){if(Co(d,f,l[v],l[v+1],e,r,i))return!0}else h+=No(d,f,l[v],l[v+1],r,i)||0;d=l[v++],f=l[v++];break;case Ro.C:if(n){if(ko(d,f,l[v++],l[v++],l[v++],l[v++],l[v],l[v+1],e,r,i))return!0}else h+=Vo(d,f,l[v++],l[v++],l[v++],l[v++],l[v],l[v+1],r,i)||0;d=l[v++],f=l[v++];break;case Ro.Q:if(n){if(To(d,f,l[v++],l[v++],l[v],l[v+1],e,r,i))return!0}else h+=Uo(d,f,l[v++],l[v++],l[v],l[v+1],r,i)||0;d=l[v++],f=l[v++];break;case Ro.A:var b=l[v++],x=l[v++],A=l[v++],w=l[v++],_=l[v++],M=l[v++];v+=1;var S=!!(1-l[v++]);o=Math.cos(_)*A+b,a=Math.sin(_)*w+x,m?(p=o,g=a):h+=No(d,f,o,a,r,i);var O=(r-b)*w/A+b;if(n){if(Po(b,x,w,_,_+M,S,e,O,i))return!0}else h+=Wo(b,x,w,_,_+M,S,O,i);d=Math.cos(_+M)*A+b,f=Math.sin(_+M)*w+x;break;case Ro.R:if(p=d=l[v++],g=f=l[v++],o=p+l[v++],a=g+l[v++],n){if(Co(p,g,o,g,e,r,i)||Co(o,g,o,a,e,r,i)||Co(o,a,p,a,e,r,i)||Co(p,a,p,g,e,r,i))return!0}else h+=No(o,g,o,a,r,i),h+=No(p,a,p,g,r,i);break;case Ro.Z:if(n){if(Co(d,f,p,g,e,r,i))return!0}else h+=No(d,f,p,g,r,i);d=p,f=g}}return n||(s=f,u=g,Math.abs(s-u)<zo)||(h+=No(d,f,p,g,r,i)||0),0!==h}var Yo=Object(g.i)({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Fi),Xo={style:Object(g.i)({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Gi.style)},qo=kn.concat(["invisible","culling","z","z2","zlevel","parent"]),Qo=function(t){function e(e){return t.call(this,e)||this}var n;return Object(f.__extends)(e,t),e.prototype.update=function(){var n=this;t.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(t){n.buildPath(t,n.shape)}),i.silent=!0;var o=i.style;for(var a in r)o[a]!==r[a]&&(o[a]=r[a]);o.fill=r.fill?r.decal:null,o.decal=null,o.shadowColor=null,r.strokeFirst&&(o.stroke=null);for(var s=0;s<qo.length;++s)i[qo[s]]=this[qo[s]];i.__dirty|=Kt}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(e){var n=Object(g.F)(e);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var i=0;i<n.length;i++){var o=n[i],a=e[o];"style"===o?this.style?Object(g.m)(this.style,a):this.useStyle(a):"shape"===o?Object(g.m)(this.shape,a):t.prototype.attrKV.call(this,o,a)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(Object(g.C)(t)){var e=Object(je.d)(t,0);return e>.5?"#333":e>.2?"#eee":"#ccc"}if(t)return"#ccc"}return"#333"},e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(Object(g.C)(e)){var n=this.__zr;if(!(!n||!n.isDarkMode())===Object(je.d)(t,0)<wn)return e}},e.prototype.buildPath=function(t,e,n){},e.prototype.pathUpdated=function(){this.__dirty&=~Jt},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new Eo(!1)},e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.getBoundingRect=function(){var t=this._rect,e=this.style,n=!t;if(n){var r=!1;this.path||(r=!0,this.createPathProxy());var i=this.path;(r||this.__dirty&Jt)&&(i.beginPath(),this.buildPath(i,this.shape,!1),this.pathUpdated()),t=i.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||n){o.copy(t);var a=e.strokeNoScale?this.getLineScale():1,s=e.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;s=Math.max(s,null==u?4:u)}a>1e-10&&(o.width+=s/a,o.height+=s/a,o.x-=s/a/2,o.y-=s/a/2)}return o}return t},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect(),i=this.style;if(t=n[0],e=n[1],r.contain(t,e)){var o=this.path;if(this.hasStroke()){var a=i.lineWidth,s=i.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function(t,e,n,r){return Ho(t,e,!0,n,r)}(o,a/s,t,e)))return!0}if(this.hasFill())return function(t,e,n){return Ho(t,0,!1,e,n)}(o,t,e)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=Jt,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(e,n){"shape"===e?this.setShape(n):t.prototype.attrKV.call(this,e,n)},e.prototype.setShape=function(t,e){var n=this.shape;return n||(n=this.shape={}),"string"==typeof t?n[t]=e:Object(g.m)(n,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&Jt)},e.prototype.createStyle=function(t){return Object(g.g)(Yo,t)},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=Object(g.m)({},this.shape))},e.prototype._applyStateObj=function(e,n,r,i,o,a){t.prototype._applyStateObj.call(this,e,n,r,i,o,a);var s,u=!(n&&i);if(n&&n.shape?o?i?s=n.shape:(s=Object(g.m)({},r.shape),Object(g.m)(s,n.shape)):(s=Object(g.m)({},i?this.shape:r.shape),Object(g.m)(s,n.shape)):u&&(s=r.shape),s)if(o){this.shape=Object(g.m)({},this.shape);for(var l={},c=Object(g.F)(s),h=0;h<c.length;h++){var d=c[h];"object"==typeof s[d]?this.shape[d]=s[d]:l[d]=s[d]}this._transitionState(e,{shape:l},a)}else this.shape=s,this.dirtyShape()},e.prototype._mergeStates=function(e){for(var n,r=t.prototype._mergeStates.call(this,e),i=0;i<e.length;i++){var o=e[i];o.shape&&(n=n||{},this._mergeStyle(n,o.shape))}return n&&(r.shape=n),r},e.prototype.getAnimationStyleProps=function(){return Xo},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var n=function(e){function n(n){var r=e.call(this,n)||this;return t.init&&t.init.call(r,n),r}return Object(f.__extends)(n,e),n.prototype.getDefaultStyle=function(){return Object(g.d)(t.style)},n.prototype.getDefaultShape=function(){return Object(g.d)(t.shape)},n}(e);for(var r in t)"function"==typeof t[r]&&(n.prototype[r]=t[r]);return n},e.initDefaultProps=((n=e.prototype).type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,void(n.__dirty=2|Kt|Jt)),e}(Xi),Zo=Object(g.i)({strokeFirst:!0,font:Ln.a,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Yo),Ko=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.createStyle=function(t){return Object(g.g)(Zo,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;null!=e?e+="":e="";var n=Bn(e,t.font,t.textAlign,t.textBaseline);if(n.x+=t.x||0,n.y+=t.y||0,this.hasStroke()){var r=t.lineWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(Xi);Ko.prototype.type="tspan";var Jo=Ko,$o=Object(g.i)({x:0,y:0},Fi),ta={style:Object(g.i)({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Gi.style)};var ea=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.createStyle=function(t){return Object(g.g)($o,t)},e.prototype._getSize=function(t){var e=this.style,n=e[t];if(null!=n)return n;var r,i=(r=e.image)&&"string"!=typeof r&&r.width&&r.height?e.image:this.__image;if(!i)return 0;var o="width"===t?"height":"width",a=e[o];return null==a?i[t]:i[t]/i[o]*a},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return ta},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new Tt(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Xi);ea.prototype.type="image";var na=ea;var ra=Math.round;function ia(t,e,n){if(e){var r=e.x1,i=e.x2,o=e.y1,a=e.y2;t.x1=r,t.x2=i,t.y1=o,t.y2=a;var s=n&&n.lineWidth;return s?(ra(2*r)===ra(2*i)&&(t.x1=t.x2=aa(r,s,!0)),ra(2*o)===ra(2*a)&&(t.y1=t.y2=aa(o,s,!0)),t):t}}function oa(t,e,n){if(e){var r=e.x,i=e.y,o=e.width,a=e.height;t.x=r,t.y=i,t.width=o,t.height=a;var s=n&&n.lineWidth;return s?(t.x=aa(r,s,!0),t.y=aa(i,s,!0),t.width=Math.max(aa(r+o,s,!1)-t.x,0===o?0:1),t.height=Math.max(aa(i+a,s,!1)-t.y,0===a?0:1),t):t}}function aa(t,e,n){if(!e)return t;var r=ra(2*t);return(r+ra(e))%2==0?r/2:(r+(n?1:-1))/2}var sa=function(){return function(){this.x=0,this.y=0,this.width=0,this.height=0}}(),ua={},la=function(t){function e(e){return t.call(this,e)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultShape=function(){return new sa},e.prototype.buildPath=function(t,e){var n,r,i,o;if(this.subPixelOptimize){var a=oa(ua,e,this.style);n=a.x,r=a.y,i=a.width,o=a.height,a.r=e.r,e=a}else n=e.x,r=e.y,i=e.width,o=e.height;e.r?function(t,e){var n,r,i,o,a,s=e.x,u=e.y,l=e.width,c=e.height,h=e.r;l<0&&(s+=l,l=-l),c<0&&(u+=c,c=-c),"number"==typeof h?n=r=i=o=h:h instanceof Array?1===h.length?n=r=i=o=h[0]:2===h.length?(n=i=h[0],r=o=h[1]):3===h.length?(n=h[0],r=o=h[1],i=h[2]):(n=h[0],r=h[1],i=h[2],o=h[3]):n=r=i=o=0,n+r>l&&(n*=l/(a=n+r),r*=l/a),i+o>l&&(i*=l/(a=i+o),o*=l/a),r+i>c&&(r*=c/(a=r+i),i*=c/a),n+o>c&&(n*=c/(a=n+o),o*=c/a),t.moveTo(s+n,u),t.lineTo(s+l-r,u),0!==r&&t.arc(s+l-r,u+r,r,-Math.PI/2,0),t.lineTo(s+l,u+c-i),0!==i&&t.arc(s+l-i,u+c-i,i,0,Math.PI/2),t.lineTo(s+o,u+c),0!==o&&t.arc(s+o,u+c-o,o,Math.PI/2,Math.PI),t.lineTo(s,u+n),0!==n&&t.arc(s+n,u+n,n,Math.PI,1.5*Math.PI)}(t,e):t.rect(n,r,i,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Qo);la.prototype.type="rect";var ca=la,ha={fill:"#000"},da={style:Object(g.i)({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Gi.style)},fa=function(t){function e(e){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=ha,n.attr(e),n}return Object(f.__extends)(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):t.prototype.getLocalTransform.call(this,e)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){var t;this._childCursor=0,xa(t=this.style),Object(g.k)(t.rich,xa),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new Tt(0,0,0,0),e=this._children,n=[],r=null,i=0;i<e.length;i++){var o=e[i],a=o.getBoundingRect(),s=o.getLocalTransform(n);s?(t.copy(a),t.applyTransform(s),(r=r||t.clone()).union(t)):(r=r||a.clone()).union(a)}this._rect=r||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||ha},e.prototype.setTextContent=function(t){0},e.prototype._mergeStyle=function(t,e){if(!e)return t;var n=e.rich,r=t.rich||n&&{};return Object(g.m)(t,e),n&&r?(this._mergeRich(r,n),t.rich=r):r&&(t.rich=r),t},e.prototype._mergeRich=function(t,e){for(var n=Object(g.F)(e),r=0;r<n.length;r++){var i=n[r];t[i]=t[i]||{},Object(g.m)(t[i],e[i])}},e.prototype.getAnimationStyleProps=function(){return da},e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),this._children[this._childCursor++]=e,e.__zr=this.__zr,e.parent=this,e},e.prototype._updatePlainTexts=function(){var t=this.style,e=t.font||Ln.a,n=t.padding,r=function(t,e){null!=t&&(t+="");var n,r=e.overflow,i=e.padding,o=e.font,a="truncate"===r,s=Gn(o),u=Object(g.P)(e.lineHeight,s),l=!!e.backgroundColor,c="truncate"===e.lineOverflow,h=e.width,d=(n=null==h||"break"!==r&&"breakAll"!==r?t?t.split("\n"):[]:t?Bi(t,e.font,h,"breakAll"===r,0).lines:[]).length*u,f=Object(g.P)(e.height,d);if(d>f&&c){var p=Math.floor(f/u);n=n.slice(0,p)}if(t&&a&&null!=h)for(var v=Ci(h,o,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),y=0;y<n.length;y++)n[y]=ki(n[y],v);var m=f,b=0;for(y=0;y<n.length;y++)b=Math.max(Nn(n[y],o),b);null==h&&(h=b);var x=b;return i&&(m+=i[0]+i[2],x+=i[1]+i[3],h+=i[1]+i[3]),l&&(x=h),{lines:n,height:f,outerWidth:x,outerHeight:m,lineHeight:u,calculatedLineHeight:s,contentWidth:b,contentHeight:d,width:h}}(Ma(t),t),i=Sa(t),o=!!t.backgroundColor,a=r.outerHeight,s=r.outerWidth,u=r.contentWidth,l=r.lines,c=r.lineHeight,h=this._defaultStyle,d=t.x||0,f=t.y||0,p=t.align||h.align||"left",v=t.verticalAlign||h.verticalAlign||"top",y=d,m=Fn(f,r.contentHeight,v);if(i||n){var b=zn(d,s,p),x=Fn(f,a,v);i&&this._renderBackground(t,t,b,x,s,a)}m+=c/2,n&&(y=_a(d,p,n),"top"===v?m+=n[0]:"bottom"===v&&(m-=n[2]));for(var A=0,w=!1,_=(wa("fill"in t?t.fill:(w=!0,h.fill))),M=(Aa("stroke"in t?t.stroke:o||h.autoStroke&&!w?null:(A=2,h.stroke))),S=t.textShadowBlur>0,O=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),I=r.calculatedLineHeight,E=0;E<l.length;E++){var C=this._getOrCreateChild(Jo),k=C.createStyle();C.useStyle(k),k.text=l[E],k.x=y,k.y=m,p&&(k.textAlign=p),k.textBaseline="middle",k.opacity=t.opacity,k.strokeFirst=!0,S&&(k.shadowBlur=t.textShadowBlur||0,k.shadowColor=t.textShadowColor||"transparent",k.shadowOffsetX=t.textShadowOffsetX||0,k.shadowOffsetY=t.textShadowOffsetY||0),k.stroke=M,k.fill=_,M&&(k.lineWidth=t.lineWidth||A,k.lineDash=t.lineDash,k.lineDashOffset=t.lineDashOffset||0),k.font=e,ma(k,t),m+=c,O&&C.setBoundingRect(new Tt(zn(k.x,t.width,k.textAlign),Fn(k.y,I,k.textBaseline),u,I))}},e.prototype._updateRichTexts=function(){var t=this.style,e=function(t,e){var n=new Li;if(null!=t&&(t+=""),!t)return n;for(var r,i=e.width,o=e.height,a=e.overflow,s="break"!==a&&"breakAll"!==a||null==i?null:{width:i,accumWidth:0,breakAll:"breakAll"===a},u=Ii.lastIndex=0;null!=(r=Ii.exec(t));){var l=r.index;l>u&&Pi(n,t.substring(u,l),e,s),Pi(n,r[2],e,s,r[1]),u=Ii.lastIndex}u<t.length&&Pi(n,t.substring(u,t.length),e,s);var c=[],h=0,d=0,f=e.padding,p="truncate"===a,v="truncate"===e.lineOverflow;function y(t,e,n){t.width=e,t.lineHeight=n,h+=n,d=Math.max(d,e)}t:for(var m=0;m<n.lines.length;m++){for(var b=n.lines[m],x=0,A=0,w=0;w<b.tokens.length;w++){var _=(j=b.tokens[w]).styleName&&e.rich[j.styleName]||{},M=j.textPadding=_.padding,S=M?M[1]+M[3]:0,O=j.font=_.font||e.font;j.contentHeight=Gn(O);var I=Object(g.P)(_.height,j.contentHeight);if(j.innerHeight=I,M&&(I+=M[0]+M[2]),j.height=I,j.lineHeight=Object(g.Q)(_.lineHeight,e.lineHeight,I),j.align=_&&_.align||e.align,j.verticalAlign=_&&_.verticalAlign||"middle",v&&null!=o&&h+j.lineHeight>o){w>0?(b.tokens=b.tokens.slice(0,w),y(b,A,x),n.lines=n.lines.slice(0,m+1)):n.lines=n.lines.slice(0,m);break t}var E=_.width,C=null==E||"auto"===E;if("string"==typeof E&&"%"===E.charAt(E.length-1))j.percentWidth=E,c.push(j),j.contentWidth=Nn(j.text,O);else{if(C){var k=_.backgroundColor,T=k&&k.image;T&&Oi(T=_i(T))&&(j.width=Math.max(j.width,T.width*I/T.height))}var D=p&&null!=i?i-A:null;null!=D&&D<j.width?!C||D<S?(j.text="",j.width=j.contentWidth=0):(j.text=Ei(j.text,D-S,O,e.ellipsis,{minChar:e.truncateMinChar}),j.width=j.contentWidth=Nn(j.text,O)):j.contentWidth=Nn(j.text,O)}j.width+=S,A+=j.width,_&&(x=Math.max(x,j.lineHeight))}y(b,A,x)}for(n.outerWidth=n.width=Object(g.P)(i,d),n.outerHeight=n.height=Object(g.P)(o,h),n.contentHeight=h,n.contentWidth=d,f&&(n.outerWidth+=f[1]+f[3],n.outerHeight+=f[0]+f[2]),m=0;m<c.length;m++){var j,L=(j=c[m]).percentWidth;j.width=parseInt(L,10)/100*n.width}return n}(Ma(t),t),n=e.width,r=e.outerWidth,i=e.outerHeight,o=t.padding,a=t.x||0,s=t.y||0,u=this._defaultStyle,l=t.align||u.align,c=t.verticalAlign||u.verticalAlign,h=zn(a,r,l),d=Fn(s,i,c),f=h,p=d;o&&(f+=o[3],p+=o[0]);var v=f+n;Sa(t)&&this._renderBackground(t,t,h,d,r,i);for(var y=!!t.backgroundColor,m=0;m<e.lines.length;m++){for(var b=e.lines[m],x=b.tokens,A=x.length,w=b.lineHeight,_=b.width,M=0,S=f,O=v,I=A-1,E=void 0;M<A&&(!(E=x[M]).align||"left"===E.align);)this._placeToken(E,t,w,p,S,"left",y),_-=E.width,S+=E.width,M++;for(;I>=0&&"right"===(E=x[I]).align;)this._placeToken(E,t,w,p,O,"right",y),_-=E.width,O-=E.width,I--;for(S+=(n-(S-f)-(v-O)-_)/2;M<=I;)E=x[M],this._placeToken(E,t,w,p,S+E.width/2,"center",y),S+=E.width,M++;p+=w}},e.prototype._placeToken=function(t,e,n,r,i,o,a){var s=e.rich[t.styleName]||{};s.text=t.text;var u=t.verticalAlign,l=r+n/2;"top"===u?l=r+t.height/2:"bottom"===u&&(l=r+n-t.height/2),!t.isLineHolder&&Sa(s)&&this._renderBackground(s,e,"right"===o?i-t.width:"center"===o?i-t.width/2:i,l-t.height/2,t.width,t.height);var c=!!s.backgroundColor,h=t.textPadding;h&&(i=_a(i,o,h),l-=t.height/2-h[0]-t.innerHeight/2);var d=this._getOrCreateChild(Jo),f=d.createStyle();d.useStyle(f);var p=this._defaultStyle,v=!1,y=0,m=wa("fill"in s?s.fill:"fill"in e?e.fill:(v=!0,p.fill)),b=Aa("stroke"in s?s.stroke:"stroke"in e?e.stroke:c||a||p.autoStroke&&!v?null:(y=2,p.stroke)),x=s.textShadowBlur>0||e.textShadowBlur>0;f.text=t.text,f.x=i,f.y=l,x&&(f.shadowBlur=s.textShadowBlur||e.textShadowBlur||0,f.shadowColor=s.textShadowColor||e.textShadowColor||"transparent",f.shadowOffsetX=s.textShadowOffsetX||e.textShadowOffsetX||0,f.shadowOffsetY=s.textShadowOffsetY||e.textShadowOffsetY||0),f.textAlign=o,f.textBaseline="middle",f.font=t.font||Ln.a,f.opacity=Object(g.Q)(s.opacity,e.opacity,1),ma(f,s),b&&(f.lineWidth=Object(g.Q)(s.lineWidth,e.lineWidth,y),f.lineDash=Object(g.P)(s.lineDash,e.lineDash),f.lineDashOffset=e.lineDashOffset||0,f.stroke=b),m&&(f.fill=m);var A=t.contentWidth,w=t.contentHeight;d.setBoundingRect(new Tt(zn(f.x,A,f.textAlign),Fn(f.y,w,f.textBaseline),A,w))},e.prototype._renderBackground=function(t,e,n,r,i,o){var a,s,u,l=t.backgroundColor,c=t.borderWidth,h=t.borderColor,d=l&&l.image,f=l&&!d,p=t.borderRadius,v=this;if(f||t.lineHeight||c&&h){(a=this._getOrCreateChild(ca)).useStyle(a.createStyle()),a.style.fill=null;var y=a.shape;y.x=n,y.y=r,y.width=i,y.height=o,y.r=p,a.dirtyShape()}if(f)(u=a.style).fill=l||null,u.fillOpacity=Object(g.P)(t.fillOpacity,1);else if(d){(s=this._getOrCreateChild(na)).onload=function(){v.dirtyStyle()};var m=s.style;m.image=l.image,m.x=n,m.y=r,m.width=i,m.height=o}c&&h&&((u=a.style).lineWidth=c,u.stroke=h,u.strokeOpacity=Object(g.P)(t.strokeOpacity,1),u.lineDash=t.borderDash,u.lineDashOffset=t.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(u.strokeFirst=!0,u.lineWidth*=2));var b=(a||s).style;b.shadowBlur=t.shadowBlur||0,b.shadowColor=t.shadowColor||"transparent",b.shadowOffsetX=t.shadowOffsetX||0,b.shadowOffsetY=t.shadowOffsetY||0,b.opacity=Object(g.Q)(t.opacity,e.opacity,1)},e.makeFont=function(t){var e="";return ba(t)&&(e=[t.fontStyle,t.fontWeight,ya(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),e&&Object(g.T)(e)||t.textFont||t.font},e}(Xi),pa={left:!0,right:1,center:1},ga={top:1,bottom:1,middle:1},va=["fontStyle","fontWeight","fontSize","fontFamily"];function ya(t){return"string"!=typeof t||-1===t.indexOf("px")&&-1===t.indexOf("rem")&&-1===t.indexOf("em")?isNaN(+t)?Ln.c+"px":t+"px":t}function ma(t,e){for(var n=0;n<va.length;n++){var r=va[n],i=e[r];null!=i&&(t[r]=i)}}function ba(t){return null!=t.fontSize||t.fontFamily||t.fontWeight}function xa(t){if(t){t.font=fa.makeFont(t);var e=t.align;"middle"===e&&(e="center"),t.align=null==e||pa[e]?e:"left";var n=t.verticalAlign;"center"===n&&(n="middle"),t.verticalAlign=null==n||ga[n]?n:"top",t.padding&&(t.padding=Object(g.M)(t.padding))}}function Aa(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function wa(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function _a(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function Ma(t){var e=t.text;return null!=e&&(e+=""),e}function Sa(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var Oa=fa,Ia=$r(),Ea=function(t,e,n,r){if(r){var i=Ia(r);i.dataIndex=n,i.dataType=e,i.seriesIndex=t,"group"===r.type&&r.traverse(function(r){var i=Ia(r);i.seriesIndex=t,i.dataIndex=n,i.dataType=e})}},Ca=1,ka={},Ta=$r(),Da=$r(),ja=0,La=1,Pa=2,Na=["emphasis","blur","select"],Ra=["normal","emphasis","blur","select"],Ba=10,za=9,Fa="highlight",Ga="downplay",Va="select",Ua="unselect",Wa="toggleSelect";function Ha(t){return null!=t&&"none"!==t}var Ya=new jn.a(100);function Xa(t){if(Object(g.C)(t)){var e=Ya.get(t);return e||(e=je.c(t,-.1),Ya.put(t,e)),e}if(Object(g.x)(t)){var n=Object(g.m)({},t);return n.colorStops=Object(g.H)(t.colorStops,function(t){return{offset:t.offset,color:je.c(t.color,-.1)}}),n}return t}function qa(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function Qa(t){qa(t,"emphasis",Pa)}function Za(t){t.hoverState===Pa&&qa(t,"normal",ja)}function Ka(t){qa(t,"blur",La)}function Ja(t){t.hoverState===La&&qa(t,"normal",ja)}function $a(t){t.selected=!0}function ts(t){t.selected=!1}function es(t,e,n){e(t,n)}function ns(t,e,n){es(t,e,n),t.isGroup&&t.traverse(function(t){es(t,e,n)})}function rs(t,e){switch(e){case"emphasis":t.hoverState=Pa;break;case"normal":t.hoverState=ja;break;case"blur":t.hoverState=La;break;case"select":t.selected=!0}}function is(t,e){var n=this.states[t];if(this.style){if("emphasis"===t)return function(t,e,n,r){var i=n&&Object(g.r)(n,"select")>=0,o=!1;if(t instanceof Qo){var a=Ta(t),s=i&&a.selectFill||a.normalFill,u=i&&a.selectStroke||a.normalStroke;if(Ha(s)||Ha(u)){var l=(r=r||{}).style||{};"inherit"===l.fill?(o=!0,r=Object(g.m)({},r),(l=Object(g.m)({},l)).fill=s):!Ha(l.fill)&&Ha(s)?(o=!0,r=Object(g.m)({},r),(l=Object(g.m)({},l)).fill=Xa(s)):!Ha(l.stroke)&&Ha(u)&&(o||(r=Object(g.m)({},r),l=Object(g.m)({},l)),l.stroke=Xa(u)),r.style=l}}if(r&&null==r.z2){o||(r=Object(g.m)({},r));var c=t.z2EmphasisLift;r.z2=t.z2+(null!=c?c:Ba)}return r}(this,0,e,n);if("blur"===t)return function(t,e,n){var r=Object(g.r)(t.currentStates,e)>=0,i=t.style.opacity,o=r?null:function(t,e,n,r){for(var i=t.style,o={},a=0;a<e.length;a++){var s=e[a],u=i[s];o[s]=null==u?r&&r[s]:u}for(a=0;a<t.animators.length;a++){var l=t.animators[a];l.__fromStateTransition&&l.__fromStateTransition.indexOf(n)<0&&"style"===l.targetName&&l.saveTo(o,e)}return o}(t,["opacity"],e,{opacity:1}),a=(n=n||{}).style||{};return null==a.opacity&&(n=Object(g.m)({},n),a=Object(g.m)({opacity:r?i:.1*o.opacity},a),n.style=a),n}(this,t,n);if("select"===t)return function(t,e,n){if(n&&null==n.z2){n=Object(g.m)({},n);var r=t.z2SelectLift;n.z2=t.z2+(null!=r?r:za)}return n}(this,0,n)}return n}function os(t){t.stateProxy=is;var e=t.getTextContent(),n=t.getTextGuideLine();e&&(e.stateProxy=is),n&&(n.stateProxy=is)}function as(t,e){!ps(t,e)&&!t.__highByOuter&&ns(t,Qa)}function ss(t,e){!ps(t,e)&&!t.__highByOuter&&ns(t,Za)}function us(t,e){t.__highByOuter|=1<<(e||0),ns(t,Qa)}function ls(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&ns(t,Za)}function cs(t){ns(t,Ka)}function hs(t){ns(t,Ja)}function ds(t){ns(t,$a)}function fs(t){ns(t,ts)}function ps(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function gs(t){var e=t.getModel(),n=[],r=[];e.eachComponent(function(e,i){var o=Da(i),a="series"===e,s=a?t.getViewOfSeriesModel(i):t.getViewOfComponentModel(i);!a&&r.push(s),o.isBlured&&(s.group.traverse(function(t){Ja(t)}),a&&n.push(i)),o.isBlured=!1}),Object(g.k)(r,function(t){t&&t.toggleBlurSeries&&t.toggleBlurSeries(n,!1,e)})}function vs(t,e,n,r){var i=r.getModel();function o(t,e){for(var n=0;n<e.length;n++){var r=t.getItemGraphicEl(e[n]);r&&hs(r)}}if(n=n||"coordinateSystem",null!=t&&e&&"none"!==e){var a=i.getSeriesByIndex(t),s=a.coordinateSystem;s&&s.master&&(s=s.master);var u=[];i.eachSeries(function(t){var i=a===t,l=t.coordinateSystem;if(l&&l.master&&(l=l.master),!("series"===n&&!i||"coordinateSystem"===n&&!(l&&s?l===s:i)||"series"===e&&i)){if(r.getViewOfSeriesModel(t).group.traverse(function(t){Ka(t)}),Object(g.u)(e))o(t.getData(),e);else if(Object(g.A)(e))for(var c=Object(g.F)(e),h=0;h<c.length;h++)o(t.getData(c[h]),e[c[h]]);u.push(t),Da(t).isBlured=!0}}),i.eachComponent(function(t,e){if("series"!==t){var n=r.getViewOfComponentModel(e);n&&n.toggleBlurSeries&&n.toggleBlurSeries(u,!0,i)}})}}function ys(t,e,n){if(null!=t&&null!=e){var r=n.getModel().getComponent(t,e);if(r){Da(r).isBlured=!0;var i=n.getViewOfComponentModel(r);i&&i.focusBlurEnabled&&i.group.traverse(function(t){Ka(t)})}}}function ms(t,e,n,r){var i={focusSelf:!1,dispatchers:null};if(null==t||"series"===t||null==e||null==n)return i;var o=r.getModel().getComponent(t,e);if(!o)return i;var a=r.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return i;for(var s,u=a.findHighDownDispatchers(n),l=0;l<u.length;l++)if("self"===Ia(u[l]).focus){s=!0;break}return{focusSelf:s,dispatchers:u}}function bs(t){var e=t.getAllData();Object(g.k)(e,function(e){var n=e.data,r=e.type;n.eachItemGraphicEl(function(e,n){t.isSelected(n,r)?ds(e):fs(e)})})}function xs(t,e,n){Os(t,!0),ns(t,os),ws(t,e,n)}function As(t,e,n,r){r?function(t){Os(t,!1)}(t):xs(t,e,n)}function ws(t,e,n){var r=Ia(t);null!=e?(r.focus=e,r.blurScope=n):r.focus&&(r.focus=null)}var _s=["emphasis","blur","select"],Ms={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Ss(t,e,n,r){n=n||"itemStyle";for(var i=0;i<_s.length;i++){var o=_s[i],a=e.getModel([o,n]);t.ensureState(o).style=r?r(a):a[Ms[n]]()}}function Os(t,e){var n=!1===e,r=t;t.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=t.highDownSilentOnTouch),n&&!r.__highDownDispatcher||(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function Is(t){return!(!t||!t.__highDownDispatcher)}function Es(t){var e=t.type;return e===Va||e===Ua||e===Wa}function Cs(t){var e=t.type;return e===Fa||e===Ga}var ks=Eo.CMD,Ts=[[],[],[]],Ds=Math.sqrt,js=Math.atan2;function Ls(t,e){if(e){var n,r,i,o,a,s,u=t.data,l=t.len(),c=ks.M,h=ks.C,d=ks.L,f=ks.R,p=ks.A,g=ks.Q;for(i=0,o=0;i<l;){switch(n=u[i++],o=i,r=0,n){case c:case d:r=1;break;case h:r=3;break;case g:r=2;break;case p:var v=e[4],y=e[5],m=Ds(e[0]*e[0]+e[1]*e[1]),b=Ds(e[2]*e[2]+e[3]*e[3]),x=js(-e[1]/b,e[0]/m);u[i]*=m,u[i++]+=v,u[i]*=b,u[i++]+=y,u[i++]*=m,u[i++]*=b,u[i++]+=x,u[i++]+=x,o=i+=2;break;case f:s[0]=u[i++],s[1]=u[i++],B(s,s,e),u[o++]=s[0],u[o++]=s[1],s[0]+=u[i++],s[1]+=u[i++],B(s,s,e),u[o++]=s[0],u[o++]=s[1]}for(a=0;a<r;a++){var A=Ts[a];A[0]=u[i++],A[1]=u[i++],B(A,A,e),u[o++]=A[0],u[o++]=A[1]}}t.increaseVersion()}}var Ps=Math.sqrt,Ns=Math.sin,Rs=Math.cos,Bs=Math.PI;function zs(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Fs(t,e){return(t[0]*e[0]+t[1]*e[1])/(zs(t)*zs(e))}function Gs(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Fs(t,e))}function Vs(t,e,n,r,i,o,a,s,u,l,c){var h=u*(Bs/180),d=Rs(h)*(t-n)/2+Ns(h)*(e-r)/2,f=-1*Ns(h)*(t-n)/2+Rs(h)*(e-r)/2,p=d*d/(a*a)+f*f/(s*s);p>1&&(a*=Ps(p),s*=Ps(p));var g=(i===o?-1:1)*Ps((a*a*(s*s)-a*a*(f*f)-s*s*(d*d))/(a*a*(f*f)+s*s*(d*d)))||0,v=g*a*f/s,y=g*-s*d/a,m=(t+n)/2+Rs(h)*v-Ns(h)*y,b=(e+r)/2+Ns(h)*v+Rs(h)*y,x=Gs([1,0],[(d-v)/a,(f-y)/s]),A=[(d-v)/a,(f-y)/s],w=[(-1*d-v)/a,(-1*f-y)/s],_=Gs(A,w);if(Fs(A,w)<=-1&&(_=Bs),Fs(A,w)>=1&&(_=0),_<0){var M=Math.round(_/Bs*1e6)/1e6;_=2*Bs+M%2*Bs}c.addData(l,m,b,a,s,x,_,h,o)}var Us=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Ws=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;var Hs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.applyTransform=function(t){},e}(Qo);function Ys(t){return null!=t.setData}function Xs(t,e){var n=function(t){var e=new Eo;if(!t)return e;var n,r=0,i=0,o=r,a=i,s=Eo.CMD,u=t.match(Us);if(!u)return e;for(var l=0;l<u.length;l++){for(var c=u[l],h=c.charAt(0),d=void 0,f=c.match(Ws)||[],p=f.length,g=0;g<p;g++)f[g]=parseFloat(f[g]);for(var v=0;v<p;){var y=void 0,m=void 0,b=void 0,x=void 0,A=void 0,w=void 0,_=void 0,M=r,S=i,O=void 0,I=void 0;switch(h){case"l":r+=f[v++],i+=f[v++],d=s.L,e.addData(d,r,i);break;case"L":r=f[v++],i=f[v++],d=s.L,e.addData(d,r,i);break;case"m":r+=f[v++],i+=f[v++],d=s.M,e.addData(d,r,i),o=r,a=i,h="l";break;case"M":r=f[v++],i=f[v++],d=s.M,e.addData(d,r,i),o=r,a=i,h="L";break;case"h":r+=f[v++],d=s.L,e.addData(d,r,i);break;case"H":r=f[v++],d=s.L,e.addData(d,r,i);break;case"v":i+=f[v++],d=s.L,e.addData(d,r,i);break;case"V":i=f[v++],d=s.L,e.addData(d,r,i);break;case"C":d=s.C,e.addData(d,f[v++],f[v++],f[v++],f[v++],f[v++],f[v++]),r=f[v-2],i=f[v-1];break;case"c":d=s.C,e.addData(d,f[v++]+r,f[v++]+i,f[v++]+r,f[v++]+i,f[v++]+r,f[v++]+i),r+=f[v-2],i+=f[v-1];break;case"S":y=r,m=i,O=e.len(),I=e.data,n===s.C&&(y+=r-I[O-4],m+=i-I[O-3]),d=s.C,M=f[v++],S=f[v++],r=f[v++],i=f[v++],e.addData(d,y,m,M,S,r,i);break;case"s":y=r,m=i,O=e.len(),I=e.data,n===s.C&&(y+=r-I[O-4],m+=i-I[O-3]),d=s.C,M=r+f[v++],S=i+f[v++],r+=f[v++],i+=f[v++],e.addData(d,y,m,M,S,r,i);break;case"Q":M=f[v++],S=f[v++],r=f[v++],i=f[v++],d=s.Q,e.addData(d,M,S,r,i);break;case"q":M=f[v++]+r,S=f[v++]+i,r+=f[v++],i+=f[v++],d=s.Q,e.addData(d,M,S,r,i);break;case"T":y=r,m=i,O=e.len(),I=e.data,n===s.Q&&(y+=r-I[O-4],m+=i-I[O-3]),r=f[v++],i=f[v++],d=s.Q,e.addData(d,y,m,r,i);break;case"t":y=r,m=i,O=e.len(),I=e.data,n===s.Q&&(y+=r-I[O-4],m+=i-I[O-3]),r+=f[v++],i+=f[v++],d=s.Q,e.addData(d,y,m,r,i);break;case"A":b=f[v++],x=f[v++],A=f[v++],w=f[v++],_=f[v++],Vs(M=r,S=i,r=f[v++],i=f[v++],w,_,b,x,A,d=s.A,e);break;case"a":b=f[v++],x=f[v++],A=f[v++],w=f[v++],_=f[v++],Vs(M=r,S=i,r+=f[v++],i+=f[v++],w,_,b,x,A,d=s.A,e)}}"z"!==h&&"Z"!==h||(d=s.Z,e.addData(d),r=o,i=a),n=d}return e.toStatic(),e}(t),r=Object(g.m)({},e);return r.buildPath=function(t){if(Ys(t)){t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e,1)}else{var e=t;n.rebuildPath(e,1)}},r.applyTransform=function(t){Ls(n,t),this.dirtyShape()},r}function qs(t,e){return new Hs(Xs(t,e))}function Qs(t,e){e=e||{};var n=new Qo;return t.shape&&n.setShape(t.shape),n.setStyle(t.style),e.bakeTransform?Ls(n.path,t.getComputedTransform()):e.toLocal?n.setLocalTransform(t.getComputedTransform()):n.copyTransform(t),n.buildPath=t.buildPath,n.applyTransform=n.applyTransform,n.z=t.z,n.z2=t.z2,n.zlevel=t.zlevel,n}var Zs=function(){return function(){this.cx=0,this.cy=0,this.r=0}}(),Ks=function(t){function e(e){return t.call(this,e)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultShape=function(){return new Zs},e.prototype.buildPath=function(t,e){t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI)},e}(Qo);Ks.prototype.type="circle";var Js=Ks,$s=function(){return function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}}(),tu=function(t){function e(e){return t.call(this,e)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultShape=function(){return new $s},e.prototype.buildPath=function(t,e){var n=.5522848,r=e.cx,i=e.cy,o=e.rx,a=e.ry,s=o*n,u=a*n;t.moveTo(r-o,i),t.bezierCurveTo(r-o,i-u,r-s,i-a,r,i-a),t.bezierCurveTo(r+s,i-a,r+o,i-u,r+o,i),t.bezierCurveTo(r+o,i+u,r+s,i+a,r,i+a),t.bezierCurveTo(r-s,i+a,r-o,i+u,r-o,i),t.closePath()},e}(Qo);tu.prototype.type="ellipse";var eu=tu,nu=Math.PI,ru=2*nu,iu=Math.sin,ou=Math.cos,au=Math.acos,su=Math.atan2,uu=Math.abs,lu=Math.sqrt,cu=Math.max,hu=Math.min,du=1e-4;function fu(t,e,n,r,i,o,a){var s=t-n,u=e-r,l=(a?o:-o)/lu(s*s+u*u),c=l*u,h=-l*s,d=t+c,f=e+h,p=n+c,g=r+h,v=(d+p)/2,y=(f+g)/2,m=p-d,b=g-f,x=m*m+b*b,A=i-o,w=d*g-p*f,_=(b<0?-1:1)*lu(cu(0,A*A*x-w*w)),M=(w*b-m*_)/x,S=(-w*m-b*_)/x,O=(w*b+m*_)/x,I=(-w*m+b*_)/x,E=M-v,C=S-y,k=O-v,T=I-y;return E*E+C*C>k*k+T*T&&(M=O,S=I),{cx:M,cy:S,x0:-c,y0:-h,x1:M*(i/A-1),y1:S*(i/A-1)}}function pu(t,e){var n,r=cu(e.r,0),i=cu(e.r0||0,0),o=r>0;if(o||i>0){if(o||(r=i,i=0),i>r){var a=r;r=i,i=a}var s=e.startAngle,u=e.endAngle;if(!isNaN(s)&&!isNaN(u)){var l=e.cx,c=e.cy,h=!!e.clockwise,d=uu(u-s),f=d>ru&&d%ru;if(f>du&&(d=f),r>du)if(d>ru-du)t.moveTo(l+r*ou(s),c+r*iu(s)),t.arc(l,c,r,s,u,!h),i>du&&(t.moveTo(l+i*ou(u),c+i*iu(u)),t.arc(l,c,i,u,s,h));else{var p=void 0,v=void 0,y=void 0,m=void 0,b=void 0,x=void 0,A=void 0,w=void 0,_=void 0,M=void 0,S=void 0,O=void 0,I=void 0,E=void 0,C=void 0,k=void 0,T=r*ou(s),D=r*iu(s),j=i*ou(u),L=i*iu(u),P=d>du;if(P){var N=e.cornerRadius;N&&(p=(n=function(t){var e;if(Object(g.t)(t)){var n=t.length;if(!n)return t;e=1===n?[t[0],t[0],0,0]:2===n?[t[0],t[0],t[1],t[1]]:3===n?t.concat(t[2]):t}else e=[t,t,t,t];return e}(N))[0],v=n[1],y=n[2],m=n[3]);var R=uu(r-i)/2;if(b=hu(R,y),x=hu(R,m),A=hu(R,p),w=hu(R,v),S=_=cu(b,x),O=M=cu(A,w),(_>du||M>du)&&(I=r*ou(u),E=r*iu(u),C=i*ou(s),k=i*iu(s),d<nu)){var B=function(t,e,n,r,i,o,a,s){var u=n-t,l=r-e,c=a-i,h=s-o,d=h*u-c*l;if(!(d*d<du))return[t+(d=(c*(e-o)-h*(t-i))/d)*u,e+d*l]}(T,D,C,k,I,E,j,L);if(B){var z=T-B[0],F=D-B[1],G=I-B[0],V=E-B[1],U=1/iu(au((z*G+F*V)/(lu(z*z+F*F)*lu(G*G+V*V)))/2),W=lu(B[0]*B[0]+B[1]*B[1]);S=hu(_,(r-W)/(U+1)),O=hu(M,(i-W)/(U-1))}}}if(P)if(S>du){var H=hu(y,S),Y=hu(m,S),X=fu(C,k,T,D,r,H,h),q=fu(I,E,j,L,r,Y,h);t.moveTo(l+X.cx+X.x0,c+X.cy+X.y0),S<_&&H===Y?t.arc(l+X.cx,c+X.cy,S,su(X.y0,X.x0),su(q.y0,q.x0),!h):(H>0&&t.arc(l+X.cx,c+X.cy,H,su(X.y0,X.x0),su(X.y1,X.x1),!h),t.arc(l,c,r,su(X.cy+X.y1,X.cx+X.x1),su(q.cy+q.y1,q.cx+q.x1),!h),Y>0&&t.arc(l+q.cx,c+q.cy,Y,su(q.y1,q.x1),su(q.y0,q.x0),!h))}else t.moveTo(l+T,c+D),t.arc(l,c,r,s,u,!h);else t.moveTo(l+T,c+D);if(i>du&&P)if(O>du){H=hu(p,O),X=fu(j,L,I,E,i,-(Y=hu(v,O)),h),q=fu(T,D,C,k,i,-H,h);t.lineTo(l+X.cx+X.x0,c+X.cy+X.y0),O<M&&H===Y?t.arc(l+X.cx,c+X.cy,O,su(X.y0,X.x0),su(q.y0,q.x0),!h):(Y>0&&t.arc(l+X.cx,c+X.cy,Y,su(X.y0,X.x0),su(X.y1,X.x1),!h),t.arc(l,c,i,su(X.cy+X.y1,X.cx+X.x1),su(q.cy+q.y1,q.cx+q.x1),h),H>0&&t.arc(l+q.cx,c+q.cy,H,su(q.y1,q.x1),su(q.y0,q.x0),!h))}else t.lineTo(l+j,c+L),t.arc(l,c,i,u,s,h);else t.lineTo(l+j,c+L)}else t.moveTo(l,c);t.closePath()}}}var gu=function(){return function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0}}(),vu=function(t){function e(e){return t.call(this,e)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultShape=function(){return new gu},e.prototype.buildPath=function(t,e){pu(t,e)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Qo);vu.prototype.type="sector";var yu=vu,mu=function(){return function(){this.cx=0,this.cy=0,this.r=0,this.r0=0}}(),bu=function(t){function e(e){return t.call(this,e)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultShape=function(){return new mu},e.prototype.buildPath=function(t,e){var n=e.cx,r=e.cy,i=2*Math.PI;t.moveTo(n+e.r,r),t.arc(n,r,e.r,0,i,!1),t.moveTo(n+e.r0,r),t.arc(n,r,e.r0,0,i,!0)},e}(Qo);bu.prototype.type="ring";var xu=bu;function Au(t,e,n){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r){var o=function(t,e,n,r){var i,o,a,s,u=[],l=[],c=[],h=[];if(r){a=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,f=t.length;d<f;d++)z(a,a,t[d]),F(s,s,t[d]);z(a,a,r[0]),F(s,s,r[1])}for(d=0,f=t.length;d<f;d++){var p=t[d];if(n)i=t[d?d-1:f-1],o=t[(d+1)%f];else{if(0===d||d===f-1){u.push(m(t[d]));continue}i=t[d-1],o=t[d+1]}w(l,o,i),k(l,l,e);var g=D(p,i),v=D(p,o),y=g+v;0!==y&&(g/=y,v/=y),k(c,l,-g),k(h,l,v);var b=x([],p,c),A=x([],p,h);r&&(F(b,b,a),z(b,b,s),F(A,A,a),z(A,A,s)),u.push(b),u.push(A)}return n&&u.push(u.shift()),u}(i,r,n,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var a=i.length,s=0;s<(n?a:a-1);s++){var u=o[2*s],l=o[2*s+1],c=i[(s+1)%a];t.bezierCurveTo(u[0],u[1],l[0],l[1],c[0],c[1])}}else{t.moveTo(i[0][0],i[0][1]);s=1;for(var h=i.length;s<h;s++)t.lineTo(i[s][0],i[s][1])}n&&t.closePath()}}var wu=function(){return function(){this.points=null,this.smooth=0,this.smoothConstraint=null}}(),_u=function(t){function e(e){return t.call(this,e)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultShape=function(){return new wu},e.prototype.buildPath=function(t,e){Au(t,e,!0)},e}(Qo);_u.prototype.type="polygon";var Mu=_u,Su=function(){return function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}}(),Ou=function(t){function e(e){return t.call(this,e)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Su},e.prototype.buildPath=function(t,e){Au(t,e,!1)},e}(Qo);Ou.prototype.type="polyline";var Iu=Ou,Eu={},Cu=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}}(),ku=function(t){function e(e){return t.call(this,e)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Cu},e.prototype.buildPath=function(t,e){var n,r,i,o;if(this.subPixelOptimize){var a=ia(Eu,e,this.style);n=a.x1,r=a.y1,i=a.x2,o=a.y2}else n=e.x1,r=e.y1,i=e.x2,o=e.y2;var s=e.percent;0!==s&&(t.moveTo(n,r),s<1&&(i=n*(1-s)+i*s,o=r*(1-s)+o*s),t.lineTo(i,o))},e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},e}(Qo);ku.prototype.type="line";var Tu=ku,Du=[],ju=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}}();function Lu(t,e,n){var r=t.cpx2,i=t.cpy2;return null!=r||null!=i?[(n?me:ye)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?me:ye)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?Se:Me)(t.x1,t.cpx1,t.x2,e),(n?Se:Me)(t.y1,t.cpy1,t.y2,e)]}var Pu=function(t){function e(e){return t.call(this,e)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ju},e.prototype.buildPath=function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,u=e.cpx2,l=e.cpy2,c=e.percent;0!==c&&(t.moveTo(n,r),null==u||null==l?(c<1&&(Ie(n,a,i,c,Du),a=Du[1],i=Du[2],Ie(r,s,o,c,Du),s=Du[1],o=Du[2]),t.quadraticCurveTo(a,s,i,o)):(c<1&&(Ae(n,a,u,i,c,Du),a=Du[1],u=Du[2],i=Du[3],Ae(r,s,l,o,c,Du),s=Du[1],l=Du[2],o=Du[3]),t.bezierCurveTo(a,s,u,l,i,o)))},e.prototype.pointAt=function(t){return Lu(this.shape,t,!1)},e.prototype.tangentAt=function(t){var e=Lu(this.shape,t,!0);return T(e,e)},e}(Qo);Pu.prototype.type="bezier-curve";var Nu=Pu,Ru=function(){return function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}}(),Bu=function(t){function e(e){return t.call(this,e)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Ru},e.prototype.buildPath=function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,u=Math.cos(o),l=Math.sin(o);t.moveTo(u*i+n,l*i+r),t.arc(n,r,i,o,a,!s)},e}(Qo);Bu.prototype.type="arc";var zu=Bu,Fu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="compound",e}return Object(f.__extends)(e,t),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,e=this.shapeChanged(),n=0;n<t.length;n++)e=e||t[n].shapeChanged();e&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1],t[n].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,e){for(var n=e.paths||[],r=0;r<n.length;r++)n[r].buildPath(t,n[r].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Qo.prototype.getBoundingRect.call(this)},e}(Qo),Gu=function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},t}(),Vu=function(t){function e(e,n,r,i,o,a){var s=t.call(this,o)||this;return s.x=null==e?0:e,s.y=null==n?0:n,s.x2=null==r?1:r,s.y2=null==i?0:i,s.type="linear",s.global=a||!1,s}return Object(f.__extends)(e,t),e}(Gu),Uu=function(t){function e(e,n,r,i,o){var a=t.call(this,i)||this;return a.x=null==e?.5:e,a.y=null==n?.5:n,a.r=null==r?.5:r,a.type="radial",a.global=o||!1,a}return Object(f.__extends)(e,t),e}(Gu),Wu=[0,0],Hu=[0,0],Yu=new wt,Xu=new wt,qu=function(){function t(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new wt;for(n=0;n<2;n++)this._axes[n]=new wt;t&&this.fromBoundingRect(t,e)}return t.prototype.fromBoundingRect=function(t,e){var n=this._corners,r=this._axes,i=t.x,o=t.y,a=i+t.width,s=o+t.height;if(n[0].set(i,o),n[1].set(a,o),n[2].set(a,s),n[3].set(i,s),e)for(var u=0;u<4;u++)n[u].transform(e);wt.sub(r[0],n[1],n[0]),wt.sub(r[1],n[3],n[0]),r[0].normalize(),r[1].normalize();for(u=0;u<2;u++)this._origin[u]=r[u].dot(n[0])},t.prototype.intersect=function(t,e){var n=!0,r=!e;return Yu.set(1/0,1/0),Xu.set(0,0),!this._intersectCheckOneSide(this,t,Yu,Xu,r,1)&&(n=!1,r)?n:!this._intersectCheckOneSide(t,this,Yu,Xu,r,-1)&&(n=!1,r)?n:(r||wt.copy(e,n?Yu:Xu),n)},t.prototype._intersectCheckOneSide=function(t,e,n,r,i,o){for(var a=!0,s=0;s<2;s++){var u=this._axes[s];if(this._getProjMinMaxOnAxis(s,t._corners,Wu),this._getProjMinMaxOnAxis(s,e._corners,Hu),Wu[1]<Hu[0]||Wu[0]>Hu[1]){if(a=!1,i)return a;var l=Math.abs(Hu[0]-Wu[1]),c=Math.abs(Wu[0]-Hu[1]);Math.min(l,c)>r.len()&&(l<c?wt.scale(r,u,-l*o):wt.scale(r,u,c*o))}else if(n){l=Math.abs(Hu[0]-Wu[1]),c=Math.abs(Wu[0]-Hu[1]);Math.min(l,c)<n.len()&&(l<c?wt.scale(n,u,l*o):wt.scale(n,u,-c*o))}}return a},t.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var r=this._axes[t],i=this._origin,o=e[0].dot(r)+i[t],a=o,s=o,u=1;u<e.length;u++){var l=e[u].dot(r)+i[t];a=Math.min(l,a),s=Math.max(l,s)}n[0]=a,n[1]=s},t}(),Qu=[],Zu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return Object(f.__extends)(e,t),e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Tt(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],r=n.getBoundingRect().clone();n.needLocalTransform()&&r.applyTransform(n.getLocalTransform(Qu)),t.union(r)}this._rect=t}return this._rect},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var r=0;r<this._displayables.length;r++){if(this._displayables[r].contain(t,e))return!0}return!1},e}(Xi),Ku=$r();function Ju(t,e,n,r,i){var o;if(e&&e.ecModel){var a=e.ecModel.getUpdatePayload();o=a&&a.animation}var s="update"===t;if(e&&e.isAnimationEnabled()){var u=void 0,l=void 0,c=void 0;return r?(u=Object(g.P)(r.duration,200),l=Object(g.P)(r.easing,"cubicOut"),c=0):(u=e.getShallow(s?"animationDurationUpdate":"animationDuration"),l=e.getShallow(s?"animationEasingUpdate":"animationEasing"),c=e.getShallow(s?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(u=o.duration),null!=o.easing&&(l=o.easing),null!=o.delay&&(c=o.delay)),Object(g.w)(c)&&(c=c(n,i)),Object(g.w)(u)&&(u=u(n)),{duration:u||0,delay:c,easing:l}}return null}function $u(t,e,n,r,i,o,a){var s,u=!1;Object(g.w)(i)?(a=o,o=i,i=null):Object(g.A)(i)&&(o=i.cb,a=i.during,u=i.isFrom,s=i.removeOpt,i=i.dataIndex);var l="leave"===t;l||e.stopAnimation("leave");var c=Ju(t,r,i,l?s||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null);if(c&&c.duration>0){var h=c.duration,d=c.delay,f=c.easing,p={duration:h,delay:d||0,easing:f,done:o,force:!!o||!!a,setToFinal:!l,scope:t,during:a};u?e.animateFrom(n,p):e.animateTo(n,p)}else e.stopAnimation(),!u&&e.attr(n),a&&a(1),o&&o()}function tl(t,e,n,r,i,o){$u("update",t,e,n,r,i,o)}function el(t,e,n,r,i,o){$u("enter",t,e,n,r,i,o)}function nl(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){if("leave"===t.animators[e].scope)return!0}return!1}function rl(t,e,n,r,i,o){nl(t)||$u("leave",t,e,n,r,i,o)}function il(t,e,n,r){t.removeTextContent(),t.removeTextGuideLine(),rl(t,{style:{opacity:0}},e,n,r)}function ol(t,e,n){function r(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(t){t.isGroup||il(t,e,n,r)}):il(t,e,n,r)}function al(t){Ku(t).oldStyle=t.style}var sl=Math.max,ul=Math.min,ll={};function cl(t){return Qo.extend(t)}var hl=function(t,e){var n=Xs(t,e);return function(t){function e(e){var r=t.call(this,e)||this;return r.applyTransform=n.applyTransform,r.buildPath=n.buildPath,r}return Object(f.__extends)(e,t),e}(Hs)};function dl(t,e){return hl(t,e)}function fl(t,e){ll[t]=e}function pl(t){if(ll.hasOwnProperty(t))return ll[t]}function gl(t,e,n,r){var i=qs(t,e);return n&&("center"===r&&(n=yl(n,i.getBoundingRect())),bl(i,n)),i}function vl(t,e,n){var r=new na({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var i={width:t.width,height:t.height};r.setStyle(yl(e,i))}}});return r}function yl(t,e){var n,r=e.width/e.height,i=t.height*r;return n=i<=t.width?t.height:(i=t.width)/r,{x:t.x+t.width/2-i/2,y:t.y+t.height/2-n/2,width:i,height:n}}var ml=function(t,e){for(var n=[],r=t.length,i=0;i<r;i++){var o=t[i];n.push(o.getUpdatedPathProxy(!0))}var a=new Qo(e);return a.createPathProxy(),a.buildPath=function(t){if(Ys(t)){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e,1)}},a};function bl(t,e){if(t.applyTransform){var n=t.getBoundingRect().calculateTransform(e);t.applyTransform(n)}}function xl(t,e){return ia(t,t,{lineWidth:e}),t}function Al(t){return oa(t.shape,t.shape,t.style),t}var wl=aa;function _l(t,e){for(var n=pt([]);t&&t!==e;)vt(n,t.getLocalTransform(),n),t=t.parent;return n}function Ml(t,e,n){return e&&!Object(g.u)(e)&&(e=Dn.getLocalTransform(e)),n&&(e=xt([],e)),B([],t,e)}function Sl(t,e,n){var r=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),i=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-r:"right"===t?r:0,"top"===t?-i:"bottom"===t?i:0];return o=Ml(o,e,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function Ol(t){return!t.isGroup}function Il(t,e,n){if(t&&e){var r,i=(r={},t.traverse(function(t){Ol(t)&&t.anid&&(r[t.anid]=t)}),r);e.traverse(function(t){if(Ol(t)&&t.anid){var e=i[t.anid];if(e){var r=o(t);t.attr(o(e)),tl(t,r,n,Ia(t).dataIndex)}}})}function o(t){var e={x:t.x,y:t.y,rotation:t.rotation};return function(t){return null!=t.shape}(t)&&(e.shape=Object(g.m)({},t.shape)),e}}function El(t,e){return Object(g.H)(t,function(t){var n=t[0];n=sl(n,e.x),n=ul(n,e.x+e.width);var r=t[1];return r=sl(r,e.y),[n,r=ul(r,e.y+e.height)]})}function Cl(t,e){var n=sl(t.x,e.x),r=ul(t.x+t.width,e.x+e.width),i=sl(t.y,e.y),o=ul(t.y+t.height,e.y+e.height);if(r>=n&&o>=i)return{x:n,y:i,width:r-n,height:o-i}}function kl(t,e,n){var r=Object(g.m)({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(i.image=t.slice(8),Object(g.i)(i,n),new na(r)):gl(t.replace("path://",""),r,n,"center")}function Tl(t,e,n,r,i){for(var o=0,a=i[i.length-1];o<i.length;o++){var s=i[o];if(Dl(t,e,n,r,s[0],s[1],a[0],a[1]))return!0;a=s}}function Dl(t,e,n,r,i,o,a,s){var u,l=n-t,c=r-e,h=a-i,d=s-o,f=jl(h,d,l,c);if((u=f)<=1e-6&&u>=-1e-6)return!1;var p=t-i,g=e-o,v=jl(p,g,l,c)/f;if(v<0||v>1)return!1;var y=jl(p,g,h,d)/f;return!(y<0||y>1)}function jl(t,e,n,r){return t*r-n*e}function Ll(t){var e=t.itemTooltipOption,n=t.componentModel,r=t.itemName,i=Object(g.C)(e)?{formatter:e}:e,o=n.mainType,a=n.componentIndex,s={componentType:o,name:r,$vars:["name"]};s[o+"Index"]=a;var u=t.formatterParamsExtra;u&&Object(g.k)(Object(g.F)(u),function(t){Object(g.q)(s,t)||(s[t]=u[t],s.$vars.push(t))});var l=Ia(t.el);l.componentMainType=o,l.componentIndex=a,l.tooltipConfig={name:r,option:Object(g.i)({content:r,formatterParams:s},i)}}function Pl(t,e){var n;t.isGroup&&(n=e(t)),n||t.traverse(e)}function Nl(t,e){if(t)if(Object(g.t)(t))for(var n=0;n<t.length;n++)Pl(t[n],e);else Pl(t,e)}fl("circle",Js),fl("ellipse",eu),fl("sector",yu),fl("ring",xu),fl("polygon",Mu),fl("polyline",Iu),fl("rect",ca),fl("line",Tu),fl("bezierCurve",Nu),fl("arc",zu);var Rl={};function Bl(t,e){for(var n=0;n<Na.length;n++){var r=Na[n],i=e[r],o=t.ensureState(r);o.style=o.style||{},o.style.text=i}var a=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(a,!0)}function zl(t,e,n){var r,i=t.labelFetcher,o=t.labelDataIndex,a=t.labelDimIndex,s=e.normal;i&&(r=i.getFormattedLabel(o,"normal",null,a,s&&s.get("formatter"),null!=n?{interpolatedValue:n}:null)),null==r&&(r=Object(g.w)(t.defaultText)?t.defaultText(o,t,n):t.defaultText);for(var u={normal:r},l=0;l<Na.length;l++){var c=Na[l],h=e[c];u[c]=Object(g.P)(i?i.getFormattedLabel(o,c,null,a,h&&h.get("formatter")):null,r)}return u}function Fl(t,e,n,r){n=n||Rl;for(var i=t instanceof Oa,o=!1,a=0;a<Ra.length;a++){if((d=e[Ra[a]])&&d.getShallow("show")){o=!0;break}}var s=i?t:t.getTextContent();if(o){i||(s||(s=new Oa,t.setTextContent(s)),t.stateProxy&&(s.stateProxy=t.stateProxy));var u=zl(n,e),l=e.normal,c=!!l.getShallow("show"),h=Vl(l,r&&r.normal,n,!1,!i);h.text=u.normal,i||t.setTextConfig(Ul(l,n,!1));for(a=0;a<Na.length;a++){var d,f=Na[a];if(d=e[f]){var p=s.ensureState(f),v=!!Object(g.P)(d.getShallow("show"),c);if(v!==c&&(p.ignore=!v),p.style=Vl(d,r&&r[f],n,!0,!i),p.style.text=u[f],!i)t.ensureState(f).textConfig=Ul(d,n,!0)}}s.silent=!!l.getShallow("silent"),null!=s.style.x&&(h.x=s.style.x),null!=s.style.y&&(h.y=s.style.y),s.ignore=!c,s.useStyle(h),s.dirty(),n.enableTextSetter&&(Ql(s).setLabelText=function(t){var r=zl(n,e,t);Bl(s,r)})}else s&&(s.ignore=!0);t.dirty()}function Gl(t,e){e=e||"label";for(var n={normal:t.getModel(e)},r=0;r<Na.length;r++){var i=Na[r];n[i]=t.getModel([i,e])}return n}function Vl(t,e,n,r,i){var o={};return function(t,e,n,r,i){n=n||Rl;var o,a=e.ecModel,s=a&&a.option.textStyle,u=function(t){var e;for(;t&&t!==t.ecModel;){var n=(t.option||Rl).rich;if(n){e=e||{};for(var r=Object(g.F)(n),i=0;i<r.length;i++){var o=r[i];e[o]=1}}t=t.parentModel}return e}(e);if(u)for(var l in o={},u)if(u.hasOwnProperty(l)){var c=e.getModel(["rich",l]);Xl(o[l]={},c,s,n,r,i,!1,!0)}o&&(t.rich=o);var h=e.get("overflow");h&&(t.overflow=h);var d=e.get("minMargin");null!=d&&(t.margin=d);Xl(t,e,s,n,r,i,!0,!1)}(o,t,n,r,i),e&&Object(g.m)(o,e),o}function Ul(t,e,n){e=e||{};var r,i={},o=t.getShallow("rotate"),a=Object(g.P)(t.getShallow("distance"),n?null:5),s=t.getShallow("offset");return"outside"===(r=t.getShallow("position")||(n?null:"inside"))&&(r=e.defaultOutsidePosition||"top"),null!=r&&(i.position=r),null!=s&&(i.offset=s),null!=o&&(o*=Math.PI/180,i.rotation=o),null!=a&&(i.distance=a),i.outsideFill="inherit"===t.get("color")?e.inheritColor||null:"auto",i}var Wl=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Hl=["align","lineHeight","width","height","tag","verticalAlign"],Yl=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Xl(t,e,n,r,i,o,a,s){n=!i&&n||Rl;var u=r&&r.inheritColor,l=e.getShallow("color"),c=e.getShallow("textBorderColor"),h=Object(g.P)(e.getShallow("opacity"),n.opacity);"inherit"!==l&&"auto"!==l||(l=u||null),"inherit"!==c&&"auto"!==c||(c=u||null),o||(l=l||n.color,c=c||n.textBorderColor),null!=l&&(t.fill=l),null!=c&&(t.stroke=c);var d=Object(g.P)(e.getShallow("textBorderWidth"),n.textBorderWidth);null!=d&&(t.lineWidth=d);var f=Object(g.P)(e.getShallow("textBorderType"),n.textBorderType);null!=f&&(t.lineDash=f);var p=Object(g.P)(e.getShallow("textBorderDashOffset"),n.textBorderDashOffset);null!=p&&(t.lineDashOffset=p),i||null!=h||s||(h=r&&r.defaultOpacity),null!=h&&(t.opacity=h),i||o||null==t.fill&&r.inheritColor&&(t.fill=r.inheritColor);for(var v=0;v<Wl.length;v++){var y=Wl[v];null!=(b=Object(g.P)(e.getShallow(y),n[y]))&&(t[y]=b)}for(v=0;v<Hl.length;v++){y=Hl[v];null!=(b=e.getShallow(y))&&(t[y]=b)}if(null==t.verticalAlign){var m=e.getShallow("baseline");null!=m&&(t.verticalAlign=m)}if(!a||!r.disableBox){for(v=0;v<Yl.length;v++){var b;y=Yl[v];null!=(b=e.getShallow(y))&&(t[y]=b)}var x=e.getShallow("borderType");null!=x&&(t.borderDash=x),"auto"!==t.backgroundColor&&"inherit"!==t.backgroundColor||!u||(t.backgroundColor=u),"auto"!==t.borderColor&&"inherit"!==t.borderColor||!u||(t.borderColor=u)}}function ql(t,e){var n=e&&e.getModel("textStyle");return Object(g.T)([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var Ql=$r();function Zl(t,e,n,r){if(t){var i=Ql(t);i.prevValue=i.value,i.value=n;var o=e.normal;i.valueAnimation=o.get("valueAnimation"),i.valueAnimation&&(i.precision=o.get("precision"),i.defaultInterpolatedText=r,i.statesModels=e)}}function Kl(t,e,n,r,i){var o=Ql(t);if(o.valueAnimation&&o.prevValue!==o.value){var a=o.defaultInterpolatedText,s=Object(g.P)(o.interpolatedValue,o.prevValue),u=o.value;t.percent=0,(null==o.prevValue?el:tl)(t,{percent:1},r,e,null,function(r){var l=ui(n,o.precision,s,u,r);o.interpolatedValue=1===r?null:l;var c=zl({labelDataIndex:e,labelFetcher:i,defaultText:a?a(l):l+""},o.statesModels,l);Bl(t,c)})}}var Jl,$l,tc=["textStyle","color"],ec=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],nc=new Oa,rc=function(){function t(){}return t.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(tc):null)},t.prototype.getFont=function(){return ql({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<ec.length;n++)e[ec[n]]=this.getShallow(ec[n]);return nc.useStyle(e),nc.update(),nc.getBoundingRect()},t}(),ic=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],oc=bi(ic),ac=function(){function t(){}return t.prototype.getLineStyle=function(t){return oc(this,t)},t}(),sc=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],uc=bi(sc),lc=function(){function t(){}return t.prototype.getItemStyle=function(t,e){return uc(this,t,e)},t}(),cc=function(){function t(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return t.prototype.init=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i]},t.prototype.mergeOption=function(t,e){Object(g.I)(this.option,t,!0)},t.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},t.prototype.getShallow=function(t,e){var n=this.option,r=null==n?n:n[t];if(null==r&&!e){var i=this.parentModel;i&&(r=i.getShallow(t))}return r},t.prototype.getModel=function(e,n){var r=null!=e,i=r?this.parsePath(e):null;return new t(r?this._doGet(i):this.option,n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),this.ecModel)},t.prototype.isEmpty=function(){return null==this.option},t.prototype.restoreData=function(){},t.prototype.clone=function(){return new(0,this.constructor)(Object(g.d)(this.option))},t.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},t.prototype.resolveParentPath=function(t){return t},t.prototype.isAnimationEnabled=function(){if(!p.a.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var r=0;r<t.length&&(!t[r]||null!=(n=n&&"object"==typeof n?n[t[r]]:null));r++);return null==n&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},t}();fi(cc),Jl=cc,$l=["__\0is_clz",gi++].join("_"),Jl.prototype[$l]=!0,Jl.isInstance=function(t){return!(!t||!t[$l])},Object(g.K)(cc,ac),Object(g.K)(cc,lc),Object(g.K)(cc,Ai),Object(g.K)(cc,rc);var hc=cc,dc=Math.round(10*Math.random());function fc(t){return[t||"",dc++].join("_")}function pc(t,e){return g.I(g.I({},t,!0),e,!0)}var gc="ZH",vc="EN",yc=vc,mc={},bc={},xc=p.a.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(gc)>-1?gc:yc;function Ac(t,e){t=t.toUpperCase(),bc[t]=new hc(e),mc[t]=e}function wc(t){return bc[t]}Ac(vc,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),Ac(gc,{time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}});var _c=1e3,Mc=60*_c,Sc=60*Mc,Oc=24*Sc,Ic=365*Oc,Ec={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Cc={year:"{yyyy}",month:"{yyyy}-{MM}",day:"{yyyy}-{MM}-{dd}",hour:"{yyyy}-{MM}-{dd} "+Ec.hour,minute:"{yyyy}-{MM}-{dd} "+Ec.minute,second:"{yyyy}-{MM}-{dd} "+Ec.second,millisecond:Ec.none},kc=["year","month","day","hour","minute","second","millisecond"],Tc=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Dc(t,e){return"0000".substr(0,e-(t+="").length)+t}function jc(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function Lc(t,e,n,r){var i=Or(t),o=i[Rc(n)](),a=i[Bc(n)]()+1,s=Math.floor((a-1)/3)+1,u=i[zc(n)](),l=i["get"+(n?"UTC":"")+"Day"](),c=i[Fc(n)](),h=(c-1)%12+1,d=i[Gc(n)](),f=i[Vc(n)](),p=i[Uc(n)](),g=(r instanceof hc?r:wc(r||xc)||bc[yc]).getModel("time"),v=g.get("month"),y=g.get("monthAbbr"),m=g.get("dayOfWeek"),b=g.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,o%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,v[a-1]).replace(/{MMM}/g,y[a-1]).replace(/{MM}/g,Dc(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,Dc(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,m[l]).replace(/{ee}/g,b[l]).replace(/{e}/g,l+"").replace(/{HH}/g,Dc(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Dc(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,Dc(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,Dc(f,2)).replace(/{s}/g,f+"").replace(/{SSS}/g,Dc(p,3)).replace(/{S}/g,p+"")}function Pc(t,e){var n=Or(t),r=n[Bc(e)]()+1,i=n[zc(e)](),o=n[Fc(e)](),a=n[Gc(e)](),s=n[Vc(e)](),u=0===n[Uc(e)](),l=u&&0===s,c=l&&0===a,h=c&&0===o,d=h&&1===i;return d&&1===r?"year":d?"month":h?"day":c?"hour":l?"minute":u?"second":"millisecond"}function Nc(t,e,n){var r=g.z(t)?Or(t):t;switch(e=e||Pc(t,n)){case"year":return r[Rc(n)]();case"half-year":return r[Bc(n)]()>=6?1:0;case"quarter":return Math.floor((r[Bc(n)]()+1)/4);case"month":return r[Bc(n)]();case"day":return r[zc(n)]();case"half-day":return r[Fc(n)]()/24;case"hour":return r[Fc(n)]();case"minute":return r[Gc(n)]();case"second":return r[Vc(n)]();case"millisecond":return r[Uc(n)]()}}function Rc(t){return t?"getUTCFullYear":"getFullYear"}function Bc(t){return t?"getUTCMonth":"getMonth"}function zc(t){return t?"getUTCDate":"getDate"}function Fc(t){return t?"getUTCHours":"getHours"}function Gc(t){return t?"getUTCMinutes":"getMinutes"}function Vc(t){return t?"getUTCSeconds":"getSeconds"}function Uc(t){return t?"getUTCMilliseconds":"getMilliseconds"}function Wc(t){return t?"setUTCFullYear":"setFullYear"}function Hc(t){return t?"setUTCMonth":"setMonth"}function Yc(t){return t?"setUTCDate":"setDate"}function Xc(t){return t?"setUTCHours":"setHours"}function qc(t){return t?"setUTCMinutes":"setMinutes"}function Qc(t){return t?"setUTCSeconds":"setSeconds"}function Zc(t){return t?"setUTCMilliseconds":"setMilliseconds"}function Kc(t,e,n,r,i,o,a,s){return new Oa({style:{text:t,font:e,align:n,verticalAlign:r,padding:i,rich:o,overflow:a?"truncate":null,lineHeight:s}}).getBoundingRect()}function Jc(t){if(!jr(t))return g.C(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function $c(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var th=g.M;function eh(t,e,n){function r(t){return t&&g.T(t)?t:"-"}function i(t){return!(null==t||isNaN(t)||!isFinite(t))}var o="time"===e,a=t instanceof Date;if(o||a){var s=o?Or(t):t;if(!isNaN(+s))return Lc(s,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",n);if(a)return"-"}if("ordinal"===e)return g.D(t)?r(t):g.z(t)&&i(t)?t+"":"-";var u=Dr(t);return i(u)?Jc(u):g.D(t)?r(t):"boolean"==typeof t?t+"":"-"}var nh=["a","b","c","d","e","f","g"],rh=function(t,e){return"{"+t+(null==e?"":e)+"}"};function ih(t,e,n){g.t(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],o=0;o<i.length;o++){var a=nh[o];t=t.replace(rh(a),rh(a,0))}for(var s=0;s<r;s++)for(var u=0;u<i.length;u++){var l=e[s][i[u]];t=t.replace(rh(nh[u],s),n?$(l):l)}return t}function oh(t,e){var n=g.C(t)?{color:t,extraCssText:e}:t||{},r=n.color,i=n.type;e=n.extraCssText;var o=n.renderMode||"html";return r?"html"===o?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+$(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+$(r)+";"+(e||"")+'"></span>':{renderMode:o,content:"{"+(n.markerId||"markerX")+"|}  ",style:"subItem"===i?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}:""}function ah(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var r=Or(e),i=n?"getUTC":"get",o=r[i+"FullYear"](),a=r[i+"Month"]()+1,s=r[i+"Date"](),u=r[i+"Hours"](),l=r[i+"Minutes"](),c=r[i+"Seconds"](),h=r[i+"Milliseconds"]();return t=t.replace("MM",Dc(a,2)).replace("M",a).replace("yyyy",o).replace("yy",Dc(o%100+"",2)).replace("dd",Dc(s,2)).replace("d",s).replace("hh",Dc(u,2)).replace("h",u).replace("mm",Dc(l,2)).replace("m",l).replace("ss",Dc(c,2)).replace("s",c).replace("SSS",Dc(h,3))}function sh(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function uh(t,e){return e=e||"transparent",g.C(t)?t:g.A(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function lh(t,e){if("_blank"===e||"blank"===e){var n=window.open();n.opener=null,n.location.href=t}else window.open(t,e)}var ch=g.k,hh=["left","right","top","bottom","width","height"],dh=[["width","left","right"],["height","top","bottom"]];function fh(t,e,n,r,i){var o=0,a=0;null==r&&(r=1/0),null==i&&(i=1/0);var s=0;e.eachChild(function(u,l){var c,h,d=u.getBoundingRect(),f=e.childAt(l+1),p=f&&f.getBoundingRect();if("horizontal"===t){var g=d.width+(p?-p.x+d.x:0);(c=o+g)>r||u.newline?(o=0,c=g,a+=s+n,s=d.height):s=Math.max(s,d.height)}else{var v=d.height+(p?-p.y+d.y:0);(h=a+v)>i||u.newline?(o+=s+n,a=0,h=v,s=d.width):s=Math.max(s,d.width)}u.newline||(u.x=o,u.y=a,u.markRedraw(),"horizontal"===t?o=c+n:a=h+n)})}var ph=fh;g.h(fh,"vertical"),g.h(fh,"horizontal");function gh(t,e,n){n=th(n||0);var r=e.width,i=e.height,o=fr(t.left,r),a=fr(t.top,i),s=fr(t.right,r),u=fr(t.bottom,i),l=fr(t.width,r),c=fr(t.height,i),h=n[2]+n[0],d=n[1]+n[3],f=t.aspect;switch(isNaN(l)&&(l=r-s-d-o),isNaN(c)&&(c=i-u-h-a),null!=f&&(isNaN(l)&&isNaN(c)&&(f>r/i?l=.8*r:c=.8*i),isNaN(l)&&(l=f*c),isNaN(c)&&(c=l/f)),isNaN(o)&&(o=r-s-l-d),isNaN(a)&&(a=i-u-c-h),t.left||t.right){case"center":o=r/2-l/2-n[3];break;case"right":o=r-l-d}switch(t.top||t.bottom){case"middle":case"center":a=i/2-c/2-n[0];break;case"bottom":a=i-c-h}o=o||0,a=a||0,isNaN(l)&&(l=r-d-o-(s||0)),isNaN(c)&&(c=i-h-a-(u||0));var p=new Tt(o+n[3],a+n[0],l,c);return p.margin=n,p}function vh(t,e,n,r,i,o){var a,s=!i||!i.hv||i.hv[0],u=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if((o=o||t).x=t.x,o.y=t.y,!s&&!u)return!1;if("raw"===l)a="group"===t.type?new Tt(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(a=t.getBoundingRect(),t.needLocalTransform()){var c=t.getLocalTransform();(a=a.clone()).applyTransform(c)}var h=gh(g.i({width:a.width,height:a.height},e),n,r),d=s?h.x-a.x:0,f=u?h.y-a.y:0;return"raw"===l?(o.x=d,o.y=f):(o.x+=d,o.y+=f),o===t&&t.markRedraw(),!0}function yh(t){var e=t.layoutMode||t.constructor.layoutMode;return g.A(e)?e:e?{type:e}:null}function mh(t,e,n){var r=n&&n.ignoreSize;!g.t(r)&&(r=[r,r]);var i=a(dh[0],0),o=a(dh[1],1);function a(n,i){var o={},a=0,l={},c=0;if(ch(n,function(e){l[e]=t[e]}),ch(n,function(t){s(e,t)&&(o[t]=l[t]=e[t]),u(o,t)&&a++,u(l,t)&&c++}),r[i])return u(e,n[1])?l[n[2]]=null:u(e,n[2])&&(l[n[1]]=null),l;if(2!==c&&a){if(a>=2)return o;for(var h=0;h<n.length;h++){var d=n[h];if(!s(o,d)&&s(t,d)){o[d]=t[d];break}}return o}return l}function s(t,e){return t.hasOwnProperty(e)}function u(t,e){return null!=t[e]&&"auto"!==t[e]}function l(t,e,n){ch(t,function(t){e[t]=n[t]})}l(dh[0],t,i),l(dh[1],t,o)}function bh(t){return xh({},t)}function xh(t,e){return e&&t&&ch(hh,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}var Ah=$r(),wh=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.uid=fc("ec_cpt_model"),i}var n;return Object(f.__extends)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=yh(this),r=n?bh(t):{},i=e.getTheme();g.I(t,i.get(this.mainType)),g.I(t,this.getDefaultOption()),n&&mh(t,r,n)},e.prototype.mergeOption=function(t,e){g.I(this.option,t,!0);var n=yh(this);n&&mh(this.option,t,n)},e.prototype.optionUpdated=function(t,e){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!function(t){return!(!t||!t[hi])}(t))return t.defaultOption;var e=Ah(this);if(!e.defaultOption){for(var n=[],r=t;r;){var i=r.prototype.defaultOption;i&&n.push(i),r=r.superClass}for(var o={},a=n.length-1;a>=0;a--)o=g.I(o,n[a],!0);e.defaultOption=o}return e.defaultOption},e.prototype.getReferringComponents=function(t,e){var n=t+"Index",r=t+"Id";return oi(this.ecModel,t,{index:this.get(n,!0),id:this.get(r,!0)},e)},e.prototype.getBoxLayoutParams=function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=((n=e.prototype).type="component",n.id="",n.name="",n.mainType="",n.subType="",void(n.componentIndex=0)),e}(hc);pi(wh,hc),mi(wh),function(t){var e={};t.registerSubTypeDefaulter=function(t,n){var r=di(t);e[r.main]=n},t.determineSubType=function(n,r){var i=r.type;if(!i){var o=di(n).main;t.hasSubTypes(n)&&e[o]&&(i=e[o](r))}return i}}(wh),function(t,e){function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,r,i,o){if(t.length){var a=function(t){var r={},i=[];return g.k(t,function(o){var a=n(r,o),s=function(t,e){var n=[];return g.k(t,function(t){g.r(e,t)>=0&&n.push(t)}),n}(a.originalDeps=e(o),t);a.entryCount=s.length,0===a.entryCount&&i.push(o),g.k(s,function(t){g.r(a.predecessor,t)<0&&a.predecessor.push(t);var e=n(r,t);g.r(e.successor,t)<0&&e.successor.push(o)})}),{graph:r,noEntryList:i}}(r),s=a.graph,u=a.noEntryList,l={};for(g.k(t,function(t){l[t]=!0});u.length;){var c=u.pop(),h=s[c],d=!!l[c];d&&(i.call(o,c,h.originalDeps.slice()),delete l[c]),g.k(h.successor,d?p:f)}g.k(l,function(){var t="";throw new Error(t)})}function f(t){s[t].entryCount--,0===s[t].entryCount&&u.push(t)}function p(t){l[t]=!0,f(t)}}}(wh,function(t){var e=[];g.k(wh.getClassesByMainType(t),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=g.H(e,function(t){return di(t).main}),"dataset"!==t&&g.r(e,"dataset")<=0&&e.unshift("dataset");return e});var _h=wh,Mh="";"undefined"!=typeof navigator&&(Mh=navigator.platform||"");var Sh="rgba(0, 0, 0, 0.2)",Oh={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Sh,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Sh,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Sh,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Sh,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Sh,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Sh,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Mh.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Ih=Object(g.f)(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Eh="original",Ch="arrayRows",kh="objectRows",Th="keyedColumns",Dh="typedArray",jh="unknown",Lh="column",Ph="row",Nh={Must:1,Might:2,Not:3},Rh=$r();function Bh(t,e,n){var r={},i=Fh(e);if(!i||!t)return r;var o,a,s=[],u=[],l=e.ecModel,c=Rh(l).datasetMap,h=i.uid+"_"+n.seriesLayoutBy;t=t.slice(),Object(g.k)(t,function(e,n){var i=Object(g.A)(e)?e:t[n]={name:e};"ordinal"===i.type&&null==o&&(o=n,a=p(i)),r[i.name]=[]});var d=c.get(h)||c.set(h,{categoryWayDim:a,valueWayDim:0});function f(t,e,n){for(var r=0;r<n;r++)t.push(e+r)}function p(t){var e=t.dimsDef;return e?e.length:1}return Object(g.k)(t,function(t,e){var n=t.name,i=p(t);if(null==o){var a=d.valueWayDim;f(r[n],a,i),f(u,a,i),d.valueWayDim+=i}else if(o===e)f(r[n],0,i),f(s,0,i);else{a=d.categoryWayDim;f(r[n],a,i),f(u,a,i),d.categoryWayDim+=i}}),s.length&&(r.itemName=s),u.length&&(r.seriesName=u),r}function zh(t,e,n){var r={};if(!Fh(t))return r;var i,o=e.sourceFormat,a=e.dimensionsDefine;o!==kh&&o!==Th||Object(g.k)(a,function(t,e){"name"===(Object(g.A)(t)?t.name:t)&&(i=e)});var s=function(){for(var t={},r={},s=[],u=0,l=Math.min(5,n);u<l;u++){var c=Vh(e.data,o,e.seriesLayoutBy,a,e.startIndex,u);s.push(c);var h=c===Nh.Not;if(h&&null==t.v&&u!==i&&(t.v=u),(null==t.n||t.n===t.v||!h&&s[t.n]===Nh.Not)&&(t.n=u),d(t)&&s[t.n]!==Nh.Not)return t;h||(c===Nh.Might&&null==r.v&&u!==i&&(r.v=u),null!=r.n&&r.n!==r.v||(r.n=u))}function d(t){return null!=t.v&&null!=t.n}return d(t)?t:d(r)?r:null}();if(s){r.value=[s.v];var u=null!=i?i:s.n;r.itemName=[u],r.seriesName=[u]}return r}function Fh(t){if(!t.get("data",!0))return oi(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},ri).models[0]}function Gh(t,e){return Vh(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function Vh(t,e,n,r,i,o){var a,s,u;if(Object(g.E)(t))return Nh.Not;if(r){var l=r[o];Object(g.A)(l)?(s=l.name,u=l.type):Object(g.C)(l)&&(s=l)}if(null!=u)return"ordinal"===u?Nh.Must:Nh.Not;if(e===Ch){var c=t;if(n===Ph){for(var h=c[o],d=0;d<(h||[]).length&&d<5;d++)if(null!=(a=x(h[i+d])))return a}else for(d=0;d<c.length&&d<5;d++){var f=c[i+d];if(f&&null!=(a=x(f[o])))return a}}else if(e===kh){var p=t;if(!s)return Nh.Not;for(d=0;d<p.length&&d<5;d++){if((m=p[d])&&null!=(a=x(m[s])))return a}}else if(e===Th){var v=t;if(!s)return Nh.Not;if(!(h=v[s])||Object(g.E)(h))return Nh.Not;for(d=0;d<h.length&&d<5;d++)if(null!=(a=x(h[d])))return a}else if(e===Eh){var y=t;for(d=0;d<y.length&&d<5;d++){var m,b=Wr(m=y[d]);if(!Object(g.t)(b))return Nh.Not;if(null!=(a=x(b[o])))return a}}function x(t){var e=Object(g.C)(t);return null!=t&&isFinite(t)&&""!==t?e?Nh.Might:Nh.Not:e&&"-"!==t?Nh.Must:void 0}return Nh.Not}var Uh=Object(g.f)();var Wh,Hh,Yh,Xh=$r(),qh=$r(),Qh=function(){function t(){}return t.prototype.getColorFromPalette=function(t,e,n){var r=Gr(this.get("color",!0)),i=this.get("colorLayer",!0);return Kh(this,Xh,r,i,t,e,n)},t.prototype.clearColorPalette=function(){var t,e;(e=Xh)(t=this).paletteIdx=0,e(t).paletteNameMap={}},t}();function Zh(t,e,n,r){var i=Gr(t.get(["aria","decal","decals"]));return Kh(t,qh,i,null,e,n,r)}function Kh(t,e,n,r,i,o,a){var s=e(o=o||t),u=s.paletteIdx||0,l=s.paletteNameMap=s.paletteNameMap||{};if(l.hasOwnProperty(i))return l[i];var c=null!=a&&r?function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].length>e)return t[r];return t[n-1]}(r,a):n;if((c=c||n)&&c.length){var h=c[u];return i&&(l[i]=h),s.paletteIdx=(u+1)%c.length,h}}var Jh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.init=function(t,e,n,r,i,o){r=r||{},this.option=null,this._theme=new hc(r),this._locale=new hc(i),this._optionManager=o},e.prototype.setOption=function(t,e,n){var r=ed(e);this._optionManager.setOption(t,n,r),this._resetOption(null,r)},e.prototype.resetOption=function(t,e){return this._resetOption(t,ed(e))},e.prototype._resetOption=function(t,e){var n=!1,r=this._optionManager;if(!t||"recreate"===t){var i=r.mountOption("recreate"===t);0,this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(i,e)):Yh(this,i),n=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var o=r.getTimelineOption(this);o&&(n=!0,this._mergeOption(o,e))}if(!t||"recreate"===t||"media"===t){var a=r.getMediaOption(this);a.length&&Object(g.k)(a,function(t){n=!0,this._mergeOption(t,e)},this)}return n},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,e){var n=this.option,r=this._componentsMap,i=this._componentsCount,o=[],a=Object(g.f)(),s=e&&e.replaceMergeMainTypeMap;Rh(this).datasetMap=Object(g.f)(),Object(g.k)(t,function(t,e){null!=t&&(_h.hasClass(e)?e&&(o.push(e),a.set(e,!0)):n[e]=null==n[e]?Object(g.d)(t):Object(g.I)(n[e],t,!0))}),s&&s.each(function(t,e){_h.hasClass(e)&&!a.get(e)&&(o.push(e),a.set(e,!0))}),_h.topologicalTravel(o,_h.getAllClassMainTypes(),function(e){var o=function(t,e,n){var r=Uh.get(e);if(!r)return n;var i=r(t);return i?n.concat(i):n}(this,e,Gr(t[e])),a=r.get(e),u=a?s&&s.get(e)?"replaceMerge":"normalMerge":"replaceAll",l=Yr(a,o,u);(function(t,e,n){Object(g.k)(t,function(t){var r=t.newOption;Object(g.A)(r)&&(t.keyInfo.mainType=e,t.keyInfo.subType=function(t,e,n,r){return e.type?e.type:n?n.subType:r.determineSubType(t,e)}(e,r,t.existing,n))})})(l,e,_h),n[e]=null,r.set(e,null),i.set(e,0);var c,h=[],d=[],f=0;Object(g.k)(l,function(t,n){var r=t.existing,i=t.newOption;if(i){var o="series"===e,a=_h.getClass(e,t.keyInfo.subType,!o);if(!a)return;if("tooltip"===e){if(c)return;c=!0}if(r&&r.constructor===a)r.name=t.keyInfo.name,r.mergeOption(i,this),r.optionUpdated(i,!1);else{var s=Object(g.m)({componentIndex:n},t.keyInfo);r=new a(i,this,this,s),Object(g.m)(r,s),t.brandNew&&(r.__requireNewView=!0),r.init(i,this,this),r.optionUpdated(null,!0)}}else r&&(r.mergeOption({},this),r.optionUpdated({},!1));r?(h.push(r.option),d.push(r),f++):(h.push(void 0),d.push(void 0))},this),n[e]=h,r.set(e,d),i.set(e,f),"series"===e&&Wh(this)},this),this._seriesIndices||Wh(this)},e.prototype.getOption=function(){var t=Object(g.d)(this.option);return Object(g.k)(t,function(e,n){if(_h.hasClass(n)){for(var r=Gr(e),i=r.length,o=!1,a=i-1;a>=0;a--)r[a]&&!Kr(r[a])?o=!0:(r[a]=null,!o&&i--);r.length=i,t[n]=r}}),delete t["\0_ec_inner"],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,e){var n=this._componentsMap.get(t);if(n){var r=n[e||0];if(r)return r;if(null==e)for(var i=0;i<n.length;i++)if(n[i])return n[i]}},e.prototype.queryComponents=function(t){var e=t.mainType;if(!e)return[];var n,r=t.index,i=t.id,o=t.name,a=this._componentsMap.get(e);return a&&a.length?(null!=r?(n=[],Object(g.k)(Gr(r),function(t){a[t]&&n.push(a[t])})):n=null!=i?$h("id",i,a):null!=o?$h("name",o,a):Object(g.n)(a,function(t){return!!t}),td(n,t)):[]},e.prototype.findComponents=function(t){var e,n,r,i,o,a=t.query,s=t.mainType,u=(n=s+"Index",r=s+"Id",i=s+"Name",!(e=a)||null==e[n]&&null==e[r]&&null==e[i]?null:{mainType:s,index:e[n],id:e[r],name:e[i]}),l=u?this.queryComponents(u):Object(g.n)(this._componentsMap.get(s),function(t){return!!t});return o=td(l,t),t.filter?Object(g.n)(o,t.filter):o},e.prototype.eachComponent=function(t,e,n){var r=this._componentsMap;if(Object(g.w)(t)){var i=e,o=t;r.each(function(t,e){for(var n=0;t&&n<t.length;n++){var r=t[n];r&&o.call(i,e,r,r.componentIndex)}})}else for(var a=Object(g.C)(t)?r.get(t):Object(g.A)(t)?this.findComponents(t):null,s=0;a&&s<a.length;s++){var u=a[s];u&&e.call(n,u,u.componentIndex)}},e.prototype.getSeriesByName=function(t){var e=Qr(t,null);return Object(g.n)(this._componentsMap.get("series"),function(t){return!!t&&null!=e&&t.name===e})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Object(g.n)(this._componentsMap.get("series"),function(e){return!!e&&e.subType===t})},e.prototype.getSeries=function(){return Object(g.n)(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,e){Hh(this),Object(g.k)(this._seriesIndices,function(n){var r=this._componentsMap.get("series")[n];t.call(e,r,n)},this)},e.prototype.eachRawSeries=function(t,e){Object(g.k)(this._componentsMap.get("series"),function(n){n&&t.call(e,n,n.componentIndex)})},e.prototype.eachSeriesByType=function(t,e,n){Hh(this),Object(g.k)(this._seriesIndices,function(r){var i=this._componentsMap.get("series")[r];i.subType===t&&e.call(n,i,r)},this)},e.prototype.eachRawSeriesByType=function(t,e,n){return Object(g.k)(this.getSeriesByType(t),e,n)},e.prototype.isSeriesFiltered=function(t){return Hh(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,e){Hh(this);var n=[];Object(g.k)(this._seriesIndices,function(r){var i=this._componentsMap.get("series")[r];t.call(e,i,r)&&n.push(r)},this),this._seriesIndices=n,this._seriesIndicesMap=Object(g.f)(n)},e.prototype.restoreData=function(t){Wh(this);var e=this._componentsMap,n=[];e.each(function(t,e){_h.hasClass(e)&&n.push(e)}),_h.topologicalTravel(n,_h.getAllClassMainTypes(),function(n){Object(g.k)(e.get(n),function(e){!e||"series"===n&&function(t,e){if(e){var n=e.seriesIndex,r=e.seriesId,i=e.seriesName;return null!=n&&t.componentIndex!==n||null!=r&&t.id!==r||null!=i&&t.name!==i}}(e,t)||e.restoreData()})})},e.internalField=(Wh=function(t){var e=t._seriesIndices=[];Object(g.k)(t._componentsMap.get("series"),function(t){t&&e.push(t.componentIndex)}),t._seriesIndicesMap=Object(g.f)(e)},Hh=function(t){},void(Yh=function(t,e){t.option={},t.option["\0_ec_inner"]=1,t._componentsMap=Object(g.f)({series:[]}),t._componentsCount=Object(g.f)();var n,r,i,o=e.aria;Object(g.A)(o)&&null==o.enabled&&(o.enabled=!0),n=e,r=t._theme.option,i=n.color&&!n.colorLayer,Object(g.k)(r,function(t,e){"colorLayer"===e&&i||_h.hasClass(e)||("object"==typeof t?n[e]=n[e]?Object(g.I)(n[e],t,!1):Object(g.d)(t):null==n[e]&&(n[e]=t))}),Object(g.I)(e,Oh,!1),t._mergeOption(e,null)})),e}(hc);function $h(t,e,n){if(Object(g.t)(e)){var r=Object(g.f)();return Object(g.k)(e,function(t){null!=t&&(null!=Qr(t,null)&&r.set(t,!0))}),Object(g.n)(n,function(e){return e&&r.get(e[t])})}var i=Qr(e,null);return Object(g.n)(n,function(e){return e&&null!=i&&e[t]===i})}function td(t,e){return e.hasOwnProperty("subType")?Object(g.n)(t,function(t){return t&&t.subType===e.subType}):t}function ed(t){var e=Object(g.f)();return t&&Object(g.k)(Gr(t.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}Object(g.K)(Jh,Qh);var nd=Jh,rd=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],id=function(){return function(t){g.k(rd,function(e){this[e]=g.c(t[e],t)},this)}}(),od={},ad=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(t,e){var n=[];g.k(od,function(r,i){var o=r.create(t,e);n=n.concat(o||[])}),this._coordinateSystems=n},t.prototype.update=function(t,e){g.k(this._coordinateSystems,function(n){n.update&&n.update(t,e)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(t,e){od[t]=e},t.get=function(t){return od[t]},t}(),sd=/^(min|max)?(.+)$/;function ud(t,e,n){var r={width:e,height:n,aspectratio:e/n},i=!0;return Object(g.k)(t,function(t,e){var n=e.match(sd);if(n&&n[1]&&n[2]){var o=n[1],a=n[2].toLowerCase();(function(t,e,n){return"min"===n?t>=e:"max"===n?t<=e:t===e})(r[a],t,o)||(i=!1)}}),i}var ld=function(){function t(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return t.prototype.setOption=function(t,e,n){t&&(Object(g.k)(Gr(t.series),function(t){t&&t.data&&Object(g.E)(t.data)&&Object(g.R)(t.data)}),Object(g.k)(Gr(t.dataset),function(t){t&&t.source&&Object(g.E)(t.source)&&Object(g.R)(t.source)})),t=Object(g.d)(t);var r=this._optionBackup,i=function(t,e,n){var r,i,o=[],a=t.baseOption,s=t.timeline,u=t.options,l=t.media,c=!!t.media,h=!!(u||s||a&&a.timeline);a?(i=a).timeline||(i.timeline=s):((h||c)&&(t.options=t.media=null),i=t);c&&Object(g.t)(l)&&Object(g.k)(l,function(t){t&&t.option&&(t.query?o.push(t):r||(r=t))});function d(t){Object(g.k)(e,function(e){e(t,n)})}return d(i),Object(g.k)(u,function(t){return d(t)}),Object(g.k)(o,function(t){return d(t.option)}),{baseOption:i,timelineOptions:u||[],mediaDefault:r,mediaList:o}}(t,e,!r);this._newBaseOption=i.baseOption,r?(i.timelineOptions.length&&(r.timelineOptions=i.timelineOptions),i.mediaList.length&&(r.mediaList=i.mediaList),i.mediaDefault&&(r.mediaDefault=i.mediaDefault)):this._optionBackup=i},t.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Object(g.d)(t?e.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var r=t.getComponent("timeline");r&&(e=Object(g.d)(n[r.getCurrentIndex()]))}return e},t.prototype.getMediaOption=function(t){var e,n,r=this._api.getWidth(),i=this._api.getHeight(),o=this._mediaList,a=this._mediaDefault,s=[],u=[];if(!o.length&&!a)return u;for(var l=0,c=o.length;l<c;l++)ud(o[l].query,r,i)&&s.push(l);return!s.length&&a&&(s=[-1]),s.length&&(e=s,n=this._currentMediaIndices,e.join(",")!==n.join(","))&&(u=Object(g.H)(s,function(t){return Object(g.d)(-1===t?a.option:o[t].option)})),this._currentMediaIndices=s,u},t}(),cd=g.k,hd=g.A,dd=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function fd(t){var e=t&&t.itemStyle;if(e)for(var n=0,r=dd.length;n<r;n++){var i=dd[n],o=e.normal,a=e.emphasis;o&&o[i]&&(t[i]=t[i]||{},t[i].normal?g.I(t[i].normal,o[i]):t[i].normal=o[i],o[i]=null),a&&a[i]&&(t[i]=t[i]||{},t[i].emphasis?g.I(t[i].emphasis,a[i]):t[i].emphasis=a[i],a[i]=null)}}function pd(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,i=t[e].emphasis;r&&(n?(t[e].normal=t[e].emphasis=null,g.i(t[e],r)):t[e]=r),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i,i.focus&&(t.emphasis.focus=i.focus),i.blurScope&&(t.emphasis.blurScope=i.blurScope))}}function gd(t){pd(t,"itemStyle"),pd(t,"lineStyle"),pd(t,"areaStyle"),pd(t,"label"),pd(t,"labelLine"),pd(t,"upperLabel"),pd(t,"edgeLabel")}function vd(t,e){var n=hd(t)&&t[e],r=hd(n)&&n.textStyle;if(r){0;for(var i=0,o=Ur.length;i<o;i++){var a=Ur[i];r.hasOwnProperty(a)&&(n[a]=r[a])}}}function yd(t){t&&(gd(t),vd(t,"label"),t.emphasis&&vd(t.emphasis,"label"))}function md(t){return g.t(t)?t:t?[t]:[]}function bd(t){return(g.t(t)?t[0]:t)||{}}function xd(t,e){cd(md(t.series),function(t){hd(t)&&function(t){if(hd(t)){fd(t),gd(t),vd(t,"label"),vd(t,"upperLabel"),vd(t,"edgeLabel"),t.emphasis&&(vd(t.emphasis,"label"),vd(t.emphasis,"upperLabel"),vd(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(fd(e),yd(e));var n=t.markLine;n&&(fd(n),yd(n));var r=t.markArea;r&&yd(r);var i=t.data;if("graph"===t.type){i=i||t.nodes;var o=t.links||t.edges;if(o&&!g.E(o))for(var a=0;a<o.length;a++)yd(o[a]);g.k(t.categories,function(t){gd(t)})}if(i&&!g.E(i))for(a=0;a<i.length;a++)yd(i[a]);if((e=t.markPoint)&&e.data){var s=e.data;for(a=0;a<s.length;a++)yd(s[a])}if((n=t.markLine)&&n.data){var u=n.data;for(a=0;a<u.length;a++)g.t(u[a])?(yd(u[a][0]),yd(u[a][1])):yd(u[a])}"gauge"===t.type?(vd(t,"axisLabel"),vd(t,"title"),vd(t,"detail")):"treemap"===t.type?(pd(t.breadcrumb,"itemStyle"),g.k(t.levels,function(t){gd(t)})):"tree"===t.type&&gd(t.leaves)}}(t)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),cd(n,function(e){cd(md(t[e]),function(t){t&&(vd(t,"axisLabel"),vd(t.axisPointer,"label"))})}),cd(md(t.parallel),function(t){var e=t&&t.parallelAxisDefault;vd(e,"axisLabel"),vd(e&&e.axisPointer,"label")}),cd(md(t.calendar),function(t){pd(t,"itemStyle"),vd(t,"dayLabel"),vd(t,"monthLabel"),vd(t,"yearLabel")}),cd(md(t.radar),function(t){vd(t,"name"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap)}),cd(md(t.geo),function(t){hd(t)&&(yd(t),cd(md(t.regions),function(t){yd(t)}))}),cd(md(t.timeline),function(t){yd(t),pd(t,"label"),pd(t,"itemStyle"),pd(t,"controlStyle",!0);var e=t.data;g.t(e)&&g.k(e,function(t){g.A(t)&&(pd(t,"label"),pd(t,"itemStyle"))})}),cd(md(t.toolbox),function(t){pd(t,"iconStyle"),cd(t.feature,function(t){pd(t,"iconStyle")})}),vd(bd(t.axisPointer),"label"),vd(bd(t.tooltip).axisPointer,"label")}function Ad(t){t&&Object(g.k)(wd,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var wd=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],_d=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Md=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Sd(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<Md.length;n++){var r=Md[n][1],i=Md[n][0];null!=e[r]&&(e[i]=e[r])}}function Od(t){t&&"edge"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(t.edgeDistance=t.margin)}function Id(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function Ed(t,e){xd(t,e),t.series=Gr(t.series),Object(g.k)(t.series,function(t){if(Object(g.A)(t)){var e,n=t.type;if("line"===n)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===n||"gauge"===n){if(null!=t.clockWise&&(t.clockwise=t.clockWise),Od(t.label),(o=t.data)&&!Object(g.E)(o))for(var r=0;r<o.length;r++)Od(o[r]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===n){var i=function(t,e){for(var n=e.split(","),r=t,i=0;i<n.length&&null!=(r=r&&r[n[i]]);i++);return r}(t,"pointer.color");null!=i&&function(t,e,n,r){for(var i,o=e.split(","),a=t,s=0;s<o.length-1;s++)null==a[i=o[s]]&&(a[i]={}),a=a[i];(r||null==a[o[s]])&&(a[o[s]]=n)}(t,"itemStyle.color",i)}else if("bar"===n){var o;if(Sd(t),Sd(t.backgroundStyle),Sd(t.emphasis),(o=t.data)&&!Object(g.E)(o))for(r=0;r<o.length;r++)"object"==typeof o[r]&&(Sd(o[r]),Sd(o[r]&&o[r].emphasis))}else if("sunburst"===n){var a=t.highlightPolicy;a&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=a)),Id(t),function t(e,n){if(e)for(var r=0;r<e.length;r++)n(e[r]),e[r]&&t(e[r].children,n)}(t.data,Id)}else"graph"===n||"sankey"===n?(e=t)&&null!=e.focusNodeAdjacency&&(e.emphasis=e.emphasis||{},null==e.emphasis.focus&&(e.emphasis.focus="adjacency")):"map"===n&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Object(g.i)(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),Ad(t)}}),t.dataRange&&(t.visualMap=t.dataRange),Object(g.k)(_d,function(e){var n=t[e];n&&(Object(g.t)(n)||(n=[n]),Object(g.k)(n,function(t){Ad(t)}))})}function Cd(t){Object(g.k)(t,function(e,n){var r=[],i=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex,u=e.seriesModel.get("stackStrategy")||"samesign";a.modify(o,function(o,l,c){var h,d,f=a.get(e.stackedDimension,c);if(isNaN(f))return i;s?d=a.getRawIndex(c):h=a.get(e.stackedByDimension,c);for(var p=NaN,g=n-1;g>=0;g--){var v=t[g];if(s||(d=v.data.rawIndexOf(v.stackedByDimension,h)),d>=0){var y=v.data.getByRawIndex(v.stackResultDimension,d);if("all"===u||"positive"===u&&y>0||"negative"===u&&y<0||"samesign"===u&&f>=0&&y>0||"samesign"===u&&f<=0&&y<0){f=Ar(f,y),p=y;break}}}return r[0]=f,r[1]=p,r})})}var kd,Td,Dd,jd,Ld,Pd=function(){return function(t){this.data=t.data||(t.sourceFormat===Th?{}:[]),this.sourceFormat=t.sourceFormat||jh,this.seriesLayoutBy=t.seriesLayoutBy||Lh,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n<e.length;n++){var r=e[n];null==r.type&&Gh(this,n)===Nh.Must&&(r.type="ordinal")}}}();function Nd(t){return t instanceof Pd}function Rd(t,e,n){n=n||zd(t);var r=e.seriesLayoutBy,i=function(t,e,n,r,i){var o,a;if(!t)return{dimensionsDefine:Fd(i),startIndex:a,dimensionsDetectedCount:o};if(e===Ch){var s=t;"auto"===r||null==r?Gd(function(t){null!=t&&"-"!==t&&(Object(g.C)(t)?null==a&&(a=1):a=0)},n,s,10):a=Object(g.z)(r)?r:r?1:0,i||1!==a||(i=[],Gd(function(t,e){i[e]=null!=t?t+"":""},n,s,1/0)),o=i?i.length:n===Ph?s.length:s[0]?s[0].length:null}else if(e===kh)i||(i=function(t){var e,n=0;for(;n<t.length&&!(e=t[n++]););if(e){var r=[];return Object(g.k)(e,function(t,e){r.push(e)}),r}}(t));else if(e===Th)i||(i=[],Object(g.k)(t,function(t,e){i.push(e)}));else if(e===Eh){var u=Wr(t[0]);o=Object(g.t)(u)&&u.length||1}return{startIndex:a,dimensionsDefine:Fd(i),dimensionsDetectedCount:o}}(t,n,r,e.sourceHeader,e.dimensions);return new Pd({data:t,sourceFormat:n,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Object(g.d)(e)})}function Bd(t){return new Pd({data:t,sourceFormat:Object(g.E)(t)?Dh:Eh})}function zd(t){var e=jh;if(Object(g.E)(t))e=Dh;else if(Object(g.t)(t)){0===t.length&&(e=Ch);for(var n=0,r=t.length;n<r;n++){var i=t[n];if(null!=i){if(Object(g.t)(i)){e=Ch;break}if(Object(g.A)(i)){e=kh;break}}}}else if(Object(g.A)(t))for(var o in t)if(Object(g.q)(t,o)&&Object(g.u)(t[o])){e=Th;break}return e}function Fd(t){if(t){var e=Object(g.f)();return Object(g.H)(t,function(t,n){var r={name:(t=Object(g.A)(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var i=e.get(r.name);return i?r.name+="-"+i.count++:e.set(r.name,{count:1}),r})}}function Gd(t,e,n,r){if(e===Ph)for(var i=0;i<n.length&&i<r;i++)t(n[i]?n[i][0]:null,i);else{var o=n[0]||[];for(i=0;i<o.length&&i<r;i++)t(o[i],i)}}function Vd(t){var e=t.sourceFormat;return e===kh||e===Th}var Ud=function(){function t(t,e){var n=Nd(t)?t:Bd(t);this._source=n;var r=this._data=n.data;n.sourceFormat===Dh&&(this._offset=0,this._dimSize=e,this._data=r),Ld(this,r,n)}var e;return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(t,e){},t.prototype.appendData=function(t){},t.prototype.clean=function(){},t.protoInitialize=((e=t.prototype).pure=!1,void(e.persistent=!0)),t.internalField=function(){var t;Ld=function(t,i,o){var a=o.sourceFormat,s=o.seriesLayoutBy,u=o.startIndex,l=o.dimensionsDefine,c=jd[$d(a,s)];if(Object(g.m)(t,c),a===Dh)t.getItem=e,t.count=r,t.fillStorage=n;else{var h=Yd(a,s);t.getItem=Object(g.c)(h,null,i,u,l);var d=Qd(a,s);t.count=Object(g.c)(d,null,i,u,l)}};var e=function(t,e){t-=this._offset,e=e||[];for(var n=this._data,r=this._dimSize,i=r*t,o=0;o<r;o++)e[o]=n[i+o];return e},n=function(t,e,n,r){for(var i=this._data,o=this._dimSize,a=0;a<o;a++){for(var s=r[a],u=null==s[0]?1/0:s[0],l=null==s[1]?-1/0:s[1],c=e-t,h=n[a],d=0;d<c;d++){var f=i[d*o+a];h[t+d]=f,f<u&&(u=f),f>l&&(l=f)}s[0]=u,s[1]=l}},r=function(){return this._data?this._data.length/this._dimSize:0};function i(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}(t={})[Ch+"_"+Lh]={pure:!0,appendData:i},t[Ch+"_"+Ph]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[kh]={pure:!0,appendData:i},t[Th]={pure:!0,appendData:function(t){var e=this._data;Object(g.k)(t,function(t,n){for(var r=e[n]||(e[n]=[]),i=0;i<(t||[]).length;i++)r.push(t[i])})}},t[Eh]={appendData:i},t[Dh]={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},jd=t}(),t}(),Wd=function(t,e,n,r){return t[r]},Hd=((kd={})[Ch+"_"+Lh]=function(t,e,n,r){return t[r+e]},kd[Ch+"_"+Ph]=function(t,e,n,r,i){r+=e;for(var o=i||[],a=t,s=0;s<a.length;s++){var u=a[s];o[s]=u?u[r]:null}return o},kd[kh]=Wd,kd[Th]=function(t,e,n,r,i){for(var o=i||[],a=0;a<n.length;a++){var s=n[a].name;0;var u=t[s];o[a]=u?u[r]:null}return o},kd[Eh]=Wd,kd);function Yd(t,e){var n=Hd[$d(t,e)];return n}var Xd=function(t,e,n){return t.length},qd=((Td={})[Ch+"_"+Lh]=function(t,e,n){return Math.max(0,t.length-e)},Td[Ch+"_"+Ph]=function(t,e,n){var r=t[0];return r?Math.max(0,r.length-e):0},Td[kh]=Xd,Td[Th]=function(t,e,n){var r=n[0].name;var i=t[r];return i?i.length:0},Td[Eh]=Xd,Td);function Qd(t,e){var n=qd[$d(t,e)];return n}var Zd=function(t,e,n){return t[e]},Kd=((Dd={})[Ch]=Zd,Dd[kh]=function(t,e,n){return t[n]},Dd[Th]=Zd,Dd[Eh]=function(t,e,n){var r=Wr(t);return r instanceof Array?r[e]:r},Dd[Dh]=Zd,Dd);function Jd(t){var e=Kd[t];return e}function $d(t,e){return t===Ch?t+"_"+e:t}function tf(t,e,n){if(t){var r=t.getRawDataItem(e);if(null!=r){var i=t.getStore(),o=i.getSource().sourceFormat;if(null!=n){var a=t.getDimensionIndex(n),s=i.getDimensionProperty(a);return Jd(o)(r,a,s)}var u=r;return o===Eh&&(u=Wr(r)),u}}}var ef=/\{@(.+?)\}/g,nf=function(){function t(){}return t.prototype.getDataParams=function(t,e){var n=this.getData(e),r=this.getRawValue(t,e),i=n.getRawIndex(t),o=n.getName(t),a=n.getRawDataItem(t),s=n.getItemVisual(t,"style"),u=s&&s[n.getItemVisual(t,"drawType")||"fill"],l=s&&s.stroke,c=this.mainType,h="series"===c,d=n.userOutput&&n.userOutput.get();return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:o,dataIndex:i,data:a,dataType:e,value:r,color:u,borderColor:l,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(t,e,n,r,i,o){e=e||"normal";var a=this.getData(n),s=this.getDataParams(t,n);(o&&(s.value=o.interpolatedValue),null!=r&&g.t(s.value)&&(s.value=s.value[r]),i)||(i=a.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"]));return g.w(i)?(s.status=e,s.dimensionIndex=r,i(s)):g.C(i)?ih(i,s).replace(ef,function(e,n){var r=n.length,i=n;"["===i.charAt(0)&&"]"===i.charAt(r-1)&&(i=+i.slice(1,r-1));var s=tf(a,t,i);if(o&&g.t(o.interpolatedValue)){var u=a.getDimensionIndex(i);u>=0&&(s=o.interpolatedValue[u])}return null!=s?s+"":""}):void 0},t.prototype.getRawValue=function(t,e){return tf(this.getData(e),t)},t.prototype.formatTooltip=function(t,e,n){},t}();function rf(t){var e,n;return g.A(t)?t.type&&(n=t):e=t,{text:e,frag:n}}function of(t){return new af(t)}var af=function(){function t(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return t.prototype.perform=function(t){var e,n=this._upstream,r=t&&t.skip;if(this._dirty&&n){var i=this.context;i.data=i.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(e=this._plan(this.context));var o,a=c(this._modBy),s=this._modDataCount||0,u=c(t&&t.modBy),l=t&&t.modDataCount||0;function c(t){return!(t>=1)&&(t=1),t}a===u&&s===l||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,o=this._doReset(r)),this._modBy=u,this._modDataCount=l;var h=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,f=Math.min(null!=h?this._dueIndex+h:1/0,this._dueEnd);if(!r&&(o||d<f)){var p=this._progress;if(Object(g.t)(p))for(var v=0;v<p.length;v++)this._doProgress(p[v],d,f,u,l);else this._doProgress(p,d,f,u,l)}this._dueIndex=f;var y=null!=this._settedOutputEnd?this._settedOutputEnd:f;0,this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(t,e,n,r,i){sf.reset(e,n,r,i),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:sf.next},this.context)},t.prototype._doReset=function(t){var e,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(n=e.forceFirstProgress,e=e.progress),Object(g.t)(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},t}(),sf=function(){var t,e,n,r,i,o={reset:function(u,l,c,h){e=u,t=l,n=c,r=h,i=Math.ceil(r/n),o.next=n>1&&r>0?s:a}};return o;function a(){return e<t?e++:null}function s(){var o=e%i*n+Math.ceil(e/i),a=e>=t?null:o<r?o:e;return e++,a}}();function uf(t,e){var n=e&&e.type;return"ordinal"===n?t:("time"!==n||Object(g.z)(t)||null==t||"-"===t||(t=+Or(t)),null==t||""===t?NaN:+t)}var lf=Object(g.f)({number:function(t){return parseFloat(t)},time:function(t){return+Or(t)},trim:function(t){return Object(g.C)(t)?Object(g.T)(t):t}});function cf(t){return lf.get(t)}var hf={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},df=function(){function t(t,e){if(!Object(g.z)(e)){var n="";0,Rr(n)}this._opFn=hf[t],this._rvalFloat=Dr(e)}return t.prototype.evaluate=function(t){return Object(g.z)(t)?this._opFn(t,this._rvalFloat):this._opFn(Dr(t),this._rvalFloat)},t}(),ff=function(){function t(t,e){var n="desc"===t;this._resultLT=n?1:-1,null==e&&(e=n?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return t.prototype.evaluate=function(t,e){var n=Object(g.z)(t)?t:Dr(t),r=Object(g.z)(e)?e:Dr(e),i=isNaN(n),o=isNaN(r);if(i&&(n=this._incomparable),o&&(r=this._incomparable),i&&o){var a=Object(g.C)(t),s=Object(g.C)(e);a&&(n=s?t:0),s&&(r=a?e:0)}return n<r?this._resultLT:n>r?-this._resultLT:0},t}(),pf=function(){function t(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Dr(e)}return t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(e=Dr(t)===this._rvalFloat)}return this._isEQ?e:!e},t}();function gf(t,e){return"eq"===t||"ne"===t?new pf("eq"===t,e):Object(g.q)(hf,t)?new df(t,e):null}var vf=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(t){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,e){},t.prototype.retrieveValueFromItem=function(t,e){},t.prototype.convertValue=function(t,e){return uf(t,e)},t}();function yf(t){var e=t.sourceFormat;if(!_f(e)){var n="";0,Rr(n)}return t.data}function mf(t){var e=t.sourceFormat,n=t.data;if(!_f(e)){var r="";0,Rr(r)}if(e===Ch){for(var i=[],o=0,a=n.length;o<a;o++)i.push(n[o].slice());return i}if(e===kh){for(i=[],o=0,a=n.length;o<a;o++)i.push(Object(g.m)({},n[o]));return i}}function bf(t,e,n){if(null!=n)return Object(g.z)(n)||!isNaN(n)&&!Object(g.q)(e,n)?t[n]:Object(g.q)(e,n)?e[n]:void 0}function xf(t){return Object(g.d)(t)}var Af=Object(g.f)();function wf(t,e,n,r){var i="";e.length||Rr(i),Object(g.A)(t)||Rr(i);var o=t.type,a=Af.get(o);a||Rr(i);var s=Object(g.H)(e,function(t){return function(t,e){var n=new vf,r=t.data,i=n.sourceFormat=t.sourceFormat,o=t.startIndex,a="";t.seriesLayoutBy!==Lh&&Rr(a);var s=[],u={},l=t.dimensionsDefine;if(l)Object(g.k)(l,function(t,e){var n=t.name,r={index:e,name:n,displayName:t.displayName};if(s.push(r),null!=n){var i="";Object(g.q)(u,n)&&Rr(i),u[n]=r}});else for(var c=0;c<t.dimensionsDetectedCount;c++)s.push({index:c});var h=Yd(i,Lh);e.__isBuiltIn&&(n.getRawDataItem=function(t){return h(r,o,s,t)},n.getRawData=Object(g.c)(yf,null,t)),n.cloneRawData=Object(g.c)(mf,null,t);var d=Qd(i,Lh);n.count=Object(g.c)(d,null,r,o,s);var f=Jd(i);n.retrieveValue=function(t,e){var n=h(r,o,s,t);return p(n,e)};var p=n.retrieveValueFromItem=function(t,e){if(null!=t){var n=s[e];return n?f(t,e,n.name):void 0}};return n.getDimensionInfo=Object(g.c)(bf,null,s,u),n.cloneAllDimensionInfo=Object(g.c)(xf,null,s),n}(t,a)}),u=Gr(a.transform({upstream:s[0],upstreamList:s,config:Object(g.d)(t.config)}));return Object(g.H)(u,function(t,n){var r,i="";Object(g.A)(t)||Rr(i),t.data||Rr(i),_f(zd(t.data))||Rr(i);var o=e[0];if(o&&0===n&&!t.dimensions){var a=o.startIndex;a&&(t.data=o.data.slice(0,a).concat(t.data)),r={seriesLayoutBy:Lh,sourceHeader:a,dimensions:o.metaRawOption.dimensions}}else r={seriesLayoutBy:Lh,sourceHeader:0,dimensions:t.dimensions};return Rd(t.data,r,null)})}function _f(t){return t===Ch||t===kh}var Mf,Sf="undefined"==typeof Uint32Array?Array:Uint32Array,Of="undefined"==typeof Uint16Array?Array:Uint16Array,If="undefined"==typeof Int32Array?Array:Int32Array,Ef="undefined"==typeof Float64Array?Array:Float64Array,Cf={float:Ef,int:If,ordinal:Array,number:Array,time:Ef};function kf(t){return t>65535?Sf:Of}function Tf(t,e,n,r,i){var o=Cf[n||"float"];if(i){var a=t[e],s=a&&a.length;if(s!==r){for(var u=new o(r),l=0;l<s;l++)u[l]=a[l];t[e]=u}}else t[e]=new o(r)}var Df=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Object(g.f)()}return t.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=t.getSource(),i=this.defaultDimValueGetter=Mf[r.sourceFormat];this._dimValueGetter=n||i,this._rawExtent=[];Vd(r);this._dimensions=Object(g.H)(e,function(t){return{type:t.type,property:t.property}}),this._initDataFromProvider(0,t.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,r=this._dimensions,i=n.get(t);if(null!=i){if(r[i].type===e)return i}else i=r.length;return r[i]={type:e},n.set(t,i),this._chunks[i]=new Cf[e||"float"](this._rawCount),this._rawExtent[i]=[1/0,-1/0],i},t.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],r=this._dimensions[t],i=this._rawExtent,o=r.ordinalOffset||0,a=n.length;0===o&&(i[t]=[1/0,-1/0]);for(var s=i[t],u=o;u<a;u++){var l=n[u]=e.parseAndCollect(n[u]);isNaN(l)||(s[0]=Math.min(l,s[0]),s[1]=Math.max(l,s[1]))}r.ordinalMeta=e,r.ordinalOffset=a,r.type="ordinal"},t.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},t.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},t.prototype.appendData=function(t){var e=this._provider,n=this.count();e.appendData(t);var r=e.count();return e.persistent||(r+=n),n<r&&this._initDataFromProvider(n,r,!0),[n,r]},t.prototype.appendValues=function(t,e){for(var n=this._chunks,r=this._dimensions,i=r.length,o=this._rawExtent,a=this.count(),s=a+Math.max(t.length,e||0),u=0;u<i;u++){Tf(n,u,(f=r[u]).type,s,!0)}for(var l=[],c=a;c<s;c++)for(var h=c-a,d=0;d<i;d++){var f=r[d],p=Mf.arrayRows.call(this,t[h]||l,f.property,h,d);n[d][c]=p;var g=o[d];p<g[0]&&(g[0]=p),p>g[1]&&(g[1]=p)}return this._rawCount=this._count=s,{start:a,end:s}},t.prototype._initDataFromProvider=function(t,e,n){for(var r=this._provider,i=this._chunks,o=this._dimensions,a=o.length,s=this._rawExtent,u=Object(g.H)(o,function(t){return t.property}),l=0;l<a;l++){var c=o[l];s[l]||(s[l]=[1/0,-1/0]),Tf(i,l,c.type,e,n)}if(r.fillStorage)r.fillStorage(t,e,i,s);else for(var h=[],d=t;d<e;d++){h=r.getItem(d,h);for(var f=0;f<a;f++){var p=i[f],v=this._dimValueGetter(h,u[f],d,f);p[d]=v;var y=s[f];v<y[0]&&(y[0]=v),v>y[1]&&(y[1]=v)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},t.prototype.getValues=function(t,e){var n=[],r=[];if(null==e){e=t,t=[];for(var i=0;i<this._dimensions.length;i++)r.push(i)}else r=t;i=0;for(var o=r.length;i<o;i++)n.push(this.get(r[i],e));return n},t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},t.prototype.getSum=function(t){var e=0;if(this._chunks[t])for(var n=0,r=this.count();n<r;n++){var i=this.get(t,n);isNaN(i)||(e+=i)}return e},t.prototype.getMedian=function(t){var e=[];this.each([t],function(t){isNaN(t)||e.push(t)});var n=e.sort(function(t,e){return t-e}),r=this.count();return 0===r?0:r%2==1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var r=0,i=this._count-1;r<=i;){var o=(r+i)/2|0;if(e[o]<t)r=o+1;else{if(!(e[o]>t))return o;i=o-1}}return-1},t.prototype.indicesOfNearest=function(t,e,n){var r=this._chunks[t],i=[];if(!r)return i;null==n&&(n=1/0);for(var o=1/0,a=-1,s=0,u=0,l=this.count();u<l;u++){var c=e-r[this.getRawIndex(u)],h=Math.abs(c);h<=n&&((h<o||h===o&&c>=0&&a<0)&&(o=h,a=c,s=0),c===a&&(i[s++]=u))}return i.length=s,i},t.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,r=this._count;if(n===Array){t=new n(r);for(var i=0;i<r;i++)t[i]=e[i]}else t=new n(e.buffer,0,r)}else{t=new(n=kf(this._rawCount))(this.count());for(i=0;i<t.length;i++)t[i]=i}return t},t.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),r=n.count(),i=new(kf(n._rawCount))(r),o=[],a=t.length,s=0,u=t[0],l=n._chunks,c=0;c<r;c++){var h=void 0,d=n.getRawIndex(c);if(0===a)h=e(c);else if(1===a){h=e(l[u][d],c)}else{for(var f=0;f<a;f++)o[f]=l[t[f]][d];o[f]=c,h=e.apply(null,o)}h&&(i[s++]=d)}return s<r&&(n._indices=i),n._count=s,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var r=Object(g.F)(t),i=r.length;if(!i)return this;var o=e.count(),a=new(kf(e._rawCount))(o),s=0,u=r[0],l=t[u][0],c=t[u][1],h=e._chunks,d=!1;if(!e._indices){var f=0;if(1===i){for(var p=h[r[0]],v=0;v<n;v++){((x=p[v])>=l&&x<=c||isNaN(x))&&(a[s++]=f),f++}d=!0}else if(2===i){p=h[r[0]];var y=h[r[1]],m=t[r[1]][0],b=t[r[1]][1];for(v=0;v<n;v++){var x=p[v],A=y[v];(x>=l&&x<=c||isNaN(x))&&(A>=m&&A<=b||isNaN(A))&&(a[s++]=f),f++}d=!0}}if(!d)if(1===i)for(v=0;v<o;v++){var w=e.getRawIndex(v);((x=h[r[0]][w])>=l&&x<=c||isNaN(x))&&(a[s++]=w)}else for(v=0;v<o;v++){for(var _=!0,M=(w=e.getRawIndex(v),0);M<i;M++){var S=r[M];((x=h[S][w])<t[S][0]||x>t[S][1])&&(_=!1)}_&&(a[s++]=e.getRawIndex(v))}return s<o&&(e._indices=a),e._count=s,e._extent=[],e._updateGetRawIdx(),e},t.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},t.prototype.modify=function(t,e){this._updateDims(this,t,e)},t.prototype._updateDims=function(t,e,n){for(var r=t._chunks,i=[],o=e.length,a=t.count(),s=[],u=t._rawExtent,l=0;l<e.length;l++)u[e[l]]=[1/0,-1/0];for(var c=0;c<a;c++){for(var h=t.getRawIndex(c),d=0;d<o;d++)s[d]=r[e[d]][h];s[o]=c;var f=n&&n.apply(null,s);if(null!=f){"object"!=typeof f&&(i[0]=f,f=i);for(l=0;l<f.length;l++){var p=e[l],g=f[l],v=u[p],y=r[p];y&&(y[h]=g),g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}}}},t.prototype.lttbDownSample=function(t,e){var n,r,i,o=this.clone([t],!0),a=o._chunks[t],s=this.count(),u=0,l=Math.floor(1/e),c=this.getRawIndex(0),h=new(kf(this._rawCount))(Math.min(2*(Math.ceil(s/l)+2),s));h[u++]=c;for(var d=1;d<s-1;d+=l){for(var f=Math.min(d+l,s-1),p=Math.min(d+2*l,s),g=(p+f)/2,v=0,y=f;y<p;y++){var m=a[S=this.getRawIndex(y)];isNaN(m)||(v+=m)}v/=p-f;var b=d,x=Math.min(d+l,s),A=d-1,w=a[c];n=-1,i=b;var _=-1,M=0;for(y=b;y<x;y++){var S;m=a[S=this.getRawIndex(y)];isNaN(m)?(M++,_<0&&(_=S)):(r=Math.abs((A-g)*(m-w)-(A-y)*(v-w)))>n&&(n=r,i=S)}M>0&&M<x-b&&(h[u++]=Math.min(_,i),i=Math.max(_,i)),h[u++]=i,c=i}return h[u++]=this.getRawIndex(s-1),o._count=u,o._indices=h,o.getRawIndex=this._getRawIdx,o},t.prototype.downSample=function(t,e,n,r){for(var i=this.clone([t],!0),o=i._chunks,a=[],s=Math.floor(1/e),u=o[t],l=this.count(),c=i._rawExtent[t]=[1/0,-1/0],h=new(kf(this._rawCount))(Math.ceil(l/s)),d=0,f=0;f<l;f+=s){s>l-f&&(s=l-f,a.length=s);for(var p=0;p<s;p++){var g=this.getRawIndex(f+p);a[p]=u[g]}var v=n(a),y=this.getRawIndex(Math.min(f+r(a,v)||0,l-1));u[y]=v,v<c[0]&&(c[0]=v),v>c[1]&&(c[1]=v),h[d++]=y}return i._count=d,i._indices=h,i._updateGetRawIdx(),i},t.prototype.each=function(t,e){if(this._count)for(var n=t.length,r=this._chunks,i=0,o=this.count();i<o;i++){var a=this.getRawIndex(i);switch(n){case 0:e(i);break;case 1:e(r[t[0]][a],i);break;case 2:e(r[t[0]][a],r[t[1]][a],i);break;default:for(var s=0,u=[];s<n;s++)u[s]=r[t[s]][a];u[s]=i,e.apply(null,u)}}},t.prototype.getDataExtent=function(t){var e=this._chunks[t],n=[1/0,-1/0];if(!e)return n;var r,i=this.count();if(!this._indices)return this._rawExtent[t].slice();if(r=this._extent[t])return r.slice();for(var o=(r=n)[0],a=r[1],s=0;s<i;s++){var u=e[this.getRawIndex(s)];u<o&&(o=u),u>a&&(a=u)}return r=[o,a],this._extent[t]=r,r},t.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],r=this._chunks,i=0;i<r.length;i++)n.push(r[i][e]);return n},t.prototype.clone=function(e,n){var r,i,o=new t,a=this._chunks,s=e&&Object(g.N)(e,function(t,e){return t[e]=!0,t},{});if(s)for(var u=0;u<a.length;u++)o._chunks[u]=s[u]?(r=a[u],i=void 0,(i=r.constructor)===Array?r.slice():new i(r)):a[u];else o._chunks=a;return this._copyCommonProps(o),n||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},t.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Object(g.d)(this._extent),t._rawExtent=Object(g.d)(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var r=0;r<n;r++)e[r]=this._indices[r]}else e=new t(this._indices);return e}return null},t.prototype._getRawIdxIdentity=function(t){return t},t.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function t(t,e,n,r){return uf(t[r],this._dimensions[r])}Mf={arrayRows:t,objectRows:function(t,e,n,r){return uf(t[e],this._dimensions[r])},keyedColumns:t,original:function(t,e,n,r){var i=t&&(null==t.value?t:t.value);return uf(i instanceof Array?i[r]:i,this._dimensions[r])},typedArray:function(t,e,n,r){return t[r]}}}(),t}(),jf=function(){function t(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,n=this._sourceHost,r=this._getUpstreamSourceManagers(),i=!!r.length;if(Pf(n)){var o=n,a=void 0,s=void 0,u=void 0;if(i){var l=r[0];l.prepareSource(),a=(u=l.getSource()).data,s=u.sourceFormat,e=[l._getVersionSign()]}else a=o.get("data",!0),s=Object(g.E)(a)?Dh:Eh,e=[];var c=this._getSourceMetaRawOption()||{},h=u&&u.metaRawOption||{},d=Object(g.P)(c.seriesLayoutBy,h.seriesLayoutBy)||null,f=Object(g.P)(c.sourceHeader,h.sourceHeader),p=Object(g.P)(c.dimensions,h.dimensions);t=d!==h.seriesLayoutBy||!!f!=!!h.sourceHeader||p?[Rd(a,{seriesLayoutBy:d,sourceHeader:f,dimensions:p},s)]:[]}else{var v=n;if(i){var y=this._applyTransform(r);t=y.sourceList,e=y.upstreamSignList}else{t=[Rd(v.get("source",!0),this._getSourceMetaRawOption(),null)],e=[]}}this._setLocalSource(t,e)},t.prototype._applyTransform=function(t){var e,n=this._sourceHost,r=n.get("transform",!0),i=n.get("fromTransformResult",!0);if(null!=i){var o="";1!==t.length&&Nf(o)}var a,s=[],u=[];return Object(g.k)(t,function(t){t.prepareSource();var e=t.getSource(i||0),n="";null==i||e||Nf(n),s.push(e),u.push(t._getVersionSign())}),r?e=function(t,e,n){var r=Gr(t),i=r.length,o="";i||Rr(o);for(var a=0,s=i;a<s;a++)e=wf(r[a],e),a!==s-1&&(e.length=Math.max(e.length,1));return e}(r,s,n.componentIndex):null!=i&&(e=[(a=s[0],new Pd({data:a.data,sourceFormat:a.sourceFormat,seriesLayoutBy:a.seriesLayoutBy,dimensionsDefine:Object(g.d)(a.dimensionsDefine),startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount}))]),{sourceList:e,upstreamSignList:u}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},t.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},t.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},t.prototype._innerGetDataStore=function(t,e,n){var r=this._storeList,i=r[0];i||(i=r[0]={});var o=i[n];if(!o){var a=this._getUpstreamSourceManagers()[0];Pf(this._sourceHost)&&a?o=a._innerGetDataStore(t,e,n):(o=new Df).initData(new Ud(e,t.length),t),i[n]=o}return o},t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(Pf(t)){var e=Fh(t);return e?[e.getSourceManager()]:[]}return Object(g.H)(function(t){return t.get("transform",!0)||t.get("fromTransformResult",!0)?oi(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},ri).models:[]}(t),function(t){return t.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var t,e,n,r=this._sourceHost;if(Pf(r))t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),n=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=r;t=i.get("seriesLayoutBy",!0),e=i.get("sourceHeader",!0),n=i.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:n}},t}();function Lf(t){t.option.transform&&Object(g.R)(t.option.transform)}function Pf(t){return"series"===t.mainType}function Nf(t){throw new Error(t)}var Rf="line-height:1";function Bf(t,e){var n=t.color||"#6e7079",r=t.fontSize||12,i=t.fontWeight||"400",o=t.color||"#464646",a=t.fontSize||14,s=t.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+$(r+"")+"px;color:"+$(n)+";font-weight:"+$(i+""),valueStyle:"font-size:"+$(a+"")+"px;color:"+$(o)+";font-weight:"+$(s+"")}:{nameStyle:{fontSize:r,fill:n,fontWeight:i},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var zf=[0,10,20,30],Ff=["","\n","\n\n","\n\n\n"];function Gf(t,e){return e.type=t,e}function Vf(t){return"section"===t.type}function Uf(t){return Vf(t)?Wf:Hf}function Wf(t,e,n,r){var i,o=e.noHeader,a=(i=function t(e){if(Vf(e)){var n=0,r=e.blocks.length,i=r>1||r>0&&!e.noHeader;return Object(g.k)(e.blocks,function(e){var r=t(e);r>=n&&(n=r+ +(i&&(!r||Vf(e)&&!e.noHeader)))}),n}return 0}(e),{html:zf[i],richText:Ff[i]}),s=[],u=e.blocks||[];Object(g.b)(!u||Object(g.t)(u)),u=u||[];var l=t.orderMode;if(e.sortBlocks&&l){u=u.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(Object(g.q)(c,l)){var h=new ff(c[l],null);u.sort(function(t,e){return h.evaluate(t.sortParam,e.sortParam)})}else"seriesDesc"===l&&u.reverse()}Object(g.k)(u,function(n,i){var o=e.valueFormatter,u=Uf(n)(o?Object(g.m)(Object(g.m)({},t),{valueFormatter:o}):t,n,i>0?a.html:0,r);null!=u&&s.push(u)});var d="richText"===t.renderMode?s.join(a.richText):Xf(s.join(""),o?n:a.html);if(o)return d;var f=eh(e.header,"ordinal",t.useUTC),p=Bf(r,t.renderMode).nameStyle;return"richText"===t.renderMode?qf(t,f,p)+a.richText+d:Xf('<div style="'+p+";"+Rf+';">'+$(f)+"</div>"+d,n)}function Hf(t,e,n,r){var i=t.renderMode,o=e.noName,a=e.noValue,s=!e.markerType,u=e.name,l=t.useUTC,c=e.valueFormatter||t.valueFormatter||function(t){return t=Object(g.t)(t)?t:[t],Object(g.H)(t,function(t,e){return eh(t,Object(g.t)(f)?f[e]:f,l)})};if(!o||!a){var h=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),d=o?"":eh(u,"ordinal",l),f=e.valueType,p=a?[]:c(e.value),v=!s||!o,y=!s&&o,m=Bf(r,i),b=m.nameStyle,x=m.valueStyle;return"richText"===i?(s?"":h)+(o?"":qf(t,d,b))+(a?"":function(t,e,n,r,i){var o=[i],a=r?10:20;return n&&o.push({padding:[0,0,0,a],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(Object(g.t)(e)?e.join("  "):e,o)}(t,p,v,y,x)):Xf((s?"":h)+(o?"":function(t,e,n){return'<span style="'+n+";"+(e?"margin-left:2px":"")+'">'+$(t)+"</span>"}(d,!s,b))+(a?"":function(t,e,n,r){var i=e?"float:right;margin-left:"+(n?"10px":"20px"):"";return t=Object(g.t)(t)?t:[t],'<span style="'+i+";"+r+'">'+Object(g.H)(t,function(t){return $(t)}).join("&nbsp;&nbsp;")+"</span>"}(p,v,y,x)),n)}}function Yf(t,e,n,r,i,o){if(t)return Uf(t)({useUTC:i,renderMode:n,orderMode:r,markupStyleCreator:e,valueFormatter:t.valueFormatter},t,0,o)}function Xf(t,e){return'<div style="'+("margin: "+e+"px 0 0")+";"+Rf+';">'+t+'<div style="clear:both"></div></div>'}function qf(t,e,n){return t.markupStyleCreator.wrapRichTextStyle(e,n)}function Qf(t,e){return uh(t.getData().getItemVisual(e,"style")[t.visualDrawType])}function Zf(t,e){var n=t.get("padding");return null!=n?n:"richText"===e?[8,10]:10}var Kf=function(){function t(){this.richTextStyles={},this._nextStyleNameId=Lr()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(t,e,n){var r="richText"===n?this._generateStyleName():null,i=oh({color:e,type:t,renderMode:n,markerId:r});return Object(g.C)(i)?i:(this.richTextStyles[r]=i.style,i.content)},t.prototype.wrapRichTextStyle=function(t,e){var n={};Object(g.t)(e)?Object(g.k)(e,function(t){return Object(g.m)(n,t)}):Object(g.m)(n,e);var r=this._generateStyleName();return this.richTextStyles[r]=n,"{"+r+"|"+t+"}"},t}();function Jf(t){var e,n,r,i,o=t.series,a=t.dataIndex,s=t.multipleSeries,u=o.getData(),l=u.mapDimensionsAll("defaultedTooltip"),c=l.length,h=o.getRawValue(a),d=Object(g.t)(h),f=Qf(o,a);if(c>1||d&&!c){var p=function(t,e,n,r,i){var o=e.getData(),a=Object(g.N)(t,function(t,e,n){var r=o.getDimensionInfo(n);return t=t||r&&!1!==r.tooltip&&null!=r.displayName},!1),s=[],u=[],l=[];function c(t,e){var n=o.getDimensionInfo(e);n&&!1!==n.otherDims.tooltip&&(a?l.push(Gf("nameValue",{markerType:"subItem",markerColor:i,name:n.displayName,value:t,valueType:n.type})):(s.push(t),u.push(n.type)))}return r.length?Object(g.k)(r,function(t){c(tf(o,n,t),t)}):Object(g.k)(t,c),{inlineValues:s,inlineValueTypes:u,blocks:l}}(h,o,a,l,f);e=p.inlineValues,n=p.inlineValueTypes,r=p.blocks,i=p.inlineValues[0]}else if(c){var v=u.getDimensionInfo(l[0]);i=e=tf(u,a,l[0]),n=v.type}else i=e=d?h[0]:h;var y=Zr(o),m=y&&o.name||"",b=u.getName(a),x=s?m:b;return Gf("section",{header:m,noHeader:s||!y,sortParam:i,blocks:[Gf("nameValue",{markerType:"item",markerColor:f,name:x,noName:!Object(g.T)(x),value:e,valueType:n})].concat(r||[])})}var $f=$r();function tp(t,e){return t.getName(e)||t.getId(e)}var ep="__universalTransitionEnabled",np=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}var n;return Object(f.__extends)(e,t),e.prototype.init=function(t,e,n){this.seriesIndex=this.componentIndex,this.dataTask=of({count:ip,reset:op}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),($f(this).sourceManager=new jf(this)).prepareSource();var r=this.getInitialData(t,n);sp(r,this),this.dataTask.context.data=r,$f(this).dataBeforeProcessed=r,rp(this),this._initSelectedMapFromData(r)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=yh(this),r=n?bh(t):{},i=this.subType;_h.hasClass(i)&&(i+="Series"),g.I(t,e.getTheme().get(this.subType)),g.I(t,this.getDefaultOption()),Vr(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&mh(t,r,n)},e.prototype.mergeOption=function(t,e){t=g.I(this.option,t,!0),this.fillDataTextStyle(t.data);var n=yh(this);n&&mh(this.option,t,n);var r=$f(this).sourceManager;r.dirty(),r.prepareSource();var i=this.getInitialData(t,e);sp(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,$f(this).dataBeforeProcessed=i,rp(this),this._initSelectedMapFromData(i)},e.prototype.fillDataTextStyle=function(t){if(t&&!g.E(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&Vr(t[n],"label",e)},e.prototype.getInitialData=function(t,e){},e.prototype.appendData=function(t){this.getRawData().appendData(t.data)},e.prototype.getData=function(t){var e=lp(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return $f(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var e=lp(this);if(e){var n=e.context;n.outputData=t,e!==this.dataTask&&(n.data=t)}$f(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return g.f(t)},e.prototype.getSourceManager=function(){return $f(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return $f(this).dataBeforeProcessed},e.prototype.getColorBy=function(){return this.get("colorBy")||"series"},e.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,e,n){return Jf({series:this,dataIndex:t,multipleSeries:e})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(p.a.node&&(!t||!t.ssr))return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),!!e},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,e,n){var r=this.ecModel,i=Qh.prototype.getColorFromPalette.call(this,t,e,n);return i||(i=r.getColorFromPalette(t,e,n)),i},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)},e.prototype.unselect=function(t,e){var n=this.option.selectedMap;if(n){var r=this.option.selectedMode,i=this.getData(e);if("series"===r||"all"===n)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var o=0;o<t.length;o++){var a=tp(i,t[o]);n[a]=!1,this._selectedDataIndicesMap[a]=-1}}},e.prototype.toggleSelect=function(t,e){for(var n=[],r=0;r<t.length;r++)n[0]=t[r],this.isSelected(t[r],e)?this.unselect(n,e):this.select(n,e)},e.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,e=g.F(t),n=[],r=0;r<e.length;r++){var i=t[e[r]];i>=0&&n.push(i)}return n},e.prototype.isSelected=function(t,e){var n=this.option.selectedMap;if(!n)return!1;var r=this.getData(e);return("all"===n||n[tp(r,t)])&&!r.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[ep])return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},e.prototype._innerSelect=function(t,e){var n,r,i=this.option,o=i.selectedMode,a=e.length;if(o&&a)if("series"===o)i.selectedMap="all";else if("multiple"===o){g.A(i.selectedMap)||(i.selectedMap={});for(var s=i.selectedMap,u=0;u<a;u++){var l=e[u];s[h=tp(t,l)]=!0,this._selectedDataIndicesMap[h]=t.getRawIndex(l)}}else if("single"===o||!0===o){var c=e[a-1],h=tp(t,c);i.selectedMap=((n={})[h]=!0,n),this._selectedDataIndicesMap=((r={})[h]=t.getRawIndex(c),r)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var e=[];t.hasItemOption&&t.each(function(n){var r=t.getRawDataItem(n);r&&r.selected&&e.push(n)}),e.length>0&&this._innerSelect(t,e)}},e.registerClass=function(t){return _h.registerClass(t)},e.protoInitialize=((n=e.prototype).type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",void(n.visualDrawType="fill")),e}(_h);function rp(t){var e=t.name;Zr(t)||(t.name=function(t){var e=t.getRawData(),n=e.mapDimensionsAll("seriesName"),r=[];return g.k(n,function(t){var n=e.getDimensionInfo(t);n.displayName&&r.push(n.displayName)}),r.join(" ")}(t)||e)}function ip(t){return t.model.getRawData().count()}function op(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),ap}function ap(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function sp(t,e){g.k(g.e(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(n){t.wrapMethod(n,g.h(up,e))})}function up(t,e){var n=lp(t);return n&&n.setOutputEnd((e||this).count()),e}function lp(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(t.uid))}return r}}g.K(np,nf),g.K(np,Qh),pi(np,_h);var cp=np,hp=function(){function t(){this.group=new tr,this.uid=fc("viewComponent")}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,r){},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,r){},t.prototype.updateLayout=function(t,e,n,r){},t.prototype.updateVisual=function(t,e,n,r){},t.prototype.toggleBlurSeries=function(t,e,n){},t.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},t}();fi(hp),mi(hp);var dp=hp;function fp(){var t=$r();return function(e){var n=t(e),r=e.pipelineContext,i=!!n.large,o=!!n.progressiveRender,a=n.large=!(!r||!r.large),s=n.progressiveRender=!(!r||!r.progressiveRender);return!(i===a&&o===s)&&"reset"}}var pp=$r(),gp=fp(),vp=function(){function t(){this.group=new tr,this.uid=fc("viewChart"),this.renderTask=of({plan:bp,reset:xp}),this.renderTask.context={view:this}}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,r){0},t.prototype.highlight=function(t,e,n,r){var i=t.getData(r&&r.dataType);i&&mp(i,r,"emphasis")},t.prototype.downplay=function(t,e,n,r){var i=t.getData(r&&r.dataType);i&&mp(i,r,"normal")},t.prototype.remove=function(t,e){this.group.removeAll()},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,r){this.render(t,e,n,r)},t.prototype.updateLayout=function(t,e,n,r){this.render(t,e,n,r)},t.prototype.updateVisual=function(t,e,n,r){this.render(t,e,n,r)},t.prototype.eachRendered=function(t){Nl(this.group,t)},t.markUpdateMethod=function(t,e){pp(t).updateMethod=e},t.protoInitialize=void(t.prototype.type="chart"),t}();function yp(t,e,n){t&&Is(t)&&("emphasis"===e?us:ls)(t,n)}function mp(t,e,n){var r=Jr(t,e),i=e&&null!=e.highlightKey?function(t){var e=ka[t];return null==e&&Ca<=32&&(e=ka[t]=Ca++),e}(e.highlightKey):null;null!=r?Object(g.k)(Gr(r),function(e){yp(t.getItemGraphicEl(e),n,i)}):t.eachItemGraphicEl(function(t){yp(t,n,i)})}function bp(t){return gp(t.model)}function xp(t){var e=t.model,n=t.ecModel,r=t.api,i=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,s=i&&pp(i).updateMethod,u=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==u&&a[u](e,n,r,i),Ap[u]}fi(vp),mi(vp);var Ap={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},wp=vp,_p="\0__throttleOriginMethod",Mp="\0__throttleRate",Sp="\0__throttleType";function Op(t,e,n){var r,i,o,a,s,u=0,l=0,c=null;function h(){l=(new Date).getTime(),c=null,t.apply(o,a||[])}e=e||0;var d=function(){for(var t=[],d=0;d<arguments.length;d++)t[d]=arguments[d];r=(new Date).getTime(),o=this,a=t;var f=s||e,p=s||n;s=null,i=r-(p?u:l)-f,clearTimeout(c),p?c=setTimeout(h,f):i>=0?h():c=setTimeout(h,-i),u=r};return d.clear=function(){c&&(clearTimeout(c),c=null)},d.debounceNextCall=function(t){s=t},d}function Ip(t,e,n,r){var i=t[e];if(i){var o=i[_p]||i,a=i[Sp];if(i[Mp]!==n||a!==r){if(null==n||!r)return t[e]=o;(i=t[e]=Op(o,n,"debounce"===r))[_p]=o,i[Sp]=r,i[Mp]=n}return i}}function Ep(t,e){var n=t[e];n&&n[_p]&&(n.clear&&n.clear(),t[e]=n[_p])}var Cp=$r(),kp={itemStyle:bi(sc,!0),lineStyle:bi(ic,!0)},Tp={lineStyle:"stroke",itemStyle:"fill"};function Dp(t,e){var n=t.visualStyleMapper||kp[e];return n||(console.warn("Unknown style type '"+e+"'."),kp.itemStyle)}function jp(t,e){var n=t.visualDrawType||Tp[e];return n||(console.warn("Unknown style type '"+e+"'."),"fill")}var Lp={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",i=t.getModel(r),o=Dp(t,r)(i),a=i.getShallow("decal");a&&(n.setVisual("decal",a),a.dirty=!0);var s=jp(t,r),u=o[s],l=Object(g.w)(u)?u:null,c="auto"===o.fill||"auto"===o.stroke;if(!o[s]||l||c){var h=t.getColorFromPalette(t.name,null,e.getSeriesCount());o[s]||(o[s]=h,n.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||Object(g.w)(o.fill)?h:o.fill,o.stroke="auto"===o.stroke||Object(g.w)(o.stroke)?h:o.stroke}if(n.setVisual("style",o),n.setVisual("drawType",s),!e.isSeriesFiltered(t)&&l)return n.setVisual("colorFromPalette",!1),{dataEach:function(e,n){var r=t.getDataParams(n),i=Object(g.m)({},o);i[s]=l(r),e.setItemVisual(n,"style",i)}}}},Pp=new hc,Np={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.ignoreStyleOnData&&!e.isSeriesFiltered(t)){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",i=Dp(t,r),o=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(t,e){var n=t.getRawDataItem(e);if(n&&n[r]){Pp.option=n[r];var a=i(Pp),s=t.ensureUniqueItemVisual(e,"style");Object(g.m)(s,a),Pp.option.decal&&(t.setItemVisual(e,"decal",Pp.option.decal),Pp.option.decal.dirty=!0),o in a&&t.setItemVisual(e,"colorFromPalette",!1)}}:null}}}},Rp={performRawSeries:!0,overallReset:function(t){var e=Object(g.f)();t.eachSeries(function(t){var n=t.getColorBy();if(!t.isColorBySeries()){var r=t.type+"-"+n,i=e.get(r);i||(i={},e.set(r,i)),Cp(t).scope=i}}),t.eachSeries(function(e){if(!e.isColorBySeries()&&!t.isSeriesFiltered(e)){var n=e.getRawData(),r={},i=e.getData(),o=Cp(e).scope,a=e.visualStyleAccessPath||"itemStyle",s=jp(e,a);i.each(function(t){var e=i.getRawIndex(t);r[e]=t}),n.each(function(t){var a=r[t];if(i.getItemVisual(a,"colorFromPalette")){var u=i.ensureUniqueItemVisual(a,"style"),l=n.getName(t)||t+"",c=n.count();u[s]=e.getColorFromPalette(l,o,c)}})}})}},Bp=Math.PI;var zp=function(){function t(t,e,n,r){this._stageTaskMap=Object(g.f)(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return t.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})},t.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),r=n.context,i=!e&&n.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,o=r&&r.modDataCount;return{step:i,modBy:null!=o?Math.ceil(o/i):null,modDataCount:o}}},t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},t.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),r=t.getData().count(),i=n.progressiveEnabled&&e.incrementalPrepareRender&&r>=n.threshold,o=t.get("large")&&r>=t.get("largeThreshold"),a="mod"===t.get("progressiveChunkMode")?r:null;t.pipelineContext=n.context={progressiveRender:i,modDataCount:a,large:o}},t.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=Object(g.f)();t.eachSeries(function(t){var r=t.getProgressive(),i=t.uid;n.set(i,{id:i,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:r&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),e._pipe(t,t.dataTask)})},t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;Object(g.k)(this._allHandlers,function(r){var i=t.get(r.uid)||t.set(r.uid,{}),o="";Object(g.b)(!(r.reset&&r.overallReset),o),r.reset&&this._createSeriesStageTask(r,i,e,n),r.overallReset&&this._createOverallStageTask(r,i,e,n)},this)},t.prototype.prepareView=function(t,e,n,r){var i=t.renderTask,o=i.context;o.model=e,o.ecModel=n,o.api=r,i.__block=!t.incrementalPrepareRender,this._pipe(e,i)},t.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},t.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},t.prototype._performStageTasks=function(t,e,n,r){r=r||{};var i=!1,o=this;function a(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}Object(g.k)(t,function(t,s){if(!r.visualType||r.visualType===t.visualType){var u=o._stageTaskMap.get(t.uid),l=u.seriesTaskMap,c=u.overallTask;if(c){var h,d=c.agentStubMap;d.each(function(t){a(r,t)&&(t.dirty(),h=!0)}),h&&c.dirty(),o.updatePayload(c,n);var f=o.getPerformArgs(c,r.block);d.each(function(t){t.perform(f)}),c.perform(f)&&(i=!0)}else l&&l.each(function(s,u){a(r,s)&&s.dirty();var l=o.getPerformArgs(s,r.block);l.skip=!t.performRawSeries&&e.isSeriesFiltered(s.context.model),o.updatePayload(s,n),s.perform(l)&&(i=!0)})}}),this.unfinished=i||this.unfinished},t.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e=t.dataTask.perform()||e}),this.unfinished=e||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},t.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},t.prototype._createSeriesStageTask=function(t,e,n,r){var i=this,o=e.seriesTaskMap,a=e.seriesTaskMap=Object(g.f)(),s=t.seriesType,u=t.getTargetSeries;function l(e){var s=e.uid,u=a.set(s,o&&o.get(s)||of({plan:Wp,reset:Hp,count:qp}));u.context={model:e,ecModel:n,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:i},i._pipe(e,u)}t.createOnAllSeries?n.eachRawSeries(l):s?n.eachRawSeriesByType(s,l):u&&u(n,r).each(l)},t.prototype._createOverallStageTask=function(t,e,n,r){var i=this,o=e.overallTask=e.overallTask||of({reset:Fp});o.context={ecModel:n,api:r,overallReset:t.overallReset,scheduler:i};var a=o.agentStubMap,s=o.agentStubMap=Object(g.f)(),u=t.seriesType,l=t.getTargetSeries,c=!0,h=!1,d="";function f(t){var e=t.uid,n=s.set(e,a&&a.get(e)||(h=!0,of({reset:Gp,onDirty:Up})));n.context={model:t,overallProgress:c},n.agent=o,n.__block=c,i._pipe(t,n)}Object(g.b)(!t.createOnAllSeries,d),u?n.eachRawSeriesByType(u,f):l?l(n,r).each(f):(c=!1,Object(g.k)(n.getSeries(),f)),h&&o.dirty()},t.prototype._pipe=function(t,e){var n=t.uid,r=this._pipelineMap.get(n);!r.head&&(r.head=e),r.tail&&r.tail.pipe(e),r.tail=e,e.__idxInPipeline=r.count++,e.__pipeline=r},t.wrapStageHandler=function(t,e){return Object(g.w)(t)&&(t={overallReset:t,seriesType:function(t){Qp=null;try{t(Zp,Kp)}catch(t){}return Qp}(t)}),t.uid=fc("stageHandler"),e&&(t.visualType=e),t},t}();function Fp(t){t.overallReset(t.ecModel,t.api,t.payload)}function Gp(t){return t.overallProgress&&Vp}function Vp(){this.agent.dirty(),this.getDownstream().dirty()}function Up(){this.agent&&this.agent.dirty()}function Wp(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function Hp(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Gr(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?Object(g.H)(e,function(t,e){return Xp(e)}):Yp}var Yp=Xp(0);function Xp(t){return function(e,n){var r=n.data,i=n.resetDefines[t];if(i&&i.dataEach)for(var o=e.start;o<e.end;o++)i.dataEach(r,o);else i&&i.progress&&i.progress(e,r)}}function qp(t){return t.data.count()}var Qp,Zp={},Kp={};function Jp(t,e){for(var n in e.prototype)t[n]=g.L}Jp(Zp,nd),Jp(Kp,id),Zp.eachSeriesByType=Zp.eachRawSeriesByType=function(t){Qp=t},Zp.eachComponent=function(t){"series"===t.mainType&&t.subType&&(Qp=t.subType)};var $p=zp,tg=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],eg={color:tg,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],tg]},ng=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],rg={darkMode:!0,color:ng,backgroundColor:"#100C2A",axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:"#B9B8CE"}},textStyle:{color:"#B9B8CE"},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:"#B9B8CE"}},dataZoom:{borderColor:"#71708A",textStyle:{color:"#B9B8CE"},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:"#B9B8CE"}},timeline:{lineStyle:{color:"#B9B8CE"},label:{color:"#B9B8CE"},controlStyle:{color:"#B9B8CE",borderColor:"#B9B8CE"}},calendar:{itemStyle:{color:"#100C2A"},dayLabel:{color:"#B9B8CE"},monthLabel:{color:"#B9B8CE"},yearLabel:{color:"#B9B8CE"}},timeAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},logAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},valueAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},categoryAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},line:{symbol:"circle"},graph:{color:ng},gauge:{title:{color:"#B9B8CE"},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:"#B9B8CE"},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};rg.categoryAxis.splitLine.show=!1;var ig=rg,og=function(){function t(){}return t.prototype.normalizeQuery=function(t){var e={},n={},r={};if(g.C(t)){var i=di(t);e.mainType=i.main||null,e.subType=i.sub||null}else{var o=["Index","Name","Id"],a={name:1,dataIndex:1,dataType:1};g.k(t,function(t,i){for(var s=!1,u=0;u<o.length;u++){var l=o[u],c=i.lastIndexOf(l);if(c>0&&c===i.length-l.length){var h=i.slice(0,c);"data"!==h&&(e.mainType=h,e[l.toLowerCase()]=t,s=!0)}}a.hasOwnProperty(i)&&(n[i]=t,s=!0),s||(r[i]=t)})}return{cptQuery:e,dataQuery:n,otherQuery:r}},t.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,i=n.packedEvent,o=n.model,a=n.view;if(!o||!a)return!0;var s=e.cptQuery,u=e.dataQuery;return l(s,o,"mainType")&&l(s,o,"subType")&&l(s,o,"index","componentIndex")&&l(s,o,"name")&&l(s,o,"id")&&l(u,i,"name")&&l(u,i,"dataIndex")&&l(u,i,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(t,e.otherQuery,r,i));function l(t,e,n,r){return null==t[n]||e[r||n]===t[n]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),ag=["symbol","symbolSize","symbolRotate","symbolOffset"],sg=ag.concat(["symbolKeepAspect"]),ug={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendIcon&&n.setVisual("legendIcon",t.legendIcon),t.hasSymbolVisual){for(var r={},i={},o=!1,a=0;a<ag.length;a++){var s=ag[a],u=t.get(s);Object(g.w)(u)?(o=!0,i[s]=u):r[s]=u}if(r.symbol=r.symbol||t.defaultSymbol,n.setVisual(Object(g.m)({legendIcon:t.legendIcon||r.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},r)),!e.isSeriesFiltered(t)){var l=Object(g.F)(i);return{dataEach:o?function(e,n){for(var r=t.getRawValue(n),o=t.getDataParams(n),a=0;a<l.length;a++){var s=l[a];e.setItemVisual(n,s,i[s](r,o))}}:null}}}}},lg={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(t.hasSymbolVisual&&!e.isSeriesFiltered(t))return{dataEach:t.getData().hasItemOption?function(t,e){for(var n=t.getItemModel(e),r=0;r<sg.length;r++){var i=sg[r],o=n.getShallow(i,!0);null!=o&&t.setItemVisual(e,i,o)}}:null}}};function cg(t,e,n){switch(n){case"color":return t.getItemVisual(e,"style")[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,n);default:0}}function hg(t,e){switch(e){case"color":return t.getVisual("style")[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e);default:0}}function dg(t,e,n,r){switch(n){case"color":t.ensureUniqueItemVisual(e,"style")[t.getVisual("drawType")]=r,t.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,n,r);break;default:0}}function fg(t,e){Object(g.k)([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],function(n){e(n[0],function(e,r,i){e=Object(g.m)({},e),i.dispatchAction(Object(g.m)(e,{type:n[1],seriesIndex:function(e,n){var r=[];return e.eachComponent({mainType:"series",subType:t,query:n},function(t){r.push(t.seriesIndex)}),r}(r,e)}))})})}function pg(t,e,n,r,i){var o=t+e;n.isSilent(o)||r.eachComponent({mainType:"series",subType:"pie"},function(t){for(var e=t.seriesIndex,r=t.option.selectedMap,a=i.selected,s=0;s<a.length;s++)if(a[s].seriesIndex===e){var u=t.getData(),l=Jr(u,i.fromActionPayload);n.trigger(o,{type:o,seriesId:t.id,name:Object(g.t)(l)?u.getName(l[0]):u.getName(l),selected:Object(g.C)(r)?r:Object(g.m)({},r)})}})}function gg(t,e,n){for(var r;t&&(!e(t)||(r=t,!n));)t=t.__hostTarget||t.parent;return r}var vg=Math.round(9*Math.random()),yg="function"==typeof Object.defineProperty,mg=function(){function t(){this._id="__ec_inner_"+vg++}return t.prototype.get=function(t){return this._guard(t)[this._id]},t.prototype.set=function(t,e){var n=this._guard(t);return yg?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},t.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},t.prototype.has=function(t){return!!this._guard(t)[this._id]},t.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},t}(),bg=Qo.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r+o),t.lineTo(n-i,r+o),t.closePath()}}),xg=Qo.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r),t.lineTo(n,r+o),t.lineTo(n-i,r),t.closePath()}}),Ag=Qo.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width/5*3,o=Math.max(i,e.height),a=i/2,s=a*a/(o-a),u=r-o+a+s,l=Math.asin(s/a),c=Math.cos(l)*a,h=Math.sin(l),d=Math.cos(l),f=.6*a,p=.7*a;t.moveTo(n-c,u+s),t.arc(n,u,a,Math.PI-l,2*Math.PI+l),t.bezierCurveTo(n+c-h*f,u+s+d*f,n,r-p,n,r),t.bezierCurveTo(n,r-p,n-c+h*f,u+s+d*f,n-c,u+s),t.closePath()}}),wg=Qo.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,i=e.x,o=e.y,a=r/3*2;t.moveTo(i,o),t.lineTo(i+a,o+n),t.lineTo(i,o+n/4*3),t.lineTo(i-a,o+n),t.lineTo(i,o),t.closePath()}}),_g={line:Tu,rect:ca,roundRect:ca,square:ca,circle:Js,diamond:xg,pin:Ag,arrow:wg,triangle:bg},Mg={line:function(t,e,n,r,i){i.x1=t,i.y1=e+r/2,i.x2=t+n,i.y2=e+r/2},rect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r},roundRect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(t,e,n,r,i){var o=Math.min(n,r);i.x=t,i.y=e,i.width=o,i.height=o},circle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.r=Math.min(n,r)/2},diamond:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r},pin:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},arrow:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},triangle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r}},Sg={};Object(g.k)(_g,function(t,e){Sg[e]=new t});var Og=Qo.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var r=Un(t,e,n),i=this.shape;return i&&"pin"===i.symbolType&&"inside"===e.position&&(r.y=n.y+.4*n.height),r},buildPath:function(t,e,n){var r=e.symbolType;if("none"!==r){var i=Sg[r];i||(i=Sg[r="rect"]),Mg[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,n)}}});function Ig(t,e){if("image"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff",n.lineWidth=2):"line"===this.shape.symbolType?n.stroke=t:n.fill=t,this.markRedraw()}}function Eg(t,e,n,r,i,o,a){var s,u=0===t.indexOf("empty");return u&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(s=0===t.indexOf("image://")?vl(t.slice(8),new Tt(e,n,r,i),a?"center":"cover"):0===t.indexOf("path://")?gl(t.slice(7),{},new Tt(e,n,r,i),a?"center":"cover"):new Og({shape:{symbolType:t,x:e,y:n,width:r,height:i}})).__isEmptyBrush=u,s.setColor=Ig,o&&s.setColor(o),s}function Cg(t){return Object(g.t)(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function kg(t,e){if(null!=t)return Object(g.t)(t)||(t=[t,t]),[fr(t[0],e[0])||0,fr(Object(g.P)(t[1],t[0]),e[1])||0]}function Tg(t){return isFinite(t)}function Dg(t,e,n){for(var r="radial"===e.type?function(t,e,n){var r=n.width,i=n.height,o=Math.min(r,i),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,u=null==e.r?.5:e.r;return e.global||(a=a*r+n.x,s=s*i+n.y,u*=o),a=Tg(a)?a:.5,s=Tg(s)?s:.5,u=u>=0&&Tg(u)?u:.5,t.createRadialGradient(a,s,0,a,s,u)}(t,e,n):function(t,e,n){var r=null==e.x?0:e.x,i=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(r=r*n.width+n.x,i=i*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),r=Tg(r)?r:0,i=Tg(i)?i:1,o=Tg(o)?o:0,a=Tg(a)?a:0,t.createLinearGradient(r,o,i,a)}(t,e,n),i=e.colorStops,o=0;o<i.length;o++)r.addColorStop(i[o].offset,i[o].color);return r}function jg(t){return parseInt(t,10)}function Lg(t,e,n){var r=["width","height"][e],i=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(null!=n[r]&&"auto"!==n[r])return parseFloat(n[r]);var s=document.defaultView.getComputedStyle(t);return(t[i]||jg(s[r])||jg(t.style[r]))-(jg(s[o])||0)-(jg(s[a])||0)|0}function Pg(t){var e,n,r=t.style,i=r.lineDash&&r.lineWidth>0&&(e=r.lineDash,n=r.lineWidth,e&&"solid"!==e&&n>0?"dashed"===e?[4*n,2*n]:"dotted"===e?[n]:Object(g.z)(e)?[e]:Object(g.t)(e)?e:null:null),o=r.lineDashOffset;if(i){var a=r.strokeNoScale&&t.getLineScale?t.getLineScale():1;a&&1!==a&&(i=Object(g.H)(i,function(t){return t/a}),o/=a)}return[i,o]}var Ng=new Eo(!0);function Rg(t){var e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))}function Bg(t){return"string"==typeof t&&"none"!==t}function zg(t){var e=t.fill;return null!=e&&"none"!==e}function Fg(t,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var n=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n}else t.fill()}function Gg(t,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var n=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n}else t.stroke()}function Vg(t,e,n){var r=Mi(e.image,e.__image,n);if(Oi(r)){var i=t.createPattern(r,e.repeat||"repeat");if("function"==typeof DOMMatrix&&i&&i.setTransform){var o=new DOMMatrix;o.translateSelf(e.x||0,e.y||0),o.rotateSelf(0,0,(e.rotation||0)*g.a),o.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(o)}return i}}var Ug=["shadowBlur","shadowOffsetX","shadowOffsetY"],Wg=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Hg(t,e,n,r,i){var o=!1;if(!r&&e===(n=n||{}))return!1;if(r||e.opacity!==n.opacity){Jg(t,i),o=!0;var a=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(a)?Fi.opacity:a}(r||e.blend!==n.blend)&&(o||(Jg(t,i),o=!0),t.globalCompositeOperation=e.blend||Fi.blend);for(var s=0;s<Ug.length;s++){var u=Ug[s];(r||e[u]!==n[u])&&(o||(Jg(t,i),o=!0),t[u]=t.dpr*(e[u]||0))}return(r||e.shadowColor!==n.shadowColor)&&(o||(Jg(t,i),o=!0),t.shadowColor=e.shadowColor||Fi.shadowColor),o}function Yg(t,e,n,r,i){var o=$g(e,i.inHover),a=r?null:n&&$g(n,i.inHover)||{};if(o===a)return!1;var s=Hg(t,o,a,r,i);if((r||o.fill!==a.fill)&&(s||(Jg(t,i),s=!0),Bg(o.fill)&&(t.fillStyle=o.fill)),(r||o.stroke!==a.stroke)&&(s||(Jg(t,i),s=!0),Bg(o.stroke)&&(t.strokeStyle=o.stroke)),(r||o.opacity!==a.opacity)&&(s||(Jg(t,i),s=!0),t.globalAlpha=null==o.opacity?1:o.opacity),e.hasStroke()){var u=o.lineWidth/(o.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==u&&(s||(Jg(t,i),s=!0),t.lineWidth=u)}for(var l=0;l<Wg.length;l++){var c=Wg[l],h=c[0];(r||o[h]!==a[h])&&(s||(Jg(t,i),s=!0),t[h]=o[h]||c[1])}return s}function Xg(t,e){var n=e.transform,r=t.dpr||1;n?t.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):t.setTransform(r,0,0,r,0,0)}var qg=1,Qg=2,Zg=3,Kg=4;function Jg(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function $g(t,e){return e&&t.__hoverStyle||t.style}function tv(t,e){ev(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function ev(t,e,n,r){var i=e.transform;if(!e.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return e.__dirty&=~Kt,void(e.__isRendered=!1);var o=e.__clipPaths,a=n.prevElClipPaths,s=!1,u=!1;if(a&&!function(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}(o,a)||(a&&a.length&&(Jg(t,n),t.restore(),u=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length&&(Jg(t,n),t.save(),function(t,e,n){for(var r=!1,i=0;i<t.length;i++){var o=t[i];r=r||o.isZeroArea(),Xg(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}n.allClipped=r}(o,t,n),s=!0),n.prevElClipPaths=o),n.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var l=n.prevEl;l||(u=s=!0);var c,h,d=e instanceof Qo&&e.autoBatch&&function(t){var e=zg(t),n=Rg(t);return!(t.lineDash||!(+e^+n)||e&&"string"!=typeof t.fill||n&&"string"!=typeof t.stroke||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}(e.style);s||(c=i,h=l.transform,c&&h?c[0]!==h[0]||c[1]!==h[1]||c[2]!==h[2]||c[3]!==h[3]||c[4]!==h[4]||c[5]!==h[5]:c||h)?(Jg(t,n),Xg(t,e)):d||Jg(t,n);var f=$g(e,n.inHover);e instanceof Qo?(n.lastDrawType!==qg&&(u=!0,n.lastDrawType=qg),Yg(t,e,l,u,n),d&&(n.batchFill||n.batchStroke)||t.beginPath(),function(t,e,n,r){var i,o=Rg(n),a=zg(n),s=n.strokePercent,u=s<1,l=!e.path;e.silent&&!u||!l||e.createPathProxy();var c=e.path||Ng,h=e.__dirty;if(!r){var d=n.fill,f=n.stroke,p=a&&!!d.colorStops,g=o&&!!f.colorStops,v=a&&!!d.image,y=o&&!!f.image,m=void 0,b=void 0,x=void 0,A=void 0,w=void 0;(p||g)&&(w=e.getBoundingRect()),p&&(m=h?Dg(t,d,w):e.__canvasFillGradient,e.__canvasFillGradient=m),g&&(b=h?Dg(t,f,w):e.__canvasStrokeGradient,e.__canvasStrokeGradient=b),v&&(x=h||!e.__canvasFillPattern?Vg(t,d,e):e.__canvasFillPattern,e.__canvasFillPattern=x),y&&(A=h||!e.__canvasStrokePattern?Vg(t,f,e):e.__canvasStrokePattern,e.__canvasStrokePattern=x),p?t.fillStyle=m:v&&(x?t.fillStyle=x:a=!1),g?t.strokeStyle=b:y&&(A?t.strokeStyle=A:o=!1)}var _,M,S=e.getGlobalScale();c.setScale(S[0],S[1],e.segmentIgnoreThreshold),t.setLineDash&&n.lineDash&&(_=(i=Pg(e))[0],M=i[1]);var O=!0;(l||h&Jt)&&(c.setDPR(t.dpr),u?c.setContext(null):(c.setContext(t),O=!1),c.reset(),e.buildPath(c,e.shape,r),c.toStatic(),e.pathUpdated()),O&&c.rebuildPath(t,u?s:1),_&&(t.setLineDash(_),t.lineDashOffset=M),r||(n.strokeFirst?(o&&Gg(t,n),a&&Fg(t,n)):(a&&Fg(t,n),o&&Gg(t,n))),_&&t.setLineDash([])}(t,e,f,d),d&&(n.batchFill=f.fill||"",n.batchStroke=f.stroke||"")):e instanceof Jo?(n.lastDrawType!==Zg&&(u=!0,n.lastDrawType=Zg),Yg(t,e,l,u,n),function(t,e,n){var r,i=n.text;if(null!=i&&(i+=""),i){t.font=n.font||Ln.a,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline;var o=void 0,a=void 0;t.setLineDash&&n.lineDash&&(o=(r=Pg(e))[0],a=r[1]),o&&(t.setLineDash(o),t.lineDashOffset=a),n.strokeFirst?(Rg(n)&&t.strokeText(i,n.x,n.y),zg(n)&&t.fillText(i,n.x,n.y)):(zg(n)&&t.fillText(i,n.x,n.y),Rg(n)&&t.strokeText(i,n.x,n.y)),o&&t.setLineDash([])}}(t,e,f)):e instanceof na?(n.lastDrawType!==Qg&&(u=!0,n.lastDrawType=Qg),function(t,e,n,r,i){Hg(t,$g(e,i.inHover),n&&$g(n,i.inHover),r,i)}(t,e,l,u,n),function(t,e,n){var r=e.__image=Mi(n.image,e.__image,e,e.onload);if(r&&Oi(r)){var i=n.x||0,o=n.y||0,a=e.getWidth(),s=e.getHeight(),u=r.width/r.height;if(null==a&&null!=s?a=s*u:null==s&&null!=a?s=a/u:null==a&&null==s&&(a=r.width,s=r.height),n.sWidth&&n.sHeight){var l=n.sx||0,c=n.sy||0;t.drawImage(r,l,c,n.sWidth,n.sHeight,i,o,a,s)}else if(n.sx&&n.sy){var h=a-(l=n.sx),d=s-(c=n.sy);t.drawImage(r,l,c,h,d,i,o,a,s)}else t.drawImage(r,i,o,a,s)}}(t,e,f)):e.getTemporalDisplayables&&(n.lastDrawType!==Kg&&(u=!0,n.lastDrawType=Kg),function(t,e,n){var r=e.getDisplayables(),i=e.getTemporalDisplayables();t.save();var o,a,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(o=e.getCursor(),a=r.length;o<a;o++){var u=r[o];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),ev(t,u,s,o===a-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),s.prevEl=u}for(var l=0,c=i.length;l<c;l++){var u=i[l];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),ev(t,u,s,l===c-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),s.prevEl=u}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}(t,e,n)),d&&r&&Jg(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),n.prevEl=e,e.__dirty=0,e.__isRendered=!0}}var nv=new mg,rv=new jn.a(100),iv=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function ov(t,e){if("none"===t)return null;var n=e.getDevicePixelRatio(),r=e.getZr(),i="svg"===r.painter.type;t.dirty&&nv.delete(t);var o=nv.get(t);if(o)return o;var a=Object(g.i)(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var s={repeat:"repeat"};return function(t){for(var e,o=[n],s=!0,u=0;u<iv.length;++u){var l=a[iv[u]];if(null!=l&&!Object(g.t)(l)&&!Object(g.C)(l)&&!Object(g.z)(l)&&"boolean"!=typeof l){s=!1;break}o.push(l)}if(s){e=o.join(",")+(i?"-svg":"");var c=rv.get(e);c&&(i?t.svgElement=c:t.image=c)}var h,d=function t(e){if(!e||0===e.length)return[[0,0]];if(Object(g.z)(e)){var n=Math.ceil(e);return[[n,n]]}var r=!0;for(var i=0;i<e.length;++i)if(!Object(g.z)(e[i])){r=!1;break}if(r)return t([e]);var o=[];for(var i=0;i<e.length;++i)if(Object(g.z)(e[i])){var n=Math.ceil(e[i]);o.push([n,n])}else{var n=Object(g.H)(e[i],function(t){return Math.ceil(t)});n.length%2==1?o.push(n.concat(n)):o.push(n)}return o}(a.dashArrayX),f=function(t){if(!t||"object"==typeof t&&0===t.length)return[0,0];if(Object(g.z)(t)){var e=Math.ceil(t);return[e,e]}var n=Object(g.H)(t,function(t){return Math.ceil(t)});return t.length%2?n.concat(n):n}(a.dashArrayY),p=function t(e){if(!e||0===e.length)return[["rect"]];if(Object(g.C)(e))return[[e]];var n=!0;for(var r=0;r<e.length;++r)if(!Object(g.C)(e[r])){n=!1;break}if(n)return t([e]);var i=[];for(var r=0;r<e.length;++r)Object(g.C)(e[r])?i.push([e[r]]):i.push(e[r]);return i}(a.symbol),v=(A=d,Object(g.H)(A,function(t){return av(t)})),y=av(f),m=!i&&Ln.d.createCanvas(),b=i&&{tag:"g",attrs:{},key:"dcl",children:[]},x=function(){for(var t=1,e=0,n=v.length;e<n;++e)t=Pr(t,v[e]);for(var r=1,e=0,n=p.length;e<n;++e)r=Pr(r,p[e].length);t*=r;var i=y*v.length*p.length;return{width:Math.max(1,Math.min(t,a.maxTileWidth)),height:Math.max(1,Math.min(i,a.maxTileHeight))}}();var A;m&&(m.width=x.width*n,m.height=x.height*n,h=m.getContext("2d"));(function(){h&&(h.clearRect(0,0,m.width,m.height),a.backgroundColor&&(h.fillStyle=a.backgroundColor,h.fillRect(0,0,m.width,m.height)));for(var t=0,e=0;e<f.length;++e)t+=f[e];if(!(t<=0))for(var o=-y,s=0,u=0,l=0;o<x.height;){if(s%2==0){for(var c=u/2%p.length,g=0,v=0,A=0;g<2*x.width;){for(var w=0,e=0;e<d[l].length;++e)w+=d[l][e];if(w<=0)break;if(v%2==0){var _=.5*(1-a.symbolSize),M=g+d[l][v]*_,S=o+f[s]*_,O=d[l][v]*a.symbolSize,I=f[s]*a.symbolSize,E=A/2%p[c].length;C(M,S,O,I,p[c][E])}g+=d[l][v],++A,++v===d[l].length&&(v=0)}++l===d.length&&(l=0)}o+=f[s],++u,++s===f.length&&(s=0)}function C(t,e,o,s,u){var l=i?1:n,c=Eg(u,t*l,e*l,o*l,s*l,a.color,a.symbolKeepAspect);if(i){var d=r.painter.renderOneToVNode(c);d&&b.children.push(d)}else tv(h,c)}})(),s&&rv.put(e,m||b);t.image=m,t.svgElement=b,t.svgWidth=x.width,t.svgHeight=x.height}(s),s.rotation=a.rotation,s.scaleX=s.scaleY=i?1:1/n,nv.set(t,s),t.dirty=!1,s}function av(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return t.length%2==1?2*e:e}var sv=new U,uv={};function lv(t){return uv[t]}var cv={zrender:"5.4.1"},hv=2e3,dv=1e3,fv=3e3,pv={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:dv,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:fv,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},gv=/^[a-zA-Z0-9_]+$/,vv="__connectUpdateStatus";function yv(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!this.isDisposed())return bv(this,t,e);Uv(this.id)}}function mv(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return bv(this,t,e)}}function bv(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),U.prototype[e].apply(t,n)}var xv,Av,wv,_v,Mv,Sv,Ov,Iv,Ev,Cv,kv,Tv,Dv,jv,Lv,Pv,Nv,Rv,Bv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e}(U),zv=Bv.prototype;zv.on=mv("on"),zv.off=mv("off");var Fv=function(t){function e(e,n,r){var i=t.call(this,new og)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],r=r||{},Object(g.C)(n)&&(n=Qv[n]),i._dom=e;var o="canvas",a="auto",s=!1,u=i._zr=ir(e,{renderer:r.renderer||o,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:Object(g.P)(r.useDirtyRect,s),useCoarsePointer:Object(g.P)(r.useCoarsePointer,a),pointerSize:r.pointerSize});i._ssr=r.ssr,i._throttledZrFlush=Op(Object(g.c)(u.flush,u),17),(n=Object(g.d)(n))&&Ed(n,!0),i._theme=n,i._locale=function(t){if(Object(g.C)(t)){var e=mc[t.toUpperCase()]||{};return t===gc||t===vc?Object(g.d)(e):Object(g.I)(Object(g.d)(e),Object(g.d)(mc[yc]),!1)}return Object(g.I)(Object(g.d)(t),Object(g.d)(mc[yc]),!1)}(r.locale||xc),i._coordSysMgr=new ad;var l=i._api=Lv(i);function c(t,e){return t.__prio-e.__prio}return Zt(qv,c),Zt(Yv,c),i._scheduler=new $p(i,l,Yv,qv),i._messageCenter=new Bv,i._initEvents(),i.resize=Object(g.c)(i.resize,i),u.animation.on("frame",i._onframe,i),Cv(u,i),kv(u,i),Object(g.R)(i),i}return Object(f.__extends)(e,t),e.prototype._onframe=function(){if(!this._disposed){Rv(this);var t=this._scheduler;if(this.__pendingUpdate){var e=this.__pendingUpdate.silent;this.__flagInMainProcess=!0;try{xv(this),_v.update.call(this,null,this.__pendingUpdate.updateParams)}catch(t){throw this.__flagInMainProcess=!1,this.__pendingUpdate=null,t}this._zr.flush(),this.__flagInMainProcess=!1,this.__pendingUpdate=null,Iv.call(this,e),Ev.call(this,e)}else if(t.unfinished){var n=1,r=this._model,i=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(r),t.performDataProcessorTasks(r),Sv(this,r),t.performVisualTasks(r),jv(this,this._model,i,"remain",{}),n-=+new Date-o}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,e,n){if(!this.__flagInMainProcess)if(this._disposed)Uv(this.id);else{var r,i,o;if(Object(g.A)(e)&&(n=e.lazyUpdate,r=e.silent,i=e.replaceMerge,o=e.transition,e=e.notMerge),this.__flagInMainProcess=!0,!this._model||e){var a=new ld(this._api),s=this._theme,u=this._model=new nd;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,s,this._locale,a)}this._model.setOption(t,{replaceMerge:i},Xv);var l={seriesTransition:o,optionChanged:!0};if(n)this.__pendingUpdate={silent:r,updateParams:l},this.__flagInMainProcess=!1,this.getZr().wakeUp();else{try{xv(this),_v.update.call(this,null,l)}catch(t){throw this.__pendingUpdate=null,this.__flagInMainProcess=!1,t}this._ssr||this._zr.flush(),this.__pendingUpdate=null,this.__flagInMainProcess=!1,Iv.call(this,r),Ev.call(this,r)}}},e.prototype.setTheme=function(){Nr()},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||p.a.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var e=this._zr.painter;return e.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var e=this._zr.painter;return e.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(p.a.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return Object(g.k)(e,function(t){t.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,n=this._model,r=[],i=this;Object(g.k)(e,function(t){n.eachComponent({mainType:t},function(t){var e=i._componentsMap[t.__viewId];e.group.ignore||(r.push(e),e.group.ignore=!0)})});var o="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Object(g.k)(r,function(t){t.group.ignore=!1}),o}Uv(this.id)},e.prototype.getConnectedDataURL=function(t){if(!this._disposed){var e="svg"===t.type,n=this.group,r=Math.min,i=Math.max;if(Jv[n]){var o=1/0,a=1/0,s=-1/0,u=-1/0,l=[],c=t&&t.pixelRatio||this.getDevicePixelRatio();Object(g.k)(Kv,function(c,h){if(c.group===n){var d=e?c.getZr().painter.getSvgDom().innerHTML:c.renderToCanvas(Object(g.d)(t)),f=c.getDom().getBoundingClientRect();o=r(f.left,o),a=r(f.top,a),s=i(f.right,s),u=i(f.bottom,u),l.push({dom:d,left:f.left,top:f.top})}});var h=(s*=c)-(o*=c),d=(u*=c)-(a*=c),f=Ln.d.createCanvas(),p=ir(f,{renderer:e?"svg":"canvas"});if(p.resize({width:h,height:d}),e){var v="";return Object(g.k)(l,function(t){var e=t.left-o,n=t.top-a;v+='<g transform="translate('+e+","+n+')">'+t.dom+"</g>"}),p.painter.getSvgRoot().innerHTML=v,t.connectedBackgroundColor&&p.painter.setBackgroundColor(t.connectedBackgroundColor),p.refreshImmediately(),p.painter.toDataURL()}return t.connectedBackgroundColor&&p.add(new ca({shape:{x:0,y:0,width:h,height:d},style:{fill:t.connectedBackgroundColor}})),Object(g.k)(l,function(t){var e=new na({style:{x:t.left*c-o,y:t.top*c-a,image:t.dom}});p.add(e)}),p.refreshImmediately(),f.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}Uv(this.id)},e.prototype.convertToPixel=function(t,e){return Mv(this,"convertToPixel",t,e)},e.prototype.convertFromPixel=function(t,e){return Mv(this,"convertFromPixel",t,e)},e.prototype.containPixel=function(t,e){if(!this._disposed){var n,r=ei(this._model,t);return Object(g.k)(r,function(t,r){r.indexOf("Models")>=0&&Object(g.k)(t,function(t){var i=t.coordinateSystem;if(i&&i.containPoint)n=n||!!i.containPoint(e);else if("seriesModels"===r){var o=this._chartsMap[t.__viewId];o&&o.containPoint&&(n=n||o.containPoint(e,t))}else 0},this)},this),!!n}Uv(this.id)},e.prototype.getVisual=function(t,e){var n=ei(this._model,t,{defaultMainType:"series"}),r=n.seriesModel;var i=r.getData(),o=n.hasOwnProperty("dataIndexInside")?n.dataIndexInside:n.hasOwnProperty("dataIndex")?i.indexOfRawIndex(n.dataIndex):null;return null!=o?cg(i,o,e):hg(i,e)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t,e,n,r=this;Object(g.k)(Vv,function(t){var e=function(e){var n,i=r.getModel(),o=e.target,a="globalout"===t;if(a?n={}:o&&gg(o,function(t){var e=Ia(t);if(e&&null!=e.dataIndex){var r=e.dataModel||i.getSeriesByIndex(e.seriesIndex);return n=r&&r.getDataParams(e.dataIndex,e.dataType)||{},!0}if(e.eventData)return n=Object(g.m)({},e.eventData),!0},!0),n){var s=n.componentType,u=n.componentIndex;"markLine"!==s&&"markPoint"!==s&&"markArea"!==s||(s="series",u=n.seriesIndex);var l=s&&null!=u&&i.getComponent(s,u),c=l&&r["series"===l.mainType?"_chartsMap":"_componentsMap"][l.__viewId];0,n.event=e,n.type=t,r._$eventProcessor.eventInfo={targetEl:o,packedEvent:n,model:l,view:c},r.trigger(t,n)}};e.zrEventfulCallAtLast=!0,r._zr.on(t,e,r)}),Object(g.k)(Hv,function(t,e){r._messageCenter.on(e,function(t){this.trigger(e,t)},r)}),Object(g.k)(["selectchanged"],function(t){r._messageCenter.on(t,function(e){this.trigger(t,e)},r)}),t=this._messageCenter,e=this,n=this._api,t.on("selectchanged",function(t){var r=n.getModel();t.isFromClick?(pg("map","selectchanged",e,r,t),pg("pie","selectchanged",e,r,t)):"select"===t.fromAction?(pg("map","selected",e,r,t),pg("pie","selected",e,r,t)):"unselect"===t.fromAction&&(pg("map","unselected",e,r,t),pg("pie","unselected",e,r,t))})},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed?Uv(this.id):this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed)Uv(this.id);else{this._disposed=!0,this.getDom()&&ai(this.getDom(),ey,"");var t=this._api,e=this._model;Object(g.k)(this._componentsViews,function(n){n.dispose(e,t)}),Object(g.k)(this._chartsViews,function(n){n.dispose(e,t)}),this._zr.dispose(),this._dom=this._model=this._chartsMap=this._componentsMap=this._chartsViews=this._componentsViews=this._scheduler=this._api=this._zr=this._throttledZrFlush=this._theme=this._coordSysMgr=this._messageCenter=null,delete Kv[this.id]}},e.prototype.resize=function(t){if(!this.__flagInMainProcess)if(this._disposed)Uv(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),r=t&&t.silent;this.__pendingUpdate&&(null==r&&(r=this.__pendingUpdate.silent),n=!0,this.__pendingUpdate=null),this.__flagInMainProcess=!0;try{n&&xv(this),_v.update.call(this,{type:"resize",animation:Object(g.m)({duration:0},t&&t.animation)})}catch(t){throw this.__flagInMainProcess=!1,t}this.__flagInMainProcess=!1,Iv.call(this,r),Ev.call(this,r)}}},e.prototype.showLoading=function(t,e){if(this._disposed)Uv(this.id);else if(Object(g.A)(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Zv[t]){var n=Zv[t](this._api,e),r=this._zr;this._loadingFX=n,r.add(n)}},e.prototype.hideLoading=function(){this._disposed?Uv(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var e=Object(g.m)({},t);return e.type=Hv[t.type],e},e.prototype.dispatchAction=function(t,e){if(this._disposed)Uv(this.id);else if(Object(g.A)(e)||(e={silent:!!e}),Wv[t.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(t);else{var n=e.silent;Ov.call(this,t,n);var r=e.flush;r?this._zr.flush():!1!==r&&p.a.browser.weChat&&this._throttledZrFlush(),Iv.call(this,n),Ev.call(this,n)}},e.prototype.updateLabelLayout=function(){sv.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed)Uv(this.id);else{var e=t.seriesIndex,n=this.getModel().getSeriesByIndex(e);0,n.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function e(t){for(var e=[],n=t.currentStates,r=0;r<n.length;r++){var i=n[r];"emphasis"!==i&&"blur"!==i&&"select"!==i&&e.push(i)}t.selected&&t.states.select&&e.push("select"),t.hoverState===Pa&&t.states.emphasis?e.push("emphasis"):t.hoverState===La&&t.states.blur&&e.push("blur"),t.useStates(e)}function n(t,e){if(!t.preventAutoZ){var n=t.get("z")||0,r=t.get("zlevel")||0;e.eachRendered(function(t){return function t(e,n,r,i){var o=e.getTextContent();var a=e.getTextGuideLine();var s=e.isGroup;if(s)for(var u=e.childrenRef(),l=0;l<u.length;l++)i=Math.max(t(u[l],n,r,i),i);else e.z=n,e.zlevel=r,i=Math.max(e.z2,i);o&&(o.z=n,o.zlevel=r,isFinite(i)&&(o.z2=i+2));if(a){var c=e.textGuideLineConfig;a.z=n,a.zlevel=r,isFinite(i)&&(a.z2=i+(c&&c.showAbove?1:-1))}return i}(t,n,r,-1/0),!0})}}function r(t,e){e.eachRendered(function(t){if(!nl(t)){var e=t.getTextContent(),n=t.getTextGuideLine();t.stateTransition&&(t.stateTransition=null),e&&e.stateTransition&&(e.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null)}})}function i(t,n){var r=t.getModel("stateAnimation"),i=t.isAnimationEnabled(),o=r.get("duration"),a=o>0?{duration:o,delay:r.get("delay"),easing:r.get("easing")}:null;n.eachRendered(function(t){if(t.states&&t.states.emphasis){if(nl(t))return;if(t instanceof Qo&&function(t){var e=Ta(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var n=t.states.select||{};e.selectFill=n.style&&n.style.fill||null,e.selectStroke=n.style&&n.style.stroke||null}(t),t.__dirty){var n=t.prevStates;n&&t.useStates(n)}if(i){t.stateTransition=a;var r=t.getTextContent(),o=t.getTextGuideLine();r&&(r.stateTransition=a),o&&(o.stateTransition=a)}t.__dirty&&e(t)}})}xv=function(t){var e=t._scheduler;e.restorePipelines(t._model),e.prepareStageTasks(),Av(t,!0),Av(t,!1),e.plan()},Av=function(t,e){for(var n=t._model,r=t._scheduler,i=e?t._componentsViews:t._chartsViews,o=e?t._componentsMap:t._chartsMap,a=t._zr,s=t._api,u=0;u<i.length;u++)i[u].__alive=!1;function l(t){var u=t.__requireNewView;t.__requireNewView=!1;var l="_ec_"+t.id+"_"+t.type,c=!u&&o[l];if(!c){var h=di(t.type),d=e?dp.getClass(h.main,h.sub):wp.getClass(h.sub);0,(c=new d).init(n,s),o[l]=c,i.push(c),a.add(c.group)}t.__viewId=c.__id=l,c.__alive=!0,c.__model=t,c.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!e&&r.prepareView(c,t,n,s)}e?n.eachComponent(function(t,e){"series"!==t&&l(e)}):n.eachSeries(l);for(u=0;u<i.length;){var c=i[u];c.__alive?u++:(!e&&c.renderTask.dispose(),a.remove(c.group),c.dispose(n,s),i.splice(u,1),o[c.__id]===c&&delete o[c.__id],c.__id=c.group.__ecComponentInfo=null)}},wv=function(t,e,n,r,i){var o=t._model;if(o.setUpdatePayload(n),r){var a={};a[r+"Id"]=n[r+"Id"],a[r+"Index"]=n[r+"Index"],a[r+"Name"]=n[r+"Name"];var s={mainType:r,query:a};i&&(s.subType=i);var u,l=n.excludeSeriesId;null!=l&&(u=Object(g.f)(),Object(g.k)(Gr(l),function(t){var e=Qr(t,null);null!=e&&u.set(e,!0)})),o&&o.eachComponent(s,function(e){if(!(u&&null!=u.get(e.id)))if(Cs(n))if(e instanceof cp)n.type!==Fa||n.notBlur||e.get(["emphasis","disabled"])||function(t,e,n){var r=t.seriesIndex,i=t.getData(e.dataType);if(i){var o=Jr(i,e);o=(Object(g.t)(o)?o[0]:o)||0;var a=i.getItemGraphicEl(o);if(!a)for(var s=i.count(),u=0;!a&&u<s;)a=i.getItemGraphicEl(u++);if(a){var l=Ia(a);vs(r,l.focus,l.blurScope,n)}else{var c=t.get(["emphasis","focus"]),h=t.get(["emphasis","blurScope"]);null!=c&&vs(r,c,h,n)}}}(e,n,t._api);else{var r=ms(e.mainType,e.componentIndex,n.name,t._api),i=r.focusSelf,o=r.dispatchers;n.type===Fa&&i&&!n.notBlur&&ys(e.mainType,e.componentIndex,t._api),o&&Object(g.k)(o,function(t){n.type===Fa?us(t):ls(t)})}else Es(n)&&e instanceof cp&&(!function(t,e,n){if(Es(e)){var r=e.dataType,i=Jr(t.getData(r),e);Object(g.t)(i)||(i=[i]),t[e.type===Wa?"toggleSelect":e.type===Va?"select":"unselect"](i,r)}}(e,n,t._api),bs(e),Nv(t))},t),o&&o.eachComponent(s,function(e){u&&null!=u.get(e.id)||c(t["series"===r?"_chartsMap":"_componentsMap"][e.__viewId])},t)}else Object(g.k)([].concat(t._componentsViews).concat(t._chartsViews),c);function c(r){r&&r.__alive&&r[e]&&r[e](r.__model,o,t._api,n)}},_v={prepareAndUpdate:function(t){xv(this),_v.update.call(this,t,{optionChanged:null!=t.newOption})},update:function(e,n){var r=this._model,i=this._api,o=this._zr,a=this._coordSysMgr,s=this._scheduler;if(r){r.setUpdatePayload(e),s.restoreData(r,e),s.performSeriesTasks(r),a.create(r,i),s.performDataProcessorTasks(r,e),Sv(this,r),a.update(r,i),t(r),s.performVisualTasks(r,e),Tv(this,r,i,e,n);var u=r.get("backgroundColor")||"transparent",l=r.get("darkMode");o.setBackgroundColor(u),null!=l&&"auto"!==l&&o.setDarkMode(l),sv.trigger("afterupdate",r,i)}},updateTransform:function(e){var n=this,r=this._model,i=this._api;if(r){r.setUpdatePayload(e);var o=[];r.eachComponent(function(t,a){if("series"!==t){var s=n.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var u=s.updateTransform(a,r,i,e);u&&u.update&&o.push(s)}else o.push(s)}});var a=Object(g.f)();r.eachSeries(function(t){var o=n._chartsMap[t.__viewId];if(o.updateTransform){var s=o.updateTransform(t,r,i,e);s&&s.update&&a.set(t.uid,1)}else a.set(t.uid,1)}),t(r),this._scheduler.performVisualTasks(r,e,{setDirty:!0,dirtyMap:a}),jv(this,r,i,e,{},a),sv.trigger("afterupdate",r,i)}},updateView:function(e){var n=this._model;n&&(n.setUpdatePayload(e),wp.markUpdateMethod(e,"updateView"),t(n),this._scheduler.performVisualTasks(n,e,{setDirty:!0}),Tv(this,n,this._api,e,{}),sv.trigger("afterupdate",n,this._api))},updateVisual:function(e){var n=this,r=this._model;r&&(r.setUpdatePayload(e),r.eachSeries(function(t){t.getData().clearAllVisual()}),wp.markUpdateMethod(e,"updateVisual"),t(r),this._scheduler.performVisualTasks(r,e,{visualType:"visual",setDirty:!0}),r.eachComponent(function(t,i){if("series"!==t){var o=n.getViewOfComponentModel(i);o&&o.__alive&&o.updateVisual(i,r,n._api,e)}}),r.eachSeries(function(t){n._chartsMap[t.__viewId].updateVisual(t,r,n._api,e)}),sv.trigger("afterupdate",r,this._api))},updateLayout:function(t){_v.update.call(this,t)}},Mv=function(t,e,n,r){if(t._disposed)Uv(t.id);else{for(var i,o=t._model,a=t._coordSysMgr.getCoordinateSystems(),s=ei(o,n),u=0;u<a.length;u++){var l=a[u];if(l[e]&&null!=(i=l[e](o,s,r)))return i}0}},Sv=function(t,e){var n=t._chartsMap,r=t._scheduler;e.eachSeries(function(t){r.updateStreamModes(t,n[t.__viewId])})},Ov=function(t,e){var n=this,r=this.getModel(),i=t.type,o=t.escapeConnect,a=Wv[i],s=a.actionInfo,u=(s.update||"update").split(":"),l=u.pop(),c=null!=u[0]&&di(u[0]);this.__flagInMainProcess=!0;var h=[t],d=!1;t.batch&&(d=!0,h=Object(g.H)(t.batch,function(e){return(e=Object(g.i)(Object(g.m)({},e),t)).batch=null,e}));var f,p=[],v=Es(t),y=Cs(t);if(y&&gs(this._api),Object(g.k)(h,function(e){if((f=(f=a.action(e,n._model,n._api))||Object(g.m)({},e)).type=s.event||f.type,p.push(f),y){var r=ni(t),i=r.queryOptionMap,o=r.mainTypeSpecified?i.keys()[0]:"series";wv(n,l,e,o),Nv(n)}else v?(wv(n,l,e,"series"),Nv(n)):c&&wv(n,l,e,c.main,c.sub)}),"none"!==l&&!y&&!v&&!c)try{this.__pendingUpdate?(xv(this),_v.update.call(this,t),this.__pendingUpdate=null):_v[l].call(this,t)}catch(t){throw this.__flagInMainProcess=!1,t}if(f=d?{type:s.event||i,escapeConnect:o,batch:p}:p[0],this.__flagInMainProcess=!1,!e){var m=this._messageCenter;if(m.trigger(f.type,f),v){var b={type:"selectchanged",escapeConnect:o,selected:function(t){var e=[];return t.eachSeries(function(t){var n=t.getAllData();Object(g.k)(n,function(n){n.data;var r=n.type,i=t.getSelectedDataIndices();if(i.length>0){var o={dataIndex:i,seriesIndex:t.seriesIndex};null!=r&&(o.dataType=r),e.push(o)}})}),e}(r),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t};m.trigger(b.type,b)}}},Iv=function(t){for(var e=this._pendingActions;e.length;){var n=e.shift();Ov.call(this,n,t)}},Ev=function(t){!t&&this.trigger("updated")},Cv=function(t,e){t.on("rendered",function(n){e.trigger("rendered",n),!t.animation.isFinished()||e.__pendingUpdate||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")})},kv=function(t,e){t.on("mouseover",function(t){var n=gg(t.target,Is);n&&(!function(t,e,n){var r=Ia(t),i=ms(r.componentMainType,r.componentIndex,r.componentHighDownName,n),o=i.dispatchers,a=i.focusSelf;o?(a&&ys(r.componentMainType,r.componentIndex,n),Object(g.k)(o,function(t){return as(t,e)})):(vs(r.seriesIndex,r.focus,r.blurScope,n),"self"===r.focus&&ys(r.componentMainType,r.componentIndex,n),as(t,e))}(n,t,e._api),Nv(e))}).on("mouseout",function(t){var n=gg(t.target,Is);n&&(!function(t,e,n){gs(n);var r=Ia(t),i=ms(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;i?Object(g.k)(i,function(t){return ss(t,e)}):ss(t,e)}(n,t,e._api),Nv(e))}).on("click",function(t){var n=gg(t.target,function(t){return null!=Ia(t).dataIndex},!0);if(n){var r=n.selected?"unselect":"select",i=Ia(n);e._api.dispatchAction({type:r,dataType:i.dataType,dataIndexInside:i.dataIndex,seriesIndex:i.seriesIndex,isFromClick:!0})}})},Tv=function(t,e,n,r,i){!function(t){var e=[],n=[],r=!1;if(t.eachComponent(function(t,i){var o=i.get("zlevel")||0,a=i.get("z")||0,s=i.getZLevelKey();r=r||!!s,("series"===t?n:e).push({zlevel:o,z:a,idx:i.componentIndex,type:t,key:s})}),r){var i,o,a=e.concat(n);Zt(a,function(t,e){return t.zlevel===e.zlevel?t.z-e.z:t.zlevel-e.zlevel}),Object(g.k)(a,function(e){var n=t.getComponent(e.type,e.idx),r=e.zlevel,a=e.key;null!=i&&(r=Math.max(i,r)),a?(r===i&&a!==o&&r++,o=a):o&&(r===i&&r++,o=""),i=r,n.setZLevel(r)})}}(e),Dv(t,e,n,r,i),Object(g.k)(t._chartsViews,function(t){t.__alive=!1}),jv(t,e,n,r,i),Object(g.k)(t._chartsViews,function(t){t.__alive||t.remove(e,n)})},Dv=function(t,e,o,a,s,u){Object(g.k)(u||t._componentsViews,function(t){var s=t.__model;r(s,t),t.render(s,e,o,a),n(s,t),i(s,t)})},jv=function(t,e,o,a,s,u){var l=t._scheduler;s=Object(g.m)(s||{},{updatedSeries:e.getSeries()}),sv.trigger("series:beforeupdate",e,o,s);var c=!1;e.eachSeries(function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var i=n.renderTask;l.updatePayload(i,a),r(e,n),u&&u.get(e.uid)&&i.dirty(),i.perform(l.getPerformArgs(i))&&(c=!0),n.group.silent=!!e.get("silent"),function(t,e){var n=t.get("blendMode")||null;e.eachRendered(function(t){t.isGroup||(t.style.blend=n)})}(e,n),bs(e)}),l.unfinished=c||l.unfinished,sv.trigger("series:layoutlabels",e,o,s),sv.trigger("series:transition",e,o,s),e.eachSeries(function(e){var r=t._chartsMap[e.__viewId];n(e,r),i(e,r)}),function(t,e){var n=0;t._zr.storage.traverse(function(t){t.isGroup||n++}),n>e.get("hoverLayerThreshold")&&!p.a.node&&!p.a.worker&&e.eachSeries(function(e){if(!e.preventUsingHoverLayer){var n=t._chartsMap[e.__viewId];n.__alive&&n.eachRendered(function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)})}})}(t,e),sv.trigger("series:afterupdate",e,o,s)},Nv=function(t){t.__needsUpdateStatus=!0,t.getZr().wakeUp()},Rv=function(t){t.__needsUpdateStatus&&(t.getZr().storage.traverse(function(t){nl(t)||e(t)}),t.__needsUpdateStatus=!1)},Lv=function(t){return new(function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(f.__extends)(n,e),n.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()},n.prototype.getComponentByElement=function(e){for(;e;){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}},n.prototype.enterEmphasis=function(e,n){us(e,n),Nv(t)},n.prototype.leaveEmphasis=function(e,n){ls(e,n),Nv(t)},n.prototype.enterBlur=function(e){cs(e),Nv(t)},n.prototype.leaveBlur=function(e){hs(e),Nv(t)},n.prototype.enterSelect=function(e){ds(e),Nv(t)},n.prototype.leaveSelect=function(e){fs(e),Nv(t)},n.prototype.getModel=function(){return t.getModel()},n.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)},n.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)},n}(id))(t)},Pv=function(t){function e(t,e){for(var n=0;n<t.length;n++){t[n][vv]=e}}Object(g.k)(Hv,function(n,r){t._messageCenter.on(r,function(n){if(Jv[t.group]&&0!==t[vv]){if(n&&n.escapeConnect)return;var r=t.makeActionFromEvent(n),i=[];Object(g.k)(Kv,function(e){e!==t&&e.group===t.group&&i.push(e)}),e(i,0),Object(g.k)(i,function(t){1!==t[vv]&&t.dispatchAction(r)}),e(i,2)}})})}}(),e}(U),Gv=Fv.prototype;Gv.on=yv("on"),Gv.off=yv("off"),Gv.one=function(t,e,n){var r=this;Nr(),this.on.call(this,t,function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];e&&e.apply&&e.apply(this,i),r.off(t,n)},n)};var Vv=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function Uv(t){0}var Wv={},Hv={},Yv=[],Xv=[],qv=[],Qv={},Zv={},Kv={},Jv={},$v=+new Date-0,ty=+new Date-0,ey="_echarts_instance_";function ny(t,e,n){var r=!(n&&n.ssr);if(r){0;var i=sy(t);if(i)return i;0}var o=new Fv(t,e,n);return o.id="ec_"+$v++,Kv[o.id]=o,r&&ai(t,ey,o.id),Pv(o),sv.trigger("afterinit",o),o}function ry(t){if(Object(g.t)(t)){var e=t;t=null,Object(g.k)(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+ty++,Object(g.k)(e,function(e){e.group=t})}return Jv[t]=!0,t}function iy(t){Jv[t]=!1}var oy=iy;function ay(t){Object(g.C)(t)?t=Kv[t]:t instanceof Fv||(t=sy(t)),t instanceof Fv&&!t.isDisposed()&&t.dispose()}function sy(t){return Kv[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(t,ey)]}function uy(t){return Kv[t]}function ly(t,e){Qv[t]=e}function cy(t){Object(g.r)(Xv,t)<0&&Xv.push(t)}function hy(t,e){Ay(Yv,t,e,hv)}function dy(t){py("afterinit",t)}function fy(t){py("afterupdate",t)}function py(t,e){sv.on(t,e)}function gy(t,e,n){Object(g.w)(e)&&(n=e,e="");var r=Object(g.A)(t)?t.type:[t,t={event:e}][0];t.event=(t.event||r).toLowerCase(),e=t.event,Hv[e]||(Object(g.b)(gv.test(r)&&gv.test(e)),Wv[r]||(Wv[r]={action:n,actionInfo:t}),Hv[e]=r)}function vy(t,e){ad.register(t,e)}function yy(t){var e=ad.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function my(t,e){Ay(qv,t,e,dv,"layout")}function by(t,e){Ay(qv,t,e,fv,"visual")}var xy=[];function Ay(t,e,n,r,i){if((Object(g.w)(e)||Object(g.A)(e))&&(n=e,e=r),!(Object(g.r)(xy,n)>=0)){xy.push(n);var o=$p.wrapStageHandler(n,i);o.__prio=e,o.__raw=n,t.push(o)}}function wy(t,e){Zv[t]=e}function _y(t){Object(Ln.e)({createCanvas:t})}function My(t,e,n){var r=lv("registerMap");r&&r(t,e,n)}function Sy(t){var e=lv("getMap");return e&&e(t)}var Oy=function(t){var e=(t=Object(g.d)(t)).type,n="";e||Rr(n);var r=e.split(":");2!==r.length&&Rr(n);var i=!1;"echarts"===r[0]&&(e=r[1],i=!0),t.__isBuiltIn=i,Af.set(e,t)};by(2e3,Lp),by(4500,Np),by(4500,Rp),by(2e3,ug),by(4500,lg),by(7e3,function(t,e){t.eachRawSeries(function(n){if(!t.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each(function(t){var n=r.getItemVisual(t,"decal");n&&(r.ensureUniqueItemVisual(t,"style").decal=ov(n,e))});var i=r.getVisual("decal");i&&(r.getVisual("style").decal=ov(i,e))}})}),cy(Ed),hy(900,function(t){var e=Object(g.f)();t.eachSeries(function(t){var n=t.get("stack");if(n){var r=e.get(n)||e.set(n,[]),i=t.getData(),o={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;r.length&&i.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(o)}}),e.each(Cd)}),wy("default",function(t,e){e=e||{},g.i(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new tr,r=new ca({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(r);var i,o=new Oa({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new ca({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return n.add(a),e.showSpinner&&((i=new zu({shape:{startAngle:-Bp/2,endAngle:-Bp/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Bp/2}).start("circularInOut"),i.animateShape(!0).when(1e3,{startAngle:3*Bp/2}).delay(300).start("circularInOut"),n.add(i)),n.resize=function(){var n=o.getBoundingRect().width,s=e.showSpinner?e.spinnerRadius:0,u=(t.getWidth()-2*s-(e.showSpinner&&n?10:0)-n)/2-(e.showSpinner&&n?0:5+n/2)+(e.showSpinner?0:n/2)+(n?0:s),l=t.getHeight()/2;e.showSpinner&&i.setShape({cx:u,cy:l}),a.setShape({x:u-s,y:l-s,width:2*s,height:2*s}),r.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n}),gy({type:Fa,event:Fa,update:Fa},g.L),gy({type:Ga,event:Ga,update:Ga},g.L),gy({type:Va,event:Va,update:Va},g.L),gy({type:Ua,event:Ua,update:Ua},g.L),gy({type:Wa,event:Wa,update:Wa},g.L),ly("light",eg),ly("dark",ig);var Iy={},Ey=[],Cy={registerPreprocessor:cy,registerProcessor:hy,registerPostInit:dy,registerPostUpdate:fy,registerUpdateLifecycle:py,registerAction:gy,registerCoordinateSystem:vy,registerLayout:my,registerVisual:by,registerTransform:Oy,registerLoading:wy,registerMap:My,registerImpl:function(t,e){uv[t]=e},PRIORITY:pv,ComponentModel:_h,ComponentView:dp,SeriesModel:cp,ChartView:wp,registerComponentModel:function(t){_h.registerClass(t)},registerComponentView:function(t){dp.registerClass(t)},registerSeriesModel:function(t){cp.registerClass(t)},registerChartView:function(t){wp.registerClass(t)},registerSubTypeDefaulter:function(t,e){_h.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){ur(t,e)}};function ky(t){Object(g.t)(t)?Object(g.k)(t,function(t){ky(t)}):Object(g.r)(Ey,t)>=0||(Ey.push(t),Object(g.w)(t)&&(t={install:t}),t.install(Cy))}function Ty(t){return null==t?0:t.length||1}function Dy(t){return t}var jy=function(){function t(t,e,n,r,i,o){this._old=t,this._new=e,this._oldKeyGetter=n||Dy,this._newKeyGetter=r||Dy,this.context=i,this._diffModeMultiple="multiple"===o}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},r=new Array(t.length),i=new Array(e.length);this._initIndexMap(t,null,r,"_oldKeyGetter"),this._initIndexMap(e,n,i,"_newKeyGetter");for(var o=0;o<t.length;o++){var a=r[o],s=n[a],u=Ty(s);if(u>1){var l=s.shift();1===s.length&&(n[a]=s[0]),this._update&&this._update(l,o)}else 1===u?(n[a]=null,this._update&&this._update(s,o)):this._remove&&this._remove(o)}this._performRestAdd(i,n)},t.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},r={},i=[],o=[];this._initIndexMap(t,n,i,"_oldKeyGetter"),this._initIndexMap(e,r,o,"_newKeyGetter");for(var a=0;a<i.length;a++){var s=i[a],u=n[s],l=r[s],c=Ty(u),h=Ty(l);if(c>1&&1===h)this._updateManyToOne&&this._updateManyToOne(l,u),r[s]=null;else if(1===c&&h>1)this._updateOneToMany&&this._updateOneToMany(l,u),r[s]=null;else if(1===c&&1===h)this._update&&this._update(l,u),r[s]=null;else if(c>1&&h>1)this._updateManyToMany&&this._updateManyToMany(l,u),r[s]=null;else if(c>1)for(var d=0;d<c;d++)this._remove&&this._remove(u[d]);else this._remove&&this._remove(u)}this._performRestAdd(o,r)},t.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[r],o=Ty(i);if(o>1)for(var a=0;a<o;a++)this._add&&this._add(i[a]);else 1===o&&this._add&&this._add(i);e[r]=null}},t.prototype._initIndexMap=function(t,e,n,r){for(var i=this._diffModeMultiple,o=0;o<t.length;o++){var a="_ec_"+this[r](t[o],o);if(i||(n[o]=a),e){var s=e[a],u=Ty(s);0===u?(e[a]=o,i&&n.push(a)):1===u?e[a]=[s,o]:s.push(o)}}},t}(),Ly=function(){function t(t,e){this._encode=t,this._schema=e}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function Py(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function Ny(t){return"category"===t?"ordinal":"time"===t?"time":"float"}var Ry=function(){return function(t){this.otherDims={},null!=t&&g.m(this,t)}}(),By=$r(),zy={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Fy=function(){function t(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=Uy(this.source)))},t.prototype.getSourceDimensionIndex=function(t){return Object(g.P)(this._dimNameMap.get(t),-1)},t.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},t.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=Vd(this.source),n=!Wy(t),r="",i=[],o=0,a=0;o<t;o++){var s=void 0,u=void 0,l=void 0,c=this.dimensions[a];if(c&&c.storeDimIndex===o)s=e?c.name:null,u=c.type,l=c.ordinalMeta,a++;else{var h=this.getSourceDimension(o);h&&(s=e?h.name:null,u=h.type)}i.push({property:s,type:u,ordinalMeta:l}),!e||null==s||c&&c.isCalculationCoord||(r+=n?s.replace(/\`/g,"`1").replace(/\$/g,"`2"):s),r+="$",r+=zy[u]||"f",l&&(r+=l.uid),r+="$"}var d=this.source;return{dimensions:i,hash:[d.seriesLayoutBy,d.startIndex,r].join("$$")}},t.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var r=void 0,i=this.dimensions[n];if(i&&i.storeDimIndex===e)i.isCalculationCoord||(r=i.name),n++;else{var o=this.getSourceDimension(e);o&&(r=o.name)}t.push(r)}return t},t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function Gy(t){return t instanceof Fy}function Vy(t){for(var e=Object(g.f)(),n=0;n<(t||[]).length;n++){var r=t[n],i=Object(g.A)(r)?r.name:r;null!=i&&null==e.get(i)&&e.set(i,n)}return e}function Uy(t){var e=By(t);return e.dimNameMap||(e.dimNameMap=Vy(t.dimensionsDefine))}function Wy(t){return t>30}var Hy,Yy,Xy,qy,Qy,Zy,Ky,Jy=g.A,$y=g.H,tm="undefined"==typeof Int32Array?Array:Int32Array,em=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],nm=["_approximateExtent"],rm=function(){function t(t,e){var n;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r=!1;Gy(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(r=!0,n=t),n=n||["x","y"];for(var i={},o=[],a={},s=!1,u={},l=0;l<n.length;l++){var c=n[l],h=g.C(c)?new Ry({name:c}):c instanceof Ry?c:new Ry(c),d=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=d,h.coordDimIndex=0);var f=h.otherDims=h.otherDims||{};o.push(d),i[d]=h,null!=u[d]&&(s=!0),h.createInvertedIndices&&(a[d]=[]),0===f.itemName&&(this._nameDimIdx=l),0===f.itemId&&(this._idDimIdx=l),r&&(h.storeDimIndex=l)}if(this.dimensions=o,this._dimInfos=i,this._initGetDimensionInfo(s),this.hostModel=e,this._invertedIndicesMap=a,this._dimOmitted){var p=this._dimIdxToName=g.f();g.k(o,function(t){p.set(i[t].storeDimIndex,t)})}}return t.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(null!=n)return n;var r=this._schema.getSourceDimension(e);return r?r.name:void 0},t.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},t.prototype._recognizeDimIndex=function(t){if(g.z(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},t.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},t.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},t.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(t){return e.hasOwnProperty(t)?e[t]:void 0}:function(t){return e[t]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var r=n.encode[t];return r?r[e]:null},t.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(t,e,n){var r,i=this;if(t instanceof Df&&(r=t),!r){var o=this.dimensions,a=Nd(t)||g.u(t)?new Ud(t,o.length):t;r=new Df;var s=$y(o,function(t){return{type:i._dimInfos[t].type,property:t}});r.initData(a,s,n)}this._store=r,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,r.count()),this._dimSummary=function(t,e){var n={},r=n.encode={},i=Object(g.f)(),o=[],a=[],s={};Object(g.k)(t.dimensions,function(e){var n,u=t.getDimensionInfo(e),l=u.coordDim;if(l){var c=u.coordDimIndex;Py(r,l)[c]=e,u.isExtraCoord||(i.set(l,1),"ordinal"!==(n=u.type)&&"time"!==n&&(o[0]=e),Py(s,l)[c]=t.getDimensionIndex(u.name)),u.defaultTooltip&&a.push(e)}Ih.each(function(t,e){var n=Py(r,e),i=u.otherDims[e];null!=i&&!1!==i&&(n[i]=u.name)})});var u=[],l={};i.each(function(t,e){var n=r[e];l[e]=n[0],u=u.concat(n)}),n.dataDimsOnCoord=u,n.dataDimIndicesOnCoord=Object(g.H)(u,function(e){return t.getDimensionInfo(e).storeDimIndex}),n.encodeFirstDimNotExtra=l;var c=r.label;c&&c.length&&(o=c.slice());var h=r.tooltip;return h&&h.length?a=h.slice():a.length||(a=o.slice()),r.defaultedLabel=o,r.defaultedTooltip=a,n.userOutput=new Ly(s,e),n}(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},t.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e.length),r=n.start,i=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var a=r;a<i;a++){var s=a-r;this._nameList[a]=e[s],o&&Ky(this,a)}},t.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var r=this._dimInfos[e[n]];r.ordinalMeta&&t.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==Dh&&!t.fillStorage},t.prototype._doInit=function(t,e){if(!(t>=e)){var n=this._store.getProvider();this._updateOrdinalMeta();var r=this._nameList,i=this._idList;if(n.getSource().sourceFormat===Eh&&!n.pure)for(var o=[],a=t;a<e;a++){var s=n.getItem(a,o);if(!this.hasItemOption&&Hr(s)&&(this.hasItemOption=!0),s){var u=s.name;null==r[a]&&null!=u&&(r[a]=Qr(u,null));var l=s.id;null==i[a]&&null!=l&&(i[a]=Qr(l,null))}}if(this._shouldMakeIdFromName())for(a=t;a<e;a++)Ky(this,a);Hy(this)}},t.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,e){Jy(t)?g.m(this._calculationInfo,t):this._calculationInfo[t]=e},t.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return null==n&&null!=this._nameDimIdx&&(n=Xy(this,this._nameDimIdx,e)),null==n&&(n=""),n},t.prototype._getCategory=function(t,e){var n=this._store.get(t,e),r=this._store.getOrdinalMeta(t);return r?r.categories[n]:n},t.prototype.getId=function(t){return Yy(this,this.getRawIndex(t))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(t,e){var n=this._store,r=this._dimInfos[t];if(r)return n.get(r.storeDimIndex,e)},t.prototype.getByRawIndex=function(t,e){var n=this._store,r=this._dimInfos[t];if(r)return n.getByRawIndex(r.storeDimIndex,e)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},t.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},t.prototype.getValues=function(t,e){var n=this,r=this._store;return g.t(t)?r.getValues($y(t,function(t){return n._getStoreDimIndex(t)}),e):r.getValues(t)},t.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,r=e.length;n<r;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},t.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},t.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},t.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},t.prototype.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t];var r=n[e];return null==r||isNaN(r)?-1:r},t.prototype.indicesOfNearest=function(t,e,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,n)},t.prototype.each=function(t,e,n){g.w(t)&&(n=e,e=t,t=[]);var r=n||this,i=$y(qy(t),this._getStoreDimIndex,this);this._store.each(i,r?g.c(e,r):e)},t.prototype.filterSelf=function(t,e,n){g.w(t)&&(n=e,e=t,t=[]);var r=n||this,i=$y(qy(t),this._getStoreDimIndex,this);return this._store=this._store.filter(i,r?g.c(e,r):e),this},t.prototype.selectRange=function(t){var e=this,n={},r=g.F(t),i=[];return g.k(r,function(r){var o=e._getStoreDimIndex(r);n[o]=t[r],i.push(o)}),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(t,e,n){g.w(t)&&(n=e,e=t,t=[]),n=n||this;var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},n),r},t.prototype.map=function(t,e,n,r){var i=n||r||this,o=$y(qy(t),this._getStoreDimIndex,this),a=Zy(this);return a._store=this._store.map(o,i?g.c(e,i):e),a},t.prototype.modify=function(t,e,n,r){var i=n||r||this;var o=$y(qy(t),this._getStoreDimIndex,this);this._store.modify(o,i?g.c(e,i):e)},t.prototype.downSample=function(t,e,n,r){var i=Zy(this);return i._store=this._store.downSample(this._getStoreDimIndex(t),e,n,r),i},t.prototype.lttbDownSample=function(t,e){var n=Zy(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},t.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},t.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new hc(n,e,e&&e.ecModel)},t.prototype.diff=function(t){var e=this;return new jy(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(e){return Yy(t,e)},function(t){return Yy(e,t)})},t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},t.prototype.setVisual=function(t,e){this._visual=this._visual||{},Jy(t)?g.m(this._visual,t):this._visual[t]=e},t.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],r=n&&n[e];return null==r?this.getVisual(e):r},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,r=n[t];r||(r=n[t]={});var i=r[e];return null==i&&(i=this.getVisual(e),g.t(i)?i=i.slice():Jy(i)&&(i=g.m({},i)),r[e]=i),i},t.prototype.setItemVisual=function(t,e,n){var r=this._itemVisuals[t]||{};this._itemVisuals[t]=r,Jy(e)?g.m(r,e):r[e]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,e){Jy(t)?g.m(this._layout,t):this._layout[t]=e},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?g.m(this._itemLayouts[t]||{},e):e},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel&&this.hostModel.seriesIndex;Ea(n,this.dataType,t,e),this._graphicEls[t]=e},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,e){g.k(this._graphicEls,function(n,r){n&&t&&t.call(e,n,r)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:$y(this.dimensions,this._getDimInfo,this),this.hostModel)),Qy(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(t,e){var n=this[t];g.w(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(g.S(arguments)))})},t.internalField=(Hy=function(t){var e=t._invertedIndicesMap;g.k(e,function(n,r){var i=t._dimInfos[r],o=i.ordinalMeta,a=t._store;if(o){n=e[r]=new tm(o.categories.length);for(var s=0;s<n.length;s++)n[s]=-1;for(s=0;s<a.count();s++)n[a.get(i.storeDimIndex,s)]=s}})},Xy=function(t,e,n){return Qr(t._getCategory(e,n),null)},Yy=function(t,e){var n=t._idList[e];return null==n&&null!=t._idDimIdx&&(n=Xy(t,t._idDimIdx,e)),null==n&&(n="e\0\0"+e),n},qy=function(t){return g.t(t)||(t=null!=t?[t]:[]),t},Zy=function(e){var n=new t(e._schema?e._schema:$y(e.dimensions,e._getDimInfo,e),e.hostModel);return Qy(n,e),n},Qy=function(t,e){g.k(em.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,g.k(nm,function(n){t[n]=g.d(e[n])}),t._calculationInfo=g.m({},e._calculationInfo)},void(Ky=function(t,e){var n=t._nameList,r=t._idList,i=t._nameDimIdx,o=t._idDimIdx,a=n[e],s=r[e];if(null==a&&null!=i&&(n[e]=a=Xy(t,i,e)),null==s&&null!=o&&(r[e]=s=Xy(t,o,e)),null==s&&null!=a){var u=t._nameRepeatCount,l=u[a]=(u[a]||0)+1;s=a,l>1&&(s+="__ec__"+l),r[e]=s}})),t}();function im(t,e){return om(t,e).dimensions}function om(t,e){Nd(t)||(t=Bd(t));var n=(e=e||{}).coordDimensions||[],r=e.dimensionsDefine||t.dimensionsDefine||[],i=Object(g.f)(),o=[],a=function(t,e,n,r){var i=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,r||0);return Object(g.k)(e,function(t){var e;Object(g.A)(t)&&(e=t.dimsDef)&&(i=Math.max(i,e.length))}),i}(t,n,r,e.dimensionsCount),s=e.canOmitUnusedDimensions&&Wy(a),u=r===t.dimensionsDefine,l=u?Uy(t):Vy(r),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(t,a));for(var h=Object(g.f)(c),d=new If(a),f=0;f<d.length;f++)d[f]=-1;function p(t){var e=d[t];if(e<0){var n=r[t],i=Object(g.A)(n)?n:{name:n},a=new Ry,s=i.name;null!=s&&null!=l.get(s)&&(a.name=a.displayName=s),null!=i.type&&(a.type=i.type),null!=i.displayName&&(a.displayName=i.displayName);var u=o.length;return d[t]=u,a.storeDimIndex=t,o.push(a),a}return o[e]}if(!s)for(f=0;f<a;f++)p(f);h.each(function(t,e){var n=Gr(t).slice();if(1===n.length&&!Object(g.C)(n[0])&&n[0]<0)h.set(e,!1);else{var r=h.set(e,[]);Object(g.k)(n,function(t,n){var i=Object(g.C)(t)?l.get(t):t;null!=i&&i<a&&(r[n]=i,y(p(i),e,n))})}});var v=0;function y(t,e,n){null!=Ih.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,i.set(e,!0))}Object(g.k)(n,function(t){var e,n,r,i;if(Object(g.C)(t))e=t,i={};else{e=(i=t).name;var o=i.ordinalMeta;i.ordinalMeta=null,(i=Object(g.m)({},i)).ordinalMeta=o,n=i.dimsDef,r=i.otherDims,i.name=i.coordDim=i.coordDimIndex=i.dimsDef=i.otherDims=null}var s=h.get(e);if(!1!==s){if(!(s=Gr(s)).length)for(var l=0;l<(n&&n.length||1);l++){for(;v<a&&null!=p(v).coordDim;)v++;v<a&&s.push(v++)}Object(g.k)(s,function(t,o){var a=p(t);if(u&&null!=i.type&&(a.type=i.type),y(Object(g.i)(a,i),e,o),null==a.name&&n){var s=n[o];!Object(g.A)(s)&&(s={name:s}),a.name=a.displayName=s.name,a.defaultTooltip=s.defaultTooltip}r&&Object(g.i)(a.otherDims,r)})}});var m=e.generateCoord,b=e.generateCoordCount,x=null!=b;b=m?b||1:0;var A=m||"value";function w(t){null==t.name&&(t.name=t.coordDim)}if(s)Object(g.k)(o,function(t){w(t)}),o.sort(function(t,e){return t.storeDimIndex-e.storeDimIndex});else for(var _=0;_<a;_++){var M=p(_);null==M.coordDim&&(M.coordDim=am(A,i,x),M.coordDimIndex=0,(!m||b<=0)&&(M.isExtraCoord=!0),b--),w(M),null!=M.type||Gh(t,_)!==Nh.Must&&(!M.isExtraCoord||null==M.otherDims.itemName&&null==M.otherDims.seriesName)||(M.type="ordinal")}return function(t){for(var e=Object(g.f)(),n=0;n<t.length;n++){var r=t[n],i=r.name,o=e.get(i)||0;o>0&&(r.name=i+(o-1)),o++,e.set(i,o)}}(o),new Fy({source:t,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function am(t,e,n){if(n||e.hasKey(t)){for(var r=0;e.hasKey(t+r);)r++;t+=r}return e.set(t,!0),t}var sm=function(){return function(t){this.coordSysDims=[],this.axisMap=Object(g.f)(),this.categoryAxisMap=Object(g.f)(),this.coordSysName=t}}();var um={cartesian2d:function(t,e,n,r){var i=t.getReferringComponents("xAxis",ri).models[0],o=t.getReferringComponents("yAxis",ri).models[0];e.coordSysDims=["x","y"],n.set("x",i),n.set("y",o),lm(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),lm(o)&&(r.set("y",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,r){var i=t.getReferringComponents("singleAxis",ri).models[0];e.coordSysDims=["single"],n.set("single",i),lm(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var i=t.getReferringComponents("polar",ri).models[0],o=i.findAxisModel("radiusAxis"),a=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",a),lm(o)&&(r.set("radius",o),e.firstCategoryDimIndex=0),lm(a)&&(r.set("angle",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,r){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,r){var i=t.ecModel,o=i.getComponent("parallel",t.get("parallelIndex")),a=e.coordSysDims=o.dimensions.slice();Object(g.k)(o.parallelAxisIndex,function(t,o){var s=i.getComponent("parallelAxis",t),u=a[o];n.set(u,s),lm(s)&&(r.set(u,s),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=o))})}};function lm(t){return"category"===t.get("type")}function cm(t,e,n){var r,i,o,a=(n=n||{}).byIndex,s=n.stackedCoordDimension;!function(t){return!Gy(t.schema)}(e)?(i=e.schema,r=i.dimensions,o=e.store):r=e;var u,l,c,h,d=!(!t||!t.get("stack"));if(Object(g.k)(r,function(t,e){Object(g.C)(t)&&(r[e]=t={name:t}),d&&!t.isExtraCoord&&(a||u||!t.ordinalMeta||(u=t),l||"ordinal"===t.type||"time"===t.type||s&&s!==t.coordDim||(l=t))}),!l||a||u||(a=!0),l){c="__\0ecstackresult_"+t.id,h="__\0ecstackedover_"+t.id,u&&(u.createInvertedIndices=!0);var f=l.coordDim,p=l.type,v=0;Object(g.k)(r,function(t){t.coordDim===f&&v++});var y={name:c,coordDim:f,coordDimIndex:v,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length},m={name:h,coordDim:h,coordDimIndex:v+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length+1};i?(o&&(y.storeDimIndex=o.ensureCalculationDimension(h,p),m.storeDimIndex=o.ensureCalculationDimension(c,p)),i.appendCalculationDimension(y),i.appendCalculationDimension(m)):(r.push(y),r.push(m))}return{stackedDimension:l&&l.name,stackedByDimension:u&&u.name,isStackedByIndex:a,stackedOverDimension:h,stackResultDimension:c}}function hm(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function dm(t,e){return hm(t,e)?t.getCalculationInfo("stackResultDimension"):e}var fm=function(t,e,n){n=n||{};var r,i=e.getSourceManager(),o=!1;t?(o=!0,r=Bd(t)):o=(r=i.getSource()).sourceFormat===Eh;var a=function(t){var e=t.get("coordinateSystem"),n=new sm(e),r=um[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n}(e),s=function(t,e){var n,r=t.get("coordinateSystem"),i=ad.get(r);return e&&e.coordSysDims&&(n=g.H(e.coordSysDims,function(t){var n={name:t},r=e.axisMap.get(t);if(r){var i=r.get("type");n.type=Ny(i)}return n})),n||(n=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),n}(e,a),u=n.useEncodeDefaulter,l=g.w(u)?u:u?g.h(Bh,s,e):null,c=om(r,{coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!o}),h=function(t,e,n){var r,i;return n&&g.k(t,function(t,o){var a=t.coordDim,s=n.categoryAxisMap.get(a);s&&(null==r&&(r=o),t.ordinalMeta=s.getOrdinalMeta(),e&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(i=!0)}),i||null==r||(t[r].otherDims.itemName=0),r}(c.dimensions,n.createInvertedIndices,a),d=o?null:i.getSharedDataStore(c),f=cm(e,{schema:c,store:d}),p=new rm(c,e);p.setCalculationInfo(f);var v=null!=h&&function(t){if(t.sourceFormat===Eh){var e=function(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return!g.t(Wr(e))}}(r)?function(t,e,n,r){return r===h?n:this.defaultDimValueGetter(t,e,n,r)}:null;return p.hasItemOption=!1,p.initData(o?r:d,null,v),p},pm=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();mi(pm);var gm=pm,vm=0;function ym(t){return Object(g.A)(t)&&null!=t.value?t.value:t+""}var mm=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++vm}return t.createByAxisModel=function(e){var n=e.option,r=n.data,i=r&&Object(g.H)(r,ym);return new t({categories:i,needCollect:!i,deduplication:!1!==n.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if(!Object(g.C)(t)&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var r=this._getOrCreateMap();return null==(e=r.get(t))&&(n?(e=this.categories.length,this.categories[e]=t,r.set(t,e)):e=NaN),e},t.prototype._getOrCreateMap=function(){return this._map||(this._map=Object(g.f)(this.categories))},t}();function bm(t){return"interval"===t.type||"log"===t.type}function xm(t,e,n,r){var i={},o=t[1]-t[0],a=i.interval=Cr(o/e,!0);null!=n&&a<n&&(a=i.interval=n),null!=r&&a>r&&(a=i.interval=r);var s=i.intervalPrecision=wm(a);return function(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),_m(t,0,e),_m(t,1,e),t[0]>t[1]&&(t[0]=t[1])}(i.niceTickExtent=[pr(Math.ceil(t[0]/a)*a,s),pr(Math.floor(t[1]/a)*a,s)],t),i}function Am(t){var e=Math.pow(10,Er(t)),n=t/e;return n?2===n?n=3:3===n?n=5:n*=2:n=1,pr(n*e)}function wm(t){return vr(t)+2}function _m(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function Mm(t,e){return t>=e[0]&&t<=e[1]}function Sm(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function Om(t,e){return t*(e[1]-e[0])+e[0]}var Im=function(t){function e(e){var n=t.call(this,e)||this;n.type="ordinal";var r=n.getSetting("ordinalMeta");return r||(r=new mm({})),Object(g.t)(r)&&(r=new mm({categories:Object(g.H)(r,function(t){return Object(g.A)(t)?t.value:t})})),n._ordinalMeta=r,n._extent=n.getSetting("extent")||[0,r.categories.length-1],n}return Object(f.__extends)(e,t),e.prototype.parse=function(t){return null==t?NaN:Object(g.C)(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return Mm(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return Sm(t=this._getTickNumber(this.parse(t)),this._extent)},e.prototype.scale=function(t){return t=Math.round(Om(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push({value:n}),n++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var e=t.ordinalNumbers,n=this._ordinalNumbersByTick=[],r=this._ticksByOrdinalNumber=[],i=0,o=this._ordinalMeta.categories.length,a=Math.min(o,e.length);i<a;++i){var s=e[i];n[i]=s,r[s]=i}for(var u=0;i<o;++i){for(;null!=r[u];)u++;n.push(u),r[u]=i}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),n=this._ordinalMeta.categories[e];return null==n?"":n+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(gm);gm.registerClass(Im);var Em=Im,Cm=pr,km=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return Object(f.__extends)(e,t),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return Mm(t,this._extent)},e.prototype.normalize=function(t){return Sm(t,this._extent)},e.prototype.scale=function(t){return Om(t,this._extent)},e.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=wm(t)},e.prototype.getTicks=function(t){var e=this._interval,n=this._extent,r=this._niceExtent,i=this._intervalPrecision,o=[];if(!e)return o;n[0]<r[0]&&(t?o.push({value:Cm(r[0]-e,i)}):o.push({value:n[0]}));for(var a=r[0];a<=r[1]&&(o.push({value:a}),(a=Cm(a+e,i))!==o[o.length-1].value);)if(o.length>1e4)return[];var s=o.length?o[o.length-1].value:r[1];return n[1]>s&&(t?o.push({value:Cm(s+e,i)}):o.push({value:n[1]})),o},e.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),n=[],r=this.getExtent(),i=1;i<e.length;i++){for(var o=e[i],a=e[i-1],s=0,u=[],l=(o.value-a.value)/t;s<t-1;){var c=Cm(a.value+(s+1)*l);c>r[0]&&c<r[1]&&u.push(c),s++}n.push(u)}return n},e.prototype.getLabel=function(t,e){if(null==t)return"";var n=e&&e.precision;return null==n?n=vr(t.value)||0:"auto"===n&&(n=this._intervalPrecision),Jc(Cm(t.value,n,!0))},e.prototype.calcNiceTicks=function(t,e,n){t=t||5;var r=this._extent,i=r[1]-r[0];if(isFinite(i)){i<0&&(i=-i,r.reverse());var o=xm(r,t,e,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=Math.abs(e[0]);t.fixMax?e[0]-=n/2:(e[1]+=n/2,e[0]-=n/2)}else e[1]=1;var r=e[1]-e[0];isFinite(r)||(e[0]=0,e[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var i=this._interval;t.fixMin||(e[0]=Cm(Math.floor(e[0]/i)*i)),t.fixMax||(e[1]=Cm(Math.ceil(e[1]/i)*i))},e.prototype.setNiceExtent=function(t,e){this._niceExtent=[t,e]},e.type="interval",e}(gm);gm.registerClass(km);var Tm=km,Dm="undefined"!=typeof Float32Array,jm=Dm?Float32Array:Array;function Lm(t){return Object(g.t)(t)?Dm?new Float32Array(t):t:new jm(t)}var Pm="__ec_stack_";function Nm(t){return t.get("stack")||Pm+t.seriesIndex}function Rm(t){return t.dim+t.index}function Bm(t,e){var n=[];return e.eachSeriesByType(t,function(t){Um(t)&&n.push(t)}),n}function zm(t){var e=function(t){var e={};Object(g.k)(t,function(t){var n=t.coordinateSystem.getBaseAxis();if("time"===n.type||"value"===n.type)for(var r=t.getData(),i=n.dim+"_"+n.index,o=r.getDimensionIndex(r.mapDimension(n.dim)),a=r.getStore(),s=0,u=a.count();s<u;++s){var l=a.get(o,s);e[i]?e[i].push(l):e[i]=[l]}});var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i){i.sort(function(t,e){return t-e});for(var o=null,a=1;a<i.length;++a){var s=i[a]-i[a-1];s>0&&(o=null===o?s:Math.min(o,s))}n[r]=o}}return n}(t),n=[];return Object(g.k)(t,function(t){var r,i=t.coordinateSystem.getBaseAxis(),o=i.getExtent();if("category"===i.type)r=i.getBandWidth();else if("value"===i.type||"time"===i.type){var a=i.dim+"_"+i.index,s=e[a],u=Math.abs(o[1]-o[0]),l=i.scale.getExtent(),c=Math.abs(l[1]-l[0]);r=s?u/c*s:u}else{var h=t.getData();r=Math.abs(o[1]-o[0])/h.count()}var d=fr(t.get("barWidth"),r),f=fr(t.get("barMaxWidth"),r),p=fr(t.get("barMinWidth")||(Wm(t)?.5:1),r),g=t.get("barGap"),v=t.get("barCategoryGap");n.push({bandWidth:r,barWidth:d,barMaxWidth:f,barMinWidth:p,barGap:g,barCategoryGap:v,axisKey:Rm(i),stackId:Nm(t)})}),Fm(n)}function Fm(t){var e={};Object(g.k)(t,function(t,n){var r=t.axisKey,i=t.bandWidth,o=e[r]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},a=o.stacks;e[r]=o;var s=t.stackId;a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var u=t.barWidth;u&&!a[s].width&&(a[s].width=u,u=Math.min(o.remainedWidth,u),o.remainedWidth-=u);var l=t.barMaxWidth;l&&(a[s].maxWidth=l);var c=t.barMinWidth;c&&(a[s].minWidth=c);var h=t.barGap;null!=h&&(o.gap=h);var d=t.barCategoryGap;null!=d&&(o.categoryGap=d)});var n={};return Object(g.k)(e,function(t,e){n[e]={};var r=t.stacks,i=t.bandWidth,o=t.categoryGap;if(null==o){var a=Object(g.F)(r).length;o=Math.max(35-4*a,15)+"%"}var s=fr(o,i),u=fr(t.gap,1),l=t.remainedWidth,c=t.autoWidthCount,h=(l-s)/(c+(c-1)*u);h=Math.max(h,0),Object(g.k)(r,function(t){var e=t.maxWidth,n=t.minWidth;if(t.width){r=t.width;e&&(r=Math.min(r,e)),n&&(r=Math.max(r,n)),t.width=r,l-=r+u*r,c--}else{var r=h;e&&e<r&&(r=Math.min(e,l)),n&&n>r&&(r=n),r!==h&&(t.width=r,l-=r+u*r,c--)}}),h=(l-s)/(c+(c-1)*u),h=Math.max(h,0);var d,f=0;Object(g.k)(r,function(t,e){t.width||(t.width=h),d=t,f+=t.width*(1+u)}),d&&(f-=d.width*u);var p=-f/2;Object(g.k)(r,function(t,r){n[e][r]=n[e][r]||{bandWidth:i,offset:p,width:t.width},p+=t.width*(1+u)})}),n}function Gm(t,e){var n=Bm(t,e),r=zm(n);Object(g.k)(n,function(t){var e=t.getData(),n=t.coordinateSystem.getBaseAxis(),i=Nm(t),o=r[Rm(n)][i],a=o.offset,s=o.width;e.setLayout({bandWidth:o.bandWidth,offset:a,size:s})})}function Vm(t){return{seriesType:t,plan:fp(),reset:function(t){if(Um(t)){var e=t.getData(),n=t.coordinateSystem,r=n.getBaseAxis(),i=n.getOtherAxis(r),o=e.getDimensionIndex(e.mapDimension(i.dim)),a=e.getDimensionIndex(e.mapDimension(r.dim)),s=t.get("showBackground",!0),u=e.mapDimension(i.dim),l=e.getCalculationInfo("stackResultDimension"),c=hm(e,u)&&!!e.getCalculationInfo("stackedOnSeries"),h=i.isHorizontal(),d=function(t,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}(0,i),f=Wm(t),p=t.get("barMinHeight")||0,g=l&&e.getDimensionIndex(l),v=e.getLayout("size"),y=e.getLayout("offset");return{progress:function(t,e){for(var r,i=t.count,u=f&&Lm(3*i),l=f&&s&&Lm(3*i),m=f&&Lm(i),b=n.master.getRect(),x=h?b.width:b.height,A=e.getStore(),w=0;null!=(r=t.next());){var _=A.get(c?g:o,r),M=A.get(a,r),S=d,O=void 0;c&&(O=+_-A.get(o,r));var I=void 0,E=void 0,C=void 0,k=void 0;if(h){var T=n.dataToPoint([_,M]);if(c)S=n.dataToPoint([O,M])[0];I=S,E=T[1]+y,C=T[0]-S,k=v,Math.abs(C)<p&&(C=(C<0?-1:1)*p)}else{T=n.dataToPoint([M,_]);if(c)S=n.dataToPoint([M,O])[1];I=T[0]+y,E=S,C=v,k=T[1]-S,Math.abs(k)<p&&(k=(k<=0?-1:1)*p)}f?(u[w]=I,u[w+1]=E,u[w+2]=h?C:k,l&&(l[w]=h?b.x:I,l[w+1]=h?E:b.y,l[w+2]=x),m[r]=r):e.setItemLayout(r,{x:I,y:E,width:C,height:k}),w+=3}f&&e.setLayout({largePoints:u,largeDataIndices:m,largeBackgroundPoints:l,valueAxisHorizontal:h})}}}}}}function Um(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Wm(t){return t.pipelineContext&&t.pipelineContext.large}var Hm=function(t){function e(e){var n=t.call(this,e)||this;return n.type="time",n}return Object(f.__extends)(e,t),e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return Lc(t.value,Cc[function(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(jc(this._minLevelUnit))]||Cc.second,e,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,e,n){var r=this.getSetting("useUTC");return function(t,e,n,r,i){var o=null;if(g.C(n))o=n;else if(g.w(n))o=n(t.value,e,{level:t.level});else{var a=g.m({},Ec);if(t.level>0)for(var s=0;s<kc.length;++s)a[kc[s]]="{primary|"+a[kc[s]]+"}";var u=n?!1===n.inherit?n:g.i(n,a):a,l=Pc(t.value,i);if(u[l])o=u[l];else if(u.inherit){for(s=Tc.indexOf(l)-1;s>=0;--s)if(u[l]){o=u[l];break}o=o||a.none}if(g.t(o)){var c=null==t.level?0:t.level>=0?t.level:o.length+t.level;o=o[c=Math.min(c,o.length-1)]}}return Lc(new Date(t.value),o,i,r)}(t,e,n,this.getSetting("locale"),r)},e.prototype.getTicks=function(){var t=this._interval,e=this._extent,n=[];if(!t)return n;n.push({value:e[0],level:0});var r=this.getSetting("useUTC"),i=function(t,e,n,r){var i=Tc,o=0;function a(t,e,n,i,o,a,s){for(var u=new Date(e),l=e,c=u[i]();l<n&&l<=r[1];)s.push({value:l}),c+=t,u[o](c),l=u.getTime();s.push({value:l,notAdd:!0})}function s(t,i,o){var s=[],u=!i.length;if(!function(t,e,n,r){var i=Or(e),o=Or(n),a=function(t){return Nc(i,t,r)===Nc(o,t,r)},s=function(){return a("year")},u=function(){return s()&&a("month")},l=function(){return u()&&a("day")},c=function(){return l()&&a("hour")},h=function(){return c()&&a("minute")},d=function(){return h()&&a("second")};switch(t){case"year":return s();case"month":return u();case"day":return l();case"hour":return c();case"minute":return h();case"second":return d();case"millisecond":return d()&&a("millisecond")}}(jc(t),r[0],r[1],n)){u&&(i=[{value:function(t,e,n){var r=new Date(t);switch(jc(e)){case"year":case"month":r[Hc(n)](0);case"day":r[Yc(n)](1);case"hour":r[Xc(n)](0);case"minute":r[qc(n)](0);case"second":r[Qc(n)](0),r[Zc(n)](0)}return r.getTime()}(new Date(r[0]),t,n)},{value:r[1]}]);for(var l=0;l<i.length-1;l++){var c=i[l].value,h=i[l+1].value;if(c!==h){var d=void 0,f=void 0,p=void 0,g=!1;switch(t){case"year":d=Math.max(1,Math.round(e/Oc/365)),f=Rc(n),p=Wc(n);break;case"half-year":case"quarter":case"month":d=qm(e),f=Bc(n),p=Hc(n);break;case"week":case"half-week":case"day":d=Xm(e,31),f=zc(n),p=Yc(n),g=!0;break;case"half-day":case"quarter-day":case"hour":d=Qm(e),f=Fc(n),p=Xc(n);break;case"minute":d=Zm(e,!0),f=Gc(n),p=qc(n);break;case"second":d=Zm(e,!1),f=Vc(n),p=Qc(n);break;case"millisecond":d=Km(e),f=Uc(n),p=Zc(n)}a(d,c,h,f,p,g,s),"year"===t&&o.length>1&&0===l&&o.unshift({value:o[0].value-d})}}for(var l=0;l<s.length;l++)o.push(s[l]);return s}}for(var u=[],l=[],c=0,h=0,d=0;d<i.length&&o++<1e4;++d){var f=jc(i[d]);if((x=i[d])===jc(x)){s(i[d],u[u.length-1]||[],l);var p=i[d+1]?jc(i[d+1]):null;if(f!==p){if(l.length){h=c,l.sort(function(t,e){return t.value-e.value});for(var v=[],y=0;y<l.length;++y){var m=l[y].value;0!==y&&l[y-1].value===m||(v.push(l[y]),m>=r[0]&&m<=r[1]&&c++)}var b=(r[1]-r[0])/e;if(c>1.5*b&&h>b/1.5)break;if(u.push(v),c>b||t===i[d])break}l=[]}}}var x;0;for(var A=Object(g.n)(Object(g.H)(u,function(t){return Object(g.n)(t,function(t){return t.value>=r[0]&&t.value<=r[1]&&!t.notAdd})}),function(t){return t.length>0}),w=[],_=A.length-1,d=0;d<A.length;++d)for(var M=A[d],S=0;S<M.length;++S)w.push({value:M[S].value,level:_-d});w.sort(function(t,e){return t.value-e.value});for(var O=[],d=0;d<w.length;++d)0!==d&&w[d].value===w[d-1].value||O.push(w[d]);return O}(this._minLevelUnit,this._approxInterval,r,e);return(n=n.concat(i)).push({value:e[1],level:0}),n},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=Oc,e[1]+=Oc),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-Oc}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,e,n){t=t||10;var r=this._extent,i=r[1]-r[0];this._approxInterval=i/t,null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var o=Ym.length,a=Math.min(function(t,e,n,r){for(;n<r;){var i=n+r>>>1;t[i][1]<e?n=i+1:r=i}return n}(Ym,this._approxInterval,0,o),o-1);this._interval=Ym[a][1],this._minLevelUnit=Ym[Math.max(a-1,0)][0]},e.prototype.parse=function(t){return Object(g.z)(t)?t:+Or(t)},e.prototype.contain=function(t){return Mm(this.parse(t),this._extent)},e.prototype.normalize=function(t){return Sm(this.parse(t),this._extent)},e.prototype.scale=function(t){return Om(t,this._extent)},e.type="time",e}(Tm),Ym=[["second",_c],["minute",Mc],["hour",Sc],["quarter-day",6*Sc],["half-day",12*Sc],["day",1.2*Oc],["half-week",3.5*Oc],["week",7*Oc],["month",31*Oc],["quarter",95*Oc],["half-year",Ic/2],["year",Ic]];function Xm(t,e){return(t/=Oc)>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function qm(t){return(t/=30*Oc)>6?6:t>3?3:t>2?2:1}function Qm(t){return(t/=Sc)>12?12:t>6?6:t>3.5?4:t>2?2:1}function Zm(t,e){return(t/=e?Mc:_c)>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function Km(t){return Cr(t,!0)}gm.registerClass(Hm);var Jm=Hm,$m=gm.prototype,tb=Tm.prototype,eb=pr,nb=Math.floor,rb=Math.ceil,ib=Math.pow,ob=Math.log,ab=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new Tm,e._interval=0,e}return Object(f.__extends)(e,t),e.prototype.getTicks=function(t){var e=this._originalScale,n=this._extent,r=e.getExtent(),i=tb.getTicks.call(this,t);return g.H(i,function(t){var e=t.value,i=pr(ib(this.base,e));return i=e===n[0]&&this._fixMin?ub(i,r[0]):i,{value:i=e===n[1]&&this._fixMax?ub(i,r[1]):i}},this)},e.prototype.setExtent=function(t,e){var n=ob(this.base);t=ob(Math.max(0,t))/n,e=ob(Math.max(0,e))/n,tb.setExtent.call(this,t,e)},e.prototype.getExtent=function(){var t=this.base,e=$m.getExtent.call(this);e[0]=ib(t,e[0]),e[1]=ib(t,e[1]);var n=this._originalScale.getExtent();return this._fixMin&&(e[0]=ub(e[0],n[0])),this._fixMax&&(e[1]=ub(e[1],n[1])),e},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=ob(t[0])/ob(e),t[1]=ob(t[1])/ob(e),$m.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.calcNiceTicks=function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var r=Ir(n);for(t/n*r<=.5&&(r*=10);!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0;)r*=10;var i=[pr(rb(e[0]/r)*r),pr(nb(e[1]/r)*r)];this._interval=r,this._niceExtent=i}},e.prototype.calcNiceExtent=function(t){tb.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return Mm(t=ob(t)/ob(this.base),this._extent)},e.prototype.normalize=function(t){return Sm(t=ob(t)/ob(this.base),this._extent)},e.prototype.scale=function(t){return t=Om(t,this._extent),ib(this.base,t)},e.type="log",e}(gm),sb=ab.prototype;function ub(t,e){return eb(t,vr(e))}sb.getMinorTicks=tb.getMinorTicks,sb.getLabel=tb.getLabel,gm.registerClass(ab);var lb=ab,cb=function(){function t(t,e,n){this._prepareParams(t,e,n)}return t.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var r=this._isOrdinal="ordinal"===t.type;this._needCrossZero="interval"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var i=this._modelMinRaw=e.get("min",!0);Object(g.w)(i)?this._modelMinNum=pb(t,i({min:n[0],max:n[1]})):"dataMin"!==i&&(this._modelMinNum=pb(t,i));var o=this._modelMaxRaw=e.get("max",!0);if(Object(g.w)(o)?this._modelMaxNum=pb(t,o({min:n[0],max:n[1]})):"dataMax"!==o&&(this._modelMaxNum=pb(t,o)),r)this._axisDataLen=e.getCategories().length;else{var a=e.get("boundaryGap"),s=Object(g.t)(a)?a:[a||0,a||0];"boolean"==typeof s[0]||"boolean"==typeof s[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Vn(s[0],1),Vn(s[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,r=this._axisDataLen,i=this._boundaryGapInner,o=t?null:n-e||Math.abs(e),a="dataMin"===this._modelMinRaw?e:this._modelMinNum,s="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,u=null!=a,l=null!=s;null==a&&(a=t?r?0:NaN:e-i[0]*o),null==s&&(s=t?r?r-1:NaN:n+i[1]*o),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN);var c=Object(g.l)(a)||Object(g.l)(s)||t&&!r;this._needCrossZero&&(a>0&&s>0&&!u&&(a=0),a<0&&s<0&&!l&&(s=0));var h=this._determinedMin,d=this._determinedMax;return null!=h&&(a=h,u=!0),null!=d&&(s=d,l=!0),{min:a,max:s,minFixed:u,maxFixed:l,isBlank:c}},t.prototype.modifyDataMinMax=function(t,e){this[db[t]]=e},t.prototype.setDeterminedMinMax=function(t,e){var n=hb[t];this[n]=e},t.prototype.freeze=function(){this.frozen=!0},t}(),hb={min:"_determinedMin",max:"_determinedMax"},db={min:"_dataMin",max:"_dataMax"};function fb(t,e,n){var r=t.rawExtentInfo;return r||(r=new cb(t,e,n),t.rawExtentInfo=r,r)}function pb(t,e){return null==e?null:Object(g.l)(e)?NaN:t.parse(e)}function gb(t,e){var n=t.type,r=fb(t,e,t.getExtent()).calculate();t.setBlank(r.isBlank);var i=r.min,o=r.max,a=e.ecModel;if(a&&"time"===n){var s=Bm("bar",a),u=!1;if(g.k(s,function(t){u=u||t.getBaseAxis()===e.axis}),u){var l=zm(s),c=function(t,e,n,r){var i=n.axis.getExtent(),o=i[1]-i[0],a=function(t,e,n){if(t&&e){var r=t[Rm(e)];return null!=r&&null!=n?r[Nm(n)]:r}}(r,n.axis);if(void 0===a)return{min:t,max:e};var s=1/0;g.k(a,function(t){s=Math.min(t.offset,s)});var u=-1/0;g.k(a,function(t){u=Math.max(t.offset+t.width,u)}),s=Math.abs(s),u=Math.abs(u);var l=s+u,c=e-t,h=c/(1-(s+u)/o)-c;return{min:t-=h*(s/l),max:e+=h*(u/l)}}(i,o,e,l);i=c.min,o=c.max}}return{extent:[i,o],fixMin:r.minFixed,fixMax:r.maxFixed}}function vb(t,e){var n=e,r=gb(t,n),i=r.extent,o=n.get("splitNumber");t instanceof lb&&(t.base=n.get("logBase"));var a=t.type,s=n.get("interval"),u="interval"===a||"time"===a;t.setExtent(i[0],i[1]),t.calcNiceExtent({splitNumber:o,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:u?n.get("minInterval"):null,maxInterval:u?n.get("maxInterval"):null}),null!=s&&t.setInterval&&t.setInterval(s)}function yb(t,e){if(e=e||t.get("type"))switch(e){case"category":return new Em({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new Jm({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(gm.getClass(e)||Tm)}}function mb(t){var e,n,r=t.getLabelModel().get("formatter"),i="category"===t.type?t.scale.getExtent()[0]:null;return"time"===t.scale.type?(n=r,function(e,r){return t.scale.getFormattedLabel(e,r,n)}):g.C(r)?function(e){return function(n){var r=t.scale.getLabel(n);return e.replace("{value}",null!=r?r:"")}}(r):g.w(r)?(e=r,function(n,r){return null!=i&&(r=n.value-i),e(bb(t,n),r,null!=n.level?{level:n.level}:null)}):function(e){return t.scale.getLabel(e)}}function bb(t,e){return"category"===t.type?t.scale.getLabel(e):e.value}function xb(t){var e=t.get("interval");return null==e?"auto":e}function Ab(t){return"category"===t.type&&0===xb(t.getLabelModel())}function wb(t,e){var n={};return g.k(t.mapDimensionsAll(e),function(e){n[dm(t,e)]=!0}),g.F(n)}var _b=function(){function t(){}return t.prototype.getNeedCrossZero=function(){return!this.option.scale},t.prototype.getCoordSysModel=function(){},t}();function Mb(t){return fm(null,t)}var Sb={isDimensionStacked:hm,enableDataStack:cm,getStackedDimension:dm};function Ob(t,e){var n=e;e instanceof hc||(n=new hc(e));var r=yb(n);return r.setExtent(t[0],t[1]),vb(r,n),r}function Ib(t){g.K(t,_b)}function Eb(t,e){return Vl(t,null,null,"normal"!==(e=e||{}).state)}var Cb=1e-8;function kb(t,e){return Math.abs(t-e)<Cb}function Tb(t,e,n){var r=0,i=t[0];if(!i)return!1;for(var o=1;o<t.length;o++){var a=t[o];r+=No(i[0],i[1],a[0],a[1],e,n),i=a}var s=t[0];return kb(i[0],s[0])&&kb(i[1],s[1])||(r+=No(i[0],i[1],s[0],s[1],e,n)),0!==r}var Db=[];function jb(t,e){for(var n=0;n<t.length;n++)B(t[n],t[n],e)}function Lb(t,e,n,r){for(var i=0;i<t.length;i++){var o=t[i];r&&(o=r.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(z(e,e,o),F(n,n,o))}}var Pb=function(){function t(t){this.name=t}return t.prototype.setCenter=function(t){this._center=t},t.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},t}(),Nb=function(){return function(t,e){this.type="polygon",this.exterior=t,this.interiors=e}}(),Rb=function(){return function(t){this.type="linestring",this.points=t}}(),Bb=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.type="geoJSON",i.geometries=n,i._center=r&&[r[0],r[1]],i}return Object(f.__extends)(e,t),e.prototype.calcCenter=function(){for(var t,e=this.geometries,n=0,r=0;r<e.length;r++){var i=e[r],o=i.exterior,a=o&&o.length;a>n&&(t=i,n=a)}if(t)return function(t){for(var e=0,n=0,r=0,i=t.length,o=t[i-1][0],a=t[i-1][1],s=0;s<i;s++){var u=t[s][0],l=t[s][1],c=o*l-u*a;e+=c,n+=(o+u)*c,r+=(a+l)*c,o=u,a=l}return e?[n/e/3,r/e/3,e]:[t[0][0]||0,t[0][1]||0]}(t.exterior);var s=this.getBoundingRect();return[s.x+s.width/2,s.y+s.height/2]},e.prototype.getBoundingRect=function(t){var e=this._rect;if(e&&!t)return e;var n=[1/0,1/0],r=[-1/0,-1/0],i=this.geometries;return Object(g.k)(i,function(e){"polygon"===e.type?Lb(e.exterior,n,r,t):Object(g.k)(e.points,function(e){Lb(e,n,r,t)})}),isFinite(n[0])&&isFinite(n[1])&&isFinite(r[0])&&isFinite(r[1])||(n[0]=n[1]=r[0]=r[1]=0),e=new Tt(n[0],n[1],r[0]-n[0],r[1]-n[1]),t||(this._rect=e),e},e.prototype.contain=function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var r=0,i=n.length;r<i;r++){var o=n[r];if("polygon"===o.type){var a=o.exterior,s=o.interiors;if(Tb(a,t[0],t[1])){for(var u=0;u<(s?s.length:0);u++)if(Tb(s[u],t[0],t[1]))continue t;return!0}}}return!1},e.prototype.transformTo=function(t,e,n,r){var i=this.getBoundingRect(),o=i.width/i.height;n?r||(r=n/o):n=o*r;for(var a=new Tt(t,e,n,r),s=i.calculateTransform(a),u=this.geometries,l=0;l<u.length;l++){var c=u[l];"polygon"===c.type?(jb(c.exterior,s),Object(g.k)(c.interiors,function(t){jb(t,s)})):Object(g.k)(c.points,function(t){jb(t,s)})}(i=this._rect).copy(a),this._center=[i.x+i.width/2,i.y+i.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var n=new e(t,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},e}(Pb),zb=function(t){function e(e,n){var r=t.call(this,e)||this;return r.type="geoSVG",r._elOnlyForCalculate=n,r}return Object(f.__extends)(e,t),e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,e=t.getBoundingRect(),n=[e.x+e.width/2,e.y+e.height/2],r=pt(Db),i=t;i&&!i.isGeoSVGGraphicRoot;)vt(r,i.getLocalTransform(),r),i=i.parent;return xt(r,r),B(n,n,r),n},e}(Pb);function Fb(t,e,n){for(var r=0;r<t.length;r++)t[r]=Gb(t[r],e[r],n)}function Gb(t,e,n){for(var r=[],i=e[0],o=e[1],a=0;a<t.length;a+=2){var s=t.charCodeAt(a)-64,u=t.charCodeAt(a+1)-64;s=s>>1^-(1&s),u=u>>1^-(1&u),i=s+=i,o=u+=o,r.push([s/n,u/n])}return r}function Vb(t,e){return t=function(t){if(!t.UTF8Encoding)return t;var e=t,n=e.UTF8Scale;null==n&&(n=1024);var r=e.features;return g.k(r,function(t){var e=t.geometry,r=e.encodeOffsets,i=e.coordinates;if(r)switch(e.type){case"LineString":e.coordinates=Gb(i,r,n);break;case"Polygon":case"MultiLineString":Fb(i,r,n);break;case"MultiPolygon":g.k(i,function(t,e){return Fb(t,r[e],n)})}}),e.UTF8Encoding=!1,e}(t),g.H(g.n(t.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var n=t.properties,r=t.geometry,i=[];switch(r.type){case"Polygon":var o=r.coordinates;i.push(new Nb(o[0],o.slice(1)));break;case"MultiPolygon":g.k(r.coordinates,function(t){t[0]&&i.push(new Nb(t[0],t.slice(1)))});break;case"LineString":i.push(new Rb([r.coordinates]));break;case"MultiLineString":i.push(new Rb(r.coordinates))}var a=new Bb(n[e||"name"],i,n.cp);return a.properties=n,a})}var Ub=$r();function Wb(t){return"category"===t.type?function(t){var e=t.getLabelModel(),n=Yb(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(t):function(t){var e=t.scale.getTicks(),n=mb(t);return{labels:g.H(e,function(e,r){return{level:e.level,formattedLabel:n(e,r),rawLabel:t.scale.getLabel(e),tickValue:e.value}})}}(t)}function Hb(t,e){return"category"===t.type?function(t,e){var n,r,i=Xb(t,"ticks"),o=xb(e),a=qb(i,o);if(a)return a;e.get("show")&&!t.scale.isBlank()||(n=[]);if(g.w(o))n=Kb(t,o,!0);else if("auto"===o){var s=Yb(t,t.getLabelModel());r=s.labelCategoryInterval,n=g.H(s.labels,function(t){return t.tickValue})}else n=Zb(t,r=o,!0);return Qb(i,o,{ticks:n,tickCategoryInterval:r})}(t,e):{ticks:g.H(t.scale.getTicks(),function(t){return t.value})}}function Yb(t,e){var n,r=Xb(t,"labels"),i=xb(e),o=qb(r,i);return o||Qb(r,i,{labels:g.w(i)?Kb(t,i):Zb(t,n="auto"===i?function(t){var e=Ub(t).autoInterval;return null!=e?e:Ub(t).autoInterval=t.calculateCategoryInterval()}(t):i),labelCategoryInterval:n})}function Xb(t,e){return Ub(t)[e]||(Ub(t)[e]=[])}function qb(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function Qb(t,e,n){return t.push({key:e,value:n}),n}function Zb(t,e,n){var r=mb(t),i=t.scale,o=i.getExtent(),a=t.getLabelModel(),s=[],u=Math.max((e||0)+1,1),l=o[0],c=i.count();0!==l&&u>1&&c/u>2&&(l=Math.round(Math.ceil(l/u)*u));var h=Ab(t),d=a.get("showMinLabel")||h,f=a.get("showMaxLabel")||h;d&&l!==o[0]&&g(o[0]);for(var p=l;p<=o[1];p+=u)g(p);function g(t){var e={value:t};s.push(n?t:{formattedLabel:r(e),rawLabel:i.getLabel(e),tickValue:t})}return f&&p-u!==o[1]&&g(o[1]),s}function Kb(t,e,n){var r=t.scale,i=mb(t),o=[];return g.k(r.getTicks(),function(t){var a=r.getLabel(t),s=t.value;e(t.value,a)&&o.push(n?s:{formattedLabel:i(t),rawLabel:a,tickValue:s})}),o}var Jb=[0,1];function $b(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}var tx=function(){function t(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return t.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=n&&t<=r},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return mr(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},t.prototype.dataToCoord=function(t,e){var n=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&$b(n=n.slice(),r.count()),dr(t,Jb,n,e)},t.prototype.coordToData=function(t,e){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&$b(n=n.slice(),r.count());var i=dr(t,n,Jb,e);return this.scale.scale(i)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=Hb(this,e).ticks,r=Object(g.H)(n,function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}},this);return function(t,e,n,r){var i=e.length;if(!t.onBand||n||!i)return;var o,a,s=t.getExtent();if(1===i)e[0].coord=s[0],o=e[1]={coord:s[0]};else{var u=e[i-1].tickValue-e[0].tickValue,l=(e[i-1].coord-e[0].coord)/u;Object(g.k)(e,function(t){t.coord-=l/2});var c=t.scale.getExtent();a=1+c[1]-e[i-1].tickValue,o={coord:e[i-1].coord+l*a},e.push(o)}var h=s[0]>s[1];d(e[0].coord,s[0])&&(r?e[0].coord=s[0]:e.shift());r&&d(s[0],e[0].coord)&&e.unshift({coord:s[0]});d(s[1],o.coord)&&(r?o.coord=s[1]:e.pop());r&&d(o.coord,s[1])&&e.push({coord:s[1]});function d(t,e){return t=pr(t),e=pr(e),h?t>e:t<e}}(this,r,e.get("alignWithLabel"),t.clamp),r},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");t>0&&t<100||(t=5);var e=this.scale.getMinorTicks(t);return Object(g.H)(e,function(t){return Object(g.H)(t,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this)},this)},t.prototype.getViewLabels=function(){return Wb(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/n},t.prototype.calculateCategoryInterval=function(){return function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(t),n=mb(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,o=i.getExtent(),a=i.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var u=o[0],l=t.dataToCoord(u+1)-t.dataToCoord(u),c=Math.abs(l*Math.cos(r)),h=Math.abs(l*Math.sin(r)),d=0,f=0;u<=o[1];u+=s){var p,g,v=Bn(n({value:u}),e.font,"center","top");p=1.3*v.width,g=1.3*v.height,d=Math.max(d,p,7),f=Math.max(f,g,7)}var y=d/c,m=f/h;isNaN(y)&&(y=1/0),isNaN(m)&&(m=1/0);var b=Math.max(0,Math.floor(Math.min(y,m))),x=Ub(t.model),A=t.getExtent(),w=x.lastAutoInterval,_=x.lastTickCount;return null!=w&&null!=_&&Math.abs(w-b)<=1&&Math.abs(_-a)<=1&&w>b&&x.axisExtent0===A[0]&&x.axisExtent1===A[1]?b=w:(x.lastTickCount=a,x.lastAutoInterval=b,x.axisExtent0=A[0],x.axisExtent1=A[1]),b}(this)},t}();function ex(t){var e=_h.extend(t);return _h.registerClass(e),e}function nx(t){var e=dp.extend(t);return dp.registerClass(e),e}function rx(t){var e=cp.extend(t);return cp.registerClass(e),e}function ix(t){var e=wp.extend(t);return wp.registerClass(e),e}var ox=2*Math.PI,ax=Eo.CMD,sx=["top","right","bottom","left"];function ux(t,e,n,r,i){var o=n.width,a=n.height;switch(t){case"top":r.set(n.x+o/2,n.y-e),i.set(0,-1);break;case"bottom":r.set(n.x+o/2,n.y+a+e),i.set(0,1);break;case"left":r.set(n.x-e,n.y+a/2),i.set(-1,0);break;case"right":r.set(n.x+o+e,n.y+a/2),i.set(1,0)}}function lx(t,e,n,r,i,o,a,s,u){a-=t,s-=e;var l=Math.sqrt(a*a+s*s),c=(a/=l)*n+t,h=(s/=l)*n+e;if(Math.abs(r-i)%ox<1e-4)return u[0]=c,u[1]=h,l-n;if(o){var d=r;r=jo(i),i=jo(d)}else r=jo(r),i=jo(i);r>i&&(i+=ox);var f=Math.atan2(s,a);if(f<0&&(f+=ox),f>=r&&f<=i||f+ox>=r&&f+ox<=i)return u[0]=c,u[1]=h,l-n;var p=n*Math.cos(r)+t,g=n*Math.sin(r)+e,v=n*Math.cos(i)+t,y=n*Math.sin(i)+e,m=(p-a)*(p-a)+(g-s)*(g-s),b=(v-a)*(v-a)+(y-s)*(y-s);return m<b?(u[0]=p,u[1]=g,Math.sqrt(m)):(u[0]=v,u[1]=y,Math.sqrt(b))}function cx(t,e,n,r,i,o,a,s){var u=i-t,l=o-e,c=n-t,h=r-e,d=Math.sqrt(c*c+h*h),f=(u*(c/=d)+l*(h/=d))/d;s&&(f=Math.min(Math.max(f,0),1)),f*=d;var p=a[0]=t+f*c,g=a[1]=e+f*h;return Math.sqrt((p-i)*(p-i)+(g-o)*(g-o))}function hx(t,e,n,r,i,o,a){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r);var s=t+n,u=e+r,l=a[0]=Math.min(Math.max(i,t),s),c=a[1]=Math.min(Math.max(o,e),u);return Math.sqrt((l-i)*(l-i)+(c-o)*(c-o))}var dx=[];function fx(t,e,n){var r=hx(e.x,e.y,e.width,e.height,t.x,t.y,dx);return n.set(dx[0],dx[1]),r}function px(t,e,n){for(var r,i,o=0,a=0,s=0,u=0,l=1/0,c=e.data,h=t.x,d=t.y,f=0;f<c.length;){var p=c[f++];1===f&&(s=o=c[f],u=a=c[f+1]);var g=l;switch(p){case ax.M:o=s=c[f++],a=u=c[f++];break;case ax.L:g=cx(o,a,c[f],c[f+1],h,d,dx,!0),o=c[f++],a=c[f++];break;case ax.C:g=we(o,a,c[f++],c[f++],c[f++],c[f++],c[f],c[f+1],h,d,dx),o=c[f++],a=c[f++];break;case ax.Q:g=Ee(o,a,c[f++],c[f++],c[f],c[f+1],h,d,dx),o=c[f++],a=c[f++];break;case ax.A:var v=c[f++],y=c[f++],m=c[f++],b=c[f++],x=c[f++],A=c[f++];f+=1;var w=!!(1-c[f++]);r=Math.cos(x)*m+v,i=Math.sin(x)*b+y,f<=1&&(s=r,u=i),g=lx(v,y,b,x,x+A,w,(h-v)*b/m+v,d,dx),o=Math.cos(x+A)*m+v,a=Math.sin(x+A)*b+y;break;case ax.R:g=hx(s=o=c[f++],u=a=c[f++],c[f++],c[f++],h,d,dx);break;case ax.Z:g=cx(o,a,s,u,h,d,dx,!0),o=s,a=u}g<l&&(l=g,n.set(dx[0],dx[1]))}return l}var gx=new wt,vx=new wt,yx=new wt,mx=new wt,bx=new wt;function xx(t,e){if(t){var n=t.getTextGuideLine(),r=t.getTextContent();if(r&&n){var i=t.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=i.candidates||sx,s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var u=1/0,l=i.anchor,c=t.getComputedTransform(),h=c&&xt([],c),d=e.get("length2")||0;l&&yx.copy(l);for(var f=0;f<a.length;f++){ux(a[f],0,s,gx,mx),wt.scaleAndAdd(vx,gx,mx,d),vx.transform(h);var p=t.getBoundingRect(),g=l?l.distance(vx):t instanceof Qo?px(vx,t.path,yx):fx(vx,p,yx);g<u&&(u=g,vx.transform(c),yx.transform(c),yx.toArray(o[0]),vx.toArray(o[1]),gx.toArray(o[2]))}_x(o,e.get("minTurnAngle")),n.setShape({points:o})}}}var Ax=[],wx=new wt;function _x(t,e){if(e<=180&&e>0){e=e/180*Math.PI,gx.fromArray(t[0]),vx.fromArray(t[1]),yx.fromArray(t[2]),wt.sub(mx,gx,vx),wt.sub(bx,yx,vx);var n=mx.len(),r=bx.len();if(!(n<.001||r<.001)){mx.scale(1/n),bx.scale(1/r);var i=mx.dot(bx);if(Math.cos(e)<i){var o=cx(vx.x,vx.y,yx.x,yx.y,gx.x,gx.y,Ax,!1);wx.fromArray(Ax),wx.scaleAndAdd(bx,o/Math.tan(Math.PI-e));var a=yx.x!==vx.x?(wx.x-vx.x)/(yx.x-vx.x):(wx.y-vx.y)/(yx.y-vx.y);if(isNaN(a))return;a<0?wt.copy(wx,vx):a>1&&wt.copy(wx,yx),wx.toArray(t[1])}}}}function Mx(t,e,n){if(n<=180&&n>0){n=n/180*Math.PI,gx.fromArray(t[0]),vx.fromArray(t[1]),yx.fromArray(t[2]),wt.sub(mx,vx,gx),wt.sub(bx,yx,vx);var r=mx.len(),i=bx.len();if(!(r<.001||i<.001))if(mx.scale(1/r),bx.scale(1/i),mx.dot(e)<Math.cos(n)){var o=cx(vx.x,vx.y,yx.x,yx.y,gx.x,gx.y,Ax,!1);wx.fromArray(Ax);var a=Math.PI/2,s=a+Math.acos(bx.dot(e))-n;if(s>=a)wt.copy(wx,yx);else{wx.scaleAndAdd(bx,o/Math.tan(Math.PI/2-s));var u=yx.x!==vx.x?(wx.x-vx.x)/(yx.x-vx.x):(wx.y-vx.y)/(yx.y-vx.y);if(isNaN(u))return;u<0?wt.copy(wx,vx):u>1&&wt.copy(wx,yx)}wx.toArray(t[1])}}}function Sx(t,e,n,r){var i="normal"===n,o=i?t:t.ensureState(n);o.ignore=e;var a=r.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=r.getModel("lineStyle").getLineStyle();i?t.useStyle(s):o.style=s}function Ox(t,e){var n=e.smooth,r=e.points;if(r)if(t.moveTo(r[0][0],r[0][1]),n>0&&r.length>=3){var i=j(r[0],r[1]),o=j(r[1],r[2]);if(!i||!o)return t.lineTo(r[1][0],r[1][1]),void t.lineTo(r[2][0],r[2][1]);var a=Math.min(i,o)*n,s=R([],r[1],r[0],a/i),u=R([],r[1],r[2],a/o),l=R([],s,u,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],l[0],l[1]),t.bezierCurveTo(u[0],u[1],u[0],u[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)t.lineTo(r[c][0],r[c][1])}function Ix(t,e,n){var r=t.getTextGuideLine(),i=t.getTextContent();if(i){for(var o=e.normal,a=o.get("show"),s=i.ignore,u=0;u<Ra.length;u++){var l=Ra[u],c=e[l],h="normal"===l;if(c){var d=c.get("show");if((h?s:Object(g.P)(i.states[l]&&i.states[l].ignore,s))||!Object(g.P)(d,a)){var f=h?r:r&&r.states[l];f&&(f.ignore=!0);continue}r||(r=new Iu,t.setTextGuideLine(r),h||!s&&a||Sx(r,!0,"normal",e.normal),t.stateProxy&&(r.stateProxy=t.stateProxy)),Sx(r,!1,l,c)}}if(r){Object(g.i)(r.style,n),r.style.fill=null;var p=o.get("showAbove");(t.textGuideLineConfig=t.textGuideLineConfig||{}).showAbove=p||!1,r.buildPath=Ox}}else r&&t.removeTextGuideLine()}function Ex(t,e){e=e||"labelLine";for(var n={normal:t.getModel(e)},r=0;r<Na.length;r++){var i=Na[r];n[i]=t.getModel([i,e])}return n}function Cx(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.defaultAttr.ignore){var i=r.label,o=i.getComputedTransform(),a=i.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,u=i.style.margin||0,l=a.clone();l.applyTransform(o),l.x-=u/2,l.y-=u/2,l.width+=u,l.height+=u;var c=s?new qu(a,o):null;e.push({label:i,labelLine:r.labelLine,rect:l,localRect:a,obb:c,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:o})}}return e}function kx(t,e,n,r,i,o){var a=t.length;if(!(a<2)){t.sort(function(t,n){return t.rect[e]-n.rect[e]});for(var s,u=0,l=!1,c=[],h=0,d=0;d<a;d++){var f=t[d],p=f.rect;(s=p[e]-u)<0&&(p[e]-=s,f.label[e]-=s,l=!0);var g=Math.max(-s,0);c.push(g),h+=g,u=p[e]+p[n]}h>0&&o&&w(-h/a,0,a);var v,y,m=t[0],b=t[a-1];return x(),v<0&&_(-v,.8),y<0&&_(y,.8),x(),A(v,y,1),A(y,v,-1),x(),v<0&&M(-v),y<0&&M(y),l}function x(){v=m.rect[e]-r,y=i-b.rect[e]-b.rect[n]}function A(t,e,n){if(t<0){var r=Math.min(e,-t);if(r>0){w(r*n,0,a);var i=r+t;i<0&&_(-i*n,1)}else _(-t*n,1)}}function w(n,r,i){0!==n&&(l=!0);for(var o=r;o<i;o++){var a=t[o];a.rect[e]+=n,a.label[e]+=n}}function _(r,i){for(var o=[],s=0,u=1;u<a;u++){var l=t[u-1].rect,c=Math.max(t[u].rect[e]-l[e]-l[n],0);o.push(c),s+=c}if(s){var h=Math.min(Math.abs(r)/s,i);if(r>0)for(u=0;u<a-1;u++){w(o[u]*h,0,u+1)}else for(u=a-1;u>0;u--){w(-(o[u-1]*h),u,a)}}}function M(t){var e=t<0?-1:1;t=Math.abs(t);for(var n=Math.ceil(t/(a-1)),r=0;r<a-1;r++)if(e>0?w(n,0,r+1):w(-n,a-r-1,a),(t-=n)<=0)return}}function Tx(t,e,n,r){return kx(t,"y","height",e,n,r)}function Dx(t){var e=[];t.sort(function(t,e){return e.priority-t.priority});var n=new Tt(0,0,0,0);function r(t){if(!t.ignore){var e=t.ensureState("emphasis");null==e.ignore&&(e.ignore=!1)}t.ignore=!0}for(var i=0;i<t.length;i++){var o=t[i],a=o.axisAligned,s=o.localRect,u=o.transform,l=o.label,c=o.labelLine;n.copy(o.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var h=o.obb,d=!1,f=0;f<e.length;f++){var p=e[f];if(n.intersect(p.rect)){if(a&&p.axisAligned){d=!0;break}if(p.obb||(p.obb=new qu(p.localRect,p.transform)),h||(h=new qu(s,u)),h.intersect(p.obb)){d=!0;break}}}d?(r(l),c&&r(c)):(l.attr("ignore",o.defaultAttr.ignore),c&&c.attr("ignore",o.defaultAttr.labelGuideIgnore),e.push(o))}}function jx(t,e){var n=t.label,r=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:function(t){if(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].slice());return e}}(r&&r.shape.points)}}var Lx=["align","verticalAlign","width","height","fontSize"],Px=new Dn,Nx=$r(),Rx=$r();function Bx(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];null!=e[i]&&(t[i]=e[i])}}var zx=["x","y","rotation"],Fx=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,e,n,r,i){var o=r.style,a=r.__hostTarget.textConfig||{},s=r.getComputedTransform(),u=r.getBoundingRect().plain();Tt.applyTransform(u,u,s),s?Px.setLocalTransform(s):(Px.x=Px.y=Px.rotation=Px.originX=Px.originY=0,Px.scaleX=Px.scaleY=1);var l,c=r.__hostTarget;if(c){l=c.getBoundingRect().plain();var h=c.getComputedTransform();Tt.applyTransform(l,l,h)}var d=l&&c.getTextGuideLine();this._labelList.push({label:r,labelLine:d,seriesModel:n,dataIndex:t,dataType:e,layoutOption:i,computedLayoutOption:null,rect:u,hostRect:l,priority:l?l.width*l.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:d&&d.ignore,x:Px.x,y:Px.y,scaleX:Px.scaleX,scaleY:Px.scaleY,rotation:Px.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:r.cursor,attachedPos:a.position,attachedRot:a.rotation}})},t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,r=n.get("labelLayout");(Object(g.w)(r)||Object(g.F)(r).length)&&t.group.traverse(function(t){if(t.ignore)return!0;var i=t.getTextContent(),o=Ia(t);i&&!i.disableLabelLayout&&e._addLabel(o.dataIndex,o.dataType,n,i,r)})},t.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function r(t,e){return function(){xx(t,e)}}for(var i=0;i<this._labelList.length;i++){var o=this._labelList[i],a=o.label,s=a.__hostTarget,u=o.defaultAttr,l=void 0;l=(l=Object(g.w)(o.layoutOption)?o.layoutOption(jx(o,s)):o.layoutOption)||{},o.computedLayoutOption=l;var c=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=l.x||null!=l.y?null:u.attachedPos,rotation:null!=l.rotate?l.rotate*c:u.attachedRot,offset:[l.dx||0,l.dy||0]});var h=!1;if(null!=l.x?(a.x=fr(l.x,e),a.setStyle("x",0),h=!0):(a.x=u.x,a.setStyle("x",u.style.x)),null!=l.y?(a.y=fr(l.y,n),a.setStyle("y",0),h=!0):(a.y=u.y,a.setStyle("y",u.style.y)),l.labelLinePoints){var d=s.getTextGuideLine();d&&(d.setShape({points:l.labelLinePoints}),h=!1)}Nx(a).needsUpdateLabelLine=h,a.rotation=null!=l.rotate?l.rotate*c:u.rotation,a.scaleX=u.scaleX,a.scaleY=u.scaleY;for(var f=0;f<Lx.length;f++){var p=Lx[f];a.setStyle(p,null!=l[p]?l[p]:u.style[p])}if(l.draggable){if(a.draggable=!0,a.cursor="move",s){var v=o.seriesModel;if(null!=o.dataIndex)v=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex);a.on("drag",r(s,v.getModel("labelLine")))}}else a.off("drag"),a.cursor=u.cursor}},t.prototype.layout=function(t){var e,n=t.getWidth(),r=t.getHeight(),i=Cx(this._labelList),o=Object(g.n)(i,function(t){return"shiftX"===t.layoutOption.moveOverlap}),a=Object(g.n)(i,function(t){return"shiftY"===t.layoutOption.moveOverlap});kx(o,"x","width",0,n,e),Tx(a,0,r),Dx(Object(g.n)(i,function(t){return t.layoutOption.hideOverlap}))},t.prototype.processLabelsOverall=function(){var t=this;Object(g.k)(this._chartViewList,function(e){var n=e.__model,r=e.ignoreLabelLineUpdate,i=n.isAnimationEnabled();e.group.traverse(function(e){if(e.ignore&&!e.forceLabelAnimation)return!0;var o=!r,a=e.getTextContent();!o&&a&&(o=Nx(a).needsUpdateLabelLine),o&&t._updateLabelLine(e,n),i&&t._animateLabels(e,n)})})},t.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),r=Ia(t),i=r.dataIndex;if(n&&null!=i){var o=e.getData(r.dataType),a=o.getItemModel(i),s={},u=o.getItemVisual(i,"style"),l=o.getVisual("drawType");s.stroke=u[l];var c=a.getModel("labelLine");Ix(t,Ex(a),s),xx(t,c)}},t.prototype._animateLabels=function(t,e){var n=t.getTextContent(),r=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!nl(t))){var i=(f=Nx(n)).oldLayout,o=Ia(t),a=o.dataIndex,s={x:n.x,y:n.y,rotation:n.rotation},u=e.getData(o.dataType);if(i){n.attr(i);var l=t.prevStates;l&&(Object(g.r)(l,"select")>=0&&n.attr(f.oldLayoutSelect),Object(g.r)(l,"emphasis")>=0&&n.attr(f.oldLayoutEmphasis)),tl(n,s,e,a)}else if(n.attr(s),!Ql(n).valueAnimation){var c=Object(g.P)(n.style.opacity,1);n.style.opacity=0,el(n,{style:{opacity:c}},e,a)}if(f.oldLayout=s,n.states.select){var h=f.oldLayoutSelect={};Bx(h,s,zx),Bx(h,n.states.select,zx)}if(n.states.emphasis){var d=f.oldLayoutEmphasis={};Bx(d,s,zx),Bx(d,n.states.emphasis,zx)}Kl(n,a,u,e,e)}if(r&&!r.ignore&&!r.invisible){i=(f=Rx(r)).oldLayout;var f,p={points:r.shape.points};i?(r.attr({shape:i}),tl(r,{shape:p},e)):(r.setShape(p),r.style.strokePercent=0,el(r,{style:{strokePercent:1}},e)),f.oldLayout=p}},t}(),Gx=$r();function Vx(t){t.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){var r=Gx(e).labelManager;r||(r=Gx(e).labelManager=new Fx),r.clearLabels()}),t.registerUpdateLifecycle("series:layoutlabels",function(t,e,n){var r=Gx(e).labelManager;n.updatedSeries.forEach(function(t){r.addLabelsOfSeries(e.getViewOfSeriesModel(t))}),r.updateLayoutConfig(e),r.layout(e),r.processLabelsOverall()})}ky(Vx);var Ux=Math.sin,Wx=Math.cos,Hx=Math.PI,Yx=2*Math.PI,Xx=180/Hx,qx=function(){function t(){}return t.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},t.prototype.moveTo=function(t,e){this._add("M",t,e)},t.prototype.lineTo=function(t,e){this._add("L",t,e)},t.prototype.bezierCurveTo=function(t,e,n,r,i,o){this._add("C",t,e,n,r,i,o)},t.prototype.quadraticCurveTo=function(t,e,n,r){this._add("Q",t,e,n,r)},t.prototype.arc=function(t,e,n,r,i,o){this.ellipse(t,e,n,n,0,r,i,o)},t.prototype.ellipse=function(t,e,n,r,i,o,a,s){var u=a-o,l=!s,c=Math.abs(u),h=Object(Le.j)(c-Yx)||(l?u>=Yx:-u>=Yx),d=u>0?u%Yx:u%Yx+Yx,f=!1;f=!!h||!Object(Le.j)(c)&&d>=Hx==!!l;var p=t+n*Wx(o),g=e+r*Ux(o);this._start&&this._add("M",p,g);var v=Math.round(i*Xx);if(h){var y=1/this._p,m=(l?1:-1)*(Yx-y);this._add("A",n,r,v,1,+l,t+n*Wx(o+m),e+r*Ux(o+m)),y>.01&&this._add("A",n,r,v,0,+l,p,g)}else{var b=t+n*Wx(a),x=e+r*Ux(a);this._add("A",n,r,v,+f,+l,b,x)}},t.prototype.rect=function(t,e,n,r){this._add("M",t,e),this._add("l",n,0),this._add("l",0,r),this._add("l",-n,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(t,e,n,r,i,o,a,s,u){for(var l=[],c=this._p,h=1;h<arguments.length;h++){var d=arguments[h];if(isNaN(d))return void(this._invalid=!0);l.push(Math.round(d*c)/c)}this._d.push(t+l.join(" ")),this._start="Z"===t},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),Qx="none",Zx=Math.round;var Kx=["lineCap","miterLimit","lineJoin"],Jx=Object(g.H)(Kx,function(t){return"stroke-"+t.toLowerCase()});function $x(t,e,n,r){var i=null==e.opacity?1:e.opacity;if(n instanceof na)t("opacity",i);else{if(function(t){var e=t.fill;return null!=e&&e!==Qx}(e)){var o=Object(Le.p)(e.fill);t("fill",o.color);var a=null!=e.fillOpacity?e.fillOpacity*o.opacity*i:o.opacity*i;(r||a<1)&&t("fill-opacity",a)}else t("fill",Qx);if(function(t){var e=t.stroke;return null!=e&&e!==Qx}(e)){var s=Object(Le.p)(e.stroke);t("stroke",s.color);var u=e.strokeNoScale?n.getLineScale():1,l=u?(e.lineWidth||0)/u:0,c=null!=e.strokeOpacity?e.strokeOpacity*s.opacity*i:s.opacity*i,h=e.strokeFirst;if((r||1!==l)&&t("stroke-width",l),(r||h)&&t("paint-order",h?"stroke":"fill"),(r||c<1)&&t("stroke-opacity",c),e.lineDash){var d=Pg(n),f=d[0],p=d[1];f&&(p=Zx(p||0),t("stroke-dasharray",f.join(",")),(p||r)&&t("stroke-dashoffset",p))}else r&&t("stroke-dasharray",Qx);for(var g=0;g<Kx.length;g++){var v=Kx[g];if(r||e[v]!==Yo[v]){var y=e[v]||Yo[v];y&&t(Jx[g],y)}}}else r&&t("stroke",Qx)}}var tA="http://www.w3.org/2000/svg",eA="http://www.w3.org/1999/xlink",nA="http://www.w3.org/2000/xmlns/",rA="http://www.w3.org/XML/1998/namespace";function iA(t){return document.createElementNS(tA,t)}function oA(t,e,n,r,i){return{tag:t,attrs:n||{},children:r,text:i,key:e}}function aA(t,e){var n=(e=e||{}).newline?"\n":"";return function t(e){var r=e.children,i=e.tag;return function(t,e){var n=[];if(e)for(var r in e){var i=e[r],o=r;!1!==i&&(!0!==i&&null!=i&&(o+='="'+i+'"'),n.push(o))}return"<"+t+" "+n.join(" ")+">"}(i,e.attrs)+$(e.text)+(r?""+n+Object(g.H)(r,function(e){return t(e)}).join(n)+n:"")+"</"+i+">"}(t)}function sA(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function uA(t,e,n,r){return oA("svg","root",{width:t,height:e,xmlns:tA,"xmlns:xlink":eA,version:"1.1",baseProfile:"full",viewBox:!!r&&"0 0 "+t+" "+e},n)}var lA={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},cA="transform-origin";function hA(t,e,n){var r=Object(g.m)({},t.shape);Object(g.m)(r,e),t.buildPath(n,r);var i=new qx;return i.reset(Object(Le.f)(t)),n.rebuildPath(i,1),i.generateStr(),i.getStr()}function dA(t,e){var n=e.originX,r=e.originY;(n||r)&&(t[cA]=n+"px "+r+"px")}var fA={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function pA(t,e){var n=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[n]=t,n}function gA(t){return Object(g.C)(t)?lA[t]?"cubic-bezier("+lA[t]+")":Te(t)?t:"":""}function vA(t,e,n,r){var i=t.animators,o=i.length,a=[];if(t instanceof Fu){if(y=function(t,e,n){var r,i,o=t.shape.paths,a={};if(Object(g.k)(o,function(t){var e=sA(n.zrId);e.animation=!0,vA(t,{},e,!0);var o=e.cssAnims,s=e.cssNodes,u=Object(g.F)(o),l=u.length;if(l){var c=o[i=u[l-1]];for(var h in c){var d=c[h];a[h]=a[h]||{d:""},a[h].d+=d.d||""}for(var f in s){var p=s[f].animation;p.indexOf(i)>=0&&(r=p)}}}),r){e.d=!1;var s=pA(a,n);return r.replace(i,s)}}(t,e,n))a.push(y);else if(!o)return}else if(!o)return;for(var s={},u=0;u<o;u++){var l=i[u],c=[l.getMaxTime()/1e3+"s"],h=gA(l.getClip().easing),d=l.getDelay();h?c.push(h):c.push("linear"),d&&c.push(d/1e3+"s"),l.getLoop()&&c.push("infinite");var f=c.join(" ");s[f]=s[f]||[f,[]],s[f][1].push(l)}function p(i){var o,a=i[1],s=a.length,u={},l={},c={},h="animation-timing-function";function d(t,e,n){for(var r=t.getTracks(),i=t.getMaxTime(),o=0;o<r.length;o++){var a=r[o];if(a.needsAnimate()){var s=a.keyframes,u=a.propName;if(n&&(u=n(u)),u)for(var l=0;l<s.length;l++){var c=s[l],d=Math.round(c.time/i*100)+"%",f=gA(c.easing),p=c.rawValue;(Object(g.C)(p)||Object(g.z)(p))&&(e[d]=e[d]||{},e[d][u]=c.rawValue,f&&(e[d][h]=f))}}}}for(var f=0;f<s;f++){(M=(_=a[f]).targetName)?"shape"===M&&d(_,l):!r&&d(_,u)}for(var p in u){var v={};Tn(v,t),Object(g.m)(v,u[p]);var y=Object(Le.g)(v),m=u[p][h];c[p]=y?{transform:y}:{},dA(c[p],v),m&&(c[p][h]=m)}var b=!0;for(var p in l){c[p]=c[p]||{};var x=!o;m=l[p][h];x&&(o=new Eo);var A=o.len();o.reset(),c[p].d=hA(t,l[p],o);var w=o.len();if(!x&&A!==w){b=!1;break}m&&(c[p][h]=m)}if(!b)for(var p in c)delete c[p].d;if(!r)for(f=0;f<s;f++){var _,M;"style"===(M=(_=a[f]).targetName)&&d(_,c,function(t){return fA[t]})}var S,O=Object(g.F)(c),I=!0;for(f=1;f<O.length;f++){var E=O[f-1],C=O[f];if(c[E][cA]!==c[C][cA]){I=!1;break}S=c[E][cA]}if(I&&S){for(var p in c)c[p][cA]&&delete c[p][cA];e[cA]=S}if(Object(g.n)(O,function(t){return Object(g.F)(c[t]).length>0}).length)return pA(c,n)+" "+i[0]+" both"}for(var v in s){var y;(y=p(s[v]))&&a.push(y)}if(a.length){var m=n.zrId+"-cls-"+n.cssClassIdx++;n.cssNodes["."+m]={animation:a.join(",")},e.class=m}}var yA=Math.round;function mA(t){return t&&Object(g.C)(t.src)}function bA(t){return t&&Object(g.w)(t.toDataURL)}function xA(t,e,n,r){$x(function(i,o){var a="fill"===i||"stroke"===i;a&&Object(Le.k)(o)?kA(e,t,i,r):a&&Object(Le.n)(o)?TA(n,t,i,r):t[i]=o},e,n,!1),function(t,e,n){var r=t.style;if(Object(Le.i)(r)){var i=Object(Le.h)(t),o=n.shadowCache,a=o[i];if(!a){var s=t.getGlobalScale(),u=s[0],l=s[1];if(!u||!l)return;var c=r.shadowOffsetX||0,h=r.shadowOffsetY||0,d=r.shadowBlur,f=Object(Le.p)(r.shadowColor),p=f.opacity,g=f.color,v=d/2/u,y=d/2/l,m=v+" "+y;a=n.zrId+"-s"+n.shadowIdx++,n.defs[a]=oA("filter",a,{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},[oA("feDropShadow","",{dx:c/u,dy:h/l,stdDeviation:m,"flood-color":g,"flood-opacity":p})]),o[i]=a}e.filter=Object(Le.d)(a)}}(n,t,r)}function AA(t){return Object(Le.j)(t[0]-1)&&Object(Le.j)(t[1])&&Object(Le.j)(t[2])&&Object(Le.j)(t[3]-1)}function wA(t,e,n){if(e&&(!function(t){return Object(Le.j)(t[4])&&Object(Le.j)(t[5])}(e)||!AA(e))){var r=n?10:1e4;t.transform=AA(e)?"translate("+yA(e[4]*r)/r+" "+yA(e[5]*r)/r+")":Object(Le.e)(e)}}function _A(t,e,n){for(var r=t.points,i=[],o=0;o<r.length;o++)i.push(yA(r[o][0]*n)/n),i.push(yA(r[o][1]*n)/n);e.points=i.join(" ")}function MA(t){return!t.smooth}var SA,OA,IA={circle:[(SA=["cx","cy","r"],OA=Object(g.H)(SA,function(t){return"string"==typeof t?[t,t]:t}),function(t,e,n){for(var r=0;r<OA.length;r++){var i=OA[r],o=t[i[0]];null!=o&&(e[i[1]]=yA(o*n)/n)}})],polyline:[_A,MA],polygon:[_A,MA]};function EA(t,e){var n=t.style,r=t.shape,i=IA[t.type],o={},a=e.animation,s="path",u=t.style.strokePercent,l=e.compress&&Object(Le.f)(t)||4;if(!i||e.willUpdate||i[1]&&!i[1](r)||a&&function(t){for(var e=t.animators,n=0;n<e.length;n++)if("shape"===e[n].targetName)return!0;return!1}(t)||u<1){var c=!t.path||t.shapeChanged();t.path||t.createPathProxy();var h=t.path;c&&(h.beginPath(),t.buildPath(h,t.shape),t.pathUpdated());var d=h.getVersion(),f=t,p=f.__svgPathBuilder;f.__svgPathVersion===d&&p&&u===f.__svgPathStrokePercent||(p||(p=f.__svgPathBuilder=new qx),p.reset(l),h.rebuildPath(p,u),p.generateStr(),f.__svgPathVersion=d,f.__svgPathStrokePercent=u),o.d=p.getStr()}else{s=t.type;var g=Math.pow(10,l);i[0](r,o,g)}return wA(o,t.transform),xA(o,n,t,e),e.animation&&vA(t,o,e),oA(s,t.id+"",o)}function CA(t,e){return t instanceof Qo?EA(t,e):t instanceof na?function(t,e){var n=t.style,r=n.image;if(r&&!Object(g.C)(r)&&(mA(r)?r=r.src:bA(r)&&(r=r.toDataURL())),r){var i=n.x||0,o=n.y||0,a={href:r,width:n.width,height:n.height};return i&&(a.x=i),o&&(a.y=o),wA(a,t.transform),xA(a,n,t,e),e.animation&&vA(t,a,e),oA("image",t.id+"",a)}}(t,e):t instanceof Jo?function(t,e){var n=t.style,r=n.text;if(null!=r&&(r+=""),r&&!isNaN(n.x)&&!isNaN(n.y)){var i=n.font||Ln.a,o=n.x||0,a=Object(Le.b)(n.y||0,Gn(i),n.textBaseline),s={"dominant-baseline":"central","text-anchor":Le.a[n.textAlign]||n.textAlign};if(ba(n)){var u="",l=n.fontStyle,c=ya(n.fontSize);if(!parseFloat(c))return;var h=n.fontFamily||Ln.b,d=n.fontWeight;u+="font-size:"+c+";font-family:"+h+";",l&&"normal"!==l&&(u+="font-style:"+l+";"),d&&"normal"!==d&&(u+="font-weight:"+d+";"),s.style=u}else s.style="font: "+i;return r.match(/\s/)&&(s["xml:space"]="preserve"),o&&(s.x=o),a&&(s.y=a),wA(s,t.transform),xA(s,n,t,e),e.animation&&vA(t,s,e),oA("text",t.id+"",s,void 0,r)}}(t,e):void 0}function kA(t,e,n,r){var i,o=t[n],a={gradientUnits:o.global?"userSpaceOnUse":"objectBoundingBox"};if(Object(Le.m)(o))i="linearGradient",a.x1=o.x,a.y1=o.y,a.x2=o.x2,a.y2=o.y2;else{if(!Object(Le.o)(o))return void 0;i="radialGradient",a.cx=Object(g.P)(o.x,.5),a.cy=Object(g.P)(o.y,.5),a.r=Object(g.P)(o.r,.5)}for(var s=o.colorStops,u=[],l=0,c=s.length;l<c;++l){var h=100*Object(Le.q)(s[l].offset)+"%",d=s[l].color,f=Object(Le.p)(d),p=f.color,v=f.opacity,y={offset:h};y["stop-color"]=p,v<1&&(y["stop-opacity"]=v),u.push(oA("stop",l+"",y))}var m=aA(oA(i,"",a,u)),b=r.gradientCache,x=b[m];x||(x=r.zrId+"-g"+r.gradientIdx++,b[m]=x,a.id=x,r.defs[x]=oA(i,x,a,u)),e[n]=Object(Le.d)(x)}function TA(t,e,n,r){var i,o=t.style[n],a=t.getBoundingRect(),s={},u=o.repeat,l="no-repeat"===u,c="repeat-x"===u,h="repeat-y"===u;if(Object(Le.l)(o)){var d=o.imageWidth,f=o.imageHeight,p=void 0,v=o.image;if(Object(g.C)(v)?p=v:mA(v)?p=v.src:bA(v)&&(p=v.toDataURL()),"undefined"==typeof Image){var y="Image width/height must been given explictly in svg-ssr renderer.";Object(g.b)(d,y),Object(g.b)(f,y)}else if(null==d||null==f){var m=function(t,e){if(t){var n=t.elm,r=d||e.width,i=f||e.height;"pattern"===t.tag&&(c?(i=1,r/=a.width):h&&(r=1,i/=a.height)),t.attrs.width=r,t.attrs.height=i,n&&(n.setAttribute("width",r),n.setAttribute("height",i))}},b=Mi(p,null,t,function(t){l||m(_,t),m(i,t)});b&&b.width&&b.height&&(d=d||b.width,f=f||b.height)}i=oA("image","img",{href:p,width:d,height:f}),s.width=d,s.height=f}else o.svgElement&&(i=Object(g.d)(o.svgElement),s.width=o.svgWidth,s.height=o.svgHeight);if(i){var x,A;l?x=A=1:c?(A=1,x=s.width/a.width):h?(x=1,A=s.height/a.height):s.patternUnits="userSpaceOnUse",null==x||isNaN(x)||(s.width=x),null==A||isNaN(A)||(s.height=A);var w=Object(Le.g)(o);w&&(s.patternTransform=w);var _=oA("pattern","",s,[i]),M=aA(_),S=r.patternCache,O=S[M];O||(O=r.zrId+"-p"+r.patternIdx++,S[M]=O,s.id=O,_=r.defs[O]=oA("pattern",O,s,[i])),e[n]=Object(Le.d)(O)}}function DA(t,e,n){var r=n.clipPathCache,i=n.defs,o=r[t.id];if(!o){var a={id:o=n.zrId+"-c"+n.clipPathIdx++};r[t.id]=o,i[o]=oA("clipPath",o,a,[EA(t,n)])}e["clip-path"]=Object(Le.d)(o)}function jA(t){return document.createTextNode(t)}function LA(t,e,n){t.insertBefore(e,n)}function PA(t,e){t.removeChild(e)}function NA(t,e){t.appendChild(e)}function RA(t){return t.parentNode}function BA(t){return t.nextSibling}function zA(t,e){t.textContent=e}var FA=58,GA=120,VA=oA("","");function UA(t){return void 0===t}function WA(t){return void 0!==t}function HA(t,e,n){for(var r={},i=e;i<=n;++i){var o=t[i].key;void 0!==o&&(r[o]=i)}return r}function YA(t,e){var n=t.key===e.key;return t.tag===e.tag&&n}function XA(t){var e,n=t.children,r=t.tag;if(WA(r)){var i=t.elm=iA(r);if(ZA(VA,t),Object(g.t)(n))for(e=0;e<n.length;++e){var o=n[e];null!=o&&NA(i,XA(o))}else WA(t.text)&&!Object(g.A)(t.text)&&NA(i,jA(t.text))}else t.elm=jA(t.text);return t.elm}function qA(t,e,n,r,i){for(;r<=i;++r){var o=n[r];null!=o&&LA(t,XA(o),e)}}function QA(t,e,n,r){for(;n<=r;++n){var i=e[n];if(null!=i)if(WA(i.tag))PA(RA(i.elm),i.elm);else PA(t,i.elm)}}function ZA(t,e){var n,r=e.elm,i=t&&t.attrs||{},o=e.attrs||{};if(i!==o){for(n in o){var a=o[n];i[n]!==a&&(!0===a?r.setAttribute(n,""):!1===a?r.removeAttribute(n):n.charCodeAt(0)!==GA?r.setAttribute(n,a):"xmlns:xlink"===n||"xmlns"===n?r.setAttributeNS(nA,n,a):n.charCodeAt(3)===FA?r.setAttributeNS(rA,n,a):n.charCodeAt(5)===FA?r.setAttributeNS(eA,n,a):r.setAttribute(n,a))}for(n in i)n in o||r.removeAttribute(n)}}function KA(t,e){var n=e.elm=t.elm,r=t.children,i=e.children;t!==e&&(ZA(t,e),UA(e.text)?WA(r)&&WA(i)?r!==i&&function(t,e,n){for(var r,i,o,a=0,s=0,u=e.length-1,l=e[0],c=e[u],h=n.length-1,d=n[0],f=n[h];a<=u&&s<=h;)null==l?l=e[++a]:null==c?c=e[--u]:null==d?d=n[++s]:null==f?f=n[--h]:YA(l,d)?(KA(l,d),l=e[++a],d=n[++s]):YA(c,f)?(KA(c,f),c=e[--u],f=n[--h]):YA(l,f)?(KA(l,f),LA(t,l.elm,BA(c.elm)),l=e[++a],f=n[--h]):YA(c,d)?(KA(c,d),LA(t,c.elm,l.elm),c=e[--u],d=n[++s]):(UA(r)&&(r=HA(e,a,u)),UA(i=r[d.key])?LA(t,XA(d),l.elm):(o=e[i]).tag!==d.tag?LA(t,XA(d),l.elm):(KA(o,d),e[i]=void 0,LA(t,o.elm,l.elm)),d=n[++s]);(a<=u||s<=h)&&(a>u?qA(t,null==n[h+1]?null:n[h+1].elm,n,s,h):QA(t,e,a,u))}(n,r,i):WA(i)?(WA(t.text)&&zA(n,""),qA(n,null,i,0,i.length-1)):WA(r)?QA(n,r,0,r.length-1):WA(t.text)&&zA(n,""):t.text!==e.text&&(WA(r)&&QA(n,r,0,r.length-1),zA(n,e.text)))}var JA=0;function $A(t){return function(){0}}var tw=function(){function t(t,e,n){if(this.type="svg",this.refreshHover=$A("refreshHover"),this.configLayer=$A("configLayer"),this.storage=e,this._opts=n=Object(g.m)({},n),this.root=t,this._id="zr"+JA++,this._oldVNode=uA(n.width,n.height),t&&!n.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var i=this._svgDom=this._oldVNode.elm=iA("svg");ZA(null,this._oldVNode),r.appendChild(i),t.appendChild(r)}this.resize(n.width,n.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",function(t,e){if(YA(t,e))KA(t,e);else{var n=t.elm,r=RA(n);XA(e),null!==r&&(LA(r,e.elm,BA(n)),QA(r,[t],0,0))}}(this._oldVNode,t),this._oldVNode=t}},t.prototype.renderOneToVNode=function(t){return CA(t,sA(this._id))},t.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),n=this._width,r=this._height,i=sA(this._id);i.animation=t.animation,i.willUpdate=t.willUpdate,i.compress=t.compress;var o=[],a=this._bgVNode=function(t,e,n,r){var i;if(n&&"none"!==n)if(i=oA("rect","bg",{width:t,height:e,x:"0",y:"0",id:"0"}),Object(Le.k)(n))kA({fill:n},i.attrs,"fill",r);else if(Object(Le.n)(n))TA({style:{fill:n},dirty:g.L,getBoundingRect:function(){return{width:t,height:e}}},i.attrs,"fill",r);else{var o=Object(Le.p)(n),a=o.color,s=o.opacity;i.attrs.fill=a,s<1&&(i.attrs["fill-opacity"]=s)}return i}(n,r,this._backgroundColor,i);a&&o.push(a);var s=t.compress?null:this._mainVNode=oA("g","main",{},[]);this._paintList(e,i,s?s.children:o),s&&o.push(s);var u=Object(g.H)(Object(g.F)(i.defs),function(t){return i.defs[t]});if(u.length&&o.push(oA("defs","defs",{},u)),t.animation){var l=function(t,e,n){var r=(n=n||{}).newline?"\n":"",i=" {"+r,o=r+"}",a=Object(g.H)(Object(g.F)(t),function(e){return e+i+Object(g.H)(Object(g.F)(t[e]),function(n){return n+":"+t[e][n]+";"}).join(r)+o}).join(r),s=Object(g.H)(Object(g.F)(e),function(t){return"@keyframes "+t+i+Object(g.H)(Object(g.F)(e[t]),function(n){return n+i+Object(g.H)(Object(g.F)(e[t][n]),function(r){var i=e[t][n][r];return"d"===r&&(i='path("'+i+'")'),r+":"+i+";"}).join(r)+o}).join(r)+o}).join(r);return a||s?["<![CDATA[",a,s,"]]>"].join(r):""}(i.cssNodes,i.cssAnims,{newline:!0});if(l){var c=oA("style","stl",{},[],l);o.push(c)}}return uA(n,r,o,t.useViewBox)},t.prototype.renderToString=function(t){return t=t||{},aA(this.renderToVNode({animation:Object(g.P)(t.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:Object(g.P)(t.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(t,e,n){for(var r,i,o=t.length,a=[],s=0,u=0,l=0;l<o;l++){var c=t[l];if(!c.invisible){var h=c.__clipPaths,d=h&&h.length||0,f=i&&i.length||0,p=void 0;for(p=Math.max(d-1,f-1);p>=0&&(!h||!i||h[p]!==i[p]);p--);for(var g=f-1;g>p;g--)r=a[--s-1];for(var v=p+1;v<d;v++){var y={};DA(h[v],y,e);var m=oA("g","clip-g-"+u++,y,[]);(r?r.children:n).push(m),a[s++]=m,r=m}i=h;var b=CA(c,e);b&&(r?r.children:n).push(b)}}},t.prototype.resize=function(t,e){var n=this._opts,r=this.root,i=this._viewport;if(null!=t&&(n.width=t),null!=e&&(n.height=e),r&&i&&(i.style.display="none",t=Lg(r,0,n),e=Lg(r,1,n),i.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,i){var o=i.style;o.width=t+"px",o.height=e+"px"}if(Object(Le.n)(this._backgroundColor))this.refresh();else{var a=this._svgDom;a&&(a.setAttribute("width",t),a.setAttribute("height",e));var s=this._bgVNode&&this._bgVNode.elm;s&&(s.setAttribute("width",t),s.setAttribute("height",e))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(t){var e=this.renderToString(),n="data:image/svg+xml;";return t?(e=Object(Le.c)(e))&&n+"base64,"+e:n+"charset=UTF-8,"+encodeURIComponent(e)},t}();function ew(t,e,n){var r=Ln.d.createCanvas(),i=e.getWidth(),o=e.getHeight(),a=r.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=i+"px",a.height=o+"px",r.setAttribute("data-zr-dom-id",t)),r.width=i*n,r.height=o*n,r}var nw=function(t){function e(e,n,r){var i,o=t.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,r=r||An,"string"==typeof e?i=ew(e,n,r):g.A(e)&&(e=(i=e).id),o.id=e,o.dom=i;var a=i.style;return a&&(g.j(i),i.onselectstart=function(){return!1},a.padding="0",a.margin="0",a.borderWidth="0"),o.painter=n,o.dpr=r,o}return Object(f.__extends)(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=ew("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,n,r){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var i,o=[],a=this.maxRepaintRectCount,s=!1,u=new Tt(0,0,0,0);function l(t){if(t.isFinite()&&!t.isZero())if(0===o.length){(e=new Tt(0,0,0,0)).copy(t),o.push(e)}else{for(var e,n=!1,r=1/0,i=0,l=0;l<o.length;++l){var c=o[l];if(c.intersect(t)){var h=new Tt(0,0,0,0);h.copy(c),h.union(t),o[l]=h,n=!0;break}if(s){u.copy(t),u.union(c);var d=t.width*t.height,f=c.width*c.height,p=u.width*u.height-d-f;p<r&&(r=p,i=l)}}if(s&&(o[i].union(t),n=!0),!n)(e=new Tt(0,0,0,0)).copy(t),o.push(e);s||(s=o.length>=a)}}for(var c=this.__startIndex;c<this.__endIndex;++c){if(f=t[c]){var h=f.shouldBePainted(n,r,!0,!0);(p=f.__isRendered&&(f.__dirty&Kt||!h)?f.getPrevPaintRect():null)&&l(p);var d=h&&(f.__dirty&Kt||!f.__isRendered)?f.getPaintRect():null;d&&l(d)}}for(c=this.__prevStartIndex;c<this.__prevEndIndex;++c){var f,p;h=(f=e[c]).shouldBePainted(n,r,!0,!0);if(f&&(!h||!f.__zr)&&f.__isRendered)(p=f.getPrevPaintRect())&&l(p)}do{i=!1;for(c=0;c<o.length;)if(o[c].isZero())o.splice(c,1);else{for(var g=c+1;g<o.length;)o[c].intersect(o[g])?(i=!0,o[c].union(o[g]),o.splice(g,1)):g++;c++}}while(i);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var n=this.dpr,r=this.dom,i=r.style,o=this.domBack;i&&(i.width=t+"px",i.height=e+"px"),r.width=t*n,r.height=e*n,o&&(o.width=t*n,o.height=e*n,1!==n&&this.ctxBack.scale(n,n))},e.prototype.clear=function(t,e,n){var r=this.dom,i=this.ctx,o=r.width,a=r.height;e=e||this.clearColor;var s=this.motionBlur&&!t,u=this.lastFrameAlpha,l=this.dpr,c=this;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,o/l,a/l));var h=this.domBack;function d(t,n,r,o){if(i.clearRect(t,n,r,o),e&&"transparent"!==e){var a=void 0;if(g.x(e))a=(e.global||e.__width===r&&e.__height===o)&&e.__canvasGradient||Dg(i,e,{x:0,y:0,width:r,height:o}),e.__canvasGradient=a,e.__width=r,e.__height=o;else g.y(e)&&(e.scaleX=e.scaleX||l,e.scaleY=e.scaleY||l,a=Vg(i,e,{dirty:function(){c.setUnpainted(),c.__painter.refresh()}}));i.save(),i.fillStyle=a||e,i.fillRect(t,n,r,o),i.restore()}s&&(i.save(),i.globalAlpha=u,i.drawImage(h,t,n,r,o),i.restore())}!n||s?d(0,0,o,a):n.length&&g.k(n,function(t){d(t.x*l,t.y*l,t.width*l,t.height*l)})},e}(U),rw=314159;var iw=function(){function t(t,e,n,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=g.m({},n||{}),this.dpr=n.devicePixelRatio||An,this._singleCanvas=i,this.root=t,t.style&&(g.j(t),t.innerHTML=""),this.storage=e;var o=this._zlevelList;this._prevDisplayList=[];var a=this._layers;if(i){var s=t,u=s.width,l=s.height;null!=n.width&&(u=n.width),null!=n.height&&(l=n.height),this.dpr=n.devicePixelRatio||1,s.width=u*this.dpr,s.height=l*this.dpr,this._width=u,this._height=l;var c=new nw(s,this,this.dpr);c.__builtin__=!0,c.initContext(),a[rw]=c,c.zlevel=rw,o.push(rw),this._domRoot=t}else{this._width=Lg(t,0,n),this._height=Lg(t,1,n);var h=this._domRoot=function(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);t.appendChild(h)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var i=0;i<r.length;i++){var o=r[i],a=this._layers[o];if(!a.__builtin__&&a.refresh){var s=0===i?this._backgroundColor:null;a.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){for(var r,i={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<e;o++){var a=t[o];a.__inHover&&(n||(n=this._hoverlayer=this.getLayer(1e5)),r||(r=n.ctx).save(),ev(r,a,i,o===e-1))}r&&r.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(1e5)},t.prototype.paintOne=function(t,e){tv(t,e)},t.prototype._paintList=function(t,e,n,r){if(this._redrawId===r){n=n||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,e,n),o=i.finished,a=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(t),o)this.eachLayer(function(t){t.afterBrush&&t.afterBrush()});else{var s=this;re(function(){s._paintList(t,e,n,r)})}}},t.prototype._compositeManually=function(){var t=this.getLayer(rw).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,n)})},t.prototype._doPaintList=function(t,e,n){for(var r=this,i=[],o=this._opts.useDirtyRect,a=0;a<this._zlevelList.length;a++){var s=this._zlevelList[a],u=this._layers[s];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&i.push(u)}for(var l=!0,c=!1,h=function(a){var s,u=i[a],h=u.ctx,f=o&&u.createRepaintRects(t,e,d._width,d._height),p=n?u.__startIndex:u.__drawIndex,g=!n&&u.incremental&&Date.now,v=g&&Date.now(),y=u.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(u.__startIndex===u.__endIndex)u.clear(!1,y,f);else if(p===u.__startIndex){var m=t[p];m.incremental&&m.notClear&&!n||u.clear(!1,y,f)}-1===p&&(console.error("For some unknown reason. drawIndex is -1"),p=u.__startIndex);var b=function(e){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(s=p;s<u.__endIndex;s++){var i=t[s];if(i.__inHover&&(c=!0),r._doPaintEl(i,u,o,e,n,s===u.__endIndex-1),g)if(Date.now()-v>15)break}n.prevElClipPaths&&h.restore()};if(f)if(0===f.length)s=u.__endIndex;else for(var x=d.dpr,A=0;A<f.length;++A){var w=f[A];h.save(),h.beginPath(),h.rect(w.x*x,w.y*x,w.width*x,w.height*x),h.clip(),b(w),h.restore()}else h.save(),b(),h.restore();u.__drawIndex=s,u.__drawIndex<u.__endIndex&&(l=!1)},d=this,f=0;f<i.length;f++)h(f);return p.a.wxa&&g.k(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),{finished:l,needsRefreshHover:c}},t.prototype._doPaintEl=function(t,e,n,r,i,o){var a=e.ctx;if(n){var s=t.getPaintRect();(!r||s&&s.intersect(r))&&(ev(a,t,i,o),t.setPrevPaintRect(s))}else ev(a,t,i,o)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=rw);var n=this._layers[t];return n||((n=new nw("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]?g.I(n,this._layerConfig[t],!0):this._layerConfig[t-.01]&&g.I(n,this._layerConfig[t-.01],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},t.prototype.insertLayer=function(t,e){var n=this._layers,r=this._zlevelList,i=r.length,o=this._domRoot,a=null,s=-1;if(!n[t]&&function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(i>0&&t>r[0]){for(s=0;s<i-1&&!(r[s]<t&&r[s+1]>t);s++);a=n[r[s]]}if(r.splice(s+1,0,t),n[t]=e,!e.virtual)if(a){var u=a.dom;u.nextSibling?o.insertBefore(e.dom,u.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.__painter=this}},t.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r];t.call(e,this._layers[i],i)}},t.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r],o=this._layers[i];o.__builtin__&&t.call(e,o,i)}},t.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var i=n[r],o=this._layers[i];o.__builtin__||t.call(e,o,i)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){o&&(o.__endIndex!==t&&(o.__dirty=!0),o.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var n=1;n<t.length;n++){if((s=t[n]).zlevel!==t[n-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var r,i,o=null,a=0;for(i=0;i<t.length;i++){var s,u=(s=t[i]).zlevel,l=void 0;r!==u&&(r=u,a=0),s.incremental?((l=this.getLayer(u+.001,this._needsManuallyCompositing)).incremental=!0,a=1):l=this.getLayer(u+(a>0?.01:0),this._needsManuallyCompositing),l.__builtin__||g.G("ZLevel "+u+" has been used by unkown layer "+l.id),l!==o&&(l.__used=!0,l.__startIndex!==i&&(l.__dirty=!0),l.__startIndex=i,l.incremental?l.__drawIndex=-1:l.__drawIndex=i,e(i),o=l),s.__dirty&Kt&&!s.__inHover&&(l.__dirty=!0,l.incremental&&l.__drawIndex<0&&(l.__drawIndex=i))}e(i),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,g.k(this._layers,function(t){t.setUnpainted()})},t.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?g.I(n[t],e,!0):n[t]=e;for(var r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r];if(i===t||i===t+.01){var o=this._layers[i];g.I(o,n[t],!0)}}}},t.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(g.r(n,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts,i=this.root;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=Lg(i,0,r),e=Lg(i,1,r),n.style.display="",this._width!==t||e!==this._height){for(var o in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(rw).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[rw].dom;var e=new nw("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,i=e.dom.height;this.eachLayer(function(t){t.__builtin__?n.drawImage(t.dom,0,0,r,i):t.renderToCanvas&&(n.save(),t.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),s=0,u=a.length;s<u;s++){var l=a[s];ev(n,l,o,s===u-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();var ow=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(f.__extends)(e,t),e.prototype.getInitialData=function(t){return fm(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var e=new tr,n=Eg("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(n),n.setStyle(t.lineStyle);var r=this.getData().getVisual("symbol"),i=this.getData().getVisual("symbolRotate"),o="none"===r?"circle":r,a=.8*t.itemHeight,s=Eg(o,(t.itemWidth-a)/2,(t.itemHeight-a)/2,a,a,t.itemStyle.fill);e.add(s),s.setStyle(t.itemStyle);var u="inherit"===t.iconRotate?i:t.iconRotate||0;return s.rotation=u*Math.PI/180,s.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),e},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(cp);function aw(t,e){var n=t.mapDimensionsAll("defaultedLabel"),r=n.length;if(1===r){var i=tf(t,e,n[0]);return null!=i?i+"":null}if(r){for(var o=[],a=0;a<n.length;a++)o.push(tf(t,e,n[a]));return o.join(" ")}}function sw(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!Object(g.t)(e))return e+"";for(var r=[],i=0;i<n.length;i++){var o=t.getDimensionIndex(n[i]);o>=0&&r.push(e[o])}return r.join(" ")}function uw(t,e){this.parent.drift(t,e)}var lw=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.updateData(e,n,r,i),o}return Object(f.__extends)(e,t),e.prototype._createSymbol=function(t,e,n,r,i){this.removeAll();var o=Eg(t,-1,-1,2,2,null,i);o.attr({z2:100,culling:!0,scaleX:r[0]/2,scaleY:r[1]/2}),o.drift=uw,this._symbolType=t,this.add(o)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){us(this.childAt(0))},e.prototype.downplay=function(){ls(this.childAt(0))},e.prototype.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},e.prototype.setDraggable=function(t,e){var n=this.childAt(0);n.draggable=t,n.cursor=!e&&t?"move":n.cursor},e.prototype.updateData=function(t,n,r,i){this.silent=!1;var o=t.getItemVisual(n,"symbol")||"circle",a=t.hostModel,s=e.getSymbolSize(t,n),u=o!==this._symbolType,l=i&&i.disableAnimation;if(u){var c=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,t,n,s,c)}else{(d=this.childAt(0)).silent=!1;var h={scaleX:s[0]/2,scaleY:s[1]/2};l?d.attr(h):tl(d,h,a,n),al(d)}if(this._updateCommon(t,n,s,r,i),u){var d=this.childAt(0);if(!l){h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,el(d,h,a,n)}}l&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,e,n,r,i){var o,a,s,u,l,c,h,d,f,p=this.childAt(0),v=t.hostModel;if(r&&(o=r.emphasisItemStyle,a=r.blurItemStyle,s=r.selectItemStyle,u=r.focus,l=r.blurScope,h=r.labelStatesModels,d=r.hoverScale,f=r.cursorStyle,c=r.emphasisDisabled),!r||t.hasItemOption){var y=r&&r.itemModel?r.itemModel:t.getItemModel(e),m=y.getModel("emphasis");o=m.getModel("itemStyle").getItemStyle(),s=y.getModel(["select","itemStyle"]).getItemStyle(),a=y.getModel(["blur","itemStyle"]).getItemStyle(),u=m.get("focus"),l=m.get("blurScope"),c=m.get("disabled"),h=Gl(y),d=m.getShallow("scale"),f=y.getShallow("cursor")}var b=t.getItemVisual(e,"symbolRotate");p.attr("rotation",(b||0)*Math.PI/180||0);var x=kg(t.getItemVisual(e,"symbolOffset"),n);x&&(p.x=x[0],p.y=x[1]),f&&p.attr("cursor",f);var A=t.getItemVisual(e,"style"),w=A.fill;if(p instanceof na){var _=p.style;p.useStyle(Object(g.m)({image:_.image,x:_.x,y:_.y,width:_.width,height:_.height},A))}else p.__isEmptyBrush?p.useStyle(Object(g.m)({},A)):p.useStyle(A),p.style.decal=null,p.setColor(w,i&&i.symbolInnerColor),p.style.strokeNoScale=!0;var M=t.getItemVisual(e,"liftZ"),S=this._z2;null!=M?null==S&&(this._z2=p.z2,p.z2+=M):null!=S&&(p.z2=S,this._z2=null);var O=i&&i.useNameLabel;Fl(p,h,{labelFetcher:v,labelDataIndex:e,defaultText:function(e){return O?t.getName(e):aw(t,e)},inheritColor:w,defaultOpacity:A.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var I=p.ensureState("emphasis");I.style=o,p.ensureState("select").style=s,p.ensureState("blur").style=a;var E=null==d||!0===d?Math.max(1.1,3/this._sizeY):isFinite(d)&&d>0?+d:1;I.scaleX=this._sizeX*E,I.scaleY=this._sizeY*E,this.setSymbolScale(1),As(this,u,l,c)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e,n){var r=this.childAt(0),i=Ia(this).dataIndex,o=n&&n.animation;if(this.silent=r.silent=!0,n&&n.fadeLabel){var a=r.getTextContent();a&&rl(a,{style:{opacity:0}},e,{dataIndex:i,removeOpt:o,cb:function(){r.removeTextContent()}})}else r.removeTextContent();rl(r,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:i,cb:t,removeOpt:o})},e.getSymbolSize=function(t,e){return Cg(t.getItemVisual(e,"symbolSize"))},e}(tr);function cw(t,e,n,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function hw(t){return null==t||Object(g.A)(t)||(t={isIgnore:t}),t||{}}function dw(t){var e=t.hostModel,n=e.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:Gl(e),cursorStyle:e.get("cursor")}}var fw=function(){function t(t){this.group=new tr,this._SymbolCtor=t||lw}return t.prototype.updateData=function(t,e){this._progressiveEls=null,e=hw(e);var n=this.group,r=t.hostModel,i=this._data,o=this._SymbolCtor,a=e.disableAnimation,s=dw(t),u={disableAnimation:a},l=e.getSymbolPoint||function(e){return t.getItemLayout(e)};i||n.removeAll(),t.diff(i).add(function(r){var i=l(r);if(cw(t,i,r,e)){var a=new o(t,r,s,u);a.setPosition(i),t.setItemGraphicEl(r,a),n.add(a)}}).update(function(c,h){var d=i.getItemGraphicEl(h),f=l(c);if(cw(t,f,c,e)){var p=t.getItemVisual(c,"symbol")||"circle",g=d&&d.getSymbolType&&d.getSymbolType();if(!d||g&&g!==p)n.remove(d),(d=new o(t,c,s,u)).setPosition(f);else{d.updateData(t,c,s,u);var v={x:f[0],y:f[1]};a?d.attr(v):tl(d,v,r)}n.add(d),t.setItemGraphicEl(c,d)}else n.remove(d)}).remove(function(t){var e=i.getItemGraphicEl(t);e&&e.fadeOut(function(){n.remove(e)},r)}).execute(),this._getSymbolPoint=l,this._data=t},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(e,n){var r=t._getSymbolPoint(n);e.setPosition(r),e.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=dw(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,n){function r(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],n=hw(n);for(var i=t.start;i<t.end;i++){var o=e.getItemLayout(i);if(cw(e,o,i,n)){var a=new this._SymbolCtor(e,i,this._seriesScope);a.traverse(r),a.setPosition(o),this.group.add(a),e.setItemGraphicEl(i,a),this._progressiveEls.push(a)}}},t.prototype.eachRendered=function(t){Nl(this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)},n.hostModel)}):e.removeAll()},t}();function pw(t,e,n){var r=t.getBaseAxis(),i=t.getOtherAxis(r),o=function(t,e){var n=0,r=t.scale.getExtent();"start"===e?n=r[0]:"end"===e?n=r[1]:Object(g.z)(e)&&!isNaN(e)?n=e:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]);return n}(i,n),a=r.dim,s=i.dim,u=e.mapDimension(s),l=e.mapDimension(a),c="x"===s||"radius"===s?1:0,h=Object(g.H)(t.dimensions,function(t){return e.mapDimension(t)}),d=!1,f=e.getCalculationInfo("stackResultDimension");return hm(e,h[0])&&(d=!0,h[0]=f),hm(e,h[1])&&(d=!0,h[1]=f),{dataDimsForPoint:h,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!d,valueDim:u,baseDim:l,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function gw(t,e,n,r){var i=NaN;t.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=t.valueStart);var o=t.baseDataOffset,a=[];return a[o]=n.get(t.baseDim,r),a[1-o]=i,e.dataToPoint(a)}var vw=Math.min,yw=Math.max;function mw(t,e){return isNaN(t)||isNaN(e)}function bw(t,e,n,r,i,o,a,s,u){for(var l,c,h,d,f,p,g=n,v=0;v<r;v++){var y=e[2*g],m=e[2*g+1];if(g>=i||g<0)break;if(mw(y,m)){if(u){g+=o;continue}break}if(g===n)t[o>0?"moveTo":"lineTo"](y,m),h=y,d=m;else{var b=y-l,x=m-c;if(b*b+x*x<.5){g+=o;continue}if(a>0){for(var A=g+o,w=e[2*A],_=e[2*A+1];w===y&&_===m&&v<r;)v++,g+=o,w=e[2*(A+=o)],_=e[2*A+1],b=(y=e[2*g])-l,x=(m=e[2*g+1])-c;var M=v+1;if(u)for(;mw(w,_)&&M<r;)M++,w=e[2*(A+=o)],_=e[2*A+1];var S=.5,O=0,I=0,E=void 0,C=void 0;if(M>=r||mw(w,_))f=y,p=m;else{O=w-l,I=_-c;var k=y-l,T=w-y,D=m-c,j=_-m,L=void 0,P=void 0;if("x"===s){L=Math.abs(k),P=Math.abs(T);var N=O>0?1:-1;f=y-N*L*a,p=m,E=y+N*P*a,C=m}else if("y"===s){L=Math.abs(D),P=Math.abs(j);var R=I>0?1:-1;f=y,p=m-R*L*a,E=y,C=m+R*P*a}else L=Math.sqrt(k*k+D*D),f=y-O*a*(1-(S=(P=Math.sqrt(T*T+j*j))/(P+L))),p=m-I*a*(1-S),C=m+I*a*S,E=vw(E=y+O*a*S,yw(w,y)),C=vw(C,yw(_,m)),E=yw(E,vw(w,y)),p=m-(I=(C=yw(C,vw(_,m)))-m)*L/P,f=vw(f=y-(O=E-y)*L/P,yw(l,y)),p=vw(p,yw(c,m)),f=yw(f,vw(l,y)),p=yw(p,vw(c,m)),E=y+(O=y-f)*P/L,C=m+(I=m-p)*P/L}t.bezierCurveTo(h,d,f,p,y,m),h=E,d=C}else t.lineTo(y,m)}l=y,c=m,g+=o}return v}var xw=function(){return function(){this.smooth=0,this.smoothConstraint=!0}}(),Aw=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polyline",n}return Object(f.__extends)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new xw},e.prototype.buildPath=function(t,e){var n=e.points,r=0,i=n.length/2;if(e.connectNulls){for(;i>0&&mw(n[2*i-2],n[2*i-1]);i--);for(;r<i&&mw(n[2*r],n[2*r+1]);r++);}for(;r<i;)r+=bw(t,n,r,i,i,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,r,i=this.path.data,o=Eo.CMD,a="x"===e,s=[],u=0;u<i.length;){var l=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,g=void 0;switch(i[u++]){case o.M:n=i[u++],r=i[u++];break;case o.L:if(l=i[u++],c=i[u++],(g=a?(t-n)/(l-n):(t-r)/(c-r))<=1&&g>=0){var v=a?(c-r)*g+r:(l-n)*g+n;return a?[t,v]:[v,t]}n=l,r=c;break;case o.C:l=i[u++],c=i[u++],h=i[u++],d=i[u++],f=i[u++],p=i[u++];var y=a?be(n,l,h,f,t,s):be(r,c,d,p,t,s);if(y>0)for(var m=0;m<y;m++){var b=s[m];if(b<=1&&b>=0){v=a?ye(r,c,d,p,b):ye(n,l,h,f,b);return a?[t,v]:[v,t]}}n=f,r=p}}},e}(Qo),ww=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e}(xw),_w=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polygon",n}return Object(f.__extends)(e,t),e.prototype.getDefaultShape=function(){return new ww},e.prototype.buildPath=function(t,e){var n=e.points,r=e.stackedOnPoints,i=0,o=n.length/2,a=e.smoothMonotone;if(e.connectNulls){for(;o>0&&mw(n[2*o-2],n[2*o-1]);o--);for(;i<o&&mw(n[2*i],n[2*i+1]);i++);}for(;i<o;){var s=bw(t,n,i,o,o,1,e.smooth,a,e.connectNulls);bw(t,r,i+s-1,s,o,-1,e.stackedOnSmooth,a,e.connectNulls),i+=s+1,t.closePath()}},e}(Qo);function Mw(t,e,n,r,i){var o=t.getArea(),a=o.x,s=o.y,u=o.width,l=o.height,c=n.get(["lineStyle","width"])||2;a-=c/2,s-=c/2,u+=c,l+=c,a=Math.floor(a),u=Math.round(u);var h=new ca({shape:{x:a,y:s,width:u,height:l}});if(e){var d=t.getBaseAxis(),f=d.isHorizontal(),p=d.inverse;f?(p&&(h.shape.x+=u),h.shape.width=0):(p||(h.shape.y+=l),h.shape.height=0);var v=Object(g.w)(i)?function(t){i(t,h)}:null;el(h,{shape:{width:u,height:l,x:a,y:s}},n,null,r,v)}return h}function Sw(t,e,n){var r=t.getArea(),i=pr(r.r0,1),o=pr(r.r,1),a=new yu({shape:{cx:pr(t.cx,1),cy:pr(t.cy,1),r0:i,r:o,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});e&&("angle"===t.getBaseAxis().dim?a.shape.endAngle=r.startAngle:a.shape.r=i,el(a,{shape:{endAngle:r.endAngle,r:o}},n));return a}function Ow(t,e,n,r,i){return t?"polar"===t.type?Sw(t,e,n):"cartesian2d"===t.type?Mw(t,e,n,r,i):null:null}function Iw(t,e){return t.type===e}function Ew(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return;return!0}}function Cw(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0;o<t.length;){var a=t[o++],s=t[o++];isNaN(a)||(e=Math.min(a,e),r=Math.max(a,r)),isNaN(s)||(n=Math.min(s,n),i=Math.max(s,i))}return[[e,n],[r,i]]}function kw(t,e){var n=Cw(t),r=n[0],i=n[1],o=Cw(e),a=o[0],s=o[1];return Math.max(Math.abs(r[0]-a[0]),Math.abs(r[1]-a[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function Tw(t){return g.z(t)?t:t?.5:0}function Dw(t,e,n,r){var i=e.getBaseAxis(),o="x"===i.dim||"radius"===i.dim?0:1,a=[],s=0,u=[],l=[],c=[],h=[];if(r){for(s=0;s<t.length;s+=2)isNaN(t[s])||isNaN(t[s+1])||h.push(t[s],t[s+1]);t=h}for(s=0;s<t.length-2;s+=2)switch(c[0]=t[s+2],c[1]=t[s+3],l[0]=t[s],l[1]=t[s+1],a.push(l[0],l[1]),n){case"end":u[o]=c[o],u[1-o]=l[1-o],a.push(u[0],u[1]);break;case"middle":var d=(l[o]+c[o])/2,f=[];u[o]=f[o]=d,u[1-o]=l[1-o],f[1-o]=c[1-o],a.push(u[0],u[1]),a.push(f[0],f[1]);break;default:u[o]=l[o],u[1-o]=c[1-o],a.push(u[0],u[1])}return a.push(t[s++],t[s++]),a}function jw(t,e,n){var r=t.getVisual("visualMeta");if(r&&r.length&&t.count()&&"cartesian2d"===e.type){for(var i,o,a=r.length-1;a>=0;a--){var s=t.getDimensionInfo(r[a].dimension);if("x"===(i=s&&s.coordDim)||"y"===i){o=r[a];break}}if(o){var u=e.getAxis(i),l=g.H(o.stops,function(t){return{coord:u.toGlobalCoord(u.dataToCoord(t.value)),color:t.color}}),c=l.length,h=o.outerColors.slice();c&&l[0].coord>l[c-1].coord&&(l.reverse(),h.reverse());var d=function(t,e){var n,r,i=[],o=t.length;function a(t,e,n){var r=t.coord,i=(n-r)/(e.coord-r);return{coord:n,color:Object(je.b)(i,[t.color,e.color])}}for(var s=0;s<o;s++){var u=t[s],l=u.coord;if(l<0)n=u;else{if(l>e){r?i.push(a(r,u,e)):n&&i.push(a(n,u,0),a(n,u,e));break}n&&(i.push(a(n,u,0)),n=null),i.push(u),r=u}}return i}(l,"x"===i?n.getWidth():n.getHeight()),f=d.length;if(!f&&c)return l[0].coord<0?h[1]?h[1]:l[c-1].color:h[0]?h[0]:l[0].color;var p=d[0].coord-10,v=d[f-1].coord+10,y=v-p;if(y<.001)return"transparent";g.k(d,function(t){t.offset=(t.coord-p)/y}),d.push({offset:f?d[f-1].offset:.5,color:h[1]||"transparent"}),d.unshift({offset:f?d[0].offset:.5,color:h[0]||"transparent"});var m=new Vu(0,0,0,0,d,!0);return m[i]=p,m[i+"2"]=v,m}}}function Lw(t,e,n){var r=t.get("showAllSymbol"),i="auto"===r;if(!r||i){var o=n.getAxesByScale("ordinal")[0];if(o&&(!i||!function(t,e){var n=t.getExtent(),r=Math.abs(n[1]-n[0])/t.scale.count();isNaN(r)&&(r=0);for(var i=e.count(),o=Math.max(1,Math.round(i/5)),a=0;a<i;a+=o)if(1.5*lw.getSymbolSize(e,a)[t.isHorizontal()?1:0]>r)return!1;return!0}(o,e))){var a=e.mapDimension(o.dim),s={};return g.k(o.getViewLabels(),function(t){var e=o.scale.getRawOrdinalNumber(t.tickValue);s[e]=1}),function(t){return!s.hasOwnProperty(e.get(a,t))}}}}function Pw(t,e){return[t[2*e],t[2*e+1]]}function Nw(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<Na.length;e++)if(t.get([Na[e],"endLabel","show"]))return!0;return!1}function Rw(t,e,n,r){if(Iw(e,"cartesian2d")){var i=r.getModel("endLabel"),o=i.get("valueAnimation"),a=r.getData(),s={lastFrameIndex:0},u=Nw(r)?function(n,r){t._endLabelOnDuring(n,r,a,s,o,i,e)}:null,l=e.getBaseAxis().isHorizontal(),c=Mw(e,n,r,function(){var e=t._endLabel;e&&n&&null!=s.originalX&&e.attr({x:s.originalX,y:s.originalY})},u);if(!r.get("clip",!0)){var h=c.shape,d=Math.max(h.width,h.height);l?(h.y-=d,h.height+=2*d):(h.x-=d,h.width+=2*d)}return u&&u(1,c),c}return Sw(e,n,r)}var Bw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.init=function(){var t=new tr,e=new fw;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},e.prototype.render=function(t,e,n){var r=this,i=t.coordinateSystem,o=this.group,a=t.getData(),s=t.getModel("lineStyle"),u=t.getModel("areaStyle"),l=a.getLayout("points")||[],c="polar"===i.type,h=this._coordSys,d=this._symbolDraw,f=this._polyline,p=this._polygon,v=this._lineGroup,y=t.get("animation"),m=!u.isEmpty(),b=u.get("origin"),x=pw(i,a,b),A=m&&function(t,e,n){if(!n.valueDim)return[];for(var r=e.count(),i=Lm(2*r),o=0;o<r;o++){var a=gw(n,t,e,o);i[2*o]=a[0],i[2*o+1]=a[1]}return i}(i,a,x),w=t.get("showSymbol"),_=t.get("connectNulls"),M=w&&!c&&Lw(t,a,i),S=this._data;S&&S.eachItemGraphicEl(function(t,e){t.__temp&&(o.remove(t),S.setItemGraphicEl(e,null))}),w||d.remove(),o.add(v);var O,I=!c&&t.get("step");i&&i.getArea&&t.get("clip",!0)&&(null!=(O=i.getArea()).width?(O.x-=.1,O.y-=.1,O.width+=.2,O.height+=.2):O.r0&&(O.r0-=.5,O.r+=.5)),this._clipShapeForSymbol=O;var E=jw(a,i,n)||a.getVisual("style")[a.getVisual("drawType")];if(f&&h.type===i.type&&I===this._step){m&&!p?p=this._newPolygon(l,A):p&&!m&&(v.remove(p),p=this._polygon=null),c||this._initOrUpdateEndLabel(t,i,uh(E));var C=v.getClipPath();if(C)el(C,{shape:Rw(this,i,!1,t).shape},t);else v.setClipPath(Rw(this,i,!0,t));w&&d.updateData(a,{isIgnore:M,clipShape:O,disableAnimation:!0,getSymbolPoint:function(t){return[l[2*t],l[2*t+1]]}}),Ew(this._stackedOnPoints,A)&&Ew(this._points,l)||(y?this._doUpdateAnimation(a,A,i,n,I,b,_):(I&&(l=Dw(l,i,I,_),A&&(A=Dw(A,i,I,_))),f.setShape({points:l}),p&&p.setShape({points:l,stackedOnPoints:A})))}else w&&d.updateData(a,{isIgnore:M,clipShape:O,disableAnimation:!0,getSymbolPoint:function(t){return[l[2*t],l[2*t+1]]}}),y&&this._initSymbolLabelAnimation(a,i,O),I&&(l=Dw(l,i,I,_),A&&(A=Dw(A,i,I,_))),f=this._newPolyline(l),m?p=this._newPolygon(l,A):p&&(v.remove(p),p=this._polygon=null),c||this._initOrUpdateEndLabel(t,i,uh(E)),v.setClipPath(Rw(this,i,!0,t));var k=t.getModel("emphasis"),T=k.get("focus"),D=k.get("blurScope"),j=k.get("disabled");(f.useStyle(g.i(s.getLineStyle(),{fill:"none",stroke:E,lineJoin:"bevel"})),Ss(f,t,"lineStyle"),f.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"]))&&(f.getState("emphasis").style.lineWidth=+f.style.lineWidth+1);Ia(f).seriesIndex=t.seriesIndex,As(f,T,D,j);var L=Tw(t.get("smooth")),P=t.get("smoothMonotone");if(f.setShape({smooth:L,smoothMonotone:P,connectNulls:_}),p){var N=a.getCalculationInfo("stackedOnSeries"),R=0;p.useStyle(g.i(u.getAreaStyle(),{fill:E,opacity:.7,lineJoin:"bevel",decal:a.getVisual("style").decal})),N&&(R=Tw(N.get("smooth"))),p.setShape({smooth:L,stackedOnSmooth:R,smoothMonotone:P,connectNulls:_}),Ss(p,t,"areaStyle"),Ia(p).seriesIndex=t.seriesIndex,As(p,T,D,j)}var B=function(t){r._changePolyState(t)};a.eachItemGraphicEl(function(t){t&&(t.onHoverStateChange=B)}),this._polyline.onHoverStateChange=B,this._data=a,this._coordSys=i,this._stackedOnPoints=A,this._points=l,this._step=I,this._valueOrigin=b,t.get("triggerLineEvent")&&(this.packEventData(t,f),p&&this.packEventData(t,p))},e.prototype.packEventData=function(t,e){Ia(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,e,n,r){var i=t.getData(),o=Jr(i,r);if(this._changePolyState("emphasis"),!(o instanceof Array)&&null!=o&&o>=0){var a=i.getLayout("points"),s=i.getItemGraphicEl(o);if(!s){var u=a[2*o],l=a[2*o+1];if(isNaN(u)||isNaN(l))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(u,l))return;var c=t.get("zlevel")||0,h=t.get("z")||0;(s=new lw(i,o)).x=u,s.y=l,s.setZ(c,h);var d=s.getSymbolPath().getTextContent();d&&(d.zlevel=c,d.z=h,d.z2=this._polyline.z2+1),s.__temp=!0,i.setItemGraphicEl(o,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else wp.prototype.highlight.call(this,t,e,n,r)},e.prototype.downplay=function(t,e,n,r){var i=t.getData(),o=Jr(i,r);if(this._changePolyState("normal"),null!=o&&o>=0){var a=i.getItemGraphicEl(o);a&&(a.__temp?(i.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else wp.prototype.downplay.call(this,t,e,n,r)},e.prototype._changePolyState=function(t){var e=this._polygon;rs(this._polyline,t),e&&rs(e,t)},e.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new Aw({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},e.prototype._newPolygon=function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new _w({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},e.prototype._initSymbolLabelAnimation=function(t,e,n){var r,i,o=e.getBaseAxis(),a=o.inverse;"cartesian2d"===e.type?(r=o.isHorizontal(),i=!1):"polar"===e.type&&(r="angle"===o.dim,i=!0);var s=t.hostModel,u=s.get("animationDuration");g.w(u)&&(u=u(null));var l=s.get("animationDelay")||0,c=g.w(l)?l(null):l;t.eachItemGraphicEl(function(t,o){var s=t;if(s){var h=[t.x,t.y],d=void 0,f=void 0,p=void 0;if(n)if(i){var v=n,y=e.pointToCoord(h);r?(d=v.startAngle,f=v.endAngle,p=-y[1]/180*Math.PI):(d=v.r0,f=v.r,p=y[0])}else{var m=n;r?(d=m.x,f=m.x+m.width,p=t.x):(d=m.y+m.height,f=m.y,p=t.y)}var b=f===d?0:(p-d)/(f-d);a&&(b=1-b);var x=g.w(l)?l(o):u*b+c,A=s.getSymbolPath(),w=A.getTextContent();s.attr({scaleX:0,scaleY:0}),s.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:x}),w&&w.animateFrom({style:{opacity:0}},{duration:300,delay:x}),A.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,e,n){var r=t.getModel("endLabel");if(Nw(t)){var i=t.getData(),o=this._polyline,a=i.getLayout("points");if(!a)return o.removeTextContent(),void(this._endLabel=null);var s=this._endLabel;s||((s=this._endLabel=new Oa({z2:200})).ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var u=function(t){for(var e,n,r=t.length/2;r>0&&(e=t[2*r-2],n=t[2*r-1],isNaN(e)||isNaN(n));r--);return r-1}(a);u>=0&&(Fl(o,Gl(t,"endLabel"),{inheritColor:n,labelFetcher:t,labelDataIndex:u,defaultText:function(t,e,n){return null!=n?sw(i,n):aw(i,t)},enableTextSetter:!0},function(t,e){var n=e.getBaseAxis(),r=n.isHorizontal(),i=n.inverse,o=r?i?"right":"left":"center",a=r?"middle":i?"top":"bottom";return{normal:{align:t.get("align")||o,verticalAlign:t.get("verticalAlign")||a}}}(r,e)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,n,r,i,o,a){var s=this._endLabel,u=this._polyline;if(s){t<1&&null==r.originalX&&(r.originalX=s.x,r.originalY=s.y);var l=n.getLayout("points"),c=n.hostModel,h=c.get("connectNulls"),d=o.get("precision"),f=o.get("distance")||0,p=a.getBaseAxis(),g=p.isHorizontal(),v=p.inverse,y=e.shape,m=v?g?y.x:y.y+y.height:g?y.x+y.width:y.y,b=(g?f:0)*(v?-1:1),x=(g?0:-f)*(v?-1:1),A=g?"x":"y",w=function(t,e,n){for(var r,i,o=t.length/2,a="x"===n?0:1,s=0,u=-1,l=0;l<o;l++)if(i=t[2*l+a],!isNaN(i)&&!isNaN(t[2*l+1-a]))if(0!==l){if(r<=e&&i>=e||r>=e&&i<=e){u=l;break}s=l,r=i}else r=i;return{range:[s,u],t:(e-r)/(i-r)}}(l,m,A),_=w.range,M=_[1]-_[0],S=void 0;if(M>=1){if(M>1&&!h){var O=Pw(l,_[0]);s.attr({x:O[0]+b,y:O[1]+x}),i&&(S=c.getRawValue(_[0]))}else{(O=u.getPointOn(m,A))&&s.attr({x:O[0]+b,y:O[1]+x});var I=c.getRawValue(_[0]),E=c.getRawValue(_[1]);i&&(S=ui(n,d,I,E,w.t))}r.lastFrameIndex=_[0]}else{var C=1===t||r.lastFrameIndex>0?_[0]:0;O=Pw(l,C);i&&(S=c.getRawValue(C)),s.attr({x:O[0]+b,y:O[1]+x})}i&&Ql(s).setLabelText(S)}},e.prototype._doUpdateAnimation=function(t,e,n,r,i,o,a){var s=this._polyline,u=this._polygon,l=t.hostModel,c=function(t,e,n,r,i,o,a,s){for(var u=function(t,e){var n=[];return e.diff(t).add(function(t){n.push({cmd:"+",idx:t})}).update(function(t,e){n.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){n.push({cmd:"-",idx:t})}).execute(),n}(t,e),l=[],c=[],h=[],d=[],f=[],p=[],g=[],v=pw(i,e,a),y=t.getLayout("points")||[],m=e.getLayout("points")||[],b=0;b<u.length;b++){var x=u[b],A=!0,w=void 0,_=void 0;switch(x.cmd){case"=":w=2*x.idx,_=2*x.idx1;var M=y[w],S=y[w+1],O=m[_],I=m[_+1];(isNaN(M)||isNaN(S))&&(M=O,S=I),l.push(M,S),c.push(O,I),h.push(n[w],n[w+1]),d.push(r[_],r[_+1]),g.push(e.getRawIndex(x.idx1));break;case"+":var E=x.idx,C=v.dataDimsForPoint,k=i.dataToPoint([e.get(C[0],E),e.get(C[1],E)]);_=2*E,l.push(k[0],k[1]),c.push(m[_],m[_+1]);var T=gw(v,i,e,E);h.push(T[0],T[1]),d.push(r[_],r[_+1]),g.push(e.getRawIndex(E));break;case"-":A=!1}A&&(f.push(x),p.push(p.length))}p.sort(function(t,e){return g[t]-g[e]});var D=l.length,j=Lm(D),L=Lm(D),P=Lm(D),N=Lm(D),R=[];for(b=0;b<p.length;b++){var B=p[b],z=2*b,F=2*B;j[z]=l[F],j[z+1]=l[F+1],L[z]=c[F],L[z+1]=c[F+1],P[z]=h[F],P[z+1]=h[F+1],N[z]=d[F],N[z+1]=d[F+1],R[b]=f[B]}return{current:j,next:L,stackedOnCurrent:P,stackedOnNext:N,status:R}}(this._data,t,this._stackedOnPoints,e,this._coordSys,0,this._valueOrigin),h=c.current,d=c.stackedOnCurrent,f=c.next,p=c.stackedOnNext;if(i&&(h=Dw(c.current,n,i,a),d=Dw(c.stackedOnCurrent,n,i,a),f=Dw(c.next,n,i,a),p=Dw(c.stackedOnNext,n,i,a)),kw(h,f)>3e3||u&&kw(d,p)>3e3)return s.stopAnimation(),s.setShape({points:f}),void(u&&(u.stopAnimation(),u.setShape({points:f,stackedOnPoints:p})));s.shape.__points=c.current,s.shape.points=h;var g={shape:{points:f}};c.current!==h&&(g.shape.__points=c.next),s.stopAnimation(),tl(s,g,l),u&&(u.setShape({points:h,stackedOnPoints:d}),u.stopAnimation(),tl(u,{shape:{stackedOnPoints:p}},l),s.shape.points!==u.shape.points&&(u.shape.points=s.shape.points));for(var v=[],y=c.status,m=0;m<y.length;m++){if("="===y[m].cmd){var b=t.getItemGraphicEl(y[m].idx1);b&&v.push({el:b,ptIdx:m})}}s.animators&&s.animators.length&&s.animators[0].during(function(){u&&u.dirtyShape();for(var t=s.shape.__points,e=0;e<v.length;e++){var n=v[e].el,r=2*v[e].ptIdx;n.x=t[r],n.y=t[r+1],n.markRedraw()}})},e.prototype.remove=function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(t,r){t.__temp&&(e.remove(t),n.setItemGraphicEl(r,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(wp);function zw(t,e){return{seriesType:t,plan:fp(),reset:function(t){var n=t.getData(),r=t.coordinateSystem,i=t.pipelineContext,o=e||i.large;if(r){var a=Object(g.H)(r.dimensions,function(t){return n.mapDimension(t)}).slice(0,2),s=a.length,u=n.getCalculationInfo("stackResultDimension");hm(n,a[0])&&(a[0]=u),hm(n,a[1])&&(a[1]=u);var l=n.getStore(),c=n.getDimensionIndex(a[0]),h=n.getDimensionIndex(a[1]);return s&&{progress:function(t,e){for(var n=t.end-t.start,i=o&&Lm(n*s),a=[],u=[],d=t.start,f=0;d<t.end;d++){var p=void 0;if(1===s){var g=l.get(c,d);p=r.dataToPoint(g,null,u)}else a[0]=l.get(c,d),a[1]=l.get(h,d),p=r.dataToPoint(a,null,u);o?(i[f++]=p[0],i[f++]=p[1]):e.setItemLayout(d,p.slice())}o&&e.setLayout("points",i)}}}}}}var Fw={average:function(t){for(var e=0,n=0,r=0;r<t.length;r++)isNaN(t[r])||(e+=t[r],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},Gw=function(t){return Math.round(t.length/2)};function Vw(t){return{seriesType:t,reset:function(t,e,n){var r=t.getData(),i=t.get("sampling"),o=t.coordinateSystem,a=r.count();if(a>10&&"cartesian2d"===o.type&&i){var s=o.getBaseAxis(),u=o.getOtherAxis(s),l=s.getExtent(),c=n.getDevicePixelRatio(),h=Math.abs(l[1]-l[0])*(c||1),d=Math.round(a/h);if(isFinite(d)&&d>1){"lttb"===i&&t.setData(r.lttbDownSample(r.mapDimension(u.dim),1/d));var f=void 0;Object(g.C)(i)?f=Fw[i]:Object(g.w)(i)&&(f=i),f&&t.setData(r.downSample(r.mapDimension(u.dim),1/d,f,Gw))}}}}}var Uw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.getInitialData=function(t,e){return fm(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,e,n){var r=this.coordinateSystem;if(r&&r.clampData){var i=r.dataToPoint(r.clampData(t));if(n)Object(g.k)(r.getAxes(),function(n,o){if("category"===n.type){var a=n.getTicksCoords(),s=r.clampData(t)[o];!e||"x1"!==e[o]&&"y1"!==e[o]||(s+=1),s>a.length-1&&(s=a.length-1),s<0&&(s=0),a[s]&&(i[o]=n.toGlobalCoord(a[s].coord))}});else{var o=this.getData(),a=o.getLayout("offset"),s=o.getLayout("size"),u=r.getBaseAxis().isHorizontal()?0:1;i[u]+=a+s/2}return i}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(cp);cp.registerClass(Uw);var Ww=Uw,Hw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.getInitialData=function(){return fm(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},e.prototype.brushSelector=function(t,e,n){return n.rect(e.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=pc(Ww.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(Ww),Yw=function(){return function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}}(),Xw=function(t){function e(e){var n=t.call(this,e)||this;return n.type="sausage",n}return Object(f.__extends)(e,t),e.prototype.getDefaultShape=function(){return new Yw},e.prototype.buildPath=function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=.5*(o-i),s=i+a,u=e.startAngle,l=e.endAngle,c=e.clockwise,h=2*Math.PI,d=c?l-u<h:u-l<h;d||(u=l-(c?h:-h));var f=Math.cos(u),p=Math.sin(u),g=Math.cos(l),v=Math.sin(l);d?(t.moveTo(f*i+n,p*i+r),t.arc(f*s+n,p*s+r,a,-Math.PI+u,u,!c)):t.moveTo(f*o+n,p*o+r),t.arc(n,r,o,u,l,!c),t.arc(g*s+n,v*s+r,a,l-2*Math.PI,l-Math.PI,!c),0!==i&&t.arc(n,r,i,l,u,c)},e}(Qo);function qw(t,e,n){return e*Math.sin(t)*(n?-1:1)}function Qw(t,e,n){return e*Math.cos(t)*(n?1:-1)}var Zw=Math.max,Kw=Math.min;var Jw=function(t){function e(){var n=t.call(this)||this;return n.type=e.type,n._isFirstFrame=!0,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n,r){this._model=t,this._removeOnRenderedListener(n),this._updateDrawMode(t);var i=t.get("coordinateSystem");("cartesian2d"===i||"polar"===i)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n,r))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,e){this._progressiveEls=[],this._incrementalRenderLarge(t,e)},e.prototype.eachRendered=function(t){Nl(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t,e,n,r){var i,o=this.group,a=t.getData(),s=this._data,u=t.coordinateSystem,l=u.getBaseAxis();"cartesian2d"===u.type?i=l.isHorizontal():"polar"===u.type&&(i="angle"===l.dim);var c=t.isAnimationEnabled()?t:null,h=function(t,e){var n=t.get("realtimeSort",!0),r=e.getBaseAxis();0;if(n&&"category"===r.type&&"cartesian2d"===e.type)return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}(t,u);h&&this._enableRealtimeSort(h,a,n);var d=t.get("clip",!0)||h,f=function(t,e){var n=t.getArea&&t.getArea();if(Iw(t,"cartesian2d")){var r=t.getBaseAxis();if("category"!==r.type||!r.onBand){var i=e.getLayout("bandWidth");r.isHorizontal()?(n.x-=i,n.width+=2*i):(n.y-=i,n.height+=2*i)}}return n}(u,a);o.removeClipPath();var p=t.get("roundCap",!0),g=t.get("showBackground",!0),v=t.getModel("backgroundStyle"),y=v.get("borderRadius")||0,m=[],b=this._backgroundEls,x=r&&r.isInitSort,A=r&&"changeAxisOrder"===r.type;function w(t){var e=a_[u.type](a,t),n=function(t,e,n){return new("polar"===t.type?yu:ca)({shape:f_(e,n,t),silent:!0,z2:0})}(u,i,e);return n.useStyle(v.getItemStyle()),"cartesian2d"===u.type&&n.setShape("r",y),m[t]=n,n}a.diff(s).add(function(e){var n=a.getItemModel(e),r=a_[u.type](a,e,n);if(g&&w(e),a.hasValue(e)&&o_[u.type](r)){var s=!1;d&&(s=$w[u.type](f,r));var v=t_[u.type](t,a,e,r,i,c,l.model,!1,p);h&&(v.forceLabelAnimation=!0),u_(v,a,e,n,r,t,i,"polar"===u.type),x?v.attr({shape:r}):h?e_(h,c,v,r,e,i,!1,!1):el(v,{shape:r},t,e),a.setItemGraphicEl(e,v),o.add(v),v.ignore=s}}).update(function(e,n){var r=a.getItemModel(e),_=a_[u.type](a,e,r);if(g){var M=void 0;0===b.length?M=w(n):((M=b[n]).useStyle(v.getItemStyle()),"cartesian2d"===u.type&&M.setShape("r",y),m[e]=M);var S=a_[u.type](a,e);tl(M,{shape:f_(i,S,u)},c,e)}var O=s.getItemGraphicEl(n);if(a.hasValue(e)&&o_[u.type](_)){var I=!1;if(d&&(I=$w[u.type](f,_))&&o.remove(O),O?al(O):O=t_[u.type](t,a,e,_,i,c,l.model,!!O,p),h&&(O.forceLabelAnimation=!0),A){var E=O.getTextContent();if(E){var C=Ql(E);null!=C.prevValue&&(C.prevValue=C.value)}}else u_(O,a,e,r,_,t,i,"polar"===u.type);x?O.attr({shape:_}):h?e_(h,c,O,_,e,i,!0,A):tl(O,{shape:_},t,e,null),a.setItemGraphicEl(e,O),O.ignore=I,o.add(O)}else o.remove(O)}).remove(function(e){var n=s.getItemGraphicEl(e);n&&ol(n,t,e)}).execute();var _=this._backgroundGroup||(this._backgroundGroup=new tr);_.removeAll();for(var M=0;M<m.length;++M)_.add(m[M]);o.add(_),this._backgroundEls=m,this._data=a},e.prototype._renderLarge=function(t,e,n){this._clear(),h_(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,e){this._removeBackground(),h_(e,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var e=t.get("clip",!0)&&Ow(t.coordinateSystem,!1,t),n=this.group;e?n.setClipPath(e):n.removeClipPath()},e.prototype._enableRealtimeSort=function(t,e,n){var r=this;if(e.count()){var i=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(e,t,n),this._isFirstFrame=!1;else{var o=function(t){var n=e.getItemGraphicEl(t),r=n&&n.shape;return r&&Math.abs(i.isHorizontal()?r.height:r.width)||0};this._onRendered=function(){r._updateSortWithinSameData(e,o,i,n)},n.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,e,n){var r=[];return t.each(t.mapDimension(e.dim),function(t,e){var i=n(e);i=null==i?NaN:i,r.push({dataIndex:e,mappedValue:i,ordinalNumber:t})}),r.sort(function(t,e){return e.mappedValue-t.mappedValue}),{ordinalNumbers:Object(g.H)(r,function(t){return t.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,e,n){for(var r=n.scale,i=t.mapDimension(n.dim),o=Number.MAX_VALUE,a=0,s=r.getOrdinalMeta().categories.length;a<s;++a){var u=t.rawIndexOf(i,r.getRawOrdinalNumber(a)),l=u<0?Number.MIN_VALUE:e(t.indexOfRawIndex(u));if(l>o)return!0;o=l}return!1},e.prototype._isOrderDifferentInView=function(t,e){for(var n=e.scale,r=n.getExtent(),i=Math.max(0,r[0]),o=Math.min(r[1],n.getOrdinalMeta().categories.length-1);i<=o;++i)if(t.ordinalNumbers[i]!==n.getRawOrdinalNumber(i))return!0},e.prototype._updateSortWithinSameData=function(t,e,n,r){if(this._isOrderChangedWithinSameData(t,e,n)){var i=this._dataSort(t,n,e);this._isOrderDifferentInView(i,n)&&(this._removeOnRenderedListener(r),r.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:i}))}},e.prototype._dispatchInitSort=function(t,e,n){var r=e.baseAxis,i=this._dataSort(t,r,function(n){return t.get(t.mapDimension(e.otherAxis.dim),n)});n.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",isInitSort:!0,axisId:r.index,sortInfo:i})},e.prototype.remove=function(t,e){this._clear(this._model),this._removeOnRenderedListener(e)},e.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var e=this.group,n=this._data;t&&t.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(e){ol(e,t,Ia(e).dataIndex)})):e.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(wp),$w={cartesian2d:function(t,e){var n=e.width<0?-1:1,r=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var i=t.x+t.width,o=t.y+t.height,a=Zw(e.x,t.x),s=Kw(e.x+e.width,i),u=Zw(e.y,t.y),l=Kw(e.y+e.height,o),c=s<a,h=l<u;return e.x=c&&a>i?s:a,e.y=h&&u>o?l:u,e.width=c?0:s-a,e.height=h?0:l-u,n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),c||h},polar:function(t,e){var n=e.r0<=e.r?1:-1;if(n<0){var r=e.r;e.r=e.r0,e.r0=r}var i=Kw(e.r,t.r),o=Zw(e.r0,t.r0);e.r=i,e.r0=o;var a=i-o<0;if(n<0){r=e.r;e.r=e.r0,e.r0=r}return a}},t_={cartesian2d:function(t,e,n,r,i,o,a,s,u){var l=new ca({shape:Object(g.m)({},r),z2:1});(l.__dataIndex=n,l.name="item",o)&&(l.shape[i?"height":"width"]=0);return l},polar:function(t,e,n,r,i,o,a,s,u){var l=!i&&u?Xw:yu,c=new l({shape:r,z2:1});c.name="item";var h,d,f=s_(i);if(c.calculateTextPosition=(h=f,d=({isRoundCap:l===Xw}||{}).isRoundCap,function(t,e,n){var r=e.position;if(!r||r instanceof Array)return Un(t,e,n);var i=h(r),o=null!=e.distance?e.distance:5,a=this.shape,s=a.cx,u=a.cy,l=a.r,c=a.r0,f=(l+c)/2,p=a.startAngle,g=a.endAngle,v=(p+g)/2,y=d?Math.abs(l-c)/2:0,m=Math.cos,b=Math.sin,x=s+l*m(p),A=u+l*b(p),w="left",_="top";switch(i){case"startArc":x=s+(c-o)*m(v),A=u+(c-o)*b(v),w="center",_="top";break;case"insideStartArc":x=s+(c+o)*m(v),A=u+(c+o)*b(v),w="center",_="bottom";break;case"startAngle":x=s+f*m(p)+qw(p,o+y,!1),A=u+f*b(p)+Qw(p,o+y,!1),w="right",_="middle";break;case"insideStartAngle":x=s+f*m(p)+qw(p,-o+y,!1),A=u+f*b(p)+Qw(p,-o+y,!1),w="left",_="middle";break;case"middle":x=s+f*m(v),A=u+f*b(v),w="center",_="middle";break;case"endArc":x=s+(l+o)*m(v),A=u+(l+o)*b(v),w="center",_="bottom";break;case"insideEndArc":x=s+(l-o)*m(v),A=u+(l-o)*b(v),w="center",_="top";break;case"endAngle":x=s+f*m(g)+qw(g,o+y,!0),A=u+f*b(g)+Qw(g,o+y,!0),w="left",_="middle";break;case"insideEndAngle":x=s+f*m(g)+qw(g,-o+y,!0),A=u+f*b(g)+Qw(g,-o+y,!0),w="right",_="middle";break;default:return Un(t,e,n)}return(t=t||{}).x=x,t.y=A,t.align=w,t.verticalAlign=_,t}),o){var p=c.shape,g=i?"r":"endAngle",v={};p[g]=i?0:r.startAngle,v[g]=r[g],(s?tl:el)(c,{shape:v},o)}return c}};function e_(t,e,n,r,i,o,a,s){var u,l;o?(l={x:r.x,width:r.width},u={y:r.y,height:r.height}):(l={y:r.y,height:r.height},u={x:r.x,width:r.width}),s||(a?tl:el)(n,{shape:u},e,i,null);var c=e?t.baseAxis.model:null;(a?tl:el)(n,{shape:l},c,i)}function n_(t,e){for(var n=0;n<e.length;n++)if(!isFinite(t[e[n]]))return!0;return!1}var r_=["x","y","width","height"],i_=["cx","cy","r","startAngle","endAngle"],o_={cartesian2d:function(t){return!n_(t,r_)},polar:function(t){return!n_(t,i_)}},a_={cartesian2d:function(t,e,n){var r=t.getItemLayout(e),i=n?function(t,e){var n=t.get(["itemStyle","borderColor"]);if(!n||"none"===n)return 0;var r=t.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),o=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,i,o)}(n,r):0,o=r.width>0?1:-1,a=r.height>0?1:-1;return{x:r.x+o*i/2,y:r.y+a*i/2,width:r.width-o*i,height:r.height-a*i}},polar:function(t,e,n){var r=t.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function s_(t){return function(t){var e=t?"Arc":"Angle";return function(t){switch(t){case"start":case"insideStart":case"end":case"insideEnd":return t+e;default:return t}}}(t)}function u_(t,e,n,r,i,o,a,s){var u=e.getItemVisual(n,"style");s||t.setShape("r",r.get(["itemStyle","borderRadius"])||0),t.useStyle(u);var l=r.getShallow("cursor");l&&t.attr("cursor",l);var c=s?a?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":a?i.height>=0?"bottom":"top":i.width>=0?"right":"left",h=Gl(r);Fl(t,h,{labelFetcher:o,labelDataIndex:n,defaultText:aw(o.getData(),n),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:c});var d=t.getTextContent();if(s&&d){var f=r.get(["label","position"]);t.textConfig.inside="middle"===f||null,function(t,e,n,r){if(Object(g.z)(r))t.setTextConfig({rotation:r});else if(Object(g.t)(e))t.setTextConfig({rotation:0});else{var i,o=t.shape,a=o.clockwise?o.startAngle:o.endAngle,s=o.clockwise?o.endAngle:o.startAngle,u=(a+s)/2,l=n(e);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":i=u;break;case"startAngle":case"insideStartAngle":i=a;break;case"endAngle":case"insideEndAngle":i=s;break;default:return void t.setTextConfig({rotation:0})}var c=1.5*Math.PI-i;"middle"===l&&c>Math.PI/2&&c<1.5*Math.PI&&(c-=Math.PI),t.setTextConfig({rotation:c})}}(t,"outside"===f?c:f,s_(a),r.get(["label","rotate"]))}Zl(d,h,o.getRawValue(n),function(t){return sw(e,t)});var p=r.getModel(["emphasis"]);As(t,p.get("focus"),p.get("blurScope"),p.get("disabled")),Ss(t,r),function(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}(i)&&(t.style.fill="none",t.style.stroke="none",Object(g.k)(t.states,function(t){t.style&&(t.style.fill=t.style.stroke="none")}))}var l_=function(){return function(){}}(),c_=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeBar",n}return Object(f.__extends)(e,t),e.prototype.getDefaultShape=function(){return new l_},e.prototype.buildPath=function(t,e){for(var n=e.points,r=this.baseDimIdx,i=1-this.baseDimIdx,o=[],a=[],s=this.barWidth,u=0;u<n.length;u+=3)a[r]=s,a[i]=n[u+2],o[r]=n[u+r],o[i]=n[u+i],t.rect(o[0],o[1],a[0],a[1])},e}(Qo);function h_(t,e,n,r){var i=t.getData(),o=i.getLayout("valueAxisHorizontal")?1:0,a=i.getLayout("largeDataIndices"),s=i.getLayout("size"),u=t.getModel("backgroundStyle"),l=i.getLayout("largeBackgroundPoints");if(l){var c=new c_({shape:{points:l},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=o,c.largeDataIndices=a,c.barWidth=s,c.useStyle(u.getItemStyle()),e.add(c),n&&n.push(c)}var h=new c_({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=o,h.largeDataIndices=a,h.barWidth=s,e.add(h),h.useStyle(i.getVisual("style")),Ia(h).seriesIndex=t.seriesIndex,t.get("silent")||(h.on("mousedown",d_),h.on("mousemove",d_)),n&&n.push(h)}var d_=Op(function(t){var e=function(t,e,n){for(var r=t.baseDimIdx,i=1-r,o=t.shape.points,a=t.largeDataIndices,s=[],u=[],l=t.barWidth,c=0,h=o.length/3;c<h;c++){var d=3*c;if(u[r]=l,u[i]=o[d+2],s[r]=o[d+r],s[i]=o[d+i],u[i]<0&&(s[i]+=u[i],u[i]=-u[i]),e>=s[0]&&e<=s[0]+u[0]&&n>=s[1]&&n<=s[1]+u[1])return a[c]}return-1}(this,t.offsetX,t.offsetY);Ia(this).dataIndex=e>=0?e:null},30,!1);function f_(t,e,n){if(Iw(n,"cartesian2d")){var r=e,i=n.getArea();return{x:t?r.x:i.x,y:t?i.y:r.y,width:t?r.width:i.width,height:t?i.height:r.height}}var o=e;return{cx:(i=n.getArea()).cx,cy:i.cy,r0:t?i.r0:o.r0,r:t?i.r:o.r,startAngle:t?o.startAngle:0,endAngle:t?o.endAngle:2*Math.PI}}var p_=Jw;var g_=2*Math.PI,v_=Math.PI/180;function y_(t,e){return gh(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function m_(t,e){var n=y_(t,e),r=t.get("center"),i=t.get("radius");g.t(i)||(i=[0,i]);var o,a,s=fr(n.width,e.getWidth()),u=fr(n.height,e.getHeight()),l=Math.min(s,u),c=fr(i[0],l/2),h=fr(i[1],l/2),d=t.coordinateSystem;if(d){var f=d.dataToPoint(r);o=f[0]||0,a=f[1]||0}else g.t(r)||(r=[r,r]),o=fr(r[0],s)+n.x,a=fr(r[1],u)+n.y;return{cx:o,cy:a,r0:c,r:h}}function b_(t,e,n){e.eachSeriesByType(t,function(t){var e=t.getData(),r=e.mapDimension("value"),i=y_(t,n),o=m_(t,n),a=o.cx,s=o.cy,u=o.r,l=o.r0,c=-t.get("startAngle")*v_,h=t.get("minAngle")*v_,d=0;e.each(r,function(t){!isNaN(t)&&d++});var f=e.getSum(r),p=Math.PI/(f||d)*2,g=t.get("clockwise"),v=t.get("roseType"),y=t.get("stillShowZeroSum"),m=e.getDataExtent(r);m[0]=0;var b=g_,x=0,A=c,w=g?1:-1;if(e.setLayout({viewRect:i,r:u}),e.each(r,function(t,n){var r;if(isNaN(t))e.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:g,cx:a,cy:s,r0:l,r:v?NaN:u});else{(r="area"!==v?0===f&&y?p:t*p:g_/d)<h?(r=h,b-=h):x+=t;var i=A+w*r;e.setItemLayout(n,{angle:r,startAngle:A,endAngle:i,clockwise:g,cx:a,cy:s,r0:l,r:v?dr(t,m,[l,u]):u}),A=i}}),b<g_&&d)if(b<=.001){var _=g_/d;e.each(r,function(t,n){if(!isNaN(t)){var r=e.getItemLayout(n);r.angle=_,r.startAngle=c+w*n*_,r.endAngle=c+w*(n+1)*_}})}else p=b/x,A=c,e.each(r,function(t,n){if(!isNaN(t)){var r=e.getItemLayout(n),i=r.angle===h?h:t*p;r.startAngle=A,r.endAngle=A+w*i,A+=w*i}})})}function x_(t){return{seriesType:t,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var r=t.getData();r.filterSelf(function(t){for(var e=r.getName(t),i=0;i<n.length;i++)if(!n[i].isSelected(e))return!1;return!0})}}}}var A_=Math.PI/180;function w_(t,e,n,r,i,o,a,s,u,l){if(!(t.length<2)){for(var c=t.length,h=0;h<c;h++)if("outer"===t[h].position&&"labelLine"===t[h].labelAlignTo){var d=t[h].label.x-l;t[h].linePoints[1][0]+=d,t[h].label.x=l}Tx(t,u,u+a)&&function(t){for(var o={list:[],maxY:0},a={list:[],maxY:0},s=0;s<t.length;s++)if("none"===t[s].labelAlignTo){var u=t[s],l=u.label.y>n?a:o,c=Math.abs(u.label.y-n);if(c>=l.maxY){var h=u.label.x-e-u.len2*i,d=r+u.len,p=Math.abs(h)<d?Math.sqrt(c*c/(1-h*h/d/d)):d;l.rB=p,l.maxY=c}l.list.push(u)}f(o),f(a)}(t)}function f(t){for(var o=t.rB,a=o*o,s=0;s<t.list.length;s++){var u=t.list[s],l=Math.abs(u.label.y-n),c=r+u.len,h=c*c,d=Math.sqrt((1-Math.abs(l*l/a))*h),f=e+(d+u.len2)*i,p=f-u.label.x;__(u,u.targetTextWidth-p*i,!0),u.label.x=f}}}function __(t,e,n){if(void 0===n&&(n=!1),null==t.labelStyleWidth){var r=t.label,i=r.style,o=t.rect,a=i.backgroundColor,s=i.padding,u=s?s[1]+s[3]:0,l=i.overflow,c=o.width+(a?0:u);if(e<c||n){var h=o.height;if(l&&l.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",e-u);var d=r.getBoundingRect();r.setStyle("width",Math.ceil(d.width)),r.setStyle("backgroundColor",a)}else{var f=e-u,p=e<c?f:n?f>t.unconstrainedWidth?null:f:null;r.setStyle("width",p)}var g=r.getBoundingRect();o.width=g.width;var v=(r.style.margin||0)+2.1;o.height=g.height+v,o.y-=(o.height-h)/2}}}function M_(t){return"center"===t.position}function S_(t){var e,n,r=t.getData(),i=[],o=!1,a=(t.get("minShowLabelAngle")||0)*A_,s=r.getLayout("viewRect"),u=r.getLayout("r"),l=s.width,c=s.x,h=s.y,d=s.height;function f(t){t.ignore=!0}r.each(function(t){var s=r.getItemGraphicEl(t),h=s.shape,d=s.getTextContent(),p=s.getTextGuideLine(),v=r.getItemModel(t),y=v.getModel("label"),m=y.get("position")||v.get(["emphasis","label","position"]),b=y.get("distanceToLabelLine"),x=y.get("alignTo"),A=fr(y.get("edgeDistance"),l),w=y.get("bleedMargin"),_=v.getModel("labelLine"),M=_.get("length");M=fr(M,l);var S=_.get("length2");if(S=fr(S,l),Math.abs(h.endAngle-h.startAngle)<a)return Object(g.k)(d.states,f),d.ignore=!0,void(p&&(Object(g.k)(p.states,f),p.ignore=!0));if(function(t){if(!t.ignore)return!0;for(var e in t.states)if(!1===t.states[e].ignore)return!0;return!1}(d)){var O,I,E,C,k=(h.startAngle+h.endAngle)/2,T=Math.cos(k),D=Math.sin(k);e=h.cx,n=h.cy;var j="inside"===m||"inner"===m;if("center"===m)O=h.cx,I=h.cy,C="center";else{var L=(j?(h.r+h.r0)/2*T:h.r*T)+e,P=(j?(h.r+h.r0)/2*D:h.r*D)+n;if(O=L+3*T,I=P+3*D,!j){var N=L+T*(M+u-h.r),R=P+D*(M+u-h.r),B=N+(T<0?-1:1)*S;O="edge"===x?T<0?c+A:c+l-A:B+(T<0?-b:b),I=R,E=[[L,P],[N,R],[B,R]]}C=j?"center":"edge"===x?T>0?"right":"left":T>0?"left":"right"}var z=Math.PI,F=0,G=y.get("rotate");if(Object(g.z)(G))F=G*(z/180);else if("center"===m)F=0;else if("radial"===G||!0===G){F=T<0?-k+z:-k}else if("tangential"===G&&"outside"!==m&&"outer"!==m){var V=Math.atan2(T,D);V<0&&(V=2*z+V),D>0&&(V=z+V),F=V-z}if(o=!!F,d.x=O,d.y=I,d.rotation=F,d.setStyle({verticalAlign:"middle"}),j){d.setStyle({align:C});var U=d.states.select;U&&(U.x+=d.x,U.y+=d.y)}else{var W=d.getBoundingRect().clone();W.applyTransform(d.getComputedTransform());var H=(d.style.margin||0)+2.1;W.y-=H/2,W.height+=H,i.push({label:d,labelLine:p,position:m,len:M,len2:S,minTurnAngle:_.get("minTurnAngle"),maxSurfaceAngle:_.get("maxSurfaceAngle"),surfaceNormal:new wt(T,D),linePoints:E,textAlign:C,labelDistance:b,labelAlignTo:x,edgeDistance:A,bleedMargin:w,rect:W,unconstrainedWidth:W.width,labelStyleWidth:d.style.width})}s.setTextConfig({inside:j})}}),!o&&t.get("avoidLabelOverlap")&&function(t,e,n,r,i,o,a,s){for(var u=[],l=[],c=Number.MAX_VALUE,h=-Number.MAX_VALUE,d=0;d<t.length;d++){var f=t[d].label;M_(t[d])||(f.x<e?(c=Math.min(c,f.x),u.push(t[d])):(h=Math.max(h,f.x),l.push(t[d])))}for(d=0;d<t.length;d++)if(!M_(v=t[d])&&v.linePoints){if(null!=v.labelStyleWidth)continue;f=v.label;var p=v.linePoints,g=void 0;g="edge"===v.labelAlignTo?f.x<e?p[2][0]-v.labelDistance-a-v.edgeDistance:a+i-v.edgeDistance-p[2][0]-v.labelDistance:"labelLine"===v.labelAlignTo?f.x<e?c-a-v.bleedMargin:a+i-h-v.bleedMargin:f.x<e?f.x-a-v.bleedMargin:a+i-f.x-v.bleedMargin,v.targetTextWidth=g,__(v,g)}for(w_(l,e,n,r,1,0,o,0,s,h),w_(u,e,n,r,-1,0,o,0,s,c),d=0;d<t.length;d++){var v;if(!M_(v=t[d])&&v.linePoints){f=v.label,p=v.linePoints;var y="edge"===v.labelAlignTo,m=f.style.padding,b=m?m[1]+m[3]:0,x=f.style.backgroundColor?0:b,A=v.rect.width+x,w=p[1][0]-p[2][0];y?f.x<e?p[2][0]=a+v.edgeDistance+A+v.labelDistance:p[2][0]=a+i-v.edgeDistance-A-v.labelDistance:(f.x<e?p[2][0]=f.x+v.labelDistance:p[2][0]=f.x-v.labelDistance,p[1][0]=p[2][0]+w),p[1][1]=p[2][1]=f.y}}}(i,e,n,u,l,d,c,h);for(var p=0;p<i.length;p++){var v=i[p],y=v.label,m=v.labelLine,b=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:v.textAlign}),b&&(Object(g.k)(y.states,f),y.ignore=!0);var x=y.states.select;x&&(x.x+=y.x,x.y+=y.y)}if(m){var A=v.linePoints;b||!A?(Object(g.k)(m.states,f),m.ignore=!0):(_x(A,v.minTurnAngle),Mx(A,v.surfaceNormal,v.maxSurfaceAngle),m.setShape({points:A}),y.__hostTarget.textGuideLineConfig={anchor:new wt(A[0][0],A[0][1])})}}}function O_(t,e,n){var r=t.get("borderRadius");if(null==r)return n?{cornerRadius:0}:null;Object(g.t)(r)||(r=[r,r,r,r]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Object(g.H)(r,function(t){return Vn(t,i)})}}var I_=function(t){function e(e,n,r){var i=t.call(this)||this;i.z2=2;var o=new Oa;return i.setTextContent(o),i.updateData(e,n,r,!0),i}return Object(f.__extends)(e,t),e.prototype.updateData=function(t,e,n,r){var i=t.hostModel,o=t.getItemModel(e),a=o.getModel("emphasis"),s=t.getItemLayout(e),u=Object(g.m)(O_(o.getModel("itemStyle"),s,!0),s);if(isNaN(u.startAngle))this.setShape(u);else{if(r){this.setShape(u);var l=i.getShallow("animationType");i.ecModel.ssr?(el(this,{scaleX:0,scaleY:0},i,{dataIndex:e,isFrom:!0}),this.originX=u.cx,this.originY=u.cy):"scale"===l?(this.shape.r=s.r0,el(this,{shape:{r:s.r}},i,e)):null!=n?(this.setShape({startAngle:n,endAngle:n}),el(this,{shape:{startAngle:s.startAngle,endAngle:s.endAngle}},i,e)):(this.shape.endAngle=s.startAngle,tl(this,{shape:{endAngle:s.endAngle}},i,e))}else al(this),tl(this,{shape:u},i,e);this.useStyle(t.getItemVisual(e,"style")),Ss(this,o);var c=(s.startAngle+s.endAngle)/2,h=i.get("selectedOffset"),d=Math.cos(c)*h,f=Math.sin(c)*h,p=o.getShallow("cursor");p&&this.attr("cursor",p),this._updateLabel(i,t,e),this.ensureState("emphasis").shape=Object(g.m)({r:s.r+(a.get("scale")&&a.get("scaleSize")||0)},O_(a.getModel("itemStyle"),s)),Object(g.m)(this.ensureState("select"),{x:d,y:f,shape:O_(o.getModel(["select","itemStyle"]),s)}),Object(g.m)(this.ensureState("blur"),{shape:O_(o.getModel(["blur","itemStyle"]),s)});var v=this.getTextGuideLine(),y=this.getTextContent();v&&Object(g.m)(v.ensureState("select"),{x:d,y:f}),Object(g.m)(y.ensureState("select"),{x:d,y:f}),As(this,a.get("focus"),a.get("blurScope"),a.get("disabled"))}},e.prototype._updateLabel=function(t,e,n){var r=e.getItemModel(n),i=r.getModel("labelLine"),o=e.getItemVisual(n,"style"),a=o&&o.fill,s=o&&o.opacity;Fl(this,Gl(r),{labelFetcher:e.hostModel,labelDataIndex:n,inheritColor:a,defaultOpacity:s,defaultText:t.getFormattedLabel(n,"normal")||e.getName(n)});var u=this.getTextContent();this.setTextConfig({position:null,rotation:null}),u.attr({z2:10});var l=t.get(["label","position"]);if("outside"!==l&&"outer"!==l)this.removeTextGuideLine();else{var c=this.getTextGuideLine();c||(c=new Iu,this.setTextGuideLine(c)),Ix(this,Ex(r),{stroke:a,opacity:Object(g.Q)(i.get(["lineStyle","opacity"]),s,1)})}},e}(yu),E_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n,r){var i,o=t.getData(),a=this._data,s=this.group;if(!a&&o.count()>0){for(var u=o.getItemLayout(0),l=1;isNaN(u&&u.startAngle)&&l<o.count();++l)u=o.getItemLayout(l);u&&(i=u.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===o.count()&&t.get("showEmptyCircle")){var c=new yu({shape:m_(t,n)});c.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=c,s.add(c)}o.diff(a).add(function(t){var e=new I_(o,t,i);o.setItemGraphicEl(t,e),s.add(e)}).update(function(t,e){var n=a.getItemGraphicEl(e);n.updateData(o,t,i),n.off("click"),s.add(n),o.setItemGraphicEl(t,n)}).remove(function(e){ol(a.getItemGraphicEl(e),t,e)}).execute(),S_(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=o)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,e){var n=e.getData().getItemLayout(0);if(n){var r=t[0]-n.cx,i=t[1]-n.cy,o=Math.sqrt(r*r+i*i);return o<=n.r&&o>=n.r0}},e.type="pie",e}(wp);function C_(t,e,n){e=Object(g.t)(e)&&{coordDimensions:e}||Object(g.m)({encodeDefine:t.getEncode()},e);var r=t.getSource(),i=om(r,e).dimensions,o=new rm(i,t);return o.initData(r,n),o}var k_=function(){function t(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},t.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},t.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},t}(),T_=$r(),D_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new k_(g.c(this.getData,this),g.c(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return C_(this,{coordDimensions:["value"],encodeDefaulter:g.h(zh,this)})},e.prototype.getDataParams=function(e){var n=this.getData(),r=T_(n),i=r.seats;if(!i){var o=[];n.each(n.mapDimension("value"),function(t){o.push(t)}),i=r.seats=xr(o,n.hostModel.get("percentPrecision"))}var a=t.prototype.getDataParams.call(this,e);return a.percent=i[e]||0,a.$vars.push("percent"),a},e.prototype._defaultLabelLine=function(t){Vr(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(cp);var j_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(f.__extends)(e,t),e.prototype.getInitialData=function(t,e){return fm(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(cp),L_=function(){return function(){}}(),P_=function(t){function e(e){var n=t.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return Object(f.__extends)(e,t),e.prototype.getDefaultShape=function(){return new L_},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,e){var n,r=e.points,i=e.size,o=this.symbolProxy,a=o.shape,s=t.getContext?t.getContext():t,u=s&&i[0]<4,l=this.softClipShape;if(u)this._ctx=s;else{for(this._ctx=null,n=this._off;n<r.length;){var c=r[n++],h=r[n++];isNaN(c)||isNaN(h)||(l&&!l.contain(c,h)||(a.x=c-i[0]/2,a.y=h-i[1]/2,a.width=i[0],a.height=i[1],o.buildPath(t,a,!0)))}this.incremental&&(this._off=n,this.notClear=!0)}},e.prototype.afterBrush=function(){var t,e=this.shape,n=e.points,r=e.size,i=this._ctx,o=this.softClipShape;if(i){for(t=this._off;t<n.length;){var a=n[t++],s=n[t++];isNaN(a)||isNaN(s)||(o&&!o.contain(a,s)||i.fillRect(a-r[0]/2,s-r[1]/2,r[0],r[1]))}this.incremental&&(this._off=t,this.notClear=!0)}},e.prototype.findDataIndex=function(t,e){for(var n=this.shape,r=n.points,i=n.size,o=Math.max(i[0],4),a=Math.max(i[1],4),s=r.length/2-1;s>=0;s--){var u=2*s,l=r[u]-o/2,c=r[u+1]-a/2;if(t>=l&&e>=c&&t<=l+o&&e<=c+a)return s}return-1},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect();return t=n[0],e=n[1],r.contain(t,e)?(this.hoverDataIdx=this.findDataIndex(t,e))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape,n=e.points,r=e.size,i=r[0],o=r[1],a=1/0,s=1/0,u=-1/0,l=-1/0,c=0;c<n.length;){var h=n[c++],d=n[c++];a=Math.min(h,a),u=Math.max(h,u),s=Math.min(d,s),l=Math.max(d,l)}t=this._rect=new Tt(a-i/2,s-o/2,u-a+i,l-s+o)}return t},e}(Qo),N_=function(){function t(){this.group=new tr}return t.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,e)},t.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(t){if(null!=t.startIndex){var n=2*(t.endIndex-t.startIndex),r=4*t.startIndex*2;e=new Float32Array(e.buffer,r,n)}t.setShape("points",e),t.reset()})},t.prototype.incrementalPrepareUpdate=function(t){this._clear()},t.prototype.incrementalUpdate=function(t,e,n){var r=this._newAdded[0],i=e.getLayout("points"),o=r&&r.shape.points;if(o&&o.length<2e4){var a=o.length,s=new Float32Array(a+i.length);s.set(o),s.set(i,a),r.endIndex=t.end,r.setShape({points:s})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:i}),this._setCommon(u,e,n)}},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new P_({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},t.prototype._setCommon=function(t,e,n){var r=e.hostModel;n=n||{};var i=e.getVisual("symbolSize");t.setShape("size",i instanceof Array?i:[i,i]),t.softClipShape=n.clipShape||null,t.symbolProxy=Eg(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<4;t.useStyle(r.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var a=e.getVisual("style"),s=a&&a.fill;s&&t.setColor(s);var u=Ia(t);u.seriesIndex=r.seriesIndex,t.on("mousemove",function(e){u.dataIndex=null;var n=t.hoverDataIdx;n>=0&&(u.dataIndex=n+(t.startIndex||0))})},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),R_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n){var r=t.getData();this._updateSymbolDraw(r,t).updateData(r,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var r=t.getData();this._updateSymbolDraw(r,t).incrementalPrepareUpdate(r),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},e.prototype.updateTransform=function(t,e,n){var r=t.getData();if(this.group.dirty(),!this._finished||r.count()>1e4)return{update:!0};var i=zw("").reset(t,e,n);i.progress&&i.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout(r)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get("clip",!0)?n:null},e.prototype._updateSymbolDraw=function(t,e){var n=this._symbolDraw,r=e.pipelineContext.large;return n&&r===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=r?new N_:new fw,this._isLargeDraw=r,this.group.removeAll()),this.group.add(n.group),n},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(wp),B_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(_h),z_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",ri).models[0]},e.type="cartesian2dAxis",e}(_h);g.K(z_,_b);var F_={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},G_=g.I({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},F_),V_=g.I({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},F_),U_={category:G_,value:V_,time:g.I({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},V_),log:g.i({logBase:10},V_)},W_={value:1,category:1,time:1,log:1};function H_(t,e,n,r){Object(g.k)(W_,function(i,o){var a=Object(g.I)(Object(g.I)({},U_[o],!0),r,!0),s=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e+"Axis."+o,n}return Object(f.__extends)(n,t),n.prototype.mergeDefaultAndTheme=function(t,e){var n=yh(this),r=n?bh(t):{},i=e.getTheme();Object(g.I)(t,i.get(o+"Axis")),Object(g.I)(t,this.getDefaultOption()),t.type=Y_(t),n&&mh(t,r,n)},n.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=mm.createByAxisModel(this))},n.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=e+"Axis."+o,n.defaultOption=a,n}(n);t.registerComponentModel(s)}),t.registerSubTypeDefaulter(e+"Axis",Y_)}function Y_(t){return t.type||(t.data?"category":"value")}var X_=["x","y"];function q_(t){return"interval"===t.type||"time"===t.type}var Q_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=X_,e}return Object(f.__extends)(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(q_(t)&&q_(e)){var n=t.getExtent(),r=e.getExtent(),i=this.dataToPoint([n[0],r[0]]),o=this.dataToPoint([n[1],r[1]]),a=n[1]-n[0],s=r[1]-r[0];if(a&&s){var u=(o[0]-i[0])/a,l=(o[1]-i[1])/s,c=i[0]-n[0]*u,h=i[1]-r[0]*l,d=this._transform=[u,0,0,l,c,h];this._invTransform=xt([],d)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,e){var n=this.dataToPoint(t),r=this.dataToPoint(e),i=this.getArea(),o=new Tt(n[0],n[1],r[0]-n[0],r[1]-n[1]);return i.intersect(o)},e.prototype.dataToPoint=function(t,e,n){n=n||[];var r=t[0],i=t[1];if(this._transform&&null!=r&&isFinite(r)&&null!=i&&isFinite(i))return B(n,t,this._transform);var o=this.getAxis("x"),a=this.getAxis("y");return n[0]=o.toGlobalCoord(o.dataToCoord(r,e)),n[1]=a.toGlobalCoord(a.dataToCoord(i,e)),n},e.prototype.clampData=function(t,e){var n=this.getAxis("x").scale,r=this.getAxis("y").scale,i=n.getExtent(),o=r.getExtent(),a=n.parse(t[0]),s=r.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(i[0],i[1]),a),Math.max(i[0],i[1])),e[1]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),e},e.prototype.pointToData=function(t,e){var n=[];if(this._invTransform)return B(n,t,this._invTransform);var r=this.getAxis("x"),i=this.getAxis("y");return n[0]=r.coordToData(r.toLocalCoord(t[0]),e),n[1]=i.coordToData(i.toLocalCoord(t[1]),e),n},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1]),r=Math.min(e[0],e[1]),i=Math.max(t[0],t[1])-n,o=Math.max(e[0],e[1])-r;return new Tt(n,r,i,o)},e}(function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return g.H(this._dimList,function(t){return this._axes[t]},this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),g.n(this.getAxes(),function(e){return e.scale.type===t})},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}()),Z_=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r)||this;return a.index=0,a.type=i||"value",a.position=o||"bottom",a}return Object(f.__extends)(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(tx);function K_(t,e,n){n=n||{};var r=t.coordinateSystem,i=e.axis,o={},a=i.getAxesOnZeroOf()[0],s=i.position,u=a?"onZero":s,l=i.dim,c=r.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],d={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,p="x"===l?[h[2]-f,h[3]+f]:[h[0]-f,h[1]+f];if(a){var v=a.toGlobalCoord(a.dataToCoord(0));p[d.onZero]=Math.max(Math.min(v,p[1]),p[0])}o.position=["y"===l?p[d[u]]:h[0],"x"===l?p[d[u]]:h[3]],o.rotation=Math.PI/2*("x"===l?0:1);o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?p[d[s]]-p[d.onZero]:0,e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),g.O(n.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var y=e.get(["axisLabel","rotate"]);return o.labelRotate="top"===u?-y:y,o.z2=1,o}function J_(t){return"cartesian2d"===t.get("coordinateSystem")}function $_(t){var e={xAxisModel:null,yAxisModel:null};return g.k(e,function(n,r){var i=r.replace(/Model$/,""),o=t.getReferringComponents(i,ri).models[0];e[r]=o}),e}var tM=Math.log;function eM(t,e,n){var r=Tm.prototype,i=r.getTicks.call(n),o=r.getTicks.call(n,!0),a=i.length-1,s=r.getInterval.call(n),u=gb(t,e),l=u.extent,c=u.fixMin,h=u.fixMax;if("log"===t.type){var d=tM(t.base);l=[tM(l[0])/d,tM(l[1])/d]}t.setExtent(l[0],l[1]),t.calcNiceExtent({splitNumber:a,fixMin:c,fixMax:h});var f=r.getExtent.call(t);c&&(l[0]=f[0]),h&&(l[1]=f[1]);var p=r.getInterval.call(t),g=l[0],v=l[1];if(c&&h)p=(v-g)/a;else if(c)for(v=l[0]+p*a;v<l[1]&&isFinite(v)&&isFinite(l[1]);)p=Am(p),v=l[0]+p*a;else if(h)for(g=l[1]-p*a;g>l[0]&&isFinite(g)&&isFinite(l[0]);)p=Am(p),g=l[1]-p*a;else{t.getTicks().length-1>a&&(p=Am(p));var y=p*a;(g=pr((v=Math.ceil(l[1]/p)*p)-y))<0&&l[0]>=0?(g=0,v=pr(y)):v>0&&l[1]<=0&&(v=0,g=-pr(y))}var m=(i[0].value-o[0].value)/s,b=(i[a].value-o[a].value)/s;r.setExtent.call(t,g+p*m,v+p*b),r.setInterval.call(t,p),(m||b)&&r.setNiceExtent.call(t,g+p,v-p)}function nM(t,e){return t.getCoordSysModel()===e}function rM(t,e,n,r){n.getAxesOnZeroOf=function(){return i?[i]:[]};var i,o=t[e],a=n.model,s=a.get(["axisLine","onZero"]),u=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=u)iM(o[u])&&(i=o[u]);else for(var l in o)if(o.hasOwnProperty(l)&&iM(o[l])&&!r[c(o[l])]){i=o[l];break}i&&(r[c(i)]=!0)}function c(t){return t.dim+"_"+t.index}}function iM(t){return t&&"category"!==t.type&&"time"!==t.type&&function(t){var e=t.scale.getExtent(),n=e[0],r=e[1];return!(n>0&&r>0||n<0&&r<0)}(t)}var oM=function(){function t(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=X_,this._initCartesian(t,e,n),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var n=this._axesMap;function r(t){var e,n=Object(g.F)(t),r=n.length;if(r){for(var i=[],o=r-1;o>=0;o--){var a=t[+n[o]],s=a.model,u=a.scale;bm(u)&&s.get("alignTicks")&&null==s.get("interval")?i.push(a):(vb(u,s),bm(u)&&(e=a))}i.length&&(e||vb((e=i.pop()).scale,e.model),Object(g.k)(i,function(t){eM(t.scale,t.model,e.scale)}))}}this._updateScale(t,this.model),r(n.x),r(n.y);var i={};Object(g.k)(n.x,function(t){rM(n,"y",t,i)}),Object(g.k)(n.y,function(t){rM(n,"x",t,i)}),this.resize(this.model,e)},t.prototype.resize=function(t,e,n){var r=t.getBoxLayoutParams(),i=!n&&t.get("containLabel"),o=gh(r,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var a=this._axesList;function s(){Object(g.k)(a,function(t){var e=t.isHorizontal(),n=e?[0,o.width]:[0,o.height],r=t.inverse?1:0;t.setExtent(n[r],n[1-r]),function(t,e){var n=t.getExtent(),r=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return r-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return r-t+e}}(t,e?o.x:o.y)})}s(),i&&(Object(g.k)(a,function(t){if(!t.model.get(["axisLabel","inside"])){var e=function(t){var e=t.model,n=t.scale;if(e.get(["axisLabel","show"])&&!n.isBlank()){var r,i,o=n.getExtent();i=n instanceof Em?n.count():(r=n.getTicks()).length;var a,s,u,l,c,h,d,f,p=t.getLabelModel(),g=mb(t),v=1;i>40&&(v=Math.ceil(i/40));for(var y=0;y<i;y+=v){var m=g(r?r[y]:{value:o[0]+y},y),b=p.getTextRect(m),x=(s=b,u=p.get("rotate")||0,l=u*Math.PI/180,c=s.width,h=s.height,d=c*Math.abs(Math.cos(l))+Math.abs(h*Math.sin(l)),f=c*Math.abs(Math.sin(l))+Math.abs(h*Math.cos(l)),new Tt(s.x,s.y,d,f));a?a.union(x):a=x}return a}}(t);if(e){var n=t.isHorizontal()?"height":"width",r=t.model.get(["axisLabel","margin"]);o[n]-=e[n]+r,"top"===t.position?o.y+=e.height+r:"left"===t.position&&(o.x+=e.width+r)}}}),s()),Object(g.k)(this._coordsList,function(t){t.calcAffineTransform()})},t.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n)return n[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}Object(g.A)(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,i=this._coordsList;r<i.length;r++)if(i[r].getAxis("x").index===t||i[r].getAxis("y").index===e)return i[r]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,n){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(t,e,n){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(t){var e,n,r=t.seriesModel,i=t.xAxisModel||r&&r.getReferringComponents("xAxis",ri).models[0],o=t.yAxisModel||r&&r.getReferringComponents("yAxis",ri).models[0],a=t.gridModel,s=this._coordsList;if(r)e=r.coordinateSystem,Object(g.r)(s,e)<0&&(e=null);else if(i&&o)e=this.getCartesian(i.componentIndex,o.componentIndex);else if(i)n=this.getAxis("x",i.componentIndex);else if(o)n=this.getAxis("y",o.componentIndex);else if(a){a.coordinateSystem===this&&(e=this._coordsList[0])}return{cartesian:e,axis:n}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,n){var r=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},s={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function u(e){return function(n,r){if(nM(n,t)){var u=n.get("position");"x"===e?"top"!==u&&"bottom"!==u&&(u=o.bottom?"top":"bottom"):"left"!==u&&"right"!==u&&(u=o.left?"right":"left"),o[u]=!0;var l=new Z_(e,yb(n),[0,0],n.get("type"),u),c="category"===l.type;l.onBand=c&&n.get("boundaryGap"),l.inverse=n.get("inverse"),n.axis=l,l.model=n,l.grid=i,l.index=r,i._axesList.push(l),a[e][r]=l,s[e]++}}}this._axesMap=a,Object(g.k)(a.x,function(e,n){Object(g.k)(a.y,function(i,o){var a="x"+n+"y"+o,s=new Q_(a);s.master=r,s.model=t,r._coordsMap[a]=s,r._coordsList.push(s),s.addAxis(e),s.addAxis(i)})})},t.prototype._updateScale=function(t,e){function n(t,e){Object(g.k)(wb(t,e.dim),function(n){e.scale.unionExtentFromData(t,n)})}Object(g.k)(this._axesList,function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}}),t.eachSeries(function(t){if(J_(t)){var r=$_(t),i=r.xAxisModel,o=r.yAxisModel;if(!nM(i,e)||!nM(o,e))return;var a=this.getCartesian(i.componentIndex,o.componentIndex),s=t.getData(),u=a.getAxis("x"),l=a.getAxis("y");n(s,u),n(s,l)}},this)},t.prototype.getTooltipAxes=function(t){var e=[],n=[];return Object(g.k)(this.getCartesians(),function(r){var i=null!=t&&"auto"!==t?r.getAxis(t):r.getBaseAxis(),o=r.getOtherAxis(i);Object(g.r)(e,i)<0&&e.push(i),Object(g.r)(n,o)<0&&n.push(o)}),{baseAxes:e,otherAxes:n}},t.create=function(e,n){var r=[];return e.eachComponent("grid",function(i,o){var a=new t(i,e,n);a.name="grid_"+o,a.resize(i,n,!0),i.coordinateSystem=a,r.push(a)}),e.eachSeries(function(t){if(J_(t)){var e=$_(t),n=e.xAxisModel,r=e.yAxisModel,i=n.getCoordSysModel();0;var o=i.coordinateSystem;t.coordinateSystem=o.getCartesian(n.componentIndex,r.componentIndex)}}),r},t.dimensions=X_,t}(),aM=Math.PI,sM=function(){function t(t,e){this.group=new tr,this.opt=e,this.axisModel=t,Object(g.i)(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new tr({x:e.position[0],y:e.position[1],rotation:e.rotation});n.updateTransform(),this._transformGroup=n}return t.prototype.hasBuilder=function(t){return!!uM[t]},t.prototype.add=function(t){uM[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,e,n){var r,i,o=_r(e-t);return Mr(o)?(i=n>0?"top":"bottom",r="center"):Mr(o-aM)?(i=n>0?"bottom":"top",r="center"):(i="middle",r=o>0&&o<aM?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:r,textVerticalAlign:i}},t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},t}(),uM={axisLine:function(t,e,n,r){var i=e.get(["axisLine","show"]);if("auto"===i&&t.handleAutoShown&&(i=t.handleAutoShown("axisLine")),i){var o=e.axis.getExtent(),a=r.transform,s=[o[0],0],u=[o[1],0],l=s[0]>u[0];a&&(B(s,s,a),B(u,u,a));var c=Object(g.m)({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new Tu({shape:{x1:s[0],y1:s[1],x2:u[0],y2:u[1]},style:c,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});xl(h.shape,h.style.lineWidth),h.anid="line",n.add(h);var d=e.get(["axisLine","symbol"]);if(null!=d){var f=e.get(["axisLine","symbolSize"]);Object(g.C)(d)&&(d=[d,d]),(Object(g.C)(f)||Object(g.z)(f))&&(f=[f,f]);var p=kg(e.get(["axisLine","symbolOffset"])||0,f),v=f[0],y=f[1];Object(g.k)([{rotate:t.rotation+Math.PI/2,offset:p[0],r:0},{rotate:t.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-u[0])*(s[0]-u[0])+(s[1]-u[1])*(s[1]-u[1]))}],function(e,r){if("none"!==d[r]&&null!=d[r]){var i=Eg(d[r],-v/2,-y/2,v,y,c.stroke,!0),o=e.r+e.offset,a=l?u:s;i.attr({rotation:e.rotate,x:a[0]+o*Math.cos(t.rotation),y:a[1]-o*Math.sin(t.rotation),silent:!0,z2:11}),n.add(i)}})}}},axisTickLabel:function(t,e,n,r){var i=function(t,e,n,r){var i=n.axis,o=n.getModel("axisTick"),a=o.get("show");"auto"===a&&r.handleAutoShown&&(a=r.handleAutoShown("axisTick"));if(!a||i.scale.isBlank())return;for(var s=o.getModel("lineStyle"),u=r.tickDirection*o.get("length"),l=dM(i.getTicksCoords(),e.transform,u,Object(g.i)(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<l.length;c++)t.add(l[c]);return l}(n,r,e,t),o=function(t,e,n,r){var i=n.axis;if(!Object(g.O)(r.axisLabelShow,n.get(["axisLabel","show"]))||i.scale.isBlank())return;var o=n.getModel("axisLabel"),a=o.get("margin"),s=i.getViewLabels(),u=(Object(g.O)(r.labelRotate,o.get("rotate"))||0)*aM/180,l=sM.innerTextLayout(r.rotation,u,r.labelDirection),c=n.getCategories&&n.getCategories(!0),h=[],d=sM.isLabelSilent(n),f=n.get("triggerEvent");return Object(g.k)(s,function(s,u){var p="ordinal"===i.scale.type?i.scale.getRawOrdinalNumber(s.tickValue):s.tickValue,v=s.formattedLabel,y=s.rawLabel,m=o;if(c&&c[p]){var b=c[p];Object(g.A)(b)&&b.textStyle&&(m=new hc(b.textStyle,o,n.ecModel))}var x=m.getTextColor()||n.get(["axisLine","lineStyle","color"]),A=i.dataToCoord(p),w=new Oa({x:A,y:r.labelOffset+r.labelDirection*a,rotation:l.rotation,silent:d,z2:10+(s.level||0),style:Vl(m,{text:v,align:m.getShallow("align",!0)||l.textAlign,verticalAlign:m.getShallow("verticalAlign",!0)||m.getShallow("baseline",!0)||l.textVerticalAlign,fill:Object(g.w)(x)?x("category"===i.type?y:"value"===i.type?p+"":p,u):x})});if(w.anid="label_"+p,f){var _=sM.makeAxisEventDataBase(n);_.targetType="axisLabel",_.value=y,_.tickIndex=u,"category"===i.type&&(_.dataIndex=p),Ia(w).eventData=_}e.add(w),w.updateTransform(),h.push(w),t.add(w),w.decomposeTransform()}),h}(n,r,e,t);((function(t,e,n){if(Ab(t.axis))return;var r=t.get(["axisLabel","showMinLabel"]),i=t.get(["axisLabel","showMaxLabel"]);e=e||[],n=n||[];var o=e[0],a=e[1],s=e[e.length-1],u=e[e.length-2],l=n[0],c=n[1],h=n[n.length-1],d=n[n.length-2];!1===r?(lM(o),lM(l)):cM(o,a)&&(r?(lM(a),lM(c)):(lM(o),lM(l)));!1===i?(lM(s),lM(h)):cM(u,s)&&(i?(lM(u),lM(d)):(lM(s),lM(h)))})(e,o,i),function(t,e,n,r){var i=n.axis,o=n.getModel("minorTick");if(!o.get("show")||i.scale.isBlank())return;var a=i.getMinorTicksCoords();if(!a.length)return;for(var s=o.getModel("lineStyle"),u=r*o.get("length"),l=Object(g.i)(s.getLineStyle(),Object(g.i)(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),c=0;c<a.length;c++)for(var h=dM(a[c],e.transform,u,l,"minorticks_"+c),d=0;d<h.length;d++)t.add(h[d])}(n,r,e,t.tickDirection),e.get(["axisLabel","hideOverlap"]))&&Dx(Cx(Object(g.H)(o,function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}})))},axisName:function(t,e,n,r){var i=Object(g.O)(t.axisName,e.get("name"));if(i){var o,a,s=e.get("nameLocation"),u=t.nameDirection,l=e.getModel("nameTextStyle"),c=e.get("nameGap")||0,h=e.axis.getExtent(),d=h[0]>h[1]?-1:1,f=["start"===s?h[0]-d*c:"end"===s?h[1]+d*c:(h[0]+h[1])/2,hM(s)?t.labelOffset+u*c:0],p=e.get("nameRotate");null!=p&&(p=p*aM/180),hM(s)?o=sM.innerTextLayout(t.rotation,null!=p?p:t.rotation,u):(o=function(t,e,n,r){var i,o,a=_r(n-t),s=r[0]>r[1],u="start"===e&&!s||"start"!==e&&s;Mr(a-aM/2)?(o=u?"bottom":"top",i="center"):Mr(a-1.5*aM)?(o=u?"top":"bottom",i="center"):(o="middle",i=a<1.5*aM&&a>aM/2?u?"left":"right":u?"right":"left");return{rotation:a,textAlign:i,textVerticalAlign:o}}(t.rotation,s,p||0,h),null!=(a=t.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(o.rotation)),!isFinite(a)&&(a=null)));var v=l.getFont(),y=e.get("nameTruncate",!0)||{},m=y.ellipsis,b=Object(g.O)(t.nameTruncateMaxWidth,y.maxWidth,a),x=new Oa({x:f[0],y:f[1],rotation:o.rotation,silent:sM.isLabelSilent(e),style:Vl(l,{text:i,font:v,overflow:"truncate",width:b,ellipsis:m,fill:l.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:l.get("align")||o.textAlign,verticalAlign:l.get("verticalAlign")||o.textVerticalAlign}),z2:1});if(Ll({el:x,componentModel:e,itemName:i}),x.__fullText=i,x.anid="name",e.get("triggerEvent")){var A=sM.makeAxisEventDataBase(e);A.targetType="axisName",A.name=i,Ia(x).eventData=A}r.add(x),x.updateTransform(),n.add(x),x.decomposeTransform()}}};function lM(t){t&&(t.ignore=!0)}function cM(t,e){var n=t&&t.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(n&&r){var i=pt([]);return mt(i,i,-t.rotation),n.applyTransform(vt([],i,t.getLocalTransform())),r.applyTransform(vt([],i,e.getLocalTransform())),n.intersect(r)}}function hM(t){return"middle"===t||"center"===t}function dM(t,e,n,r,i){for(var o=[],a=[],s=[],u=0;u<t.length;u++){var l=t[u].coord;a[0]=l,a[1]=0,s[0]=l,s[1]=n,e&&(B(a,a,e),B(s,s,e));var c=new Tu({shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});xl(c.shape,c.style.lineWidth),c.anid=i+"_"+t[u].tickValue,o.push(c)}return o}var fM=sM;function pM(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,n){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),o=i.get("link",!0)||[],a=[];Object(g.k)(n.getCoordinateSystems(),function(n){if(n.axisPointerEnabled){var s=mM(n.model),u=t.coordSysAxesInfo[s]={};t.coordSysMap[s]=n;var l=n.model,c=l.getModel("tooltip",r);if(Object(g.k)(n.getAxes(),Object(g.h)(p,!1,null)),n.getTooltipAxes&&r&&c.get("show")){var h="axis"===c.get("trigger"),d="cross"===c.get(["axisPointer","type"]),f=n.getTooltipAxes(c.get(["axisPointer","axis"]));(h||d)&&Object(g.k)(f.baseAxes,Object(g.h)(p,!d||"cross",h)),d&&Object(g.k)(f.otherAxes,Object(g.h)(p,"cross",!1))}}function p(r,s,l){var h=l.model.getModel("axisPointer",i),d=h.get("show");if(d&&("auto"!==d||r||yM(h))){null==s&&(s=h.get("triggerTooltip"));var f=(h=r?function(t,e,n,r,i,o){var a=e.getModel("axisPointer"),s={};Object(g.k)(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){s[t]=Object(g.d)(a.get(t))}),s.snap="category"!==t.type&&!!o,"cross"===a.get("type")&&(s.type="line");var u=s.label||(s.label={});if(null==u.show&&(u.show=!1),"cross"===i){var l=a.get(["label","show"]);if(u.show=null==l||l,!o){var c=s.lineStyle=a.get("crossStyle");c&&Object(g.i)(u,c.textStyle)}}return t.model.getModel("axisPointer",new hc(s,n,r))}(l,c,i,e,r,s):h).get("snap"),p=mM(l.model),v=s||f||"category"===l.type,y=t.axesInfo[p]={key:p,axis:l,coordSys:n,axisPointerModel:h,triggerTooltip:s,involveSeries:v,snap:f,useHandle:yM(h),seriesModels:[],linkGroup:null};u[p]=y,t.seriesInvolved=t.seriesInvolved||v;var m=function(t,e){for(var n=e.model,r=e.dim,i=0;i<t.length;i++){var o=t[i]||{};if(gM(o[r+"AxisId"],n.id)||gM(o[r+"AxisIndex"],n.componentIndex)||gM(o[r+"AxisName"],n.name))return i}}(o,l);if(null!=m){var b=a[m]||(a[m]={axesInfo:{}});b.axesInfo[p]=y,b.mapper=o[m].mapper,y.linkGroup=b}}}})}(n,t,e),n.seriesInvolved&&function(t,e){e.eachSeries(function(e){var n=e.coordinateSystem,r=e.get(["tooltip","trigger"],!0),i=e.get(["tooltip","show"],!0);n&&"none"!==r&&!1!==r&&"item"!==r&&!1!==i&&!1!==e.get(["axisPointer","show"],!0)&&Object(g.k)(t.coordSysAxesInfo[mM(n.model)],function(t){var r=t.axis;n.getAxis(r.dim)===r&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())})})}(n,t),n}function gM(t,e){return"all"===t||Object(g.t)(t)&&Object(g.r)(t,e)>=0||t===e}function vM(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[mM(t)]}function yM(t){return!!t.get(["handle","show"])}function mM(t){return t.type+"||"+t.id}var bM={},xM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(e,n,r,i){this.axisPointerClass&&function(t){var e=vM(t);if(e){var n=e.axisPointerModel,r=e.axis.scale,i=n.option,o=n.get("status"),a=n.get("value");null!=a&&(a=r.parse(a));var s=yM(n);null==o&&(i.status=s?"show":"hide");var u=r.getExtent().slice();u[0]>u[1]&&u.reverse(),(null==a||a>u[1])&&(a=u[1]),a<u[0]&&(a=u[0]),i.value=a,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}(e),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,r,!0)},e.prototype.updateAxisPointer=function(t,e,n,r){this._doUpdateAxisPointerClass(t,n,!1)},e.prototype.remove=function(t,e){var n=this._axisPointer;n&&n.remove(e)},e.prototype.dispose=function(e,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,n,r){var i=e.getAxisPointerClass(this.axisPointerClass);if(i){var o=function(t){var e=vM(t);return e&&e.axisPointerModel}(t);o?(this._axisPointer||(this._axisPointer=new i)).render(t,o,n,r):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,e){bM[t]=e},e.getAxisPointerClass=function(t){return t&&bM[t]},e.type="axis",e}(dp),AM=$r();function wM(t,e,n,r){var i=n.axis;if(!i.scale.isBlank()){var o=n.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),u=r.coordinateSystem.getRect(),l=i.getTicksCoords({tickModel:o,clamp:!0});if(l.length){var c=s.length,h=AM(t).splitAreaColors,d=g.f(),f=0;if(h)for(var p=0;p<l.length;p++){var v=h.get(l[p].tickValue);if(null!=v){f=(v+(c-1)*p)%c;break}}var y=i.toGlobalCoord(l[0].coord),m=a.getAreaStyle();s=g.t(s)?s:[s];for(p=1;p<l.length;p++){var b=i.toGlobalCoord(l[p].coord),x=void 0,A=void 0,w=void 0,_=void 0;i.isHorizontal()?(x=y,A=u.y,w=b-x,_=u.height,y=x+w):(x=u.x,A=y,w=u.width,y=A+(_=b-A));var M=l[p-1].tickValue;null!=M&&d.set(M,f),e.add(new ca({anid:null!=M?"area_"+M:null,shape:{x:x,y:A,width:w,height:_},style:g.i({fill:s[f]},m),autoBatch:!0,silent:!0})),f=(f+1)%c}AM(t).splitAreaColors=d}}}function _M(t){AM(t).splitAreaColors=null}var MM=["axisLine","axisTickLabel","axisName"],SM=["splitArea","splitLine","minorSplitLine"],OM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="CartesianAxisPointer",n}return Object(f.__extends)(e,t),e.prototype.render=function(e,n,r,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new tr,this.group.add(this._axisGroup),e.get("show")){var a=e.getCoordSysModel(),s=K_(a,e),u=new fM(e,g.m({handleAutoShown:function(t){for(var n=a.coordinateSystem.getCartesians(),r=0;r<n.length;r++)if(bm(n[r].getOtherAxis(e.axis).scale))return!0;return!1}},s));g.k(MM,u.add,u),this._axisGroup.add(u.getGroup()),g.k(SM,function(t){e.get([t,"show"])&&IM[t](this,this._axisGroup,e,a)},this),i&&"changeAxisOrder"===i.type&&i.isInitSort||Il(o,this._axisGroup,e),t.prototype.render.call(this,e,n,r,i)}},e.prototype.remove=function(){_M(this)},e.type="cartesianAxis",e}(xM),IM={splitLine:function(t,e,n,r){var i=n.axis;if(!i.scale.isBlank()){var o=n.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=g.t(s)?s:[s];for(var u=r.coordinateSystem.getRect(),l=i.isHorizontal(),c=0,h=i.getTicksCoords({tickModel:o}),d=[],f=[],p=a.getLineStyle(),v=0;v<h.length;v++){var y=i.toGlobalCoord(h[v].coord);l?(d[0]=y,d[1]=u.y,f[0]=y,f[1]=u.y+u.height):(d[0]=u.x,d[1]=y,f[0]=u.x+u.width,f[1]=y);var m=c++%s.length,b=h[v].tickValue,x=new Tu({anid:null!=b?"line_"+h[v].tickValue:null,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},style:g.i({stroke:s[m]},p),silent:!0});xl(x.shape,p.lineWidth),e.add(x)}}},minorSplitLine:function(t,e,n,r){var i=n.axis,o=n.getModel("minorSplitLine").getModel("lineStyle"),a=r.coordinateSystem.getRect(),s=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var l=[],c=[],h=o.getLineStyle(),d=0;d<u.length;d++)for(var f=0;f<u[d].length;f++){var p=i.toGlobalCoord(u[d][f].coord);s?(l[0]=p,l[1]=a.y,c[0]=p,c[1]=a.y+a.height):(l[0]=a.x,l[1]=p,c[0]=a.x+a.width,c[1]=p);var g=new Tu({anid:"minor_line_"+u[d][f].tickValue,autoBatch:!0,shape:{x1:l[0],y1:l[1],x2:c[0],y2:c[1]},style:h,silent:!0});xl(g.shape,h.lineWidth),e.add(g)}},splitArea:function(t,e,n,r){wM(t,e,n,r)}},EM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.type="xAxis",e}(OM),CM=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=EM.type,e}return Object(f.__extends)(e,t),e.type="yAxis",e}(OM),kM=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="grid",e}return Object(f.__extends)(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new ca({shape:t.coordinateSystem.getRect(),style:Object(g.i)({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(dp),TM={offset:0};function DM(t){t.registerComponentView(kM),t.registerComponentModel(B_),t.registerCoordinateSystem("cartesian2d",oM),H_(t,"x",z_,TM),H_(t,"y",z_,TM),t.registerComponentView(EM),t.registerComponentView(CM),t.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function jM(t){t.eachSeriesByType("radar",function(t){var e=t.getData(),n=[],r=t.coordinateSystem;if(r){var i=r.getIndicatorAxes();g.k(i,function(t,o){e.each(e.mapDimension(i[o].dim),function(t,e){n[e]=n[e]||[];var i=r.dataToPoint(t,o);n[e][o]=LM(i)?i:PM(r)})}),e.each(function(t){var i=g.o(n[t],function(t){return LM(t)})||PM(r);n[t].push(i.slice()),e.setItemLayout(t,n[t])})}})}function LM(t){return!isNaN(t[0])&&!isNaN(t[1])}function PM(t){return[t.cx,t.cy]}function NM(t){var e=t.polar;if(e){g.t(e)||(e=[e]);var n=[];g.k(e,function(e,r){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],g.t(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):n.push(e)}),t.polar=n}g.k(t.series,function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})}var RM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n){var r=t.coordinateSystem,i=this.group,o=t.getData(),s=this._data;function u(t,e){var n=t.getItemVisual(e,"symbol")||"circle";if("none"!==n){var r=Cg(t.getItemVisual(e,"symbolSize")),i=Eg(n,-1,-1,2,2),o=t.getItemVisual(e,"symbolRotate")||0;return i.attr({style:{strokeNoScale:!0},z2:100,scaleX:r[0]/2,scaleY:r[1]/2,rotation:o*Math.PI/180||0}),i}}function l(e,n,r,i,o,s){r.removeAll();for(var l=0;l<n.length-1;l++){var c=u(i,o);c&&(c.__dimIdx=l,e[l]?(c.setPosition(e[l]),a[s?"initProps":"updateProps"](c,{x:n[l][0],y:n[l][1]},t,o)):c.setPosition(n[l]),r.add(c))}}function c(t){return g.H(t,function(t){return[r.cx,r.cy]})}o.diff(s).add(function(e){var n=o.getItemLayout(e);if(n){var r=new Mu,i=new Iu,a={shape:{points:n}};r.shape.points=c(n),i.shape.points=c(n),el(r,a,t,e),el(i,a,t,e);var s=new tr,u=new tr;s.add(i),s.add(r),s.add(u),l(i.shape.points,n,u,o,e,!0),o.setItemGraphicEl(e,s)}}).update(function(e,n){var r=s.getItemGraphicEl(n),i=r.childAt(0),a=r.childAt(1),u=r.childAt(2),c={shape:{points:o.getItemLayout(e)}};c.shape.points&&(l(i.shape.points,c.shape.points,u,o,e,!1),al(a),al(i),tl(i,c,t),tl(a,c,t),o.setItemGraphicEl(e,r))}).remove(function(t){i.remove(s.getItemGraphicEl(t))}).execute(),o.eachItemGraphicEl(function(t,e){var n=o.getItemModel(e),r=t.childAt(0),a=t.childAt(1),s=t.childAt(2),u=o.getItemVisual(e,"style"),l=u.fill;i.add(t),r.useStyle(g.i(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:l})),Ss(r,n,"lineStyle"),Ss(a,n,"areaStyle");var c=n.getModel("areaStyle"),h=c.isEmpty()&&c.parentModel.isEmpty();a.ignore=h,g.k(["emphasis","select","blur"],function(t){var e=n.getModel([t,"areaStyle"]),r=e.isEmpty()&&e.parentModel.isEmpty();a.ensureState(t).ignore=r&&h}),a.useStyle(g.i(c.getAreaStyle(),{fill:l,opacity:.7,decal:u.decal}));var d=n.getModel("emphasis"),f=d.getModel("itemStyle").getItemStyle();s.eachChild(function(t){if(t instanceof na){var r=t.style;t.useStyle(g.m({image:r.image,x:r.x,y:r.y,width:r.width,height:r.height},u))}else t.useStyle(u),t.setColor(l),t.style.strokeNoScale=!0;t.ensureState("emphasis").style=g.d(f);var i=o.getStore().get(o.getDimensionIndex(t.__dimIdx),e);(null==i||isNaN(i))&&(i=""),Fl(t,Gl(n),{labelFetcher:o.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:i,inheritColor:l,defaultOpacity:u.opacity})}),As(t,d.get("focus"),d.get("blurScope"),d.get("disabled"))}),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(wp),BM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(f.__extends)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new k_(g.c(this.getData,this),g.c(this.getRawData,this))},e.prototype.getInitialData=function(t,e){return C_(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,e,n){var r=this.getData(),i=this.coordinateSystem.getIndicatorAxes(),o=this.getData().getName(t),a=""===o?this.name:o,s=Qf(this,t);return Gf("section",{header:a,sortBlocks:!0,blocks:g.H(i,function(e){var n=r.get(r.mapDimension(e.dim),t);return Gf("nameValue",{markerType:"subItem",markerColor:s,name:e.name,value:n,sortParam:n})})})},e.prototype.getTooltipPosition=function(t){if(null!=t)for(var e=this.getData(),n=this.coordinateSystem,r=e.getValues(g.H(n.dimensions,function(t){return e.mapDimension(t)}),t),i=0,o=r.length;i<o;i++)if(!isNaN(r[i])){var a=n.getIndicatorAxes();return n.coordToPoint(a[i].dataToCoord(r[i]),i)}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(cp),zM=U_.value;function FM(t,e){return g.i({show:e},t)}var GM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),n=this.get("scale"),r=this.get("axisLine"),i=this.get("axisTick"),o=this.get("axisLabel"),a=this.get("axisName"),s=this.get(["axisName","show"]),u=this.get(["axisName","formatter"]),l=this.get("axisNameGap"),c=this.get("triggerEvent"),h=g.H(this.get("indicator")||[],function(h){null!=h.max&&h.max>0&&!h.min?h.min=0:null!=h.min&&h.min<0&&!h.max&&(h.max=0);var d=a;null!=h.color&&(d=g.i({color:h.color},a));var f=g.I(g.d(h),{boundaryGap:t,splitNumber:e,scale:n,axisLine:r,axisTick:i,axisLabel:o,name:h.text,showName:s,nameLocation:"end",nameGap:l,nameTextStyle:d,triggerEvent:c},!1);if(g.C(u)){var p=f.name;f.name=u.replace("{value}",null!=p?p:"")}else g.w(u)&&(f.name=u(f.name,f));var v=new hc(f,null,this.ecModel);return g.K(v,_b.prototype),v.mainType="radar",v.componentIndex=this.componentIndex,v},this);this._indicatorModels=h},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:g.I({lineStyle:{color:"#bbb"}},zM.axisLine),axisLabel:FM(zM.axisLabel,!1),axisTick:FM(zM.axisTick,!1),splitLine:FM(zM.splitLine,!0),splitArea:FM(zM.splitArea,!0),indicator:[]},e}(_h),VM=["axisLine","axisTickLabel","axisName"],UM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes(),r=g.H(n,function(t){var n=t.model.get("showName")?t.name:"";return new fM(t.model,{axisName:n,position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});g.k(r,function(t){g.k(VM,t.add,t),this.group.add(t.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes();if(n.length){var r=t.get("shape"),i=t.getModel("splitLine"),o=t.getModel("splitArea"),a=i.getModel("lineStyle"),s=o.getModel("areaStyle"),u=i.get("show"),l=o.get("show"),c=a.get("color"),h=s.get("color"),d=g.t(c)?c:[c],f=g.t(h)?h:[h],p=[],v=[];if("circle"===r)for(var y=n[0].getTicksCoords(),m=e.cx,b=e.cy,x=0;x<y.length;x++){if(u)p[E(p,d,x)].push(new Js({shape:{cx:m,cy:b,r:y[x].coord}}));if(l&&x<y.length-1)v[E(v,f,x)].push(new xu({shape:{cx:m,cy:b,r0:y[x].coord,r:y[x+1].coord}}))}else{var A,w=g.H(n,function(t,n){var r=t.getTicksCoords();return A=null==A?r.length-1:Math.min(r.length-1,A),g.H(r,function(t){return e.coordToPoint(t.coord,n)})}),_=[];for(x=0;x<=A;x++){for(var M=[],S=0;S<n.length;S++)M.push(w[S][x]);if(M[0]&&M.push(M[0].slice()),u)p[E(p,d,x)].push(new Iu({shape:{points:M}}));if(l&&_)v[E(v,f,x-1)].push(new Mu({shape:{points:M.concat(_)}}));_=M.slice().reverse()}}var O=a.getLineStyle(),I=s.getAreaStyle();g.k(v,function(t,e){this.group.add(ml(t,{style:g.i({stroke:"none",fill:f[e%f.length]},I),silent:!0}))},this),g.k(p,function(t,e){this.group.add(ml(t,{style:g.i({fill:"none",stroke:d[e%d.length]},O),silent:!0}))},this)}function E(t,e,n){var r=n%e.length;return t[r]=t[r]||[],r}},e.type="radar",e}(dp),WM=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.type="value",i.angle=0,i.name="",i}return Object(f.__extends)(e,t),e}(tx),HM=function(){function t(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=Object(g.H)(t.getIndicatorModels(),function(t,e){var n="indicator_"+e,r=new WM(n,new Tm);return r.name=t.get("name"),r.model=t,t.axis=r,this.dimensions.push(n),r},this),this.resize(t,n)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},t.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(n),this.cy-t*Math.sin(n)]},t.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=Math.sqrt(e*e+n*n);e/=r,n/=r;for(var i,o=Math.atan2(-n,e),a=1/0,s=-1,u=0;u<this._indicatorAxes.length;u++){var l=this._indicatorAxes[u],c=Math.abs(o-l.angle);c<a&&(i=l,s=u,a=c)}return[s,+(i&&i.coordToData(r))]},t.prototype.resize=function(t,e){var n=t.get("center"),r=e.getWidth(),i=e.getHeight(),o=Math.min(r,i)/2;this.cx=fr(n[0],r),this.cy=fr(n[1],i),this.startAngle=t.get("startAngle")*Math.PI/180;var a=t.get("radius");(Object(g.C)(a)||Object(g.z)(a))&&(a=[0,a]),this.r0=fr(a[0],o),this.r=fr(a[1],o),Object(g.k)(this._indicatorAxes,function(t,e){t.setExtent(this.r0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n},this)},t.prototype.update=function(t,e){var n=this._indicatorAxes,r=this._model;Object(g.k)(n,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(e,i){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===r){var o=e.getData();Object(g.k)(n,function(t){t.scale.unionExtentFromData(o,o.mapDimension(t.dim))})}},this);var i=r.get("splitNumber"),o=new Tm;o.setExtent(0,i),o.setInterval(1),Object(g.k)(n,function(t,e){eM(t.scale,t.model,o)})},t.prototype.convertToPixel=function(t,e,n){return console.warn("Not implemented."),null},t.prototype.convertFromPixel=function(t,e,n){return console.warn("Not implemented."),null},t.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},t.create=function(e,n){var r=[];return e.eachComponent("radar",function(i){var o=new t(i,e,n);r.push(o),i.coordinateSystem=o}),e.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=r[t.get("radarIndex")||0])}),r},t.dimensions=[],t}();function YM(t){t.registerCoordinateSystem("radar",HM),t.registerComponentModel(GM),t.registerComponentView(UM),t.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(t){e.setItemVisual(t,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}var XM="\0_ec_interaction_mutex";function qM(t,e){return!!QM(t)[e]}function QM(t){return t[XM]||(t[XM]={})}function ZM(t,e,n,r,i){t.pointerChecker&&t.pointerChecker(r,i.originX,i.originY)&&(ut(r.event),KM(t,e,n,r,i))}function KM(t,e,n,r,i){i.isAvailableBehavior=Object(g.c)(JM,null,n,r),t.trigger(e,i)}function JM(t,e,n){var r=n[t];return!t||r&&(!Object(g.C)(r)||e.event[r+"Key"])}gy({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},g.L);var $M=function(t){function e(e){var n=t.call(this)||this;n._zr=e;var r=Object(g.c)(n._mousedownHandler,n),i=Object(g.c)(n._mousemoveHandler,n),o=Object(g.c)(n._mouseupHandler,n),a=Object(g.c)(n._mousewheelHandler,n),s=Object(g.c)(n._pinchHandler,n);return n.enable=function(t,n){this.disable(),this._opt=Object(g.i)(Object(g.d)(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",r),e.on("mousemove",i),e.on("mouseup",o)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",a),e.on("pinch",s))},n.disable=function(){e.off("mousedown",r),e.off("mousemove",i),e.off("mouseup",o),e.off("mousewheel",a),e.off("pinch",s)},n}return Object(f.__extends)(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!lt(t)){for(var e=t.target;e;){if(e.draggable)return;e=e.__hostTarget||e.parent}var n=t.offsetX,r=t.offsetY;this.pointerChecker&&this.pointerChecker(t,n,r)&&(this._x=n,this._y=r,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&JM("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!qM(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,r=this._x,i=this._y,o=e-r,a=n-i;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&ut(t.event),KM(this,"pan","moveOnMouseMove",t,{dx:o,dy:a,oldX:r,oldY:i,newX:e,newY:n,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){lt(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=JM("zoomOnMouseWheel",t,this._opt),n=JM("moveOnMouseWheel",t,this._opt),r=t.wheelDelta,i=Math.abs(r),o=t.offsetX,a=t.offsetY;if(0!==r&&(e||n)){if(e){var s=i>3?1.4:i>1?1.2:1.1;ZM(this,"zoom","zoomOnMouseWheel",t,{scale:r>0?s:1/s,originX:o,originY:a,isAvailableBehavior:null})}if(n){var u=Math.abs(r);ZM(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(r>0?1:-1)*(u>3?.4:u>1?.15:.05),originX:o,originY:a,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){qM(this._zr,"globalPan")||ZM(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(U);function tS(t,e,n){var r=t.target;r.x+=e,r.y+=n,r.dirty()}function eS(t,e,n,r){var i=t.target,o=t.zoomLimit,a=t.zoom=t.zoom||1;if(a*=e,o){var s=o.min||0,u=o.max||1/0;a=Math.max(Math.min(u,a),s)}var l=a/t.zoom;t.zoom=a,i.x-=(n-i.x)*(l-1),i.y-=(r-i.y)*(l-1),i.scaleX*=l,i.scaleY*=l,i.dirty()}var nS,rS={axisPointer:1,tooltip:1,brush:1};function iS(t,e,n){var r=e.getComponentByElement(t.topTarget),i=r&&r.coordinateSystem;return r&&r!==n&&!rS.hasOwnProperty(r.mainType)&&i&&i.model!==n}function oS(t){Object(g.C)(t)&&(t=(new DOMParser).parseFromString(t,"text/xml"));var e=t;for(9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}var aS={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},sS=Object(g.F)(aS),uS={"alignment-baseline":"textBaseline","stop-color":"stopColor"},lS=Object(g.F)(uS),cS=function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(t,e){e=e||{};var n=oS(t);this._defsUsePending=[];var r=new tr;this._root=r;var i=[],o=n.getAttribute("viewBox")||"",a=parseFloat(n.getAttribute("width")||e.width),s=parseFloat(n.getAttribute("height")||e.height);isNaN(a)&&(a=null),isNaN(s)&&(s=null),vS(n,r,null,!0,!1);for(var u,l,c=n.firstChild;c;)this._parseNode(c,r,i,null,!1,!1),c=c.nextSibling;if(function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r[0].style[r[1]]=t[r[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],o){var h=xS(o);h.length>=4&&(u={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(u&&null!=a&&null!=s&&(l=SS(u,{x:0,y:0,width:a,height:s}),!e.ignoreViewBox)){var d=r;(r=new tr).add(d),d.scaleX=d.scaleY=l.scale,d.x=l.x,d.y=l.y}return e.ignoreRootClip||null==a||null==s||r.setClipPath(new ca({shape:{x:0,y:0,width:a,height:s}})),{root:r,width:a,height:s,viewBoxRect:u,viewBoxTransform:l,named:i}},t.prototype._parseNode=function(t,e,n,r,i,o){var a,s=t.nodeName.toLowerCase(),u=r;if("defs"===s&&(i=!0),"text"===s&&(o=!0),"defs"===s||"switch"===s)a=e;else{if(!i){var l=nS[s];if(l&&Object(g.q)(nS,s)){a=l.call(this,t,e);var c=t.getAttribute("name");if(c){var h={name:c,namedFrom:null,svgNodeTagLower:s,el:a};n.push(h),"g"===s&&(u=h)}else r&&n.push({name:r.name,namedFrom:r,svgNodeTagLower:s,el:a});e.add(a)}}var d=hS[s];if(d&&Object(g.q)(hS,s)){var f=d.call(this,t),p=t.getAttribute("id");p&&(this._defs[p]=f)}}if(a&&a.isGroup)for(var v=t.firstChild;v;)1===v.nodeType?this._parseNode(v,a,n,u,i,o):3===v.nodeType&&o&&this._parseText(v,a),v=v.nextSibling},t.prototype._parseText=function(t,e){var n=new Jo({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});pS(e,n),vS(t,n,this._defsUsePending,!1,!1),function(t,e){var n=e.__selfStyle;if(n){var r=n.textBaseline,i=r;r&&"auto"!==r?"baseline"===r?i="alphabetic":"before-edge"===r||"text-before-edge"===r?i="top":"after-edge"===r||"text-after-edge"===r?i="bottom":"central"!==r&&"mathematical"!==r||(i="middle"):i="alphabetic",t.style.textBaseline=i}var o=e.__inheritedStyle;if(o){var a=o.textAlign,s=a;a&&("middle"===a&&(s="center"),t.style.textAlign=s)}}(n,e);var r=n.style,i=r.fontSize;i&&i<9&&(r.fontSize=9,n.scaleX*=i/9,n.scaleY*=i/9);var o=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=o;var a=n.getBoundingRect();return this._textX+=a.width,e.add(n),n},t.internalField=void(nS={g:function(t,e){var n=new tr;return pS(e,n),vS(t,n,this._defsUsePending,!1,!1),n},rect:function(t,e){var n=new ca;return pS(e,n),vS(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,e){var n=new Js;return pS(e,n),vS(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,e){var n=new Tu;return pS(e,n),vS(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,e){var n=new eu;return pS(e,n),vS(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,e){var n,r=t.getAttribute("points");r&&(n=gS(r));var i=new Mu({shape:{points:n||[]},silent:!0});return pS(e,i),vS(t,i,this._defsUsePending,!1,!1),i},polyline:function(t,e){var n,r=t.getAttribute("points");r&&(n=gS(r));var i=new Iu({shape:{points:n||[]},silent:!0});return pS(e,i),vS(t,i,this._defsUsePending,!1,!1),i},image:function(t,e){var n=new na;return pS(e,n),vS(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,e){var n=t.getAttribute("x")||"0",r=t.getAttribute("y")||"0",i=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(i),this._textY=parseFloat(r)+parseFloat(o);var a=new tr;return pS(e,a),vS(t,a,this._defsUsePending,!1,!0),a},tspan:function(t,e){var n=t.getAttribute("x"),r=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=r&&(this._textY=parseFloat(r));var i=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",a=new tr;return pS(e,a),vS(t,a,this._defsUsePending,!1,!0),this._textX+=parseFloat(i),this._textY+=parseFloat(o),a},path:function(t,e){var n=qs(t.getAttribute("d")||"");return pS(e,n),vS(t,n,this._defsUsePending,!1,!1),n.silent=!0,n}}),t}(),hS={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),n=parseInt(t.getAttribute("y1")||"0",10),r=parseInt(t.getAttribute("x2")||"10",10),i=parseInt(t.getAttribute("y2")||"0",10),o=new Vu(e,n,r,i);return dS(t,o),fS(t,o),o},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10),n=parseInt(t.getAttribute("cy")||"0",10),r=parseInt(t.getAttribute("r")||"0",10),i=new Uu(e,n,r);return dS(t,i),fS(t,i),i}};function dS(t,e){"userSpaceOnUse"===t.getAttribute("gradientUnits")&&(e.global=!0)}function fS(t,e){for(var n=t.firstChild;n;){if(1===n.nodeType&&"stop"===n.nodeName.toLocaleLowerCase()){var r=n.getAttribute("offset"),i=void 0;i=r&&r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var o={};MS(n,o,o);var a=o.stopColor||n.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:i,color:a})}n=n.nextSibling}}function pS(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Object(g.i)(e.__inheritedStyle,t.__inheritedStyle))}function gS(t){for(var e=xS(t),n=[],r=0;r<e.length;r+=2){var i=parseFloat(e[r]),o=parseFloat(e[r+1]);n.push([i,o])}return n}function vS(t,e,n,r,i){var o=e,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};1===t.nodeType&&(function(t,e){var n=t.getAttribute("transform");if(n){var r=[],i=null;(n=n.replace(/,/g," ")).replace(AS,function(t,e,n){return r.push(e,n),""});for(var o=r.length-1;o>0;o-=2){var a=r[o],s=r[o-1],u=xS(a);switch(i=i||[1,0,0,1,0,0],s){case"translate":yt(i,i,[parseFloat(u[0]),parseFloat(u[1]||"0")]);break;case"scale":bt(i,i,[parseFloat(u[0]),parseFloat(u[1]||u[0])]);break;case"rotate":mt(i,i,-parseFloat(u[0])*wS);break;case"skewX":var l=Math.tan(parseFloat(u[0])*wS);vt(i,[1,0,l,1,0,0],i);break;case"skewY":var c=Math.tan(parseFloat(u[0])*wS);vt(i,[1,c,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(u[0]),i[1]=parseFloat(u[1]),i[2]=parseFloat(u[2]),i[3]=parseFloat(u[3]),i[4]=parseFloat(u[4]),i[5]=parseFloat(u[5])}}e.setLocalTransform(i)}}(t,e),MS(t,a,s),r||function(t,e,n){for(var r=0;r<sS.length;r++){var i=sS[r],o=t.getAttribute(i);null!=o&&(e[aS[i]]=o)}for(var r=0;r<lS.length;r++){var i=lS[r],o=t.getAttribute(i);null!=o&&(n[uS[i]]=o)}}(t,a,s)),o.style=o.style||{},null!=a.fill&&(o.style.fill=mS(o,"fill",a.fill,n)),null!=a.stroke&&(o.style.stroke=mS(o,"stroke",a.stroke,n)),Object(g.k)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){null!=a[t]&&(o.style[t]=parseFloat(a[t]))}),Object(g.k)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(t){null!=a[t]&&(o.style[t]=a[t])}),i&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=Object(g.H)(xS(a.lineDash),function(t){return parseFloat(t)})),"hidden"!==a.visibility&&"collapse"!==a.visibility||(o.invisible=!0),"none"===a.display&&(o.ignore=!0)}var yS=/^url\(\s*#(.*?)\)/;function mS(t,e,n,r){var i=n&&n.match(yS);if(!i)return"none"===n&&(n=null),n;var o=Object(g.T)(i[1]);r.push([t,e,o])}var bS=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function xS(t){return t.match(bS)||[]}var AS=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,wS=Math.PI/180;var _S=/([^\s:;]+)\s*:\s*([^:;]+)/g;function MS(t,e,n){var r,i=t.getAttribute("style");if(i)for(_S.lastIndex=0;null!=(r=_S.exec(i));){var o=r[1],a=Object(g.q)(aS,o)?aS[o]:null;a&&(e[a]=r[2]);var s=Object(g.q)(uS,o)?uS[o]:null;s&&(n[s]=r[2])}}function SS(t,e){var n=e.width/t.width,r=e.height/t.height,i=Math.min(n,r);return{scale:i,x:-(t.x+t.width/2)*i+(e.x+e.width/2),y:-(t.y+t.height/2)*i+(e.y+e.height/2)}}var OS=Object(g.f)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),IS=function(){function t(t,e){this.type="geoSVG",this._usedGraphicMap=Object(g.f)(),this._freedGraphics=[],this._mapName=t,this._parsedXML=oS(e)}return t.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=function(t){var e=[],n=Object(g.f)();return Object(g.k)(t,function(t){if(null==t.namedFrom){var r=new zb(t.name,t.el);e.push(r),n.set(t.name,r)}}),{regions:e,regionsMap:n}}(t.named),n=e.regions,r=e.regionsMap;this._regions=n,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(t){var e,n,r,i;try{n=(e=t&&(r=t,i={ignoreViewBox:!0,ignoreRootClip:!0},(new cS).parse(r,i))||{}).root,Object(g.b)(null!=n)}catch(t){throw new Error("Invalid svg format\n"+t.message)}var o=new tr;o.add(n),o.isGeoSVGGraphicRoot=!0;var a=e.width,s=e.height,u=e.viewBoxRect,l=this._boundingRect;if(!l){var c=void 0,h=void 0,d=void 0,f=void 0;if(null!=a?(c=0,d=a):u&&(c=u.x,d=u.width),null!=s?(h=0,f=s):u&&(h=u.y,f=u.height),null==c||null==h){var p=n.getBoundingRect();null==c&&(c=p.x,d=p.width),null==h&&(h=p.y,f=p.height)}l=this._boundingRect=new Tt(c,h,d,f)}if(u){var v=SS(u,l);n.scaleX=n.scaleY=v.scale,n.x=v.x,n.y=v.y}o.setClipPath(new ca({shape:l.plain()}));var y=[];return Object(g.k)(e.named,function(t){var e;null!=OS.get(t.svgNodeTagLower)&&(y.push(t),(e=t.el).silent=!1,e.isGroup&&e.traverse(function(t){t.silent=!1}))}),{root:o,boundingRect:l,named:y}},t.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n),n)},t.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},t}();for(var ES=[126,25],CS="南海诸岛",kS=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],TS=0;TS<kS.length;TS++)for(var DS=0;DS<kS[TS].length;DS++)kS[TS][DS][0]/=10.5,kS[TS][DS][1]/=-14,kS[TS][DS][0]+=ES[0],kS[TS][DS][1]+=ES[1];var jS={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};var LS=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var PS=function(){function t(t,e,n){var r;this.type="geoJSON",this._parsedMap=Object(g.f)(),this._mapName=t,this._specialAreas=n,this._geoJSON=(r=e,Object(g.C)(r)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r)}return t.prototype.load=function(t,e){e=e||"name";var n=this._parsedMap.get(e);if(!n){var r=this._parseToRegions(e);n=this._parsedMap.set(e,{regions:r,boundingRect:function(t){for(var e,n=0;n<t.length;n++){var r=t[n].getBoundingRect();(e=e||r.clone()).union(r)}return e}(r)})}var i=Object(g.f)(),o=[];return Object(g.k)(n.regions,function(e){var n=e.name;t&&Object(g.q)(t,n)&&(e=e.cloneShallow(n=t[n])),o.push(e),i.set(n,e)}),{regions:o,boundingRect:n.boundingRect||new Tt(0,0,0,0),regionsMap:i}},t.prototype._parseToRegions=function(t){var e,n=this._mapName,r=this._geoJSON;try{e=r?Vb(r,t):[]}catch(t){throw new Error("Invalid geoJson format\n"+t.message)}return function(t,e){if("china"===t){for(var n=0;n<e.length;n++)if(e[n].name===CS)return;e.push(new Bb(CS,g.H(kS,function(t){return{type:"polygon",exterior:t}}),ES))}}(n,e),Object(g.k)(e,function(t){var e=t.name;!function(t,e){if("china"===t){var n=jS[e.name];if(n){var r=e.getCenter();r[0]+=n[0]/10.5,r[1]+=-n[1]/14,e.setCenter(r)}}}(n,t),function(t,e){"china"===t&&"台湾"===e.name&&e.geometries.push({type:"polygon",exterior:LS[0]})}(n,t);var r=this._specialAreas&&this._specialAreas[e];r&&t.transformTo(r.left,r.top,r.width,r.height)},this),e},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t}();var NS=Object(g.f)(),RS={registerMap:function(t,e,n){if(e.svg){var r=new IS(t,e.svg);NS.set(t,r)}else{var i=e.geoJson||e.geoJSON;i&&!e.features?n=e.specialAreas:i=e;r=new PS(t,i,n);NS.set(t,r)}},getGeoResource:function(t){return NS.get(t)},getMapForUser:function(t){var e=NS.get(t);return e&&"geoJSON"===e.type&&e.getMapForUser()},load:function(t,e,n){var r=NS.get(t);if(r)return r.load(e,n)}},BS=["rect","circle","line","ellipse","polygon","polyline","path"],zS=g.f(BS),FS=g.f(BS.concat(["g"])),GS=g.f(BS.concat(["g"])),VS=$r();function US(t){var e=t.getItemStyle(),n=t.get("areaColor");return null!=n&&(e.fill=n),e}function WS(t){var e=t.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}function HS(t,e,n,r){var i=r.getModel("itemStyle"),o=r.getModel(["emphasis","itemStyle"]),a=r.getModel(["blur","itemStyle"]),s=r.getModel(["select","itemStyle"]),u=US(i),l=US(o),c=US(s),h=US(a),d=t.data;if(d){var f=d.getItemVisual(n,"style"),p=d.getItemVisual(n,"decal");t.isVisualEncodedByVisualMap&&f.fill&&(u.fill=f.fill),p&&(u.decal=ov(p,t.api))}e.setStyle(u),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=l,e.ensureState("select").style=c,e.ensureState("blur").style=h,os(e)}function YS(t,e,n,r,i,o,a){var s=t.data,u=t.isGeo,l=s&&isNaN(s.get(s.mapDimension("value"),o)),c=s&&s.getItemLayout(o);if(u||l||c&&c.showLabel){var h=u?n:o,d=void 0;(!s||o>=0)&&(d=i);var f=a?{normal:{align:"center",verticalAlign:"middle"}}:null;Fl(e,Gl(r),{labelFetcher:d,labelDataIndex:h,defaultText:n},f);var p=e.getTextContent();if(p&&(VS(p).ignore=p.ignore,e.textConfig&&a)){var g=e.getBoundingRect().clone();e.textConfig.layoutRect=g,e.textConfig.position=[(a[0]-g.x)/g.width*100+"%",(a[1]-g.y)/g.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function XS(t,e,n,r,i,o){t.data?t.data.setItemGraphicEl(o,e):Ia(e).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:n,region:r&&r.option||{}}}function qS(t,e,n,r,i){t.data||Ll({el:e,componentModel:i,itemName:n,itemTooltipOption:r.get("tooltip")})}function QS(t,e,n,r,i){e.highDownSilentOnTouch=!!i.get("selectedMode");var o=r.getModel("emphasis"),a=o.get("focus");return As(e,a,o.get("blurScope"),o.get("disabled")),t.isGeo&&function(t,e,n){var r=Ia(t);r.componentMainType=e.mainType,r.componentIndex=e.componentIndex,r.componentHighDownName=n}(e,i,n),a}function ZS(t,e,n){var r,i=[];function o(){r=[]}function a(){r.length&&(i.push(r),r=[])}var s=e({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(t,e){isFinite(t)&&isFinite(e)&&r.push([t,e])},sphere:function(){}});return!n&&s.polygonStart(),g.k(t,function(t){s.lineStart();for(var e=0;e<t.length;e++)s.point(t[e][0],t[e][1]);s.lineEnd()}),!n&&s.polygonEnd(),i}var KS=function(){function t(t){var e=new tr;this.uid=fc("ec_map_draw"),this._controller=new $M(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new tr),e.add(this._svgGroup=new tr)}return t.prototype.draw=function(t,e,n,r,i){var o="geo"===t.mainType,a=t.getData&&t.getData();o&&e.eachComponent({mainType:"series",subType:"map"},function(e){a||e.getHostGeoModel()!==t||(a=e.getData())});var s=t.coordinateSystem,u=this._regionsGroup,l=this.group,c=s.getTransformInfo(),h=c.raw,d=c.roam;!u.childAt(0)||i?(l.x=d.x,l.y=d.y,l.scaleX=d.scaleX,l.scaleY=d.scaleY,l.dirty()):tl(l,d,t);var f=a&&a.getVisual("visualMeta")&&a.getVisual("visualMeta").length>0,p={api:n,geo:s,mapOrGeoModel:t,data:a,isVisualEncodedByVisualMap:f,isGeo:o,transformInfoRaw:h};"geoJSON"===s.resourceType?this._buildGeoJSON(p):"geoSVG"===s.resourceType&&this._buildSVG(p),this._updateController(t,e,n),this._updateMapSelectHandler(t,u,n,r)},t.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=g.f(),n=g.f(),r=this._regionsGroup,i=t.transformInfoRaw,o=t.mapOrGeoModel,a=t.data,s=t.geo.projection,u=s&&s.stream;function l(t,e){return e&&(t=e(t)),t&&[t[0]*i.scaleX+i.x,t[1]*i.scaleY+i.y]}function c(t){return{shape:{points:function(t){for(var e=[],n=!u&&s&&s.project,r=0;r<t.length;++r){var i=l(t[r],n);i&&e.push(i)}return e}(t)}}}r.removeAll(),g.k(t.geo.regions,function(i){var h=i.name,d=e.get(h),f=n.get(h)||{},p=f.dataIdx,v=f.regionModel;d||(d=e.set(h,new tr),r.add(d),p=a?a.indexOfName(h):null,v=t.isGeo?o.getRegionModel(h):a?a.getItemModel(p):null,n.set(h,{dataIdx:p,regionModel:v}));var y=[],m=[];g.k(i.geometries,function(t){if("polygon"===t.type){var e=[t.exterior].concat(t.interiors||[]);u&&(e=ZS(e,u)),g.k(e,function(t){y.push(new Mu(c(t)))})}else{var n=t.points;u&&(n=ZS(n,u,!0)),g.k(n,function(t){m.push(new Iu(c(t)))})}});var b=l(i.getCenter(),s&&s.project);function x(e,n){if(e.length){var r=new Fu({culling:!0,segmentIgnoreThreshold:1,shape:{paths:e}});d.add(r),HS(t,r,p,v),YS(t,r,h,v,o,p,b),n&&(WS(r),g.k(r.states,WS))}}x(y),x(m,!0)}),e.each(function(e,r){var i=n.get(r),a=i.dataIdx,s=i.regionModel;XS(t,e,r,s,o,a),qS(t,e,r,s,o),QS(t,e,r,s,o)},this)},t.prototype._buildSVG=function(t){var e=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var r=this._svgDispatcherMap=g.f(),i=!1;g.k(this._svgGraphicRecord.named,function(e){var n=e.name,o=t.mapOrGeoModel,a=t.data,s=e.svgNodeTagLower,u=e.el,l=a?a.indexOfName(n):null,c=o.getRegionModel(n);(null!=zS.get(s)&&u instanceof Xi&&HS(t,u,l,c),u instanceof Xi&&(u.culling=!0),u.z2EmphasisLift=0,e.namedFrom)||(null!=GS.get(s)&&YS(t,u,n,c,o,l,null),XS(t,u,n,c,o,l),qS(t,u,n,c,o),null!=FS.get(s)&&("self"===QS(t,u,n,c,o)&&(i=!0),(r.get(n)||r.set(n,[])).push(u)))},this),this._enableBlurEntireSVG(i,t)},t.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var n=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(t){if(!t.isGroup){os(t);var e=t.ensureState("blur").style||{};null==e.opacity&&null!=n&&(e.opacity=n),t.ensureState("emphasis")}})}},t.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},t.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var n=e.coordinateSystem;if("geoJSON"===n.resourceType){var r=this._regionsGroupByName;if(r){var i=r.get(t);return i?[i]:[]}}else if("geoSVG"===n.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},t.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},t.prototype._useSVG=function(t){var e=RS.getGeoResource(t);if(e&&"geoSVG"===e.type){var n=e.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},t.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=RS.getGeoResource(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},t.prototype._updateController=function(t,e,n){var r=t.coordinateSystem,i=this._controller,o=this._controllerHost;o.zoomLimit=t.get("scaleLimit"),o.zoom=r.getZoom(),i.enable(t.get("roam")||!1);var a=t.mainType;function s(){var e={type:"geoRoam",componentType:a};return e[a+"Id"]=t.id,e}i.off("pan").on("pan",function(t){this._mouseDownFlag=!1,tS(o,t.dx,t.dy),n.dispatchAction(g.m(s(),{dx:t.dx,dy:t.dy,animation:{duration:0}}))},this),i.off("zoom").on("zoom",function(t){this._mouseDownFlag=!1,eS(o,t.scale,t.originX,t.originY),n.dispatchAction(g.m(s(),{zoom:t.scale,originX:t.originX,originY:t.originY,animation:{duration:0}}))},this),i.setPointerChecker(function(e,i,o){return r.containPoint([i,o])&&!iS(e,n,t)})},t.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=VS(e).ignore)})},t.prototype._updateMapSelectHandler=function(t,e,n,r){var i=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){i._mouseDownFlag=!0}),e.on("click",function(t){i._mouseDownFlag&&(i._mouseDownFlag=!1)}))},t}(),JS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n,r){if(!r||"mapToggleSelect"!==r.type||r.from!==this.uid){var i=this.group;if(i.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&r&&"geoRoam"===r.type&&this._mapDraw.resetForLabelLayout(),r&&"geoRoam"===r.type&&"series"===r.componentType&&r.seriesId===t.id)(o=this._mapDraw)&&i.add(o.group);else if(t.needsDrawMap){var o=this._mapDraw||new KS(n);i.add(o.group),o.draw(t,e,n,this,r),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,e,n){var r=t.originalData,i=this.group;r.each(r.mapDimension("value"),function(e,n){if(!isNaN(e)){var o=r.getItemLayout(n);if(o&&o.point){var a=o.point,s=o.offset,u=new Js({style:{fill:t.getData().getVisual("style").fill},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:8+(s?0:Ba+1)});if(!s){var l=t.mainSeries.getData(),c=r.getName(n),h=l.indexOfName(c),d=r.getItemModel(n),f=d.getModel("label"),p=l.getItemGraphicEl(h);Fl(u,Gl(d),{labelFetcher:{getFormattedLabel:function(e,n){return t.getFormattedLabel(h,n)}},defaultText:c}),u.disableLabelAnimation=!0,f.get("position")||u.setTextConfig({position:"bottom"}),p.onHoverStateChange=function(t){rs(u,t)}}i.add(u)}}})},e.type="map",e}(wp),$S=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,r=n.getRegion(e);return r&&n.dataToPoint(r.getCenter())}},n}return Object(f.__extends)(e,t),e.prototype.getInitialData=function(t){for(var e=C_(this,{coordDimensions:["value"],encodeDefaulter:g.h(zh,this)}),n=g.f(),r=[],i=0,o=e.count();i<o;i++){var a=e.getName(i);n.set(a,!0)}var s=RS.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return g.k(s.regions,function(t){var e=t.name;n.get(e)||r.push(e)}),e.appendValues([],r),e},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},e.prototype.formatTooltip=function(t,e,n){for(var r=this.getData(),i=this.getRawValue(t),o=r.getName(t),a=this.seriesGroup,s=[],u=0;u<a.length;u++){var l=a[u].originalData.indexOfName(o),c=r.mapDimension("value");isNaN(a[u].originalData.get(c,l))||s.push(a[u].name)}return Gf("section",{header:s.join(", "),noHeader:!s.length,blocks:[Gf("nameValue",{name:o,value:i})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var e=t.icon||"roundRect",n=Eg(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return n.setStyle(t.itemStyle),n.style.stroke="none",e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(cp);function tO(t){var e={};t.eachSeriesByType("map",function(t){var n=t.getHostGeoModel(),r=n?"o"+n.id:"i"+t.getMapType();(e[r]=e[r]||[]).push(t)}),g.k(e,function(t,e){for(var n,r,i,o=(n=g.H(t,function(t){return t.getData()}),r=t[0].get("mapValueCalculation"),i={},g.k(n,function(t){t.each(t.mapDimension("value"),function(e,n){var r="ec-"+t.getName(n);i[r]=i[r]||[],isNaN(e)||i[r].push(e)})}),n[0].map(n[0].mapDimension("value"),function(t,e){for(var o,a="ec-"+n[0].getName(e),s=0,u=1/0,l=-1/0,c=i[a].length,h=0;h<c;h++)u=Math.min(u,i[a][h]),l=Math.max(l,i[a][h]),s+=i[a][h];return o="min"===r?u:"max"===r?l:"average"===r?s/c:s,0===c?NaN:o})),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=0===a&&!t[a].getHostGeoModel(),t[a].setData(o.cloneShallow()),t[a].mainSeries=t[0]})}function eO(t){var e={};t.eachSeriesByType("map",function(n){var r=n.getMapType();if(!n.getHostGeoModel()&&!e[r]){var i={};g.k(n.seriesGroup,function(e){var n=e.coordinateSystem,r=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&r.each(r.mapDimension("value"),function(t,e){var o=r.getName(e),a=n.getRegion(o);if(a&&!isNaN(t)){var s=i[o]||0,u=n.dataToPoint(a.getCenter());i[o]=s+1,r.setItemLayout(e,{point:u,offset:s})}})});var o=n.getData();o.each(function(t){var e=o.getName(t),n=o.getItemLayout(t)||{};n.showLabel=!i[e],o.setItemLayout(t,n)}),e[r]=!0}})}var nO=B;function rO(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var iO=function(t){function e(e){var n=t.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new Dn,n._rawTransformable=new Dn,n.name=e,n}return Object(f.__extends)(e,t),e.prototype.setBoundingRect=function(t,e,n,r){return this._rect=new Tt(t,e,n,r),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,e,n,r){this._transformTo(t,e,n,r),this._viewRect=new Tt(t,e,n,r)},e.prototype._transformTo=function(t,e,n,r){var i=this.getBoundingRect(),o=this._rawTransformable;o.transform=i.calculateTransform(new Tt(t,e,n,r));var a=o.parent;o.parent=null,o.decomposeTransform(),o.parent=a,this._updateTransform()},e.prototype.setCenter=function(t,e){t&&(this._center=[fr(t[0],e.getWidth()),fr(t[1],e.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),r=this.getCenter(),i=this.getZoom();r=B([],r,t),n=B([],n,t),e.originX=r[0],e.originY=r[1],e.x=n[0]-r[0],e.y=n[1]-r[1],e.scaleX=e.scaleY=i,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),gt(this.transform||(this.transform=[]),e.transform||[1,0,0,1,0,0]),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],xt(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,e=this._roamTransformable,n=new Dn;return n.transform=e.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,e,n){var r=e?this._rawTransform:this.transform;return n=n||[],r?nO(n,t,r):y(n,t)},e.prototype.pointToData=function(t){var e=this.invTransform;return e?nO([],t,e):[t[0],t[1]]},e.prototype.convertToPixel=function(t,e,n){var r=rO(e);return r===this?r.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var r=rO(e);return r===this?r.pointToData(n):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(Dn),oO={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},aO=["lng","lat"],sO=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.dimensions=aO,i.type="geo",i._nameCoordMap=g.f(),i.map=n;var o,a=r.projection,s=RS.load(n,r.nameMap,r.nameProperty),u=RS.getGeoResource(n),l=(i.resourceType=u?u.type:null,i.regions=s.regions),c=oO[u.type];if(i._regionsMap=s.regionsMap,i.regions=s.regions,i.projection=a,a)for(var h=0;h<l.length;h++){var d=l[h].getBoundingRect(a);(o=o||d.clone()).union(d)}else o=s.boundingRect;return i.setBoundingRect(o.x,o.y,o.width,o.height),i.aspectScale=a?1:g.P(r.aspectScale,c.aspectScale),i._invertLongitute=!a&&c.invertLongitute,i}return Object(f.__extends)(e,t),e.prototype._transformTo=function(t,e,n,r){var i=this.getBoundingRect(),o=this._invertLongitute;i=i.clone(),o&&(i.y=-i.y-i.height);var a=this._rawTransformable;a.transform=i.calculateTransform(new Tt(t,e,n,r));var s=a.parent;a.parent=null,a.decomposeTransform(),a.parent=s,o&&(a.scaleY=-a.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var e=this.regions,n=0;n<e.length;n++){var r=e[n];if("geoJSON"===r.type&&r.contain(t))return e[n]}},e.prototype.addGeoCoord=function(t,e){this._nameCoordMap.set(t,e)},e.prototype.getGeoCoord=function(t){var e=this._regionsMap.get(t);return this._nameCoordMap.get(t)||e&&e.getCenter()},e.prototype.dataToPoint=function(t,e,n){if(g.C(t)&&(t=this.getGeoCoord(t)),t){var r=this.projection;return r&&(t=r.project(t)),t&&this.projectedToPoint(t,e,n)}},e.prototype.pointToData=function(t){var e=this.projection;return e&&(t=e.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(e){return t.prototype.pointToData.call(this,e)},e.prototype.projectedToPoint=function(e,n,r){return t.prototype.dataToPoint.call(this,e,n,r)},e.prototype.convertToPixel=function(t,e,n){var r=uO(e);return r===this?r.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var r=uO(e);return r===this?r.pointToData(n):null},e}(iO);function uO(t){var e=t.geoModel,n=t.seriesModel;return e?e.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",ri).models[0]||{}).coordinateSystem:null}g.K(sO,iO);var lO=sO;function cO(t,e){var n=t.get("boundingCoords");if(null!=n){var r=n[0],i=n[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var o=this.projection;if(o){var a=r[0],s=r[1],u=i[0],l=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var c=function(t,e,n,a){for(var s=n-t,u=a-e,l=0;l<=100;l++){var c=l/100,h=o.project([t+s*c,e+u*c]);z(r,r,h),F(i,i,h)}};c(a,s,u,s),c(u,s,u,l),c(u,l,a,l),c(a,l,u,s)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}else 0}var h,d,f,p=this.getBoundingRect(),g=t.get("layoutCenter"),v=t.get("layoutSize"),y=e.getWidth(),m=e.getHeight(),b=p.width/p.height*this.aspectScale,x=!1;if(g&&v&&(h=[fr(g[0],y),fr(g[1],m)],d=fr(v,Math.min(y,m)),isNaN(h[0])||isNaN(h[1])||isNaN(d)||(x=!0)),x)f={},b>1?(f.width=d,f.height=d/b):(f.height=d,f.width=d*b),f.y=h[1]-f.height/2,f.x=h[0]-f.width/2;else{var A=t.getBoxLayoutParams();A.aspect=b,f=gh(A,{width:y,height:m})}this.setViewRect(f.x,f.y,f.width,f.height),this.setCenter(t.get("center"),e),this.setZoom(t.get("zoom"))}var hO=new(function(){function t(){this.dimensions=aO}return t.prototype.create=function(t,e){var n=[];function r(t){return{nameProperty:t.get("nameProperty"),aspectScale:t.get("aspectScale"),projection:t.get("projection")}}t.eachComponent("geo",function(t,i){var o=t.get("map"),a=new lO(o+i,o,g.m({nameMap:t.get("nameMap")},r(t)));a.zoomLimit=t.get("scaleLimit"),n.push(a),t.coordinateSystem=a,a.model=t,a.resize=cO,a.resize(t,e)}),t.eachSeries(function(t){if("geo"===t.get("coordinateSystem")){var e=t.get("geoIndex")||0;t.coordinateSystem=n[e]}});var i={};return t.eachSeriesByType("map",function(t){if(!t.getHostGeoModel()){var e=t.getMapType();i[e]=i[e]||[],i[e].push(t)}}),g.k(i,function(t,i){var o=g.H(t,function(t){return t.get("nameMap")}),a=new lO(i,i,g.m({nameMap:g.J(o)},r(t[0])));a.zoomLimit=g.O.apply(null,g.H(t,function(t){return t.get("scaleLimit")})),n.push(a),a.resize=cO,a.resize(t[0],e),g.k(t,function(t){t.coordinateSystem=a,function(t,e){g.k(e.get("geoCoord"),function(e,n){t.addGeoCoord(n,e)})}(a,t)})}),n},t.prototype.getFilledRegions=function(t,e,n,r){for(var i=(t||[]).slice(),o=g.f(),a=0;a<i.length;a++)o.set(i[a].name,i[a]);var s=RS.load(e,n,r);return g.k(s.regions,function(t){var e=t.name;!o.get(e)&&i.push({name:e})}),i},t}()),dO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.init=function(t,e,n){var r=RS.getGeoResource(t.map);if(r&&"geoJSON"===r.type){var i=t.itemStyle=t.itemStyle||{};"color"in i||(i.color="#eee")}this.mergeDefaultAndTheme(t,n),Vr(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,e=this.option;e.regions=hO.getFilledRegions(e.regions,e.map,e.nameMap,e.nameProperty);var n={};this._optionModelMap=g.N(e.regions||[],function(e,r){var i=r.name;return i&&(e.set(i,new hc(r,t,t.ecModel)),r.selected&&(n[i]=!0)),e},g.f()),e.selectedMap||(e.selectedMap=n)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new hc(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,e){var n=this.getRegionModel(t),r="normal"===e?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),i={name:t};return g.w(r)?(i.status=e,r(i)):g.C(r)?r.replace("{a}",null!=t?t:""):void 0},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var e=this.option,n=e.selectedMode;n&&("multiple"!==n&&(e.selectedMap=null),(e.selectedMap||(e.selectedMap={}))[t]=!0)},e.prototype.unSelect=function(t){var e=this.option.selectedMap;e&&(e[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var e=this.option.selectedMap;return!(!e||!e[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(_h);function fO(t,e){return t.pointToProjected?t.pointToProjected(e):t.pointToData(e)}function pO(t,e,n,r){var i=t.getZoom(),o=t.getCenter(),a=e.zoom,s=t.projectedToPoint?t.projectedToPoint(o):t.dataToPoint(o);if(null!=e.dx&&null!=e.dy&&(s[0]-=e.dx,s[1]-=e.dy,t.setCenter(fO(t,s),r)),null!=a){if(n){var u=n.min||0,l=n.max||1/0;a=Math.max(Math.min(i*a,l),u)/i}t.scaleX*=a,t.scaleY*=a;var c=(e.originX-t.x)*(a-1),h=(e.originY-t.y)*(a-1);t.x-=c,t.y-=h,t.updateTransform(),t.setCenter(fO(t,s),r),t.setZoom(a*i)}return{center:t.getCenter(),zoom:t.getZoom()}}var gO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.focusBlurEnabled=!0,n}return Object(f.__extends)(e,t),e.prototype.init=function(t,e){this._api=e},e.prototype.render=function(t,e,n,r){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new KS(n));var i=this._mapDraw;i.draw(t,e,n,this,r),i.group.on("click",this._handleRegionClick,this),i.group.silent=t.get("silent"),this.group.add(i.group),this.updateSelectStatus(t,e,n)},e.prototype._handleRegionClick=function(t){var e;gg(t.target,function(t){return null!=(e=Ia(t).eventData)},!0),e&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:e.name})},e.prototype.updateSelectStatus=function(t,e,n){var r=this;this._mapDraw.group.traverse(function(t){var e=Ia(t).eventData;if(e)return r._model.isSelected(e.name)?n.enterSelect(t):n.leaveSelect(t),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(dp);function vO(t,e,n){RS.registerMap(t,e,n)}function yO(t){function e(e,n){n.update="geo:updateSelectStatus",t.registerAction(n,function(t,n){var r={},i=[];return n.eachComponent({mainType:"geo",query:t},function(n){n[e](t.name);var o=n.coordinateSystem;Object(g.k)(o.regions,function(t){r[t.name]=n.isSelected(t.name)||!1});var a=[];Object(g.k)(r,function(t,e){r[e]&&a.push(e)}),i.push({geoIndex:n.componentIndex,name:a})}),{selected:r,allSelected:i,name:t.name}})}t.registerCoordinateSystem("geo",hO),t.registerComponentModel(dO),t.registerComponentView(gO),t.registerImpl("registerMap",vO),t.registerImpl("getMap",function(t){return RS.getMapForUser(t)}),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,e,n){var r=t.componentType||"series";e.eachComponent({mainType:r,query:t},function(e){var i=e.coordinateSystem;if("geo"===i.type){var o=pO(i,t,e.get("scaleLimit"),n);e.setCenter&&e.setCenter(o.center),e.setZoom&&e.setZoom(o.zoom),"series"===r&&Object(g.k)(e.seriesGroup,function(t){t.setCenter(o.center),t.setZoom(o.zoom)})}})})}function mO(t,e){var n=t.isExpand?t.children:[],r=t.parentNode.children,i=t.hierNode.i?r[t.hierNode.i-1]:null;if(n.length){!function(t){var e=t.children,n=e.length,r=0,i=0;for(;--n>=0;){var o=e[n];o.hierNode.prelim+=r,o.hierNode.modifier+=r,i+=o.hierNode.change,r+=o.hierNode.shift+i}}(t);var o=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;i?(t.hierNode.prelim=i.hierNode.prelim+e(t,i),t.hierNode.modifier=t.hierNode.prelim-o):t.hierNode.prelim=o}else i&&(t.hierNode.prelim=i.hierNode.prelim+e(t,i));t.parentNode.hierNode.defaultAncestor=function(t,e,n,r){if(e){for(var i=t,o=t,a=o.parentNode.children[0],s=e,u=i.hierNode.modifier,l=o.hierNode.modifier,c=a.hierNode.modifier,h=s.hierNode.modifier;s=wO(s),o=_O(o),s&&o;){i=wO(i),a=_O(a),i.hierNode.ancestor=t;var d=s.hierNode.prelim+h-o.hierNode.prelim-l+r(s,o);d>0&&(SO(MO(s,t,n),t,d),l+=d,u+=d),h+=s.hierNode.modifier,l+=o.hierNode.modifier,u+=i.hierNode.modifier,c+=a.hierNode.modifier}s&&!wO(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=h-u),o&&!_O(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=l-c,n=t)}return n}(t,i,t.parentNode.hierNode.defaultAncestor||r[0],e)}function bO(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function xO(t){return arguments.length?t:OO}function AO(t,e){return t-=Math.PI/2,{x:e*Math.cos(t),y:e*Math.sin(t)}}function wO(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function _O(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function MO(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}function SO(t,e,n){var r=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=r,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=r}function OO(t,e){return t.parentNode===e.parentNode?1:2}var IO=function(){return function(){this.parentPoint=[],this.childPoints=[]}}(),EO=function(t){function e(e){return t.call(this,e)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new IO},e.prototype.buildPath=function(t,e){var n=e.childPoints,r=n.length,i=e.parentPoint,o=n[0],a=n[r-1];if(1===r)return t.moveTo(i[0],i[1]),void t.lineTo(o[0],o[1]);var s=e.orient,u="TB"===s||"BT"===s?0:1,l=1-u,c=fr(e.forkPosition,1),h=[];h[u]=i[u],h[l]=i[l]+(a[l]-i[l])*c,t.moveTo(i[0],i[1]),t.lineTo(h[0],h[1]),t.moveTo(o[0],o[1]),h[u]=o[u],t.lineTo(h[0],h[1]),h[u]=a[u],t.lineTo(h[0],h[1]),t.lineTo(a[0],a[1]);for(var d=1;d<r-1;d++){var f=n[d];t.moveTo(f[0],f[1]),h[u]=f[u],t.lineTo(h[0],h[1])}},e}(Qo);function CO(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)}function kO(t,e,n,r,i){var o=!n,a=t.tree.getNodeByDataIndex(e),s=a.getModel(),u=a.getVisual("style").fill,l=!1===a.isExpand&&0!==a.children.length?u:"#fff",c=t.tree.root,h=a.parentNode===c?a:a.parentNode||a,d=t.getItemGraphicEl(h.dataIndex),f=h.getLayout(),p=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:f,v=a.getLayout();o?((n=new lw(t,e,null,{symbolInnerColor:l,useNameLabel:!0})).x=p.x,n.y=p.y):n.updateData(t,e,null,{symbolInnerColor:l,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=v.rawX,n.__radialRawY=v.rawY,r.add(n),t.setItemGraphicEl(e,n),n.__oldX=n.x,n.__oldY=n.y,tl(n,{x:v.x,y:v.y},i);var y=n.getSymbolPath();if("radial"===i.get("layout")){var m=c.children[0],b=m.getLayout(),x=m.children.length,A=void 0,w=void 0;if(v.x===b.x&&!0===a.isExpand&&m.children.length){var _={x:(m.children[0].getLayout().x+m.children[x-1].getLayout().x)/2,y:(m.children[0].getLayout().y+m.children[x-1].getLayout().y)/2};(A=Math.atan2(_.y-b.y,_.x-b.x))<0&&(A=2*Math.PI+A),(w=_.x<b.x)&&(A-=Math.PI)}else(A=Math.atan2(v.y-b.y,v.x-b.x))<0&&(A=2*Math.PI+A),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(w=v.x<b.x)&&(A-=Math.PI):(w=v.x>b.x)||(A-=Math.PI);var M=w?"left":"right",S=s.getModel("label"),O=S.get("rotate"),I=O*(Math.PI/180),E=y.getTextContent();E&&(y.setTextConfig({position:S.get("position")||M,rotation:null==O?-A:I,origin:"center"}),E.setStyle("verticalAlign","middle"))}var C=s.get(["emphasis","focus"]),k="relative"===C?g.e(a.getAncestorsIndices(),a.getDescendantIndices()):"ancestor"===C?a.getAncestorsIndices():"descendant"===C?a.getDescendantIndices():null;k&&(Ia(n).focus=k),function(t,e,n,r,i,o,a,s){var u=e.getModel(),l=t.get("edgeShape"),c=t.get("layout"),h=t.getOrient(),d=t.get(["lineStyle","curveness"]),f=t.get("edgeForkPosition"),p=u.getModel("lineStyle").getLineStyle(),v=r.__edge;if("curve"===l)e.parentNode&&e.parentNode!==n&&(v||(v=r.__edge=new Nu({shape:LO(c,h,d,i,i)})),tl(v,{shape:LO(c,h,d,o,a)},t));else if("polyline"===l)if("orthogonal"===c){if(e!==n&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var y=e.children,m=[],b=0;b<y.length;b++){var x=y[b].getLayout();m.push([x.x,x.y])}v||(v=r.__edge=new EO({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:h,forkPosition:f}})),tl(v,{shape:{parentPoint:[a.x,a.y],childPoints:m}},t)}}else 0;v&&("polyline"!==l||e.isExpand)&&(v.useStyle(g.i({strokeNoScale:!0,fill:null},p)),Ss(v,u,"lineStyle"),os(v),s.add(v))}(i,a,c,n,p,f,v,r),n.__edge&&(n.onHoverStateChange=function(e){if("blur"!==e){var r=a.parentNode&&t.getItemGraphicEl(a.parentNode.dataIndex);r&&r.hoverState===La||rs(n.__edge,e)}})}function TO(t,e,n,r,i){var o=DO(e.tree.root,t),a=o.source,s=o.sourceLayout,u=e.getItemGraphicEl(t.dataIndex);if(u){var l=e.getItemGraphicEl(a.dataIndex).__edge,c=u.__edge||(!1===a.isExpand||1===a.children.length?l:void 0),h=r.get("edgeShape"),d=r.get("layout"),f=r.get("orient"),p=r.get(["lineStyle","curveness"]);c&&("curve"===h?rl(c,{shape:LO(d,f,p,s,s),style:{opacity:0}},r,{cb:function(){n.remove(c)},removeOpt:i}):"polyline"===h&&"orthogonal"===r.get("layout")&&rl(c,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},r,{cb:function(){n.remove(c)},removeOpt:i}))}}function DO(t,e){for(var n,r=e.parentNode===t?e:e.parentNode||e;null==(n=r.getLayout());)r=r.parentNode===t?r:r.parentNode||r;return{source:r,sourceLayout:n}}function jO(t,e,n,r,i){var o=t.tree.getNodeByDataIndex(e),a=DO(t.tree.root,o).sourceLayout,s={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};rl(n,{x:a.x+1,y:a.y+1},i,{cb:function(){r.remove(n),t.setItemGraphicEl(e,null)},removeOpt:s}),n.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:s}),o.children.forEach(function(e){TO(e,t,r,i,s)}),TO(o,t,r,i,s)}function LO(t,e,n,r,i){var o,a,s,u,l,c,h,d;if("radial"===t){l=r.rawX,h=r.rawY,c=i.rawX,d=i.rawY;var f=AO(l,h),p=AO(l,h+(d-h)*n),g=AO(c,d+(h-d)*n),v=AO(c,d);return{x1:f.x||0,y1:f.y||0,x2:v.x||0,y2:v.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:g.x||0,cpy2:g.y||0}}return l=r.x,h=r.y,c=i.x,d=i.y,"LR"!==e&&"RL"!==e||(o=l+(c-l)*n,a=h,s=c+(l-c)*n,u=d),"TB"!==e&&"BT"!==e||(o=l,a=h+(d-h)*n,s=c,u=d+(h-d)*n),{x1:l,y1:h,x2:c,y2:d,cpx1:o,cpy1:a,cpx2:s,cpy2:u}}var PO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._mainGroup=new tr,n}return Object(f.__extends)(e,t),e.prototype.init=function(t,e){this._controller=new $M(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,e,n){var r=t.getData(),i=t.layoutInfo,o=this._mainGroup;"radial"===t.get("layout")?(o.x=i.x+i.width/2,o.y=i.y+i.height/2):(o.x=i.x,o.y=i.y),this._updateViewCoordSys(t,n),this._updateController(t,e,n);var a=this._data;r.diff(a).add(function(e){CO(r,e)&&kO(r,e,null,o,t)}).update(function(e,n){var i=a.getItemGraphicEl(n);CO(r,e)?kO(r,e,i,o,t):i&&jO(a,n,i,o,t)}).remove(function(e){var n=a.getItemGraphicEl(e);n&&jO(a,e,n,o,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&r.eachItemGraphicEl(function(e,r){e.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:r})})}),this._data=r},e.prototype._updateViewCoordSys=function(t,e){var n=t.getData(),r=[];n.each(function(t){var e=n.getItemLayout(t);!e||isNaN(e.x)||isNaN(e.y)||r.push([+e.x,+e.y])});var i=[],o=[];no(r,i,o);var a=this._min,s=this._max;o[0]-i[0]==0&&(i[0]=a?a[0]:i[0]-1,o[0]=s?s[0]:o[0]+1),o[1]-i[1]==0&&(i[1]=a?a[1]:i[1]-1,o[1]=s?s[1]:o[1]+1);var u=t.coordinateSystem=new iO;u.zoomLimit=t.get("scaleLimit"),u.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1]),u.setCenter(t.get("center"),e),u.setZoom(t.get("zoom")),this.group.attr({x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY}),this._min=i,this._max=o},e.prototype._updateController=function(t,e,n){var r=this,i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker(function(e,r,i){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(r,i)&&!iS(e,n,t)}),i.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",function(e){tS(o,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){eS(o,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),r._updateNodeAndLinkScale(t),n.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(t){var e=t.getData(),n=this._getNodeGlobalScale(t);e.eachItemGraphicEl(function(t,e){t.setSymbolScale(n)})},e.prototype._getNodeGlobalScale=function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,r=e.scaleX||1;return((e.getZoom()-1)*n+1)/r},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(wp),NO=$r();function RO(t,e){if(NO(r=this).mainData===r){var n=Object(g.m)({},NO(this).datas);n[this.dataType]=e,VO(e,n,t)}else UO(e,this.dataType,NO(this).mainData,t);var r;return e}function BO(t,e){return t.struct&&t.struct.update(),e}function zO(t,e){return Object(g.k)(NO(e).datas,function(n,r){n!==e&&UO(n.cloneShallow(),r,e,t)}),e}function FO(t){var e=NO(this).mainData;return null==t||null==e?e:NO(e).datas[t]}function GO(){var t=NO(this).mainData;return null==t?[{data:t}]:Object(g.H)(Object(g.F)(NO(t).datas),function(e){return{type:e,data:NO(t).datas[e]}})}function VO(t,e,n){NO(t).datas={},Object(g.k)(e,function(e,r){UO(e,r,t,n)})}function UO(t,e,n,r){NO(n).datas[e]=t,NO(t).mainData=n,t.dataType=e,r.struct&&(t[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=t),t.getLinkedData=FO,t.getLinkedDataAll=GO}var WO=function(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,VO(e,n,t),Object(g.k)(n,function(n){Object(g.k)(e.TRANSFERABLE_METHODS,function(e){n.wrapMethod(e,Object(g.h)(RO,t))})}),e.wrapMethod("cloneShallow",Object(g.h)(zO,t)),Object(g.k)(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,Object(g.h)(BO,t))}),Object(g.b)(n[e.dataType]===e)},HO=function(){function t(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(t,e,n){g.w(t)&&(n=e,e=t,t=null),t=t||{},g.C(t)&&(t={order:t});var r,i=t.order||"preorder",o=this[t.attr||"children"];"preorder"===i&&(r=e.call(n,this));for(var a=0;!r&&a<o.length;a++)o[a].eachNode(t,e,n);"postorder"===i&&e.call(n,this)},t.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(t+1),r.height>e&&(e=r.height)}this.height=e+1},t.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,r=n.length;e<r;e++){var i=n[e].getNodeById(t);if(i)return i}},t.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,r=n.length;e<r;e++){var i=n[e].contains(t);if(i)return i}},t.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},t.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},t.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},t.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},t.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},t.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},t}();var YO=function(){function t(t){this.type="tree",this._nodes=[],this.hostModel=t}return t.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},t.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},t.prototype.getNodeById=function(t){return this.root.getNodeById(t)},t.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,r=e.length;n<r;n++)e[n].dataIndex=-1;for(n=0,r=t.count();n<r;n++)e[t.getRawIndex(n)].dataIndex=n},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,n,r){var i=new t(n),o=[],a=1;!function t(e,n){var r=e.value;a=Math.max(a,g.t(r)?r.length:1);o.push(e);var s=new HO(Qr(e.name,""),i);n?function(t,e){var n=e.children;if(t.parentNode===e)return;n.push(t),t.parentNode=e}(s,n):i.root=s;i._nodes.push(s);var u=e.children;if(u)for(var l=0;l<u.length;l++)t(u[l],s)}(e),i.root.updateDepthAndHeight(0);var s=om(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,u=new rm(s,n);return u.initData(o),r&&r(u),WO({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},t}();function XO(t,e,n){if(t&&g.r(e,t.type)>=0){var r=n.getData().tree.root,i=t.targetNode;if(g.C(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var o=t.targetNodeId;if(null!=o&&(i=r.getNodeById(o)))return{node:i}}}function qO(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function QO(t,e){var n=qO(t);return g.r(n,e)>=0}function ZO(t,e){for(var n=[];t;){var r=t.dataIndex;n.push({name:t.name,dataIndex:r,value:e.getRawValue(r)}),t=t.parentNode}return n.reverse(),n}var KO=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return Object(f.__extends)(e,t),e.prototype.getInitialData=function(t){var e={name:t.name,children:t.data},n=t.leaves||{},r=new hc(n,this,this.ecModel),i=YO.createTree(e,this,function(t){t.wrapMethod("getItemModel",function(t,e){var n=i.getNodeByDataIndex(e);return n&&n.children.length&&n.isExpand||(t.parentModel=r),t})});var o=0;i.eachNode("preorder",function(t){t.depth>o&&(o=t.depth)});var a=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:o;return i.root.eachNode("preorder",function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=a}),i.data},e.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,e,n){for(var r=this.getData().tree,i=r.root.children[0],o=r.getNodeByDataIndex(t),a=o.getValue(),s=o.name;o&&o!==i;)s=o.parentNode.name+"."+s,o=o.parentNode;return Gf("nameValue",{name:s,value:a,noValue:isNaN(a)||null==a})},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=ZO(r,this),n.collapsed=!r.isExpand,n},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(cp);function JO(t,e){for(var n,r=[t];n=r.pop();)if(e(n),n.isExpand){var i=n.children;if(i.length)for(var o=i.length-1;o>=0;o--)r.push(i[o])}}function $O(t,e){t.eachSeriesByType("tree",function(t){!function(t,e){var n=function(t,e){return gh(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=n;var r=t.get("layout"),i=0,o=0,a=null;"radial"===r?(i=2*Math.PI,o=Math.min(n.height,n.width)/2,a=xO(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})):(i=n.width,o=n.height,a=xO());var s=t.getData().tree.root,u=s.children[0];if(u){!function(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n,r,i=[e];n=i.pop();)if(r=n.children,n.isExpand&&r.length)for(var o=r.length-1;o>=0;o--){var a=r[o];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},i.push(a)}}(s),function(t,e,n){for(var r,i=[t],o=[];r=i.pop();)if(o.push(r),r.isExpand){var a=r.children;if(a.length)for(var s=0;s<a.length;s++)i.push(a[s])}for(;r=o.pop();)e(r,n)}(u,mO,a),s.hierNode.modifier=-u.hierNode.prelim,JO(u,bO);var l=u,c=u,h=u;JO(u,function(t){var e=t.getLayout().x;e<l.getLayout().x&&(l=t),e>c.getLayout().x&&(c=t),t.depth>h.depth&&(h=t)});var d=l===c?1:a(l,c)/2,f=d-l.getLayout().x,p=0,g=0,v=0,y=0;if("radial"===r)p=i/(c.getLayout().x+d+f),g=o/(h.depth-1||1),JO(u,function(t){v=(t.getLayout().x+f)*p,y=(t.depth-1)*g;var e=AO(v,y);t.setLayout({x:e.x,y:e.y,rawX:v,rawY:y},!0)});else{var m=t.getOrient();"RL"===m||"LR"===m?(g=o/(c.getLayout().x+d+f),p=i/(h.depth-1||1),JO(u,function(t){y=(t.getLayout().x+f)*g,v="LR"===m?(t.depth-1)*p:i-(t.depth-1)*p,t.setLayout({x:v,y:y},!0)})):"TB"!==m&&"BT"!==m||(p=i/(c.getLayout().x+d+f),g=o/(h.depth-1||1),JO(u,function(t){v=(t.getLayout().x+f)*p,y="TB"===m?(t.depth-1)*g:o-(t.depth-1)*g,t.setLayout({x:v,y:y},!0)}))}}}(t,e)})}function tI(t){t.eachSeriesByType("tree",function(t){var e=t.getData();e.tree.eachNode(function(t){var n=t.getModel().getModel("itemStyle").getItemStyle(),r=e.ensureUniqueItemVisual(t.dataIndex,"style");Object(g.m)(r,n)})})}var eI=["treemapZoomToNode","treemapRender","treemapMove"];function nI(t){var e={};t.getData().tree.eachNode(function(n){for(var r=n;r&&r.depth>1;)r=r.parentNode;var i=Zh(t.ecModel,r.name||r.dataIndex+"",e);n.setVisual("decal",i)})}var rI=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventUsingHoverLayer=!0,n}return Object(f.__extends)(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};!function t(e){var n=0;g.k(e.children,function(e){t(e);var r=e.value;g.t(r)&&(r=r[0]),n+=r});var r=e.value;g.t(r)&&(r=r[0]);(null==r||isNaN(r))&&(r=n);r<0&&(r=0);g.t(e.value)?e.value[0]=r:e.value=r}(n);var r=t.levels||[],i=this.designatedVisualItemStyle={},o=new hc({itemStyle:i},this,e);r=t.levels=function(t,e){var n,r,i=Gr(e.get("color")),o=Gr(e.get(["aria","decal","decals"]));if(!i)return;t=t||[],g.k(t,function(t){var e=new hc(t),i=e.get("color"),o=e.get("decal");(e.get(["itemStyle","color"])||i&&"none"!==i)&&(n=!0),(e.get(["itemStyle","decal"])||o&&"none"!==o)&&(r=!0)});var a=t[0]||(t[0]={});n||(a.color=i.slice());!r&&o&&(a.decal=o.slice());return t}(r,e);var a=g.H(r||[],function(t){return new hc(t,o,e)},this),s=YO.createTree(n,this,function(t){t.wrapMethod("getItemModel",function(t,e){var n=s.getNodeByDataIndex(e),r=n?a[n.depth]:null;return t.parentModel=r||o,t})});return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,e,n){var r=this.getData(),i=this.getRawValue(t);return Gf("nameValue",{name:r.getName(t),value:i})},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=ZO(r,this),n.treePathInfo=n.treeAncestors,n},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},g.m(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=g.f(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){nI(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(cp),iI=5;function oI(t,e,n,r,i,o){var a=[[i?t:t-iI,e],[t+n,e],[t+n,e+r],[i?t:t-iI,e+r]];return!o&&a.splice(2,0,[t+n+iI,e+r/2]),!i&&a.push([t,e+r/2]),a}function aI(t,e,n){Ia(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&ZO(n,e)}}var sI=function(){function t(t){this.group=new tr,t.add(this.group)}return t.prototype.render=function(t,e,n,r){var i=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),i.get("show")&&n){var a=i.getModel("itemStyle"),s=i.getModel("emphasis"),u=a.getModel("textStyle"),l=s.getModel(["itemStyle","textStyle"]),c={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,c,u),this._renderContent(t,c,a,s,u,l,r),vh(o,c.pos,c.box)}},t.prototype._prepare=function(t,e,n){for(var r=t;r;r=r.parentNode){var i=Qr(r.getModel().get("name"),""),o=n.getTextRect(i),a=Math.max(o.width+16,e.emptyItemWidth);e.totalWidth+=a+8,e.renderList.push({node:r,text:i,width:a})}},t.prototype._renderContent=function(t,e,n,r,i,o,a){for(var s,u,l,c,h,d,f,p,v,y=0,m=e.emptyItemWidth,b=t.get(["breadcrumb","height"]),x=(s=e.pos,u=e.box,c=u.width,h=u.height,d=fr(s.left,c),f=fr(s.top,h),p=fr(s.right,c),v=fr(s.bottom,h),(isNaN(d)||isNaN(parseFloat(s.left)))&&(d=0),(isNaN(p)||isNaN(parseFloat(s.right)))&&(p=c),(isNaN(f)||isNaN(parseFloat(s.top)))&&(f=0),(isNaN(v)||isNaN(parseFloat(s.bottom)))&&(v=h),l=th(l||0),{width:Math.max(p-d-l[1]-l[3],0),height:Math.max(v-f-l[0]-l[2],0)}),A=e.totalWidth,w=e.renderList,_=r.getModel("itemStyle").getItemStyle(),M=w.length-1;M>=0;M--){var S=w[M],O=S.node,I=S.width,E=S.text;A>x.width&&(A-=I-m,I=m,E=null);var C=new Mu({shape:{points:oI(y,0,I,b,M===w.length-1,0===M)},style:Object(g.i)(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new Oa({style:Vl(i,{text:E})}),textConfig:{position:"inside"},z2:1e4*Ba,onclick:Object(g.h)(a,O)});C.disableLabelAnimation=!0,C.getTextContent().ensureState("emphasis").style=Vl(o,{text:E}),C.ensureState("emphasis").style=_,As(C,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(C),aI(C,t,O),y+=I+8}},t.prototype.remove=function(){this.group.removeAll()},t}(),uI=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(t,e,n,r,i){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:r,easing:i}),!0)},t.prototype.finished=function(t){return this._finishedCallback=t,this},t.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},r=0,i=this._storage.length;r<i;r++){var o=this._storage[r];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},t}();var lI=tr,cI=ca,hI="label",dI="upperLabel",fI=10*Ba,pI=2*Ba,gI=3*Ba,vI=bi([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),yI=function(t){var e=vI(t);return e.stroke=e.fill=e.lineWidth=null,e},mI=$r();var bI=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._state="ready",n._storage={nodeGroup:[],background:[],content:[]},n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n,r){var i=e.findComponents({mainType:"series",subType:"treemap",query:r});if(!(Object(g.r)(i,t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var o=XO(r,["treemapZoomToNode","treemapRootToNode"],t),a=r&&r.type,s=t.layoutInfo,u=!this._oldTree,l=this._storage,c="treemapRootToNode"===a&&o&&l?{rootNodeGroup:l.nodeGroup[o.node.getRawIndex()],direction:r.direction}:null,h=this._giveContainerGroup(s),d=t.get("animation"),f=this._doRender(h,t,c);!d||u||a&&"treemapZoomToNode"!==a&&"treemapRootToNode"!==a?f.renderFinally():this._doAnimation(h,f,t,c),this._resetController(n),this._renderBreadcrumb(t,n,o)}},e.prototype._giveContainerGroup=function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new lI,this._initEvents(e),this.group.add(e)),e.x=t.x,e.y=t.y,e},e.prototype._doRender=function(t,e,n){var r=e.getData().tree,i=this._oldTree,o={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},s=this._storage,u=[];function l(t,r,i,l){return function(t,e,n,r,i,o,a,s,u,l){if(!a)return;var c=a.getLayout(),h=t.getData(),d=a.getModel();if(h.setItemGraphicEl(a.dataIndex,null),!c||!c.isInView)return;var f=c.width,p=c.height,v=c.borderWidth,y=c.invisible,m=a.getRawIndex(),b=s&&s.getRawIndex(),x=a.viewChildren,A=c.upperHeight,w=x&&x.length,_=d.getModel("itemStyle"),M=d.getModel(["emphasis","itemStyle"]),S=d.getModel(["blur","itemStyle"]),O=d.getModel(["select","itemStyle"]),I=_.get("borderRadius")||0,E=z("nodeGroup",lI);if(!E)return;if(u.add(E),E.x=c.x||0,E.y=c.y||0,E.markRedraw(),mI(E).nodeWidth=f,mI(E).nodeHeight=p,c.isAboveViewRoot)return E;var C=z("background",cI,l,pI);C&&function(e,n,r){var i=Ia(n);if(i.dataIndex=a.dataIndex,i.seriesIndex=t.seriesIndex,n.setShape({x:0,y:0,width:f,height:p,r:I}),y)N(n);else{n.invisible=!1;var o=a.getVisual("style"),s=o.stroke,u=yI(_);u.fill=s;var l=vI(M);l.fill=M.get("borderColor");var c=vI(S);c.fill=S.get("borderColor");var h=vI(O);if(h.fill=O.get("borderColor"),r){var d=f-2*v;R(n,s,o.opacity,{x:v,y:0,width:d,height:A})}else n.removeTextContent();n.setStyle(u),n.ensureState("emphasis").style=l,n.ensureState("blur").style=c,n.ensureState("select").style=h,os(n)}e.add(n)}(E,C,w&&c.upperLabelHeight);var k=d.getModel("emphasis"),T=k.get("focus"),D=k.get("blurScope"),j=k.get("disabled"),L="ancestor"===T?a.getAncestorsIndices():"descendant"===T?a.getDescendantIndices():T;if(w)Is(E)&&Os(E,!1),C&&(Os(C,!j),h.setItemGraphicEl(a.dataIndex,C),ws(C,L,D));else{var P=z("content",cI,l,gI);P&&function(e,n){var r=Ia(n);r.dataIndex=a.dataIndex,r.seriesIndex=t.seriesIndex;var i=Math.max(f-2*v,0),o=Math.max(p-2*v,0);if(n.culling=!0,n.setShape({x:v,y:v,width:i,height:o,r:I}),y)N(n);else{n.invisible=!1;var s=a.getVisual("style"),u=s.fill,l=yI(_);l.fill=u,l.decal=s.decal;var c=vI(M),h=vI(S),d=vI(O);R(n,u,s.opacity,null),n.setStyle(l),n.ensureState("emphasis").style=c,n.ensureState("blur").style=h,n.ensureState("select").style=d,os(n)}e.add(n)}(E,P),C.disableMorphing=!0,C&&Is(C)&&Os(C,!1),Os(E,!j),h.setItemGraphicEl(a.dataIndex,E),ws(E,L,D)}return E;function N(t){!t.invisible&&o.push(t)}function R(e,n,r,i){var o=d.getModel(i?dI:hI),s=Qr(d.get("name"),null),u=o.getShallow("show");Fl(e,Gl(d,i?dI:hI),{defaultText:u?s:null,inheritColor:n,defaultOpacity:r,labelFetcher:t,labelDataIndex:a.dataIndex});var l=e.getTextContent();if(l){var h=l.style,f=Object(g.M)(h.padding||0);i&&(e.setTextConfig({layoutRect:i}),l.disableLabelLayout=!0),l.beforeUpdate=function(){var t=Math.max((i?i.width:e.shape.width)-f[1]-f[3],0),n=Math.max((i?i.height:e.shape.height)-f[0]-f[2],0);h.width===t&&h.height===n||l.setStyle({width:t,height:n})},h.truncateMinChar=2,h.lineOverflow="truncate",B(h,i,c);var p=l.getState("emphasis");B(p?p.style:null,i,c)}}function B(e,n,r){var i=e?e.text:null;if(!n&&r.isLeafRoot&&null!=i){var o=t.get("drillDownIcon",!0);e.text=o?o+" "+i:i}}function z(t,o,s,u){var l=null!=b&&n[t][b],c=i[t];return l?(n[t][b]=null,function(t,e){var n=t[m]={};e instanceof lI?(n.oldX=e.x,n.oldY=e.y):n.oldShape=Object(g.m)({},e.shape)}(c,l)):y||((l=new o)instanceof Xi&&(l.z2=function(t,e){return t*fI+e}(s,u)),function(t,e){var n=t[m]={},o=a.parentNode,s=e instanceof tr;if(o&&(!r||"drillDown"===r.direction)){var u=0,l=0,c=i.background[o.getRawIndex()];!r&&c&&c.oldShape&&(u=c.oldShape.width,l=c.oldShape.height),s?(n.oldX=0,n.oldY=l):n.oldShape={x:u,y:l,width:0,height:0}}n.fadein=!s}(c,l)),e[t][m]=l}}(e,a,s,n,o,u,t,r,i,l)}!function t(e,n,r,i,o){i?(n=e,Object(g.k)(e,function(t,e){!t.isRemoved()&&s(e,e)})):new jy(n,e,a,a).add(s).update(s).remove(Object(g.h)(s,null)).execute();function a(t){return t.getId()}function s(a,s){var u=null!=a?e[a]:null,c=null!=s?n[s]:null,h=l(u,c,r,o);h&&t(u&&u.viewChildren||[],c&&c.viewChildren||[],h,i,o+1)}}(r.root?[r.root]:[],i&&i.root?[i.root]:[],t,r===i||!i,0);var c=function(t){var e={nodeGroup:[],background:[],content:[]};return t&&Object(g.k)(t,function(t,n){var r=e[n];Object(g.k)(t,function(t){t&&(r.push(t),mI(t).willDelete=!0)})}),e}(s);return this._oldTree=r,this._storage=a,{lastsForAnimation:o,willDeleteEls:c,renderFinally:function(){Object(g.k)(c,function(t){Object(g.k)(t,function(t){t.parent&&t.parent.remove(t)})}),Object(g.k)(u,function(t){t.invisible=!0,t.dirty()})}}},e.prototype._doAnimation=function(t,e,n,r){var i=n.get("animationDurationUpdate"),o=n.get("animationEasing"),a=(Object(g.w)(i)?0:i)||0,s=(Object(g.w)(o)?null:o)||"cubicOut",u=new uI;Object(g.k)(e.willDeleteEls,function(t,e){Object(g.k)(t,function(t,n){if(!t.invisible){var i,o=t.parent,l=mI(o);if(r&&"drillDown"===r.direction)i=o===r.rootNodeGroup?{shape:{x:0,y:0,width:l.nodeWidth,height:l.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var c=0,h=0;l.willDelete||(c=l.nodeWidth/2,h=l.nodeHeight/2),i="nodeGroup"===e?{x:c,y:h,style:{opacity:0}}:{shape:{x:c,y:h,width:0,height:0},style:{opacity:0}}}i&&u.add(t,i,a,0,s)}})}),Object(g.k)(this._storage,function(t,n){Object(g.k)(t,function(t,r){var i=e.lastsForAnimation[n][r],o={};i&&(t instanceof tr?null!=i.oldX&&(o.x=t.x,o.y=t.y,t.x=i.oldX,t.y=i.oldY):(i.oldShape&&(o.shape=Object(g.m)({},t.shape),t.setShape(i.oldShape)),i.fadein?(t.setStyle("opacity",0),o.style={opacity:1}):1!==t.style.opacity&&(o.style={opacity:1})),u.add(t,o,a,0,s))})},this),this._state="animating",u.finished(Object(g.c)(function(){this._state="ready",e.renderFinally()},this)).start()},e.prototype._resetController=function(t){var e=this._controller;e||((e=this._controller=new $M(t.getZr())).enable(this.seriesModel.get("roam")),e.on("pan",Object(g.c)(this._onPan,this)),e.on("zoom",Object(g.c)(this._onZoom,this)));var n=new Tt(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,r){return n.contain(e,r)})},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var e=this.seriesModel.getData().tree.root;if(!e)return;var n=e.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t.dx,y:n.y+t.dy,width:n.width,height:n.height}})}},e.prototype._onZoom=function(t){var e=t.originX,n=t.originY;if("animating"!==this._state){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;var o=new Tt(i.x,i.y,i.width,i.height),a=this.seriesModel.layoutInfo,s=[1,0,0,1,0,0];yt(s,s,[-(e-=a.x),-(n-=a.y)]),bt(s,s,[t.scale,t.scale]),yt(s,s,[e,n]),o.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},e.prototype._initEvents=function(t){var e=this;t.on("click",function(t){if("ready"===e._state){var n=e.seriesModel.get("nodeClick",!0);if(n){var r=e.findTarget(t.offsetX,t.offsetY);if(r){var i=r.node;if(i.getLayout().isLeafRoot)e._rootToNode(r);else if("zoomToNode"===n)e._zoomToNode(r);else if("link"===n){var o=i.hostTree.data.getItemModel(i.dataIndex),a=o.get("link",!0),s=o.get("target",!0)||"blank";a&&lh(a,s)}}}}},this)},e.prototype._renderBreadcrumb=function(t,e,n){var r=this;n||(n=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(n={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new sI(this.group))).render(t,e,n.node,function(e){"animating"!==r._state&&(QO(t.getViewRoot(),e)?r._rootToNode({node:e}):r._zoomToNode({node:e}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,e){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(r){var i=this._storage.background[r.getRawIndex()];if(i){var o=i.transformCoordToLocal(t,e),a=i.shape;if(!(a.x<=o[0]&&o[0]<=a.x+a.width&&a.y<=o[1]&&o[1]<=a.y+a.height))return!1;n={node:r,offsetX:o[0],offsetY:o[1]}}},this),n},e.type="treemap",e}(wp),xI=g.k,AI=g.A,wI=-1,_I=function(){function t(e){var n=e.mappingMethod,r=e.type,i=this.option=g.d(e);this.type=r,this.mappingMethod=n,this._normalizeData=jI[n];var o=t.visualHandlers[r];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[n],"piecewise"===n?(MI(i),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,g.k(e,function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)})}(i)):"category"===n?i.categories?function(t){var e=t.categories,n=t.categoryMap={},r=t.visual;if(xI(e,function(t,e){n[t]=e}),!g.t(r)){var i=[];g.A(r)?xI(r,function(t,e){var r=n[e];i[null!=r?r:wI]=t}):i[wI]=r,r=DI(t,i)}for(var o=e.length-1;o>=0;o--)null==r[o]&&(delete n[e[o]],e.pop())}(i):MI(i,!0):(g.b("linear"!==n||i.dataExtent),MI(i))}return t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},t.prototype.getNormalizer=function(){return g.c(this._normalizeData,this)},t.listVisualTypes=function(){return g.F(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(t,e,n){g.A(t)?g.k(t,e,n):e.call(n,t)},t.mapVisual=function(e,n,r){var i,o=g.t(e)?[]:g.A(e)?{}:(i=!0,null);return t.eachVisual(e,function(t,e){var a=n.call(r,t,e);i?o=a:o[e]=a}),o},t.retrieveVisuals=function(e){var n,r={};return e&&xI(t.visualHandlers,function(t,i){e.hasOwnProperty(i)&&(r[i]=e[i],n=!0)}),n?r:null},t.prepareVisualTypes=function(t){if(g.t(t))t=t.slice();else{if(!AI(t))return[];var e=[];xI(t,function(t,n){e.push(n)}),t=e}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},t.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},t.findPieceIndex=function(t,e,n){for(var r,i=1/0,o=0,a=e.length;o<a;o++){var s=e[o].value;if(null!=s){if(s===t||g.C(s)&&s===t+"")return o;n&&h(s,o)}}for(o=0,a=e.length;o<a;o++){var u=e[o],l=u.interval,c=u.close;if(l){if(l[0]===-1/0){if(LI(c[1],t,l[1]))return o}else if(l[1]===1/0){if(LI(c[0],l[0],t))return o}else if(LI(c[0],l[0],t)&&LI(c[1],t,l[1]))return o;n&&h(l[0],o),n&&h(l[1],o)}}if(n)return t===1/0?e.length-1:t===-1/0?0:r;function h(e,n){var o=Math.abs(e-t);o<i&&(i=o,r=n)}},t.visualHandlers={color:{applyVisual:II("color"),getColorMapper:function(){var t=this.option;return g.c("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),EI.call(this,t)}:function(e,n,r){var i=!!r;return!n&&(e=this._normalizeData(e)),r=je.a(e,t.parsedVisual,r),i?r:je.h(r,"rgba")},this)},_normalizedToVisual:{linear:function(t){return je.h(je.a(t,this.option.parsedVisual),"rgba")},category:EI,piecewise:function(t,e){var n=TI.call(this,e);return null==n&&(n=je.h(je.a(t,this.option.parsedVisual),"rgba")),n},fixed:CI}},colorHue:SI(function(t,e){return je.f(t,e)}),colorSaturation:SI(function(t,e){return je.f(t,null,e)}),colorLightness:SI(function(t,e){return je.f(t,null,null,e)}),colorAlpha:SI(function(t,e){return je.e(t,e)}),decal:{applyVisual:II("decal"),_normalizedToVisual:{linear:null,category:EI,piecewise:null,fixed:null}},opacity:{applyVisual:II("opacity"),_normalizedToVisual:kI([0,1])},liftZ:{applyVisual:II("liftZ"),_normalizedToVisual:{linear:CI,category:CI,piecewise:CI,fixed:CI}},symbol:{applyVisual:function(t,e,n){n("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:OI,category:EI,piecewise:function(t,e){var n=TI.call(this,e);return null==n&&(n=OI.call(this,t)),n},fixed:CI}},symbolSize:{applyVisual:II("symbolSize"),_normalizedToVisual:kI([0,1])}},t}();function MI(t,e){var n=t.visual,r=[];g.A(n)?xI(n,function(t){r.push(t)}):null!=n&&r.push(n);e||1!==r.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(r[1]=r[0]),DI(t,r)}function SI(t){return{applyVisual:function(e,n,r){var i=this.mapValueToVisual(e);r("color",t(n("color"),i))},_normalizedToVisual:kI([0,1])}}function OI(t){var e=this.option.visual;return e[Math.round(dr(t,[0,1],[0,e.length-1],!0))]||{}}function II(t){return function(e,n,r){r(t,this.mapValueToVisual(e))}}function EI(t){var e=this.option.visual;return e[this.option.loop&&t!==wI?t%e.length:t]}function CI(){return this.option.visual[0]}function kI(t){return{linear:function(e){return dr(e,t,this.option.visual,!0)},category:EI,piecewise:function(e,n){var r=TI.call(this,n);return null==r&&(r=dr(e,t,this.option.visual,!0)),r},fixed:CI}}function TI(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var r=n[_I.findPieceIndex(t,n)];if(r&&r.visual)return r.visual[this.type]}}function DI(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=g.H(e,function(t){var e=je.g(t);return e||[0,0,0,1]})),e}var jI={linear:function(t){return dr(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=_I.findPieceIndex(t,e,!0);if(null!=n)return dr(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?wI:e},fixed:g.L};function LI(t,e,n){return t?e<=n:e<n}var PI=_I,NI="itemStyle",RI=$r(),BI={seriesType:"treemap",reset:function(t){var e=t.getData().tree.root;e.isRemoved()||function t(e,n,r,i){var o=e.getModel();var a=e.getLayout();var s=e.hostTree.data;if(!a||a.invisible||!a.isInView)return;var u=o.getModel(NI);var l=function(t,e,n){var r=Object(g.m)({},e),i=n.designatedVisualItemStyle;return Object(g.k)(["color","colorAlpha","colorSaturation"],function(n){i[n]=e[n];var o=t.get(n);i[n]=null,null!=o&&(r[n]=o)}),r}(u,n,i);var c=s.ensureUniqueItemVisual(e.dataIndex,"style");var h=u.get("borderColor");var d=u.get("borderColorSaturation");var f;null!=d&&(f=zI(l),h=function(t,e){return null!=e?Object(je.f)(e,null,null,t):null}(d,f));c.stroke=h;var p=e.viewChildren;if(p&&p.length){var v=function(t,e,n,r,i,o){if(!o||!o.length)return;var a=GI(e,"color")||null!=i.color&&"none"!==i.color&&(GI(e,"colorAlpha")||GI(e,"colorSaturation"));if(!a)return;var s=e.get("visualMin"),u=e.get("visualMax"),l=n.dataExtent.slice();null!=s&&s<l[0]&&(l[0]=s),null!=u&&u>l[1]&&(l[1]=u);var c=e.get("colorMappingBy"),h={type:a.name,dataExtent:l,visual:a.range};"color"!==h.type||"index"!==c&&"id"!==c?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var d=new PI(h);return RI(d).drColorMappingBy=c,d}(0,o,a,0,l,p);Object(g.k)(p,function(e,n){if(e.depth>=r.length||e===r[e.depth]){var a=function(t,e,n,r,i,o){var a=Object(g.m)({},e);if(i){var s=i.type,u="color"===s&&RI(i).drColorMappingBy,l="index"===u?r:"id"===u?o.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));a[s]=i.mapValueToVisual(l)}return a}(o,l,e,n,v,i);t(e,a,r,i)}})}else f=zI(l),c.fill=f}(e,{},t.getViewRoot().getAncestors(),t)}};function zI(t){var e=FI(t,"color");if(e){var n=FI(t,"colorAlpha"),r=FI(t,"colorSaturation");return r&&(e=Object(je.f)(e,null,null,r)),n&&(e=Object(je.e)(e,n)),e}}function FI(t,e){var n=t[e];if(null!=n&&"none"!==n)return n}function GI(t,e){var n=t.get(e);return Object(g.t)(n)&&n.length?{name:e,range:n}:null}var VI=Math.max,UI=Math.min,WI=g.O,HI=g.k,YI=["itemStyle","borderWidth"],XI=["itemStyle","gapWidth"],qI=["upperLabel","show"],QI=["upperLabel","height"],ZI={seriesType:"treemap",reset:function(t,e,n,r){var i=n.getWidth(),o=n.getHeight(),a=t.option,s=gh(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),u=a.size||[],l=fr(WI(s.width,u[0]),i),c=fr(WI(s.height,u[1]),o),h=r&&r.type,d=XO(r,["treemapZoomToNode","treemapRootToNode"],t),f="treemapRender"===h||"treemapMove"===h?r.rootRect:null,p=t.getViewRoot(),v=qO(p);if("treemapMove"!==h){var y="treemapZoomToNode"===h?function(t,e,n,r,i){var o,a=(e||{}).node,s=[r,i];if(!a||a===n)return s;var u=r*i,l=u*t.option.zoomToNodeRatio;for(;o=a.parentNode;){for(var c=0,h=o.children,d=0,f=h.length;d<f;d++)c+=h[d].getValue();var p=a.getValue();if(0===p)return s;l*=c/p;var g=o.getModel(),v=g.get(YI),y=Math.max(v,$I(g));(l+=4*v*v+(3*v+y)*Math.pow(l,.5))>wr&&(l=wr),a=o}l<u&&(l=u);var m=Math.pow(l/u,.5);return[r*m,i*m]}(t,d,p,l,c):f?[f.width,f.height]:[l,c],m=a.sort;m&&"asc"!==m&&"desc"!==m&&(m="desc");var b={squareRatio:a.squareRatio,sort:m,leafDepth:a.leafDepth};p.hostTree.clearLayouts();var x={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};p.setLayout(x),function t(e,n,r,i){var o;var a;if(e.isRemoved())return;var s=e.getLayout();o=s.width;a=s.height;var u=e.getModel();var l=u.get(YI);var c=u.get(XI)/2;var h=$I(u);var d=Math.max(l,h);var f=l-c;var p=d-c;e.setLayout({borderWidth:l,upperHeight:d,upperLabelHeight:h},!0);o=VI(o-2*f,0);a=VI(a-f-p,0);var v=o*a;var y=function(t,e,n,r,i,o){var a=t.children||[],s=r.sort;"asc"!==s&&"desc"!==s&&(s=null);var u=null!=r.leafDepth&&r.leafDepth<=o;if(i&&!u)return t.viewChildren=[];!function(t,e){e&&t.sort(function(t,n){var r="asc"===e?t.getValue()-n.getValue():n.getValue()-t.getValue();return 0===r?"asc"===e?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:r})}(a=g.n(a,function(t){return!t.isRemoved()}),s);var l=function(t,e,n){for(var r=0,i=0,o=e.length;i<o;i++)r+=e[i].getValue();var a,s=t.get("visualDimension");e&&e.length?"value"===s&&n?(a=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&a.reverse()):(a=[1/0,-1/0],HI(e,function(t){var e=t.getValue(s);e<a[0]&&(a[0]=e),e>a[1]&&(a[1]=e)})):a=[NaN,NaN];return{sum:r,dataExtent:a}}(e,a,s);if(0===l.sum)return t.viewChildren=[];if(l.sum=function(t,e,n,r,i){if(!r)return n;for(var o=t.get("visibleMin"),a=i.length,s=a,u=a-1;u>=0;u--){var l=i["asc"===r?a-u-1:u].getValue();l/n*e<o&&(s=u,n-=l)}return"asc"===r?i.splice(0,a-s):i.splice(s,a-s),n}(e,n,l.sum,s,a),0===l.sum)return t.viewChildren=[];for(var c=0,h=a.length;c<h;c++){var d=a[c].getValue()/l.sum*n;a[c].setLayout({area:d})}u&&(a.length&&t.setLayout({isLeafRoot:!0},!0),a.length=0);return t.viewChildren=a,t.setLayout({dataExtent:l.dataExtent},!0),a}(e,u,v,n,r,i);if(!y.length)return;var m={x:f,y:p,width:o,height:a};var b=UI(o,a);var x=1/0;var A=[];A.area=0;for(var w=0,_=y.length;w<_;){var M=y[w];A.push(M),A.area+=M.getLayout().area;var S=KI(A,b,n.squareRatio);S<=x?(w++,x=S):(A.area-=A.pop().getLayout().area,JI(A,b,m,c,!1),b=UI(m.width,m.height),A.length=A.area=0,x=1/0)}A.length&&JI(A,b,m,c,!0);if(!r){var O=u.get("childrenVisibleMin");null!=O&&v<O&&(r=!0)}for(var w=0,_=y.length;w<_;w++)t(y[w],n,r,i+1)}(p,b,!1,0),x=p.getLayout(),HI(v,function(t,e){var n=(v[e+1]||p).getValue();t.setLayout(g.m({dataExtent:[n,n],borderWidth:0,upperHeight:0},x))})}var A=t.getData().tree.root;A.setLayout(function(t,e,n){if(e)return{x:e.x,y:e.y};var r={x:0,y:0};if(!n)return r;var i=n.node,o=i.getLayout();if(!o)return r;var a=[o.width/2,o.height/2],s=i;for(;s;){var u=s.getLayout();a[0]+=u.x,a[1]+=u.y,s=s.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}(s,f,d),!0),t.setLayoutInfo(s),function t(e,n,r,i,o){var a=e.getLayout();var s=r[o];var u=s&&s===e;if(s&&!u||o===r.length&&e!==i)return;e.setLayout({isInView:!0,invisible:!u&&!n.intersect(a),isAboveViewRoot:u},!0);var l=new Tt(n.x-a.x,n.y-a.y,n.width,n.height);HI(e.viewChildren||[],function(e){t(e,l,r,i,o+1)})}(A,new Tt(-s.x,-s.y,i,o),v,p,0)}};function KI(t,e,n){for(var r=0,i=1/0,o=0,a=void 0,s=t.length;o<s;o++)(a=t[o].getLayout().area)&&(a<i&&(i=a),a>r&&(r=a));var u=t.area*t.area,l=e*e*n;return u?VI(l*r/u,u/(l*i)):1/0}function JI(t,e,n,r,i){var o=e===n.width?0:1,a=1-o,s=["x","y"],u=["width","height"],l=n[s[o]],c=e?t.area/e:0;(i||c>n[u[a]])&&(c=n[u[a]]);for(var h=0,d=t.length;h<d;h++){var f=t[h],p={},g=c?f.getLayout().area/c:0,v=p[u[a]]=VI(c-2*r,0),y=n[s[o]]+n[u[o]]-l,m=h===d-1||y<g?y:g,b=p[u[o]]=VI(m-2*r,0);p[s[a]]=n[s[a]]+UI(r,v/2),p[s[o]]=l+UI(r,b/2),l+=m,f.setLayout(p,!0)}n[s[a]]+=c,n[u[a]]-=c}function $I(t){return t.get(qI)?t.get(QI):0}function tE(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),r=t.getGraph().data,i=n.mapArray(n.getName);r.filterSelf(function(t){var n=r.getItemModel(t).getShallow("category");if(null!=n){Object(g.z)(n)&&(n=i[n]);for(var o=0;o<e.length;o++)if(!e[o].isSelected(n))return!1}return!0})})}function eE(t){var e={};t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),r=t.getData(),i={};n.each(function(r){var o=n.getName(r);i["ec-"+o]=r;var a=n.getItemModel(r),s=a.getModel("itemStyle").getItemStyle();s.fill||(s.fill=t.getColorFromPalette(o,e)),n.setItemVisual(r,"style",s);for(var u=["symbol","symbolSize","symbolKeepAspect"],l=0;l<u.length;l++){var c=a.getShallow(u[l],!0);null!=c&&n.setItemVisual(r,u[l],c)}}),n.count()&&r.each(function(t){var e=r.getItemModel(t).getShallow("category");if(null!=e){Object(g.C)(e)&&(e=i["ec-"+e]);var o=n.getItemVisual(e,"style"),a=r.ensureUniqueItemVisual(t,"style");Object(g.m)(a,o);for(var s=["symbol","symbolSize","symbolKeepAspect"],u=0;u<s.length;u++)r.setItemVisual(t,s[u],n.getItemVisual(e,s[u]))}})})}function nE(t){return t instanceof Array||(t=[t,t]),t}function rE(t){t.eachSeriesByType("graph",function(t){var e=t.getGraph(),n=t.getEdgeData(),r=nE(t.get("edgeSymbol")),i=nE(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",r&&r[0]),n.setVisual("toSymbol",r&&r[1]),n.setVisual("fromSymbolSize",i&&i[0]),n.setVisual("toSymbolSize",i&&i[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each(function(t){var r=n.getItemModel(t),i=e.getEdgeByIndex(t),o=nE(r.getShallow("symbol",!0)),a=nE(r.getShallow("symbolSize",!0)),s=r.getModel("lineStyle").getLineStyle(),u=n.ensureUniqueItemVisual(t,"style");switch(Object(g.m)(u,s),u.stroke){case"source":var l=i.node1.getVisual("style");u.stroke=l&&l.fill;break;case"target":l=i.node2.getVisual("style");u.stroke=l&&l.fill}o[0]&&i.setVisual("fromSymbol",o[0]),o[1]&&i.setVisual("toSymbol",o[1]),a[0]&&i.setVisual("fromSymbolSize",a[0]),a[1]&&i.setVisual("toSymbolSize",a[1])})})}var iE=function(t){return t.get("autoCurveness")||null},oE=function(t,e){var n=iE(t),r=20,i=[];if(g.z(n))r=n;else if(g.t(n))return void(t.__curvenessList=n);e>r&&(r=e);var o=r%2?r+2:r+3;i=[];for(var a=0;a<o;a++)i.push((a%2?a+1:a)/10*(a%2?-1:1));t.__curvenessList=i},aE=function(t,e,n){var r=[t.id,t.dataIndex].join("."),i=[e.id,e.dataIndex].join(".");return[n.uid,r,i].join("--\x3e")},sE=function(t){var e=t.split("--\x3e");return[e[0],e[2],e[1]].join("--\x3e")},uE=function(t,e){var n=aE(t.node1,t.node2,e);return e.__edgeMap[n]},lE=function(t,e){return cE(aE(t.node1,t.node2,e),e)+cE(aE(t.node2,t.node1,e),e)},cE=function(t,e){var n=e.__edgeMap;return n[t]?n[t].length:0};function hE(t,e,n,r){var i=iE(e),o=g.t(i);if(!i)return null;var a=uE(t,e);if(!a)return null;for(var s=-1,u=0;u<a.length;u++)if(a[u]===n){s=u;break}var l=lE(t,e);oE(e,l),t.lineStyle=t.lineStyle||{};var c=aE(t.node1,t.node2,e),h=e.__curvenessList,d=o?0:l%2?0:1;if(a.isForward)return h[d+s];var f=sE(c),p=cE(f,e),v=h[s+p+d];return r?o?i&&0===i[0]?(p+d)%2?v:-v:((p%2?0:1)+d)%2?v:-v:(p+d)%2?v:-v:h[s+p+d]}function dE(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}),fE(n,t)}}function fE(t,e){t.eachEdge(function(t,n){var r=g.Q(t.getModel().get(["lineStyle","curveness"]),-hE(t,e,n,!0),0),i=m(t.node1.getLayout()),o=m(t.node2.getLayout()),a=[i,o];+r&&a.push([(i[0]+o[0])/2-(i[1]-o[1])*r,(i[1]+o[1])/2-(o[0]-i[0])*r]),t.setLayout(a)})}function pE(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var r=t.getData(),i=[];Object(g.k)(n.dimensions,function(t){i=i.concat(r.mapDimensionsAll(t))});for(var o=0;o<r.count();o++){for(var a=[],s=!1,u=0;u<i.length;u++){var l=r.get(i[u],o);isNaN(l)||(s=!0),a.push(l)}s?r.setItemLayout(o,n.dataToPoint(a)):r.setItemLayout(o,[NaN,NaN])}fE(r.graph,t)}else e&&"none"!==e||dE(t)})}function gE(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=t.option.nodeScaleRatio,r=e.scaleX;return((e.getZoom()-1)*n+1)/r}function vE(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var yE=Math.PI,mE=[];function bE(t,e,n,r){var i=t.coordinateSystem;if(!i||"view"===i.type){var o=i.getBoundingRect(),a=t.getData(),s=a.graph,u=o.width/2+o.x,l=o.height/2+o.y,c=Math.min(o.width,o.height)/2,h=a.count();if(a.setLayout({cx:u,cy:l}),h){if(n){var d=i.pointToData(r),f=d[0],p=d[1],v=[f-u,p-l];T(v,v),k(v,v,c),n.setLayout([u+v[0],l+v[1]],!0),AE(n,t.get(["circular","rotateLabel"]),u,l)}xE[e](t,s,a,c,u,l,h),s.eachEdge(function(e,n){var r,i=g.Q(e.getModel().get(["lineStyle","curveness"]),hE(e,t,n),0),o=m(e.node1.getLayout()),a=m(e.node2.getLayout()),s=(o[0]+a[0])/2,c=(o[1]+a[1])/2;+i&&(r=[u*(i*=3)+s*(1-i),l*i+c*(1-i)]),e.setLayout([o,a,r])})}}}var xE={value:function(t,e,n,r,i,o,a){var s=0,u=n.getSum("value"),l=2*Math.PI/(u||a);e.eachNode(function(t){var e=t.getValue("value"),n=l*(u?e:1)/2;s+=n,t.setLayout([r*Math.cos(s)+i,r*Math.sin(s)+o]),s+=n})},symbolSize:function(t,e,n,r,i,o,a){var s=0;mE.length=a;var u=gE(t);e.eachNode(function(t){var e=vE(t);isNaN(e)&&(e=2),e<0&&(e=0),e*=u;var n=Math.asin(e/2/r);isNaN(n)&&(n=yE/2),mE[t.dataIndex]=n,s+=2*n});var l=(2*yE-s)/a/2,c=0;e.eachNode(function(t){var e=l+mE[t.dataIndex];c+=e,(!t.getLayout()||!t.getLayout().fixed)&&t.setLayout([r*Math.cos(c)+i,r*Math.sin(c)+o]),c+=e})}};function AE(t,e,n,r){var i=t.getGraphicEl();if(i){var o=t.getModel().get(["label","rotate"])||0,a=i.getSymbolPath();if(e){var s=t.getLayout(),u=Math.atan2(s[1]-r,s[0]-n);u<0&&(u=2*Math.PI+u);var l=s[0]<n;l&&(u-=Math.PI);var c=l?"left":"right";a.setTextConfig({rotation:-u,position:c,origin:"center"});var h=a.ensureState("emphasis");g.m(h.textConfig||(h.textConfig={}),{position:c})}else a.setTextConfig({rotation:o*=Math.PI/180})}}function wE(t){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&bE(t,"symbolSize")})}var _E=A;function ME(t){t.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},r=t.getGraph(),i=r.data,o=r.edgeData,a=t.getModel("force"),s=a.get("initLayout");t.preservedPoints?i.each(function(t){var e=i.getId(t);i.setItemLayout(t,n[e]||[NaN,NaN])}):s&&"none"!==s?"circular"===s&&bE(t,"value"):dE(t);var u=i.getDataExtent("value"),l=o.getDataExtent("value"),c=a.get("repulsion"),h=a.get("edgeLength"),d=g.t(c)?c:[c,c],f=g.t(h)?h:[h,h];f=[f[1],f[0]];var p=i.mapArray("value",function(t,e){var n=i.getItemLayout(e),r=dr(t,u,d);return isNaN(r)&&(r=(d[0]+d[1])/2),{w:r,rep:r,fixed:i.getItemModel(e).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}}),x=o.mapArray("value",function(e,n){var i=r.getEdgeByIndex(n),o=dr(e,l,f);isNaN(o)&&(o=(f[0]+f[1])/2);var a=i.getModel(),s=g.Q(i.getModel().get(["lineStyle","curveness"]),-hE(i,t,n,!0),0);return{n1:p[i.node1.dataIndex],n2:p[i.node2.dataIndex],d:o,curveness:s,ignoreForceLayout:a.get("ignoreForceLayout")}}),A=e.getBoundingRect(),M=function(t,e,n){for(var r=t,i=e,o=n.rect,a=o.width,s=o.height,u=[o.x+a/2,o.y+s/2],l=null==n.gravity?.1:n.gravity,c=0;c<r.length;c++){var h=r[c];h.p||(h.p=v(a*(Math.random()-.5)+u[0],s*(Math.random()-.5)+u[1])),h.pp=m(h.p),h.edges=null}var d,f,p=null==n.friction?.6:n.friction,g=p;return{warmUp:function(){g=.8*p},setFixed:function(t){r[t].fixed=!0},setUnfixed:function(t){r[t].fixed=!1},beforeStep:function(t){d=t},afterStep:function(t){f=t},step:function(t){d&&d(r,i);for(var e=[],n=r.length,o=0;o<i.length;o++){var a=i[o];if(!a.ignoreForceLayout){var s=a.n1;w(e,(v=a.n2).p,s.p);var c=_(e)-a.d,h=v.w/(s.w+v.w);isNaN(h)&&(h=0),T(e,e),!s.fixed&&_E(s.p,s.p,e,h*c*g),!v.fixed&&_E(v.p,v.p,e,-(1-h)*c*g)}}for(o=0;o<n;o++)(A=r[o]).fixed||(w(e,u,A.p),_E(A.p,A.p,e,l*g));for(o=0;o<n;o++){s=r[o];for(var p=o+1;p<n;p++){var v;w(e,(v=r[p]).p,s.p),0===(c=_(e))&&(b(e,Math.random()-.5,Math.random()-.5),c=1);var m=(s.rep+v.rep)/c/c;!s.fixed&&_E(s.pp,s.pp,e,m),!v.fixed&&_E(v.pp,v.pp,e,-m)}}var x=[];for(o=0;o<n;o++){var A;(A=r[o]).fixed||(w(x,A.p,A.pp),_E(A.p,A.p,x,g),y(A.pp,A.p))}var M=(g*=.992)<.01;f&&f(r,i,M),t&&t(M)}}}(p,x,{rect:A,gravity:a.get("gravity"),friction:a.get("friction")});M.beforeStep(function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].fixed&&y(t[n].p,r.getNodeByIndex(n).getLayout())}),M.afterStep(function(t,e,o){for(var a=0,s=t.length;a<s;a++)t[a].fixed||r.getNodeByIndex(a).setLayout(t[a].p),n[i.getId(a)]=t[a].p;for(a=0,s=e.length;a<s;a++){var u=e[a],l=r.getEdgeByIndex(a),c=u.n1.p,h=u.n2.p,d=l.getLayout();(d=d?d.slice():[])[0]=d[0]||[],d[1]=d[1]||[],y(d[0],c),y(d[1],h),+u.curveness&&(d[2]=[(c[0]+h[0])/2-(c[1]-h[1])*u.curveness,(c[1]+h[1])/2-(h[0]-c[0])*u.curveness]),l.setLayout(d)}}),t.forceLayout=M,t.preservedPoints=n,M.step()}else t.forceLayout=null})}function SE(t,e){var n=[];return t.eachSeriesByType("graph",function(t){var r=t.get("coordinateSystem");if(!r||"view"===r){var i=t.getData(),o=[],a=[];no(i.mapArray(function(t){var e=i.getItemModel(t);return[+e.get("x"),+e.get("y")]}),o,a),a[0]-o[0]==0&&(a[0]+=1,o[0]-=1),a[1]-o[1]==0&&(a[1]+=1,o[1]-=1);var s=(a[0]-o[0])/(a[1]-o[1]),u=function(t,e,n){return gh(Object(g.m)(t.getBoxLayoutParams(),{aspect:n}),{width:e.getWidth(),height:e.getHeight()})}(t,e,s);isNaN(s)&&(o=[u.x,u.y],a=[u.x+u.width,u.y+u.height]);var l=a[0]-o[0],c=a[1]-o[1],h=u.width,d=u.height,f=t.coordinateSystem=new iO;f.zoomLimit=t.get("scaleLimit"),f.setBoundingRect(o[0],o[1],l,c),f.setViewRect(u.x,u.y,h,d),f.setCenter(t.get("center"),e),f.setZoom(t.get("zoom")),n.push(f)}}),n}var OE=Tu.prototype,IE=Nu.prototype,EE=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}}();!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(f.__extends)(e,t)}(EE);function CE(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var kE=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-line",n}return Object(f.__extends)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new EE},e.prototype.buildPath=function(t,e){CE(e)?OE.buildPath.call(this,t,e):IE.buildPath.call(this,t,e)},e.prototype.pointAt=function(t){return CE(this.shape)?OE.pointAt.call(this,t):IE.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var e=this.shape,n=CE(e)?[e.x2-e.x1,e.y2-e.y1]:IE.tangentAt.call(this,t);return T(n,n)},e}(Qo),TE=["fromSymbol","toSymbol"];function DE(t){return"_"+t+"Type"}function jE(t,e,n){var r=e.getItemVisual(n,t);if(r&&"none"!==r){var i=e.getItemVisual(n,t+"Size"),o=e.getItemVisual(n,t+"Rotate"),a=e.getItemVisual(n,t+"Offset"),s=e.getItemVisual(n,t+"KeepAspect"),u=Cg(i),l=kg(a||0,u),c=Eg(r,-u[0]/2+l[0],-u[1]/2+l[1],u[0],u[1],null,s);return c.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,c.name=t,c}}function LE(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var n=e[2];n?(t.cpx1=n[0],t.cpy1=n[1]):(t.cpx1=NaN,t.cpy1=NaN)}var PE=function(t){function e(e,n,r){var i=t.call(this)||this;return i._createLine(e,n,r),i}return Object(f.__extends)(e,t),e.prototype._createLine=function(t,e,n){var r=t.hostModel,i=function(t){var e=new kE({name:"line",subPixelOptimize:!0});return LE(e.shape,t),e}(t.getItemLayout(e));i.shape.percent=0,el(i,{shape:{percent:1}},r,e),this.add(i),Object(g.k)(TE,function(n){var r=jE(n,t,e);this.add(r),this[DE(n)]=t.getItemVisual(e,n)},this),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var r=t.hostModel,i=this.childOfName("line"),o=t.getItemLayout(e),a={shape:{}};LE(a.shape,o),tl(i,a,r,e),Object(g.k)(TE,function(n){var r=t.getItemVisual(e,n),i=DE(n);if(this[i]!==r){this.remove(this.childOfName(n));var o=jE(n,t,e);this.add(o)}this[i]=r},this),this._updateCommonStl(t,e,n)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,e,n){var r=t.hostModel,i=this.childOfName("line"),o=n&&n.emphasisLineStyle,a=n&&n.blurLineStyle,s=n&&n.selectLineStyle,u=n&&n.labelStatesModels,l=n&&n.emphasisDisabled,c=n&&n.focus,h=n&&n.blurScope;if(!n||t.hasItemOption){var d=t.getItemModel(e),f=d.getModel("emphasis");o=f.getModel("lineStyle").getLineStyle(),a=d.getModel(["blur","lineStyle"]).getLineStyle(),s=d.getModel(["select","lineStyle"]).getLineStyle(),l=f.get("disabled"),c=f.get("focus"),h=f.get("blurScope"),u=Gl(d)}var p=t.getItemVisual(e,"style"),v=p.stroke;i.useStyle(p),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState("emphasis").style=o,i.ensureState("blur").style=a,i.ensureState("select").style=s,Object(g.k)(TE,function(t){var e=this.childOfName(t);if(e){e.setColor(v),e.style.opacity=p.opacity;for(var n=0;n<Na.length;n++){var r=Na[n],o=i.getState(r);if(o){var a=o.style||{},s=e.ensureState(r),u=s.style||(s.style={});null!=a.stroke&&(u[e.__isEmptyBrush?"stroke":"fill"]=a.stroke),null!=a.opacity&&(u.opacity=a.opacity)}}e.markRedraw()}},this);var y=r.getRawValue(e);Fl(this,u,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,n){return r.getFormattedLabel(e,n,t.dataType)}},inheritColor:v||"#000",defaultOpacity:p.opacity,defaultText:(null==y?t.getName(e):isFinite(y)?pr(y):y)+""});var m=this.getTextContent();if(m){var b=u.normal;m.__align=m.style.align,m.__verticalAlign=m.style.verticalAlign,m.__position=b.get("position")||"middle";var x=b.get("distance");Object(g.t)(x)||(x=[x,x]),m.__labelDistance=x}this.setTextConfig({position:null,local:!0,inside:!1}),As(this,c,h,l)},e.prototype.highlight=function(){us(this)},e.prototype.downplay=function(){ls(this)},e.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},e.prototype.setLinePoints=function(t){var e=this.childOfName("line");LE(e.shape,t),e.dirty()},e.prototype.beforeUpdate=function(){var t=this.childOfName("fromSymbol"),e=this.childOfName("toSymbol"),n=this.getTextContent();if(t||e||n&&!n.ignore){for(var r=1,i=this.parent;i;)i.scaleX&&(r/=i.scaleX),i=i.parent;var o=this.childOfName("line");if(this.__dirty||o.__dirty){var a=o.shape.percent,s=o.pointAt(0),u=o.pointAt(a),l=w([],u,s);if(T(l,l),t&&(t.setPosition(s),_(t,0),t.scaleX=t.scaleY=r*a,t.markRedraw()),e&&(e.setPosition(u),_(e,1),e.scaleX=e.scaleY=r*a,e.markRedraw()),n&&!n.ignore){n.x=n.y=0,n.originX=n.originY=0;var c=void 0,h=void 0,d=n.__labelDistance,f=d[0]*r,p=d[1]*r,g=a/2,v=o.tangentAt(g),y=[v[1],-v[0]],m=o.pointAt(g);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]);var b=v[0]<0?-1:1;if("start"!==n.__position&&"end"!==n.__position){var x=-Math.atan2(v[1],v[0]);u[0]<s[0]&&(x=Math.PI+x),n.rotation=x}var A=void 0;switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":A=-p,h="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":A=p,h="top";break;default:A=0,h="middle"}switch(n.__position){case"end":n.x=l[0]*f+u[0],n.y=l[1]*p+u[1],c=l[0]>.8?"left":l[0]<-.8?"right":"center",h=l[1]>.8?"top":l[1]<-.8?"bottom":"middle";break;case"start":n.x=-l[0]*f+s[0],n.y=-l[1]*p+s[1],c=l[0]>.8?"right":l[0]<-.8?"left":"center",h=l[1]>.8?"bottom":l[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":n.x=f*b+s[0],n.y=s[1]+A,c=v[0]<0?"right":"left",n.originX=-f*b,n.originY=-A;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":n.x=m[0],n.y=m[1]+A,c="center",n.originY=-A;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":n.x=-f*b+u[0],n.y=u[1]+A,c=v[0]>=0?"right":"left",n.originX=f*b,n.originY=-A}n.scaleX=n.scaleY=r,n.setStyle({verticalAlign:n.__verticalAlign||h,align:n.__align||c})}}}function _(t,e){var n=t.__specifiedRotation;if(null==n){var r=o.tangentAt(e);t.attr("rotation",(1===e?-1:1)*Math.PI/2-Math.atan2(r[1],r[0]))}else t.attr("rotation",n)}},e}(tr);function NE(t){var e=t.hostModel,n=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:Gl(e)}}function RE(t){return isNaN(t[0])||isNaN(t[1])}function BE(t){return t&&!RE(t[0])&&!RE(t[1])}var zE=function(){function t(t){this.group=new tr,this._LineCtor=t||PE}return t.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this.group,r=this._lineData;this._lineData=t,r||n.removeAll();var i=NE(t);t.diff(r).add(function(n){e._doAdd(t,n,i)}).update(function(n,o){e._doUpdate(r,t,o,n,i)}).remove(function(t){n.remove(r.getItemGraphicEl(t))}).execute()},t.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=NE(t),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e){function n(t){t.isGroup||function(t){return t.animators&&t.animators.length>0}(t)||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var r=t.start;r<t.end;r++){if(BE(e.getItemLayout(r))){var i=new this._LineCtor(e,r,this._seriesScope);i.traverse(n),this.group.add(i),e.setItemGraphicEl(r,i),this._progressiveEls.push(i)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(t){Nl(this._progressiveEls||this.group,t)},t.prototype._doAdd=function(t,e,n){if(BE(t.getItemLayout(e))){var r=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,r),this.group.add(r)}},t.prototype._doUpdate=function(t,e,n,r,i){var o=t.getItemGraphicEl(n);BE(e.getItemLayout(r))?(o?o.updateData(e,r,i):o=new this._LineCtor(e,r,i),e.setItemGraphicEl(r,o),this.group.add(o)):this.group.remove(o)},t}(),FE=[],GE=[],VE=[],UE=Me,WE=P,HE=Math.abs;function YE(t,e,n){for(var r,i=t[0],o=t[1],a=t[2],s=1/0,u=n*n,l=.1,c=.1;c<=.9;c+=.1){FE[0]=UE(i[0],o[0],a[0],c),FE[1]=UE(i[1],o[1],a[1],c),(f=HE(WE(FE,e)-u))<s&&(s=f,r=c)}for(var h=0;h<32;h++){var d=r+l;GE[0]=UE(i[0],o[0],a[0],r),GE[1]=UE(i[1],o[1],a[1],r),VE[0]=UE(i[0],o[0],a[0],d),VE[1]=UE(i[1],o[1],a[1],d);var f=WE(GE,e)-u;if(HE(f)<.01)break;var p=WE(VE,e)-u;l/=2,f<0?p>=0?r+=l:r-=l:p>=0?r-=l:r+=l}return r}function XE(t,e){var n=[],r=Ie,i=[[],[],[]],o=[[],[]],a=[];e/=2,t.eachEdge(function(t,s){var u=t.getLayout(),l=t.getVisual("fromSymbol"),c=t.getVisual("toSymbol");u.__original||(u.__original=[m(u[0]),m(u[1])],u[2]&&u.__original.push(m(u[2])));var h=u.__original;if(null!=u[2]){if(y(i[0],h[0]),y(i[1],h[2]),y(i[2],h[1]),l&&"none"!==l){var d=vE(t.node1),f=YE(i,h[0],d*e);r(i[0][0],i[1][0],i[2][0],f,n),i[0][0]=n[3],i[1][0]=n[4],r(i[0][1],i[1][1],i[2][1],f,n),i[0][1]=n[3],i[1][1]=n[4]}if(c&&"none"!==c){d=vE(t.node2),f=YE(i,h[1],d*e);r(i[0][0],i[1][0],i[2][0],f,n),i[1][0]=n[1],i[2][0]=n[2],r(i[0][1],i[1][1],i[2][1],f,n),i[1][1]=n[1],i[2][1]=n[2]}y(u[0],i[0]),y(u[1],i[2]),y(u[2],i[1])}else{if(y(o[0],h[0]),y(o[1],h[1]),w(a,o[1],o[0]),T(a,a),l&&"none"!==l){d=vE(t.node1);A(o[0],o[0],a,d*e)}if(c&&"none"!==c){d=vE(t.node2);A(o[1],o[1],a,-d*e)}y(u[0],o[0]),y(u[1],o[1])}})}function qE(t){return"view"===t.type}var QE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.init=function(t,e){var n=new fw,r=new zE,i=this.group;this._controller=new $M(e.getZr()),this._controllerHost={target:i},i.add(n.group),i.add(r.group),this._symbolDraw=n,this._lineDraw=r,this._firstRender=!0},e.prototype.render=function(t,e,n){var r=this,i=t.coordinateSystem;this._model=t;var o=this._symbolDraw,a=this._lineDraw,s=this.group;if(qE(i)){var u={x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY};this._firstRender?s.attr(u):tl(s,u,t)}XE(t.getGraph(),gE(t));var l=t.getData();o.updateData(l);var c=t.getEdgeData();a.updateData(c),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var h=t.forceLayout,d=t.get(["force","layoutAnimation"]);h&&this._startForceLayoutIteration(h,d);var f=t.get("layout");l.graph.eachNode(function(e){var n=e.dataIndex,i=e.getGraphicEl(),o=e.getModel();if(i){i.off("drag").off("dragend");var a=o.get("draggable");a&&i.on("drag",function(o){switch(f){case"force":h.warmUp(),!r._layouting&&r._startForceLayoutIteration(h,d),h.setFixed(n),l.setItemLayout(n,[i.x,i.y]);break;case"circular":l.setItemLayout(n,[i.x,i.y]),e.setLayout({fixed:!0},!0),bE(t,"symbolSize",e,[o.offsetX,o.offsetY]),r.updateLayout(t);break;case"none":default:l.setItemLayout(n,[i.x,i.y]),fE(t.getGraph(),t),r.updateLayout(t)}}).on("dragend",function(){h&&h.setUnfixed(n)}),i.setDraggable(a,!!o.get("cursor")),"adjacency"===o.get(["emphasis","focus"])&&(Ia(i).focus=e.getAdjacentDataIndices())}}),l.graph.eachEdge(function(t){var e=t.getGraphicEl(),n=t.getModel().get(["emphasis","focus"]);e&&"adjacency"===n&&(Ia(e).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]})});var p="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),g=l.getLayout("cx"),v=l.getLayout("cy");l.graph.eachNode(function(t){AE(t,p,g,v)}),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,e){var n=this;!function r(){t.step(function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(r,16):r())})}()},e.prototype._updateController=function(t,e,n){var r=this,i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker(function(e,r,i){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(r,i)&&!iS(e,n,t)}),qE(t.coordinateSystem)?(i.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",function(e){tS(o,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){eS(o,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),r._updateNodeAndLinkScale(),XE(t.getGraph(),gE(t)),r._lineDraw.updateLayout(),n.updateLabelLayout()})):i.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,e=t.getData(),n=gE(t);e.eachItemGraphicEl(function(t,e){t&&t.setSymbolScale(n)})},e.prototype.updateLayout=function(t){XE(t.getGraph(),gE(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(wp);function ZE(t){return"_EC_"+t}var KE=function(){function t(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(t,e){t=null==t?""+e:""+t;var n=this._nodesMap;if(!n[ZE(t)]){var r=new JE(t,e);return r.hostGraph=this,this.nodes.push(r),n[ZE(t)]=r,r}},t.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},t.prototype.getNodeById=function(t){return this._nodesMap[ZE(t)]},t.prototype.addEdge=function(t,e,n){var r=this._nodesMap,i=this._edgesMap;if(g.z(t)&&(t=this.nodes[t]),g.z(e)&&(e=this.nodes[e]),t instanceof JE||(t=r[ZE(t)]),e instanceof JE||(e=r[ZE(e)]),t&&e){var o=t.id+"-"+e.id,a=new $E(t,e,n);return a.hostGraph=this,this._directed&&(t.outEdges.push(a),e.inEdges.push(a)),t.edges.push(a),t!==e&&e.edges.push(a),this.edges.push(a),i[o]=a,a}},t.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},t.prototype.getEdge=function(t,e){t instanceof JE&&(t=t.id),e instanceof JE&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},t.prototype.eachNode=function(t,e){for(var n=this.nodes,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&t.call(e,n[i],i)},t.prototype.eachEdge=function(t,e){for(var n=this.edges,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&t.call(e,n[i],i)},t.prototype.breadthFirstTraverse=function(t,e,n,r){if(e instanceof JE||(e=this._nodesMap[ZE(e)]),e){for(var i="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(r,e,null))for(var a=[e];a.length;){var s=a.shift(),u=s[i];for(o=0;o<u.length;o++){var l=u[o],c=l.node1===s?l.node2:l.node1;if(!c.__visited){if(t.call(r,c,s))return;a.push(c),c.__visited=!0}}}}},t.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,r=this.edges,i=0,o=n.length;i<o;i++)n[i].dataIndex=-1;for(i=0,o=t.count();i<o;i++)n[t.getRawIndex(i)].dataIndex=i;e.filterSelf(function(t){var n=r[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0});for(i=0,o=r.length;i<o;i++)r[i].dataIndex=-1;for(i=0,o=e.count();i<o;i++)r[e.getRawIndex(i)].dataIndex=i},t.prototype.clone=function(){for(var e=new t(this._directed),n=this.nodes,r=this.edges,i=0;i<n.length;i++)e.addNode(n[i].id,n[i].dataIndex);for(i=0;i<r.length;i++){var o=r[i];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},t}(),JE=function(){function t(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==e?-1:e}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},t}(),$E=function(){function t(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}return t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t}();function tC(t,e){return{getValue:function(n){var r=this[t][e];return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[t][e].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}g.K(JE,tC("hostGraph","data")),g.K($E,tC("hostGraph","edgeData"));var eC=KE;function nC(t,e,n,r,i){for(var o=new eC(r),a=0;a<t.length;a++)o.addNode(g.O(t[a].id,t[a].name,a),a);var s=[],u=[],l=0;for(a=0;a<e.length;a++){var c=e[a],h=c.source,d=c.target;o.addEdge(h,d,l)&&(u.push(c),s.push(g.O(Qr(c.id,null),h+" > "+d)),l++)}var f,p=n.get("coordinateSystem");if("cartesian2d"===p||"polar"===p)f=fm(t,n);else{var v=ad.get(p),y=v&&v.dimensions||[];g.r(y,"value")<0&&y.concat(["value"]);var m=om(t,{coordDimensions:y,encodeDefine:n.getEncode()}).dimensions;(f=new rm(m,n)).initData(t)}var b=new rm(["value"],n);return b.initData(u,s),i&&i(f,b),WO({mainData:f,struct:o,structAttr:"graph",datas:{node:f,edge:b},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}var rC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(f.__extends)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments);var n=this;function r(){return n._categoriesData}this.legendVisualProvider=new k_(r,r),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments),Vr(e,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,e){var n,r=t.edges||t.links||[],i=t.data||t.nodes||[],o=this;if(i&&r){iE(n=this)&&(n.__curvenessList=[],n.__edgeMap={},oE(n));var a=nC(i,r,this,!0,function(t,e){t.wrapMethod("getItemModel",function(t){var e=o._categoriesModels,n=t.getShallow("category"),r=e[n];return r&&(r.parentModel=t.parentModel,t.parentModel=r),t});var n=hc.prototype.getModel;function r(t,e){var r=n.call(this,t,e);return r.resolveParentPath=i,r}function i(t){if(t&&("label"===t[0]||"label"===t[1])){var e=t.slice();return"label"===t[0]?e[0]="edgeLabel":"label"===t[1]&&(e[1]="edgeLabel"),e}return t}e.wrapMethod("getItemModel",function(t){return t.resolveParentPath=i,t.getModel=r,t})});return g.k(a.edges,function(t){!function(t,e,n,r){if(iE(n)){var i=aE(t,e,n),o=n.__edgeMap,a=o[sE(i)];o[i]&&!a?o[i].isForward=!0:a&&o[i]&&(a.isForward=!0,o[i].isForward=!1),o[i]=o[i]||[],o[i].push(r)}}(t.node1,t.node2,this,t.dataIndex)},this),a.data}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,e,n){if("edge"===n){var r=this.getData(),i=this.getDataParams(t,n),o=r.graph.getEdgeByIndex(t),a=r.getName(o.node1.dataIndex),s=r.getName(o.node2.dataIndex),u=[];return null!=a&&u.push(a),null!=s&&u.push(s),Gf("nameValue",{name:u.join(" > "),value:i.value,noValue:null==i.value})}return Jf({series:this,dataIndex:t,multipleSeries:e})},e.prototype._updateCategoriesData=function(){var t=g.H(this.option.categories||[],function(t){return null!=t.value?t:g.m({value:0},t)}),e=new rm(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(cp),iC={type:"graphRoam",event:"graphRoam",update:"none"};var oC=function(){return function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}}(),aC=function(t){function e(e){var n=t.call(this,e)||this;return n.type="pointer",n}return Object(f.__extends)(e,t),e.prototype.getDefaultShape=function(){return new oC},e.prototype.buildPath=function(t,e){var n=Math.cos,r=Math.sin,i=e.r,o=e.width,a=e.angle,s=e.x-n(a)*o*(o>=i/3?1:2),u=e.y-r(a)*o*(o>=i/3?1:2);a=e.angle-Math.PI/2,t.moveTo(s,u),t.lineTo(e.x+n(a)*o,e.y+r(a)*o),t.lineTo(e.x+n(e.angle)*i,e.y+r(e.angle)*i),t.lineTo(e.x-n(a)*o,e.y-r(a)*o),t.lineTo(s,u)},e}(Qo);function sC(t,e){var n=null==t?"":t+"";return e&&(Object(g.C)(e)?n=e.replace("{value}",n):Object(g.w)(e)&&(n=e(t))),n}var uC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n){this.group.removeAll();var r=t.get(["axisLine","lineStyle","color"]),i=function(t,e){var n=t.get("center"),r=e.getWidth(),i=e.getHeight(),o=Math.min(r,i);return{cx:fr(n[0],e.getWidth()),cy:fr(n[1],e.getHeight()),r:fr(t.get("radius"),o/2)}}(t,n);this._renderMain(t,e,n,r,i),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,e,n,r,i){var o=this.group,a=t.get("clockwise"),s=-t.get("startAngle")/180*Math.PI,u=-t.get("endAngle")/180*Math.PI,l=t.getModel("axisLine"),c=l.get("roundCap")?Xw:yu,h=l.get("show"),d=l.getModel("lineStyle"),f=d.get("width"),p=[s,u];Io(p,!a);for(var v=(u=p[1])-(s=p[0]),y=s,m=[],b=0;h&&b<r.length;b++){var x=new c({shape:{startAngle:y,endAngle:u=s+v*Math.min(Math.max(r[b][0],0),1),cx:i.cx,cy:i.cy,clockwise:a,r0:i.r-f,r:i.r},silent:!0});x.setStyle({fill:r[b][1]}),x.setStyle(d.getLineStyle(["color","width"])),m.push(x),y=u}m.reverse(),Object(g.k)(m,function(t){return o.add(t)});var A=function(t){if(t<=0)return r[0][1];var e;for(e=0;e<r.length;e++)if(r[e][0]>=t&&(0===e?0:r[e-1][0])<t)return r[e][1];return r[e-1][1]};this._renderTicks(t,e,n,A,i,s,u,a,f),this._renderTitleAndDetail(t,e,n,A,i),this._renderAnchor(t,i),this._renderPointer(t,e,n,A,i,s,u,a,f)},e.prototype._renderTicks=function(t,e,n,r,i,o,a,s,u){for(var l,c,h=this.group,d=i.cx,f=i.cy,p=i.r,v=+t.get("min"),y=+t.get("max"),m=t.getModel("splitLine"),b=t.getModel("axisTick"),x=t.getModel("axisLabel"),A=t.get("splitNumber"),w=b.get("splitNumber"),_=fr(m.get("length"),p),M=fr(b.get("length"),p),S=o,O=(a-o)/A,I=O/w,E=m.getModel("lineStyle").getLineStyle(),C=b.getModel("lineStyle").getLineStyle(),k=m.get("distance"),T=0;T<=A;T++){if(l=Math.cos(S),c=Math.sin(S),m.get("show")){var D=new Tu({shape:{x1:l*(p-(j=k?k+u:u))+d,y1:c*(p-j)+f,x2:l*(p-_-j)+d,y2:c*(p-_-j)+f},style:E,silent:!0});"auto"===E.stroke&&D.setStyle({stroke:r(T/A)}),h.add(D)}if(x.get("show")){var j=x.get("distance")+k,L=sC(pr(T/A*(y-v)+v),x.get("formatter")),P=r(T/A),N=l*(p-_-j)+d,R=c*(p-_-j)+f,B=x.get("rotate"),z=0;"radial"===B?(z=-S+2*Math.PI)>Math.PI/2&&(z+=Math.PI):"tangential"===B?z=-S-Math.PI/2:Object(g.z)(B)&&(z=B*Math.PI/180),0===z?h.add(new Oa({style:Vl(x,{text:L,x:N,y:R,verticalAlign:c<-.8?"top":c>.8?"bottom":"middle",align:l<-.4?"left":l>.4?"right":"center"},{inheritColor:P}),silent:!0})):h.add(new Oa({style:Vl(x,{text:L,x:N,y:R,verticalAlign:"middle",align:"center"},{inheritColor:P}),silent:!0,originX:N,originY:R,rotation:z}))}if(b.get("show")&&T!==A){j=(j=b.get("distance"))?j+u:u;for(var F=0;F<=w;F++){l=Math.cos(S),c=Math.sin(S);var G=new Tu({shape:{x1:l*(p-j)+d,y1:c*(p-j)+f,x2:l*(p-M-j)+d,y2:c*(p-M-j)+f},silent:!0,style:C});"auto"===C.stroke&&G.setStyle({stroke:r((T+F/w)/A)}),h.add(G),S+=I}S-=I}else S+=O}},e.prototype._renderPointer=function(t,e,n,r,i,o,a,s,u){var l=this.group,c=this._data,h=this._progressEls,d=[],f=t.get(["pointer","show"]),p=t.getModel("progress"),v=p.get("show"),y=t.getData(),m=y.mapDimension("value"),b=+t.get("min"),x=+t.get("max"),A=[b,x],w=[o,a];function _(e,n){var r,o=y.getItemModel(e).getModel("pointer"),a=fr(o.get("width"),i.r),s=fr(o.get("length"),i.r),u=t.get(["pointer","icon"]),l=o.get("offsetCenter"),c=fr(l[0],i.r),h=fr(l[1],i.r),d=o.get("keepAspect");return(r=u?Eg(u,c-a/2,h-s,a,s,null,d):new aC({shape:{angle:-Math.PI/2,width:a,r:s,x:c,y:h}})).rotation=-(n+Math.PI/2),r.x=i.cx,r.y=i.cy,r}function M(t,e){var n=p.get("roundCap")?Xw:yu,r=p.get("overlap"),a=r?p.get("width"):u/y.count(),l=r?i.r-a:i.r-(t+1)*a,c=r?i.r:i.r-t*a,h=new n({shape:{startAngle:o,endAngle:e,cx:i.cx,cy:i.cy,clockwise:s,r0:l,r:c}});return r&&(h.z2=x-y.get(m,t)%x),h}(v||f)&&(y.diff(c).add(function(e){var n=y.get(m,e);if(f){var r=_(e,o);el(r,{rotation:-((isNaN(+n)?w[0]:dr(n,A,w,!0))+Math.PI/2)},t),l.add(r),y.setItemGraphicEl(e,r)}if(v){var i=M(e,o),a=p.get("clip");el(i,{shape:{endAngle:dr(n,A,w,a)}},t),l.add(i),Ea(t.seriesIndex,y.dataType,e,i),d[e]=i}}).update(function(e,n){var r=y.get(m,e);if(f){var i=c.getItemGraphicEl(n),a=i?i.rotation:o,s=_(e,a);s.rotation=a,tl(s,{rotation:-((isNaN(+r)?w[0]:dr(r,A,w,!0))+Math.PI/2)},t),l.add(s),y.setItemGraphicEl(e,s)}if(v){var u=h[n],g=M(e,u?u.shape.endAngle:o),b=p.get("clip");tl(g,{shape:{endAngle:dr(r,A,w,b)}},t),l.add(g),Ea(t.seriesIndex,y.dataType,e,g),d[e]=g}}).execute(),y.each(function(t){var e=y.getItemModel(t),n=e.getModel("emphasis"),i=n.get("focus"),o=n.get("blurScope"),a=n.get("disabled");if(f){var s=y.getItemGraphicEl(t),u=y.getItemVisual(t,"style"),l=u.fill;if(s instanceof na){var c=s.style;s.useStyle(Object(g.m)({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else s.useStyle(u),"pointer"!==s.type&&s.setColor(l);s.setStyle(e.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===s.style.fill&&s.setStyle("fill",r(dr(y.get(m,t),A,[0,1],!0))),s.z2EmphasisLift=0,Ss(s,e),As(s,i,o,a)}if(v){var h=d[t];h.useStyle(y.getItemVisual(t,"style")),h.setStyle(e.getModel(["progress","itemStyle"]).getItemStyle()),h.z2EmphasisLift=0,Ss(h,e),As(h,i,o,a)}}),this._progressEls=d)},e.prototype._renderAnchor=function(t,e){var n=t.getModel("anchor");if(n.get("show")){var r=n.get("size"),i=n.get("icon"),o=n.get("offsetCenter"),a=n.get("keepAspect"),s=Eg(i,e.cx-r/2+fr(o[0],e.r),e.cy-r/2+fr(o[1],e.r),r,r,null,a);s.z2=n.get("showAbove")?1:0,s.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(s)}},e.prototype._renderTitleAndDetail=function(t,e,n,r,i){var o=this,a=t.getData(),s=a.mapDimension("value"),u=+t.get("min"),l=+t.get("max"),c=new tr,h=[],d=[],f=t.isAnimationEnabled(),p=t.get(["pointer","showAbove"]);a.diff(this._data).add(function(t){h[t]=new Oa({silent:!0}),d[t]=new Oa({silent:!0})}).update(function(t,e){h[t]=o._titleEls[e],d[t]=o._detailEls[e]}).execute(),a.each(function(e){var n=a.getItemModel(e),o=a.get(s,e),g=new tr,v=r(dr(o,[u,l],[0,1],!0)),y=n.getModel("title");if(y.get("show")){var m=y.get("offsetCenter"),b=i.cx+fr(m[0],i.r),x=i.cy+fr(m[1],i.r);(E=h[e]).attr({z2:p?0:2,style:Vl(y,{x:b,y:x,text:a.getName(e),align:"center",verticalAlign:"middle"},{inheritColor:v})}),g.add(E)}var A=n.getModel("detail");if(A.get("show")){var w=A.get("offsetCenter"),_=i.cx+fr(w[0],i.r),M=i.cy+fr(w[1],i.r),S=fr(A.get("width"),i.r),O=fr(A.get("height"),i.r),I=t.get(["progress","show"])?a.getItemVisual(e,"style").fill:v,E=d[e],C=A.get("formatter");E.attr({z2:p?0:2,style:Vl(A,{x:_,y:M,text:sC(o,C),width:isNaN(S)?null:S,height:isNaN(O)?null:O,align:"center",verticalAlign:"middle"},{inheritColor:I})}),Zl(E,{normal:A},o,function(t){return sC(t,C)}),f&&Kl(E,e,a,t,{getFormattedLabel:function(t,e,n,r,i,a){return sC(a?a.interpolatedValue:o,C)}}),g.add(E)}c.add(g)}),this.group.add(c),this._titleEls=h,this._detailEls=d},e.type="gauge",e}(wp),lC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="itemStyle",n}return Object(f.__extends)(e,t),e.prototype.getInitialData=function(t,e){return C_(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(cp);var cC=["itemStyle","opacity"],hC=function(t){function e(e,n){var r=t.call(this)||this,i=r,o=new Iu,a=new Oa;return i.setTextContent(a),r.setTextGuideLine(o),r.updateData(e,n,!0),r}return Object(f.__extends)(e,t),e.prototype.updateData=function(t,e,n){var r=t.hostModel,i=t.getItemModel(e),o=t.getItemLayout(e),a=i.getModel("emphasis"),s=i.get(cC);s=null==s?1:s,n||al(this),this.useStyle(t.getItemVisual(e,"style")),this.style.lineJoin="round",n?(this.setShape({points:o.points}),this.style.opacity=0,el(this,{style:{opacity:s}},r,e)):tl(this,{style:{opacity:s},shape:{points:o.points}},r,e),Ss(this,i),this._updateLabel(t,e),As(this,a.get("focus"),a.get("blurScope"),a.get("disabled"))},e.prototype._updateLabel=function(t,e){var n=this.getTextGuideLine(),r=this.getTextContent(),i=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e).label,s=t.getItemVisual(e,"style"),u=s.fill;Fl(r,Gl(o),{labelFetcher:t.hostModel,labelDataIndex:e,defaultOpacity:s.opacity,defaultText:t.getName(e)},{normal:{align:a.textAlign,verticalAlign:a.verticalAlign}}),this.setTextConfig({local:!0,inside:!!a.inside,insideStroke:u,outsideFill:u});var l=a.linePoints;n.setShape({points:l}),this.textGuideLineConfig={anchor:l?new wt(l[0][0],l[0][1]):null},tl(r,{style:{x:a.x,y:a.y}},i,e),r.attr({rotation:a.rotation,originX:a.x,originY:a.y,z2:10}),Ix(this,Ex(o),{stroke:u})},e}(Mu),dC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreLabelLineUpdate=!0,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n){var r=t.getData(),i=this._data,o=this.group;r.diff(i).add(function(t){var e=new hC(r,t);r.setItemGraphicEl(t,e),o.add(e)}).update(function(t,e){var n=i.getItemGraphicEl(e);n.updateData(r,t),o.add(n),r.setItemGraphicEl(t,n)}).remove(function(e){ol(i.getItemGraphicEl(e),t,e)}).execute(),this._data=r},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(wp),fC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new k_(g.c(this.getData,this),g.c(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.getInitialData=function(t,e){return C_(this,{coordDimensions:["value"],encodeDefaulter:g.h(zh,this)})},e.prototype._defaultLabelLine=function(t){Vr(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},e.prototype.getDataParams=function(e){var n=this.getData(),r=t.prototype.getDataParams.call(this,e),i=n.mapDimension("value"),o=n.getSum(i);return r.percent=o?+(n.get(i,e)/o*100).toFixed(2):0,r.$vars.push("percent"),r},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(cp);function pC(t,e){t.eachSeriesByType("funnel",function(t){var n=t.getData(),r=n.mapDimension("value"),i=t.get("sort"),o=function(t,e){return gh(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),a=t.get("orient"),s=o.width,u=o.height,l=function(t,e){for(var n=t.mapDimension("value"),r=t.mapArray(n,function(t){return t}),i=[],o="ascending"===e,a=0,s=t.count();a<s;a++)i[a]=a;return Object(g.w)(e)?i.sort(e):"none"!==e&&i.sort(function(t,e){return o?r[t]-r[e]:r[e]-r[t]}),i}(n,i),c=o.x,h=o.y,d="horizontal"===a?[fr(t.get("minSize"),u),fr(t.get("maxSize"),u)]:[fr(t.get("minSize"),s),fr(t.get("maxSize"),s)],f=n.getDataExtent(r),p=t.get("min"),v=t.get("max");null==p&&(p=Math.min(f[0],0)),null==v&&(v=f[1]);var y=t.get("funnelAlign"),m=t.get("gap"),b=(("horizontal"===a?s:u)-m*(n.count()-1))/n.count(),x=function(t,e){if("horizontal"===a){var i=dr(n.get(r,t)||0,[p,v],d,!0),o=void 0;switch(y){case"top":o=h;break;case"center":o=h+(u-i)/2;break;case"bottom":o=h+(u-i)}return[[e,o],[e,o+i]]}var l,f=dr(n.get(r,t)||0,[p,v],d,!0);switch(y){case"left":l=c;break;case"center":l=c+(s-f)/2;break;case"right":l=c+s-f}return[[l,e],[l+f,e]]};"ascending"===i&&(b=-b,m=-m,"horizontal"===a?c+=s:h+=u,l=l.reverse());for(var A=0;A<l.length;A++){var w=l[A],_=l[A+1],M=n.getItemModel(w);if("horizontal"===a){var S=M.get(["itemStyle","width"]);null==S?S=b:(S=fr(S,s),"ascending"===i&&(S=-S));var O=x(w,c),I=x(_,c+S);c+=S+m,n.setItemLayout(w,{points:O.concat(I.slice().reverse())})}else{var E=M.get(["itemStyle","height"]);null==E?E=b:(E=fr(E,u),"ascending"===i&&(E=-E));O=x(w,h),I=x(_,h+E);h+=E+m,n.setItemLayout(w,{points:O.concat(I.slice().reverse())})}}!function(t){var e=t.hostModel.get("orient");t.each(function(n){var r,i,o,a,s=t.getItemModel(n),u=s.getModel("label").get("position"),l=s.getModel("labelLine"),c=t.getItemLayout(n),h=c.points,d="inner"===u||"inside"===u||"center"===u||"insideLeft"===u||"insideRight"===u;if(d)"insideLeft"===u?(i=(h[0][0]+h[3][0])/2+5,o=(h[0][1]+h[3][1])/2,r="left"):"insideRight"===u?(i=(h[1][0]+h[2][0])/2-5,o=(h[1][1]+h[2][1])/2,r="right"):(i=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,o=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,r="center"),a=[[i,o],[i,o]];else{var f=void 0,p=void 0,g=void 0,v=void 0,y=l.get("length");"left"===u?(f=(h[3][0]+h[0][0])/2,p=(h[3][1]+h[0][1])/2,i=(g=f-y)-5,r="right"):"right"===u?(f=(h[1][0]+h[2][0])/2,p=(h[1][1]+h[2][1])/2,i=(g=f+y)+5,r="left"):"top"===u?(f=(h[3][0]+h[0][0])/2,o=(v=(p=(h[3][1]+h[0][1])/2)-y)-5,r="center"):"bottom"===u?(f=(h[1][0]+h[2][0])/2,o=(v=(p=(h[1][1]+h[2][1])/2)+y)+5,r="center"):"rightTop"===u?(f="horizontal"===e?h[3][0]:h[1][0],p="horizontal"===e?h[3][1]:h[1][1],"horizontal"===e?(o=(v=p-y)-5,r="center"):(i=(g=f+y)+5,r="top")):"rightBottom"===u?(f=h[2][0],p=h[2][1],"horizontal"===e?(o=(v=p+y)+5,r="center"):(i=(g=f+y)+5,r="bottom")):"leftTop"===u?(f=h[0][0],p="horizontal"===e?h[0][1]:h[1][1],"horizontal"===e?(o=(v=p-y)-5,r="center"):(i=(g=f-y)-5,r="right")):"leftBottom"===u?(f="horizontal"===e?h[1][0]:h[3][0],p="horizontal"===e?h[1][1]:h[2][1],"horizontal"===e?(o=(v=p+y)+5,r="center"):(i=(g=f-y)-5,r="right")):(f=(h[1][0]+h[2][0])/2,p=(h[1][1]+h[2][1])/2,"horizontal"===e?(o=(v=p+y)+5,r="center"):(i=(g=f+y)+5,r="left")),"horizontal"===e?i=g=f:o=v=p,a=[[f,p],[g,v]]}c.label={linePoints:a,x:i,y:o,verticalAlign:"middle",textAlign:r,inside:d}})}(n)})}var gC=.3;function vC(t,e,n,r){for(var i,o=[],a=0;a<n.length;a++){var s=n[a],u=t.get(t.mapDimension(s),e);i=u,("category"===r.getAxis(s).type?null==i:null==i||isNaN(i))||o.push(r.dataToPoint(u,s))}return o}function yC(t,e,n,r,i){var o=vC(t,n,r,i),a=new Iu({shape:{points:o},z2:10});return e.add(a),t.setItemGraphicEl(n,a),a}function mC(t){var e=t.get("smooth",!0);return!0===e&&(e=gC),e=Dr(e),Object(g.l)(e)&&(e=0),{smooth:e}}function bC(t,e,n,r){t.useStyle(e.getItemVisual(n,"style")),t.style.fill=null,t.setShape("smooth",r.smooth);var i=e.getItemModel(n),o=i.getModel("emphasis");Ss(t,i,"lineStyle"),As(t,o.get("focus"),o.get("blurScope"),o.get("disabled"))}var xC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._dataGroup=new tr,n._initialized=!1,n}return Object(f.__extends)(e,t),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,e,n,r){this._progressiveEls=null;var i=this._dataGroup,o=t.getData(),a=this._data,s=t.coordinateSystem,u=s.dimensions,l=mC(t);if(o.diff(a).add(function(t){bC(yC(o,i,t,u,s),o,t,l)}).update(function(e,n){var r=a.getItemGraphicEl(n),i=vC(o,e,u,s);o.setItemGraphicEl(e,r),tl(r,{shape:{points:i}},t,e),al(r),bC(r,o,e,l)}).remove(function(t){var e=a.getItemGraphicEl(t);i.remove(e)}).execute(),!this._initialized){this._initialized=!0;var c=function(t,e,n){var r=t.model,i=t.getRect(),o=new ca({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),a="horizontal"===r.get("layout")?"width":"height";return o.setShape(a,0),el(o,{shape:{width:i.width,height:i.height}},e,n),o}(s,t,function(){setTimeout(function(){i.removeClipPath()})});i.setClipPath(c)}this._data=o},e.prototype.incrementalPrepareRender=function(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,e,n){for(var r=e.getData(),i=e.coordinateSystem,o=i.dimensions,a=mC(e),s=this._progressiveEls=[],u=t.start;u<t.end;u++){var l=yC(r,this._dataGroup,u,o,i);l.incremental=!0,bC(l,r,u,a),s.push(l)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(wp);function AC(t){var e=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(e){var n={};return Object(g.k)(e.dimensions,function(t){var e=+t.replace("dim","");n[t]=e}),n}}var wC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return Object(f.__extends)(e,t),e.prototype.getInitialData=function(t,e){return fm(null,this,{useEncodeDefaulter:Object(g.c)(AC,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var e=this.coordinateSystem,n=this.getData(),r=[];return e.eachActiveState(n,function(e,i){t===e&&r.push(n.getRawIndex(i))}),r},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(cp),_C=["lineStyle","opacity"],MC={seriesType:"parallel",reset:function(t,e){var n=t.coordinateSystem,r={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(t,e){n.eachActiveState(e,function(t,n){var i=r[t];if("normal"===t&&e.hasItemOption){var o=e.getItemModel(n).get(_C,!0);null!=o&&(i=o)}e.ensureUniqueItemVisual(n,"style").opacity=i},t.start,t.end)}}}};function SC(t){!function(t){if(t.parallel)return;var e=!1;g.k(t.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}(t),function(t){var e=Gr(t.parallelAxis);g.k(e,function(e){if(g.A(e)){var n=e.parallelIndex||0,r=Gr(t.parallel)[n];r&&r.parallelAxisDefault&&g.I(e,r.parallelAxisDefault,!1)}})}(t)}var OC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},Object(g.k)(IC,function(t,e){n.getZr().on(e,this._handlers[e]=Object(g.c)(t,this))},this)),Ip(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,e){Ep(this,"_throttledDispatchExpand"),Object(g.k)(this._handlers,function(t,n){e.getZr().off(n,t)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(Object(g.m)({type:"parallelAxisExpand"},t))},e.type="parallel",e}(dp),IC={mousedown:function(t){EC(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(EC(this,"click")&&e){var n=[t.offsetX,t.offsetY];if(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)>5)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&EC(this,"mousemove")){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),r=n.behavior;"jump"===r&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===r?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===r?null:{duration:0}})}}};function EC(t,e){var n=t._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===e}var CC=OC,kC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var e=this.option;t&&g.I(e,t,!0),this._initDimensions()},e.prototype.contains=function(t,e){var n=t.get("parallelIndex");return null!=n&&e.getComponent("parallel",n)===this},e.prototype.setAxisExpand=function(t){g.k(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],n=g.n(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(t){return(t.get("parallelIndex")||0)===this.componentIndex},this);g.k(n,function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(_h),TC=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r)||this;return a.type=i||"value",a.axisIndex=o,a}return Object(f.__extends)(e,t),e.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},e}(tx);function DC(t,e,n,r,i,o){t=t||0;var a=n[1]-n[0];if(null!=i&&(i=LC(i,[0,a])),null!=o&&(o=Math.max(o,null!=i?i:0)),"all"===r){var s=Math.abs(e[1]-e[0]);i=o=LC(s=LC(s,[0,a]),[i,o]),r=0}e[0]=LC(e[0],n),e[1]=LC(e[1],n);var u=jC(e,r);e[r]+=t;var l,c=i||0,h=n.slice();return u.sign<0?h[0]+=c:h[1]-=c,e[r]=LC(e[r],h),l=jC(e,r),null!=i&&(l.sign!==u.sign||l.span<i)&&(e[1-r]=e[r]+u.sign*i),l=jC(e,r),null!=o&&l.span>o&&(e[1-r]=e[r]+l.sign*o),e}function jC(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function LC(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var PC=g.k,NC=Math.min,RC=Math.max,BC=Math.floor,zC=Math.ceil,FC=pr,GC=Math.PI;function VC(t,e){return NC(RC(t,e[0]),e[1])}var UC=function(){function t(t,e,n){this.type="parallel",this._axesMap=g.f(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var r=t.dimensions,i=t.parallelAxisIndex;PC(r,function(t,n){var r=i[n],o=e.getComponent("parallelAxis",r),a=this._axesMap.set(t,new TC(t,yb(o),[0,0],o.get("type"),r)),s="category"===a.type;a.onBand=s&&o.get("boundaryGap"),a.inverse=o.get("inverse"),o.axis=a,a.model=o,a.coordinateSystem=o.coordinateSystem=this},this)},t.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},t.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,r=e.layoutBase,i=e.pixelDimIndex,o=t[1-i],a=t[i];return o>=n&&o<=n+e.axisLength&&a>=r&&a<=r+e.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(n){if(t.contains(n,e)){var r=n.getData();PC(this.dimensions,function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(r,r.mapDimension(t)),vb(e.scale,e.model)},this)}},this)},t.prototype.resize=function(t,e){this._rect=gh(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var t,e=this._model,n=this._rect,r=["x","y"],i=["width","height"],o=e.get("layout"),a="horizontal"===o?0:1,s=n[i[a]],u=[0,s],l=this.dimensions.length,c=VC(e.get("axisExpandWidth"),u),h=VC(e.get("axisExpandCount")||0,[0,l]),d=e.get("axisExpandable")&&l>3&&l>h&&h>1&&c>0&&s>0,f=e.get("axisExpandWindow");f?(t=VC(f[1]-f[0],u),f[1]=f[0]+t):(t=VC(c*(h-1),u),(f=[c*(e.get("axisExpandCenter")||BC(l/2))-t/2])[1]=f[0]+t);var p=(s-t)/(l-h);p<3&&(p=0);var g=[BC(FC(f[0]/c,1))+1,zC(FC(f[1]/c,1))-1],v=p/c*f[0];return{layout:o,pixelDimIndex:a,layoutBase:n[r[a]],layoutLength:s,axisBase:n[r[1-a]],axisLength:n[i[1-a]],axisExpandable:d,axisExpandWidth:c,axisCollapseWidth:p,axisExpandWindow:f,axisCount:l,winInnerIndices:g,axisExpandWindow0Pos:v}},t.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,r=this._makeLayoutInfo(),i=r.layout;e.each(function(t){var e=[0,r.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])}),PC(n,function(e,n){var o=(r.axisExpandable?function(t,e){var n,r,i=e.layoutLength,o=e.axisExpandWidth,a=e.axisCount,s=e.axisCollapseWidth,u=e.winInnerIndices,l=s,c=!1;t<u[0]?(n=t*s,r=s):t<=u[1]?(n=e.axisExpandWindow0Pos+t*o-e.axisExpandWindow[0],l=o,c=!0):(n=i-(a-1-t)*s,r=s);return{position:n,axisNameAvailableWidth:l,axisLabelShow:c,nameTruncateMaxWidth:r}}:function(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}})(n,r),a={horizontal:{x:o.position,y:r.axisLength},vertical:{x:0,y:o.position}},s={horizontal:GC/2,vertical:0},u=[a[i].x+t.x,a[i].y+t.y],l=s[i],c=[1,0,0,1,0,0];mt(c,c,l),yt(c,c,u),this._axesLayout[e]={position:u,rotation:l,transform:c,axisNameAvailableWidth:o.axisNameAvailableWidth,axisLabelShow:o.axisLabelShow,nameTruncateMaxWidth:o.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},t.prototype.getAxis=function(t){return this._axesMap.get(t)},t.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},t.prototype.eachActiveState=function(t,e,n,r){null==n&&(n=0),null==r&&(r=t.count());var i=this._axesMap,o=this.dimensions,a=[],s=[];g.k(o,function(e){a.push(t.mapDimension(e)),s.push(i.get(e).model)});for(var u=this.hasAxisBrushed(),l=n;l<r;l++){var c=void 0;if(u){c="active";for(var h=t.getValues(a,l),d=0,f=o.length;d<f;d++){if("inactive"===s[d].getActiveState(h[d])){c="inactive";break}}}else c="normal";e(c,l)}},t.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,r=0,i=t.length;r<i;r++)"normal"!==e.get(t[r]).model.getActiveState()&&(n=!0);return n},t.prototype.axisCoordToPoint=function(t,e){return Ml([t,0],this._axesLayout[e].transform)},t.prototype.getAxisLayout=function(t){return g.d(this._axesLayout[t])},t.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,r=e.axisExpandWindow.slice(),i=r[1]-r[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:r};var a,s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,u="slide",l=e.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),h=null!=c[0];if(l)h&&l&&s<i*c[0]?(u="jump",a=s-i*c[2]):h&&l&&s>i*(1-c[0])?(u="jump",a=s-i*(1-c[2])):(a=s-i*c[1])>=0&&(a=s-i*(1-c[1]))<=0&&(a=0),(a*=e.axisExpandWidth/l)?DC(a,r,o,"all"):u="none";else{var d=r[1]-r[0];(r=[RC(0,o[1]*s/d-d/2)])[1]=NC(o[1],r[0]+d),r[0]=r[1]-d}return{axisExpandWindow:r,behavior:u}},t}();var WC={create:function(t,e){var n=[];return t.eachComponent("parallel",function(r,i){var o=new UC(r,t,e);o.name="parallel_"+i,o.resize(r,e),r.coordinateSystem=o,o.model=r,n.push(o)}),t.eachSeries(function(t){if("parallel"===t.get("coordinateSystem")){var e=t.getReferringComponents("parallel",ri).models[0];t.coordinateSystem=e.coordinateSystem}}),n}},HC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.activeIntervals=[],n}return Object(f.__extends)(e,t),e.prototype.getAreaSelectStyle=function(){return bi([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var e=this.activeIntervals=g.d(t);if(e)for(var n=e.length-1;n>=0;n--)gr(e[n])},e.prototype.getActiveState=function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===e.length){var n=e[0];if(n[0]<=t&&t<=n[1])return"active"}else for(var r=0,i=e.length;r<i;r++)if(e[r][0]<=t&&t<=e[r][1])return"active";return"inactive"},e}(_h);g.K(HC,_b);var YC=HC,XC=!0,qC=Math.min,QC=Math.max,ZC=Math.pow,KC=1e4,JC=6,$C=6,tk={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},ek={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},nk={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},rk=0,ik=function(t){function e(e){var n=t.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new tr,n._uid="brushController_"+rk++,Object(g.k)(Tk,function(t,e){this._handlers[e]=Object(g.c)(t,this)},n),n}return Object(f.__extends)(e,t),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var e=this._zr;this._enableGlobalPan||function(t,e,n){QM(t)[e]=n}(e,"globalPan",this._uid),Object(g.k)(this._handlers,function(t,n){e.on(n,t)}),this._brushType=t.brushType,this._brushOption=Object(g.I)(Object(g.d)(nk),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;!function(t,e,n){var r=QM(t);r[e]===n&&(r[e]=null)}(t,"globalPan",this._uid),Object(g.k)(this._handlers,function(e,n){t.off(n,e)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};Object(g.k)(t,function(t){e[t.panelId]=Object(g.d)(t)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=Object(g.H)(t,function(t){return Object(g.I)(Object(g.d)(nk),t,!0)});var e="\0-brush-index-",n=this._covers,r=this._covers=[],i=this,o=this._creatingCover;return new jy(n,t,function(t,e){return a(t.__brushOption,e)},a).add(s).update(s).remove(function(t){n[t]!==o&&i.group.remove(n[t])}).execute(),this;function a(t,n){return(null!=t.id?t.id:e+n)+"-"+t.brushType}function s(e,a){var s=t[e];if(null!=a&&n[a]===o)r[e]=n[a];else{var u=r[e]=null!=a?(n[a].__brushOption=s,n[a]):ak(i,ok(i,s));lk(i,u)}}},e.prototype.unmount=function(){return this.enableBrush(!1),fk(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(U);function ok(t,e){var n=jk[e.brushType].createCover(t,e);return n.__brushOption=e,uk(n,e),t.group.add(n),n}function ak(t,e){var n=ck(e);return n.endCreating&&(n.endCreating(t,e),uk(e,e.__brushOption)),e}function sk(t,e){var n=e.__brushOption;ck(e).updateCoverShape(t,e,n.range,n)}function uk(t,e){var n=e.z;null==n&&(n=KC),t.traverse(function(t){t.z=n,t.z2=n})}function lk(t,e){ck(e).updateCommon(t,e),sk(t,e)}function ck(t){return jk[t.__brushOption.brushType]}function hk(t,e,n){var r,i=t._panels;if(!i)return XC;var o=t._transform;return Object(g.k)(i,function(t){t.isTargetByCursor(e,n,o)&&(r=t)}),r}function dk(t,e){var n=t._panels;if(!n)return XC;var r=e.__brushOption.panelId;return null!=r?n[r]:XC}function fk(t){var e=t._covers,n=e.length;return Object(g.k)(e,function(e){t.group.remove(e)},t),e.length=0,!!n}function pk(t,e){var n=Object(g.H)(t._covers,function(t){var e=t.__brushOption,n=Object(g.d)(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}});t.trigger("brush",{areas:n,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function gk(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function vk(t,e,n,r){var i=new tr;return i.add(new ca({name:"main",style:xk(n),silent:!0,draggable:!0,cursor:"move",drift:Object(g.h)(_k,t,e,i,["n","s","w","e"]),ondragend:Object(g.h)(pk,e,{isEnd:!0})})),Object(g.k)(r,function(n){i.add(new ca({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Object(g.h)(_k,t,e,i,n),ondragend:Object(g.h)(pk,e,{isEnd:!0})}))}),i}function yk(t,e,n,r){var i=r.brushStyle.lineWidth||0,o=QC(i,$C),a=n[0][0],s=n[1][0],u=a-i/2,l=s-i/2,c=n[0][1],h=n[1][1],d=c-o+i/2,f=h-o+i/2,p=c-a,g=h-s,v=p+i,y=g+i;bk(t,e,"main",a,s,p,g),r.transformable&&(bk(t,e,"w",u,l,o,y),bk(t,e,"e",d,l,o,y),bk(t,e,"n",u,l,v,o),bk(t,e,"s",u,f,v,o),bk(t,e,"nw",u,l,o,o),bk(t,e,"ne",d,l,o,o),bk(t,e,"sw",u,f,o,o),bk(t,e,"se",d,f,o,o))}function mk(t,e){var n=e.__brushOption,r=n.transformable,i=e.childAt(0);i.useStyle(xk(n)),i.attr({silent:!r,cursor:r?"move":"default"}),Object(g.k)([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(n){var i=e.childOfName(n.join("")),o=1===n.length?wk(t,n[0]):function(t,e){var n=[wk(t,e[0]),wk(t,e[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}(t,n);i&&i.attr({silent:!r,invisible:!r,cursor:r?ek[o]+"-resize":null})})}function bk(t,e,n,r,i,o,a){var s,u,l,c,h,d=e.childOfName(n);d&&d.setShape((s=Ok(t,e,[[r,i],[r+o,i+a]]),u=qC(s[0][0],s[1][0]),l=qC(s[0][1],s[1][1]),c=QC(s[0][0],s[1][0]),h=QC(s[0][1],s[1][1]),{x:u,y:l,width:c-u,height:h-l}))}function xk(t){return Object(g.i)({strokeNoScale:!0},t.brushStyle)}function Ak(t,e,n,r){var i=[qC(t,n),qC(e,r)],o=[QC(t,n),QC(e,r)];return[[i[0],o[0]],[i[1],o[1]]]}function wk(t,e){return{left:"w",right:"e",top:"n",bottom:"s"}[Sl({w:"left",e:"right",n:"top",s:"bottom"}[e],function(t){return _l(t.group)}(t))]}function _k(t,e,n,r,i,o){var a=n.__brushOption,s=t.toRectRange(a.range),u=Sk(e,i,o);Object(g.k)(r,function(t){var e=tk[t];s[e[0]][e[1]]+=u[e[0]]}),a.range=t.fromRectRange(Ak(s[0][0],s[1][0],s[0][1],s[1][1])),lk(e,n),pk(e,{isEnd:!1})}function Mk(t,e,n,r){var i=e.__brushOption.range,o=Sk(t,n,r);Object(g.k)(i,function(t){t[0]+=o[0],t[1]+=o[1]}),lk(t,e),pk(t,{isEnd:!1})}function Sk(t,e,n){var r=t.group,i=r.transformCoordToLocal(e,n),o=r.transformCoordToLocal(0,0);return[i[0]-o[0],i[1]-o[1]]}function Ok(t,e,n){var r=dk(t,e);return r&&r!==XC?r.clipPath(n,t._transform):Object(g.d)(n)}function Ik(t){var e=t.event;e.preventDefault&&e.preventDefault()}function Ek(t,e,n){return t.childOfName("main").contain(e,n)}function Ck(t,e,n,r){var i,o=t._creatingCover,a=t._creatingPanel,s=t._brushOption;if(t._track.push(n.slice()),function(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],r=e[0],i=n[0]-r[0],o=n[1]-r[1];return ZC(i*i+o*o,.5)>JC}(t)||o){if(a&&!o){"single"===s.brushMode&&fk(t);var u=Object(g.d)(s);u.brushType=kk(u.brushType,a),u.panelId=a===XC?null:a.panelId,o=t._creatingCover=ok(t,u),t._covers.push(o)}if(o){var l=jk[kk(t._brushType,a)];o.__brushOption.range=l.getCreatingRange(Ok(t,o,t._track)),r&&(ak(t,o),l.updateCommon(t,o)),sk(t,o),i={isEnd:r}}}else r&&"single"===s.brushMode&&s.removeOnClick&&hk(t,e,n)&&fk(t)&&(i={isEnd:r,removeOnClick:!0});return i}function kk(t,e){return"auto"===t?e.defaultBrushType:t}var Tk={mousedown:function(t){if(this._dragging)Dk(this,t);else if(!t.target||!t.target.draggable){Ik(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=hk(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,r=this.group.transformCoordToLocal(e,n);if(function(t,e,n){if(t._brushType&&!function(t,e,n){var r=t._zr;return e<0||e>r.getWidth()||n<0||n>r.getHeight()}(t,e.offsetX,e.offsetY)){var r=t._zr,i=t._covers,o=hk(t,e,n);if(!t._dragging)for(var a=0;a<i.length;a++){var s=i[a].__brushOption;if(o&&(o===XC||s.panelId===o.panelId)&&jk[s.brushType].contain(i[a],n[0],n[1]))return}o&&r.setCursorStyle("crosshair")}}(this,t,r),this._dragging){Ik(t);var i=Ck(this,t,r,!1);i&&pk(this,i)}},mouseup:function(t){Dk(this,t)}};function Dk(t,e){if(t._dragging){Ik(e);var n=e.offsetX,r=e.offsetY,i=Ck(t,e,t.group.transformCoordToLocal(n,r),!0);t._dragging=!1,t._track=[],t._creatingCover=null,i&&pk(t,i)}}var jk={lineX:Lk(0),lineY:Lk(1),rect:{createCover:function(t,e){function n(t){return t}return vk({toRectRange:n,fromRectRange:n},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=gk(t);return Ak(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,r){yk(t,e,n,r)},updateCommon:mk,contain:Ek},polygon:{createCover:function(t,e){var n=new tr;return n.add(new Iu({name:"main",style:xk(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Mu({name:"main",draggable:!0,drift:Object(g.h)(Mk,t,e),ondragend:Object(g.h)(pk,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,r){e.childAt(0).setShape({points:Ok(t,e,n)})},updateCommon:mk,contain:Ek}};function Lk(t){return{createCover:function(e,n){return vk({toRectRange:function(e){var n=[e,[0,100]];return t&&n.reverse(),n},fromRectRange:function(e){return e[t]}},e,n,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var n=gk(e);return[qC(n[0][t],n[1][t]),QC(n[0][t],n[1][t])]},updateCoverShape:function(e,n,r,i){var o,a=dk(e,n);if(a!==XC&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(t);else{var s=e._zr;o=[0,[s.getWidth(),s.getHeight()][1-t]]}var u=[r,o];t&&u.reverse(),yk(e,n,u,i)},updateCommon:mk,contain:Ek}}var Pk=ik;function Nk(t){return t=zk(t),function(e){return El(e,t)}}function Rk(t,e){return t=zk(t),function(n){var r=null!=e?e:n,i=r?t.width:t.height,o=r?t.x:t.y;return[o,o+(i||0)]}}function Bk(t,e,n){var r=zk(t);return function(t,i){return r.contain(i[0],i[1])&&!iS(t,e,n)}}function zk(t){return Tt.create(t)}var Fk=["axisLine","axisTickLabel","axisName"];var Gk=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.init=function(e,n){t.prototype.init.apply(this,arguments),(this._brushController=new Pk(n.getZr())).on("brush",g.c(this._onBrush,this))},e.prototype.render=function(t,e,n,r){if(!function(t,e,n){return n&&"axisAreaSelect"===n.type&&e.findComponents({mainType:"parallelAxis",query:n})[0]===t}(t,e,r)){this.axisModel=t,this.api=n,this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new tr,this.group.add(this._axisGroup),t.get("show")){var o=function(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}(t,e),a=o.coordinateSystem,s=t.getAreaSelectStyle(),u=s.width,l=t.axis.dim,c=a.getAxisLayout(l),h=g.m({strokeContainThreshold:u},c),d=new fM(t,h);g.k(Fk,d.add,d),this._axisGroup.add(d.getGroup()),this._refreshBrushController(h,s,t,o,u,n),Il(i,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,e,n,r,i,o){var a=n.axis.getExtent(),s=a[1]-a[0],u=Math.min(30,.1*Math.abs(s)),l=Tt.create({x:a[0],y:-i/2,width:s,height:i});l.x-=u,l.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:Nk(l),isTargetByCursor:Bk(l,o,r),getLinearBrushOtherExtent:Rk(l,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(function(t){var e=t.axis;return g.H(t.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}(n))},e.prototype._onBrush=function(t){var e=t.areas,n=this.axisModel,r=n.axis,i=g.H(e,function(t){return[r.coordToData(t.range[0],!0),r.coordToData(t.range[1],!0)]});(!n.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:i})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(dp),Vk={type:"axisAreaSelect",event:"axisAreaSelected"};var Uk={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Wk(t){t.registerComponentView(CC),t.registerComponentModel(kC),t.registerCoordinateSystem("parallel",WC),t.registerPreprocessor(SC),t.registerComponentModel(YC),t.registerComponentView(Gk),H_(t,"parallel",YC,Uk),function(t){t.registerAction(Vk,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})}),t.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(e){e.setAxisExpand(t)})})}(t)}var Hk=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}}(),Yk=function(t){function e(e){return t.call(this,e)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultShape=function(){return new Hk},e.prototype.buildPath=function(t,e){var n=e.extent;t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),"vertical"===e.orient?(t.lineTo(e.x2+n,e.y2),t.bezierCurveTo(e.cpx2+n,e.cpy2,e.cpx1+n,e.cpy1,e.x1+n,e.y1)):(t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n)),t.closePath()},e.prototype.highlight=function(){us(this)},e.prototype.downplay=function(){ls(this)},e}(Qo);var Xk=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._focusAdjacencyDisabled=!1,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n){var r=this,i=t.getGraph(),o=this.group,a=t.layoutInfo,s=a.width,u=a.height,l=t.getData(),c=t.getData("edge"),h=t.get("orient");this._model=t,o.removeAll(),o.x=a.x,o.y=a.y,i.eachEdge(function(e){var n=new Yk,r=Ia(n);r.dataIndex=e.dataIndex,r.seriesIndex=t.seriesIndex,r.dataType="edge";var i,a,l,d,f,p,v,y,m=e.getModel(),b=m.getModel("lineStyle"),x=b.get("curveness"),A=e.node1.getLayout(),w=e.node1.getModel(),_=w.get("localX"),M=w.get("localY"),S=e.node2.getLayout(),O=e.node2.getModel(),I=O.get("localX"),E=O.get("localY"),C=e.getLayout();switch(n.shape.extent=Math.max(1,C.dy),n.shape.orient=h,"vertical"===h?(i=(null!=_?_*s:A.x)+C.sy,a=(null!=M?M*u:A.y)+A.dy,l=(null!=I?I*s:S.x)+C.ty,f=i,p=a*(1-x)+(d=null!=E?E*u:S.y)*x,v=l,y=a*x+d*(1-x)):(i=(null!=_?_*s:A.x)+A.dx,a=(null!=M?M*u:A.y)+C.sy,f=i*(1-x)+(l=null!=I?I*s:S.x)*x,p=a,v=i*x+l*(1-x),y=d=(null!=E?E*u:S.y)+C.ty),n.setShape({x1:i,y1:a,x2:l,y2:d,cpx1:f,cpy1:p,cpx2:v,cpy2:y}),n.useStyle(b.getItemStyle()),n.style.fill){case"source":n.style.fill=e.node1.getVisual("color"),n.style.decal=e.node1.getVisual("style").decal;break;case"target":n.style.fill=e.node2.getVisual("color"),n.style.decal=e.node2.getVisual("style").decal;break;case"gradient":var k=e.node1.getVisual("color"),T=e.node2.getVisual("color");Object(g.C)(k)&&Object(g.C)(T)&&(n.style.fill=new Vu(0,0,+("horizontal"===h),+("vertical"===h),[{color:k,offset:0},{color:T,offset:1}]))}Fl(n,Gl(m,"edgeLabel"),{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:""+m.get("value")}),n.setTextConfig({position:"inside"});var D=m.getModel("emphasis");Ss(n,m,"lineStyle",function(t){return t.getItemStyle()}),o.add(n),c.setItemGraphicEl(e.dataIndex,n);var j=D.get("focus");As(n,"adjacency"===j?e.getAdjacentDataIndices():j,D.get("blurScope"),D.get("disabled")),Ia(n).dataType="edge"}),i.eachNode(function(e){var n=e.getLayout(),r=e.getModel(),i=r.get("localX"),a=r.get("localY"),c=r.getModel("emphasis"),h=new ca({shape:{x:null!=i?i*s:n.x,y:null!=a?a*u:n.y,width:n.dx,height:n.dy},style:r.getModel("itemStyle").getItemStyle(),z2:10});Fl(h,Gl(r),{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id}),h.disableLabelAnimation=!0,h.setStyle("fill",e.getVisual("color")),h.setStyle("decal",e.getVisual("style").decal),Ss(h,r),o.add(h),l.setItemGraphicEl(e.dataIndex,h),Ia(h).dataType="node";var d=c.get("focus");As(h,"adjacency"===d?e.getAdjacentDataIndices():d,c.get("blurScope"),c.get("disabled"))}),l.eachItemGraphicEl(function(e,i){l.getItemModel(i).get("draggable")&&(e.drift=function(e,o){r._focusAdjacencyDisabled=!0,this.shape.x+=e,this.shape.y+=o,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:l.getRawIndex(i),localX:this.shape.x/s,localY:this.shape.y/u})},e.ondragend=function(){r._focusAdjacencyDisabled=!1},e.draggable=!0,e.cursor="move")}),!this._data&&t.isAnimationEnabled()&&o.setClipPath(function(t,e,n){var r=new ca({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return el(r,{shape:{width:t.width+20}},e,n),r}(o.getBoundingRect(),t,function(){o.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(wp),qk=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.getInitialData=function(t,e){var n=t.edges||t.links,r=t.data||t.nodes,i=t.levels;this.levelModels=[];for(var o=this.levelModels,a=0;a<i.length;a++)null!=i[a].depth&&i[a].depth>=0&&(o[i[a].depth]=new hc(i[a],this,e));if(r&&n)return nC(r,n,this,!0,function(t,e){t.wrapMethod("getItemModel",function(t,e){var n=t.parentModel,r=n.getData().getItemLayout(e);if(r){var i=r.depth,o=n.levelModels[i];o&&(t.parentModel=o)}return t}),e.wrapMethod("getItemModel",function(t,e){var n=t.parentModel,r=n.getGraph().getEdgeByIndex(e),i=r.node1.getLayout();if(i){var o=i.depth,a=n.levelModels[o];a&&(t.parentModel=a)}return t})}).data},e.prototype.setNodePosition=function(t,e){var n=(this.option.data||this.option.nodes)[t];n.localX=e[0],n.localY=e[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,e,n){function r(t){return isNaN(t)||null==t}if("edge"===n){var i=this.getDataParams(t,n),o=i.data,a=i.value;return Gf("nameValue",{name:o.source+" -- "+o.target,value:a,noValue:r(a)})}var s=this.getGraph().getNodeByIndex(t).getLayout().value,u=this.getDataParams(t,n).data.name;return Gf("nameValue",{name:null!=u?u+"":null,value:s,noValue:r(s)})},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(e,n){var r=t.prototype.getDataParams.call(this,e,n);if(null==r.value&&"node"===n){var i=this.getGraph().getNodeByIndex(e).getLayout().value;r.value=i}return r},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(cp);function Qk(t,e){t.eachSeriesByType("sankey",function(t){var n=t.get("nodeWidth"),r=t.get("nodeGap"),i=function(t,e){return gh(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=i;var o=i.width,a=i.height,s=t.getGraph(),u=s.nodes,l=s.edges;!function(t){g.k(t,function(t){var e=oT(t.outEdges,iT),n=oT(t.inEdges,iT),r=t.getValue()||0,i=Math.max(e,n,r);t.setLayout({value:i},!0)})}(u),function(t,e,n,r,i,o,a,s,u){(function(t,e,n,r,i,o,a){for(var s=[],u=[],l=[],c=[],h=0,d=0;d<e.length;d++)s[d]=1;for(var d=0;d<t.length;d++)u[d]=t[d].inEdges.length,0===u[d]&&l.push(t[d]);var f=-1;for(;l.length;){for(var p=0;p<l.length;p++){var v=l[p],y=v.hostGraph.data.getRawDataItem(v.dataIndex),m=null!=y.depth&&y.depth>=0;m&&y.depth>f&&(f=y.depth),v.setLayout({depth:m?y.depth:h},!0),"vertical"===o?v.setLayout({dy:n},!0):v.setLayout({dx:n},!0);for(var b=0;b<v.outEdges.length;b++){var x=v.outEdges[b],A=e.indexOf(x);s[A]=0;var w=x.node2,_=t.indexOf(w);0==--u[_]&&c.indexOf(w)<0&&c.push(w)}}++h,l=c,c=[]}for(var d=0;d<s.length;d++)if(1===s[d])throw new Error("Sankey is a DAG, the original data has cycle!");var M=f>h-1?f:h-1;a&&"left"!==a&&function(t,e,n,r){if("right"===e){for(var i=[],o=t,a=0;o.length;){for(var s=0;s<o.length;s++){var u=o[s];u.setLayout({skNodeHeight:a},!0);for(var l=0;l<u.inEdges.length;l++){var c=u.inEdges[l];i.indexOf(c.node1)<0&&i.push(c.node1)}}o=i,i=[],++a}g.k(t,function(t){Zk(t)||t.setLayout({depth:Math.max(0,r-t.getLayout().skNodeHeight)},!0)})}else"justify"===e&&function(t,e){g.k(t,function(t){Zk(t)||t.outEdges.length||t.setLayout({depth:e},!0)})}(t,r)}(t,a,0,M);!function(t,e,n){g.k(t,function(t){var r=t.getLayout().depth*e;"vertical"===n?t.setLayout({y:r},!0):t.setLayout({x:r},!0)})}(t,"vertical"===o?(i-n)/M:(r-n)/M,o)})(t,e,n,i,o,s,u),function(t,e,n,r,i,o,a){var s=function(t,e){var n=[],r="vertical"===e?"y":"x",i=si(t,function(t){return t.getLayout()[r]});return i.keys.sort(function(t,e){return t-e}),g.k(i.keys,function(t){n.push(i.buckets.get(t))}),n}(t,a);(function(t,e,n,r,i,o){var a=1/0;g.k(t,function(t){var e=t.length,s=0;g.k(t,function(t){s+=t.getLayout().value});var u="vertical"===o?(r-(e-1)*i)/s:(n-(e-1)*i)/s;u<a&&(a=u)}),g.k(t,function(t){g.k(t,function(t,e){var n=t.getLayout().value*a;"vertical"===o?(t.setLayout({x:e},!0),t.setLayout({dx:n},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:n},!0))})}),g.k(e,function(t){var e=+t.getValue()*a;t.setLayout({dy:e},!0)})})(s,e,n,r,i,a),Kk(s,i,n,r,a);for(var u=1;o>0;o--)Jk(s,u*=.99,a),Kk(s,i,n,r,a),aT(s,u,a),Kk(s,i,n,r,a)}(t,e,o,i,r,a,s),function(t,e){var n="vertical"===e?"x":"y";g.k(t,function(t){t.outEdges.sort(function(t,e){return t.node2.getLayout()[n]-e.node2.getLayout()[n]}),t.inEdges.sort(function(t,e){return t.node1.getLayout()[n]-e.node1.getLayout()[n]})}),g.k(t,function(t){var e=0,n=0;g.k(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),g.k(t.inEdges,function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy})})}(t,s)}(u,l,n,r,o,a,0!==g.n(u,function(t){return 0===t.getLayout().value}).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))})}function Zk(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return null!=e.depth&&e.depth>=0}function Kk(t,e,n,r,i){var o="vertical"===i?"x":"y";g.k(t,function(t){var a,s,u;t.sort(function(t,e){return t.getLayout()[o]-e.getLayout()[o]});for(var l=0,c=t.length,h="vertical"===i?"dx":"dy",d=0;d<c;d++)(u=l-(s=t[d]).getLayout()[o])>0&&(a=s.getLayout()[o]+u,"vertical"===i?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),l=s.getLayout()[o]+s.getLayout()[h]+e;if((u=l-e-("vertical"===i?r:n))>0){a=s.getLayout()[o]-u,"vertical"===i?s.setLayout({x:a},!0):s.setLayout({y:a},!0),l=a;for(d=c-2;d>=0;--d)(u=(s=t[d]).getLayout()[o]+s.getLayout()[h]+e-l)>0&&(a=s.getLayout()[o]-u,"vertical"===i?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),l=s.getLayout()[o]}})}function Jk(t,e,n){g.k(t.slice().reverse(),function(t){g.k(t,function(t){if(t.outEdges.length){var r=oT(t.outEdges,$k,n)/oT(t.outEdges,iT);if(isNaN(r)){var i=t.outEdges.length;r=i?oT(t.outEdges,tT,n)/i:0}if("vertical"===n){var o=t.getLayout().x+(r-rT(t,n))*e;t.setLayout({x:o},!0)}else{var a=t.getLayout().y+(r-rT(t,n))*e;t.setLayout({y:a},!0)}}})})}function $k(t,e){return rT(t.node2,e)*t.getValue()}function tT(t,e){return rT(t.node2,e)}function eT(t,e){return rT(t.node1,e)*t.getValue()}function nT(t,e){return rT(t.node1,e)}function rT(t,e){return"vertical"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function iT(t){return t.getValue()}function oT(t,e,n){for(var r=0,i=t.length,o=-1;++o<i;){var a=+e(t[o],n);isNaN(a)||(r+=a)}return r}function aT(t,e,n){g.k(t,function(t){g.k(t,function(t){if(t.inEdges.length){var r=oT(t.inEdges,eT,n)/oT(t.inEdges,iT);if(isNaN(r)){var i=t.inEdges.length;r=i?oT(t.inEdges,nT,n)/i:0}if("vertical"===n){var o=t.getLayout().x+(r-rT(t,n))*e;t.setLayout({x:o},!0)}else{var a=t.getLayout().y+(r-rT(t,n))*e;t.setLayout({y:a},!0)}}})})}function sT(t){t.eachSeriesByType("sankey",function(t){var e=t.getGraph(),n=e.nodes,r=e.edges;if(n.length){var i=1/0,o=-1/0;g.k(n,function(t){var e=t.getLayout().value;e<i&&(i=e),e>o&&(o=e)}),g.k(n,function(e){var n=new PI({type:"color",mappingMethod:"linear",dataExtent:[i,o],visual:t.get("color")}).mapValueToVisual(e.getLayout().value),r=e.getModel().get(["itemStyle","color"]);null!=r?(e.setVisual("color",r),e.setVisual("style",{fill:r})):(e.setVisual("color",n),e.setVisual("style",{fill:n}))})}r.length&&g.k(r,function(t){var e=t.getModel().get("lineStyle");t.setVisual("style",e)})})}var uT=function(){function t(){}return t.prototype.getInitialData=function(t,e){var n,r,i=e.getComponent("xAxis",this.get("xAxisIndex")),o=e.getComponent("yAxis",this.get("yAxisIndex")),a=i.get("type"),s=o.get("type");"category"===a?(t.layout="horizontal",n=i.getOrdinalMeta(),r=!0):"category"===s?(t.layout="vertical",n=o.getOrdinalMeta(),r=!0):t.layout=t.layout||"horizontal";var u=["x","y"],l="horizontal"===t.layout?0:1,c=this._baseAxisDim=u[l],h=u[1-l],d=[i,o],f=d[l].get("type"),p=d[1-l].get("type"),v=t.data;if(v&&r){var y=[];g.k(v,function(t,e){var n;g.t(t)?(n=t.slice(),t.unshift(e)):g.t(t.value)?((n=g.m({},t)).value=n.value.slice(),t.value.unshift(e)):n=t,y.push(n)}),t.data=y}var m=this.defaultValueDimensions,b=[{name:c,type:Ny(f),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:Ny(p),dimsDef:m.slice()}];return C_(this,{coordDimensions:b,dimensionsCount:m.length+1,encodeDefaulter:g.h(Bh,b,this)})},t.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},t}(),lT=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return Object(f.__extends)(e,t),e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(cp);Object(g.K)(lT,uT,!0);var cT=lT,hT=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n){var r=t.getData(),i=this.group,o=this._data;this._data||i.removeAll();var a="horizontal"===t.get("layout")?1:0;r.diff(o).add(function(t){if(r.hasValue(t)){var e=pT(r.getItemLayout(t),r,t,a,!0);r.setItemGraphicEl(t,e),i.add(e)}}).update(function(t,e){var n=o.getItemGraphicEl(e);if(r.hasValue(t)){var s=r.getItemLayout(t);n?(al(n),gT(s,n,r,t)):n=pT(s,r,t,a),i.add(n),r.setItemGraphicEl(t,n)}else i.remove(n)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&i.remove(e)}).execute(),this._data=r},e.prototype.remove=function(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl(function(t){t&&e.remove(t)})},e.type="boxplot",e}(wp),dT=function(){return function(){}}(),fT=function(t){function e(e){var n=t.call(this,e)||this;return n.type="boxplotBoxPath",n}return Object(f.__extends)(e,t),e.prototype.getDefaultShape=function(){return new dT},e.prototype.buildPath=function(t,e){var n=e.points,r=0;for(t.moveTo(n[r][0],n[r][1]),r++;r<4;r++)t.lineTo(n[r][0],n[r][1]);for(t.closePath();r<n.length;r++)t.moveTo(n[r][0],n[r][1]),r++,t.lineTo(n[r][0],n[r][1])},e}(Qo);function pT(t,e,n,r,i){var o=t.ends,a=new fT({shape:{points:i?function(t,e,n){return g.H(t,function(t){return(t=t.slice())[e]=n.initBaseline,t})}(o,r,t):o}});return gT(t,a,e,n,i),a}function gT(t,e,n,r,i){var o=n.hostModel;(0,a[i?"initProps":"updateProps"])(e,{shape:{points:t.ends}},o,r),e.useStyle(n.getItemVisual(r,"style")),e.style.strokeNoScale=!0,e.z2=100;var s=n.getItemModel(r),u=s.getModel("emphasis");Ss(e,s),As(e,u.get("focus"),u.get("blurScope"),u.get("disabled"))}var vT=hT,yT=g.k;function mT(t){var e=function(t){var e=[],n=[];return t.eachSeriesByType("boxplot",function(t){var r=t.getBaseAxis(),i=g.r(n,r);i<0&&(i=n.length,n[i]=r,e[i]={axis:r,seriesModels:[]}),e[i].seriesModels.push(t)}),e}(t);yT(e,function(t){var e=t.seriesModels;e.length&&(!function(t){var e,n=t.axis,r=t.seriesModels,i=r.length,o=t.boxWidthList=[],a=t.boxOffsetList=[],s=[];if("category"===n.type)e=n.getBandWidth();else{var u=0;yT(r,function(t){u=Math.max(u,t.getData().count())});var l=n.getExtent();e=Math.abs(l[1]-l[0])/u}yT(r,function(t){var n=t.get("boxWidth");g.t(n)||(n=[n,n]),s.push([fr(n[0],e)||0,fr(n[1],e)||0])});var c=.8*e-2,h=c/i*.3,d=(c-h*(i-1))/i,f=d/2-c/2;yT(r,function(t,e){a.push(f),f+=h+d,o.push(Math.min(Math.max(d,s[e][0]),s[e][1]))})}(t),yT(e,function(e,n){!function(t,e,n){var r=t.coordinateSystem,i=t.getData(),o=n/2,a="horizontal"===t.get("layout")?0:1,s=1-a,u=["x","y"],l=i.mapDimension(u[a]),c=i.mapDimensionsAll(u[s]);if(null==l||c.length<5)return;for(var h=0;h<i.count();h++){var d=i.get(l,h),f=b(d,c[2],h),p=b(d,c[0],h),g=b(d,c[1],h),v=b(d,c[3],h),y=b(d,c[4],h),m=[];x(m,g,!1),x(m,v,!0),m.push(p,g,y,v),A(m,p),A(m,y),A(m,f),i.setItemLayout(h,{initBaseline:f[s],ends:m})}function b(t,n,o){var u,l=i.get(n,o),c=[];return c[a]=t,c[s]=l,isNaN(t)||isNaN(l)?u=[NaN,NaN]:(u=r.dataToPoint(c))[a]+=e,u}function x(t,e,n){var r=e.slice(),i=e.slice();r[a]+=o,i[a]-=o,n?t.push(r,i):t.push(i,r)}function A(t,e){var n=e.slice(),r=e.slice();n[a]-=o,r[a]+=o,t.push(n,r)}}(e,t.boxOffsetList[n],t.boxWidthList[n])}))})}var bT={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==Ch){var n="";0,Rr(n)}var r=function(t,e){for(var n=[],r=[],i=(e=e||{}).boundIQR,o="none"===i||0===i,a=0;a<t.length;a++){var s=gr(t[a].slice()),u=kr(s,.25),l=kr(s,.5),c=kr(s,.75),h=s[0],d=s[s.length-1],f=(null==i?1.5:i)*(c-u),p=o?h:Math.max(h,u-f),v=o?d:Math.min(d,c+f),y=e.itemNameFormatter,m=Object(g.w)(y)?y({value:a}):Object(g.C)(y)?y.replace("{value}",a+""):a+"";n.push([m,p,u,l,c,v]);for(var b=0;b<s.length;b++){var x=s[b];if(x<p||x>v){var A=[m,x];r.push(A)}}}return{boxData:n,outliers:r}}(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:r.boxData},{data:r.outliers}]}};var xT=["color","borderColor"],AT=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,e,n){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,e,n,r){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},e.prototype.eachRendered=function(t){Nl(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t){var e=t.getData(),n=this._data,r=this.group,i=e.getLayout("isSimpleBox"),o=t.get("clip",!0),a=t.coordinateSystem,s=a.getArea&&a.getArea();this._data||r.removeAll(),e.diff(n).add(function(n){if(e.hasValue(n)){var a=e.getItemLayout(n);if(o&&ST(s,a))return;var u=MT(a,n,!0);el(u,{shape:{points:a.ends}},t,n),OT(u,e,n,i),r.add(u),e.setItemGraphicEl(n,u)}}).update(function(a,u){var l=n.getItemGraphicEl(u);if(e.hasValue(a)){var c=e.getItemLayout(a);o&&ST(s,c)?r.remove(l):(l?(tl(l,{shape:{points:c.ends}},t,a),al(l)):l=MT(c,a),OT(l,e,a,i),r.add(l),e.setItemGraphicEl(a,l))}else r.remove(l)}).remove(function(t){var e=n.getItemGraphicEl(t);e&&r.remove(e)}).execute(),this._data=e},e.prototype._renderLarge=function(t){this._clear(),CT(t,this.group);var e=t.get("clip",!0)?Ow(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,e){for(var n,r=e.getData(),i=r.getLayout("isSimpleBox");null!=(n=t.next());){var o=MT(r.getItemLayout(n),n);OT(o,r,n,i),o.incremental=!0,this.group.add(o),this._progressiveEls.push(o)}},e.prototype._incrementalRenderLarge=function(t,e){CT(e,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(wp),wT=function(){return function(){}}(),_T=function(t){function e(e){var n=t.call(this,e)||this;return n.type="normalCandlestickBox",n}return Object(f.__extends)(e,t),e.prototype.getDefaultShape=function(){return new wT},e.prototype.buildPath=function(t,e){var n=e.points;this.__simpleBox?(t.moveTo(n[4][0],n[4][1]),t.lineTo(n[6][0],n[6][1])):(t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]),t.lineTo(n[3][0],n[3][1]),t.closePath(),t.moveTo(n[4][0],n[4][1]),t.lineTo(n[5][0],n[5][1]),t.moveTo(n[6][0],n[6][1]),t.lineTo(n[7][0],n[7][1]))},e}(Qo);function MT(t,e,n){var r=t.ends;return new _T({shape:{points:n?function(t,e){return g.H(t,function(t){return(t=t.slice())[1]=e.initBaseline,t})}(r,t):r},z2:100})}function ST(t,e){for(var n=!0,r=0;r<e.ends.length;r++)if(t.contain(e.ends[r][0],e.ends[r][1])){n=!1;break}return n}function OT(t,e,n,r){var i=e.getItemModel(n);t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.__simpleBox=r,Ss(t,i)}var IT=function(){return function(){}}(),ET=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeCandlestickBox",n}return Object(f.__extends)(e,t),e.prototype.getDefaultShape=function(){return new IT},e.prototype.buildPath=function(t,e){for(var n=e.points,r=0;r<n.length;)if(this.__sign===n[r++]){var i=n[r++];t.moveTo(i,n[r++]),t.lineTo(i,n[r++])}else r+=3},e}(Qo);function CT(t,e,n,r){var i=t.getData(),o=i.getLayout("largePoints"),a=new ET({shape:{points:o},__sign:1,ignoreCoarsePointer:!0});e.add(a);var s=new ET({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0});e.add(s);var u=new ET({shape:{points:o},__sign:0,ignoreCoarsePointer:!0});e.add(u),kT(1,a,t,i),kT(-1,s,t,i),kT(0,u,t,i),r&&(a.incremental=!0,s.incremental=!0),n&&n.push(a,s)}function kT(t,e,n,r){var i=n.get(["itemStyle",t>0?"borderColor":"borderColor0"])||n.get(["itemStyle",t>0?"color":"color0"]);0===t&&(i=n.get(["itemStyle","borderColorDoji"]));var o=n.getModel("itemStyle").getItemStyle(xT);e.useStyle(o),e.style.fill=null,e.style.stroke=i}var TT=AT,DT=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return Object(f.__extends)(e,t),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,e,n){var r=e.getItemLayout(t);return r&&n.rect(r.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(cp);Object(g.K)(DT,uT,!0);var jT=DT;function LT(t){t&&g.t(t.series)&&g.k(t.series,function(t){g.A(t)&&"k"===t.type&&(t.type="candlestick")})}var PT=["itemStyle","borderColor"],NT=["itemStyle","borderColor0"],RT=["itemStyle","borderColorDoji"],BT=["itemStyle","color"],zT=["itemStyle","color0"],FT={seriesType:"candlestick",plan:fp(),performRawSeries:!0,reset:function(t,e){function n(t,e){return e.get(t>0?BT:zT)}function r(t,e){return e.get(0===t?RT:t>0?PT:NT)}if(!e.isSeriesFiltered(t))return!t.pipelineContext.large&&{progress:function(t,e){for(var i;null!=(i=t.next());){var o=e.getItemModel(i),a=e.getItemLayout(i).sign,s=o.getItemStyle();s.fill=n(a,o),s.stroke=r(a,o)||s.fill;var u=e.ensureUniqueItemVisual(i,"style");Object(g.m)(u,s)}}}}};function GT(t,e,n,r,i,o){return n>r?-1:n<r?1:o?0:e>0?t.get(i,e-1)<=r?1:-1:1}var VT={seriesType:"candlestick",plan:fp(),reset:function(t){var e=t.coordinateSystem,n=t.getData(),r=function(t,e){var n,r=t.getBaseAxis(),i="category"===r.type?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/e.count()),o=fr(Object(g.P)(t.get("barMaxWidth"),i),i),a=fr(Object(g.P)(t.get("barMinWidth"),1),i),s=t.get("barWidth");return null!=s?fr(s,i):Math.max(Math.min(i/2,o),a)}(t,n),i=0,o=1,a=["x","y"],s=n.getDimensionIndex(n.mapDimension(a[i])),u=Object(g.H)(n.mapDimensionsAll(a[o]),n.getDimensionIndex,n),l=u[0],c=u[1],h=u[2],d=u[3];if(n.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(s<0||u.length<4))return{progress:t.pipelineContext.large?function(n,r){var a,u,f=Lm(4*n.count),p=0,g=[],v=[],y=r.getStore(),m=!!t.get(["itemStyle","borderColorDoji"]);for(;null!=(u=n.next());){var b=y.get(s,u),x=y.get(l,u),A=y.get(c,u),w=y.get(h,u),_=y.get(d,u);isNaN(b)||isNaN(w)||isNaN(_)?(f[p++]=NaN,p+=3):(f[p++]=GT(y,u,x,A,c,m),g[i]=b,g[o]=w,a=e.dataToPoint(g,null,v),f[p++]=a?a[0]:NaN,f[p++]=a?a[1]:NaN,g[o]=_,a=e.dataToPoint(g,null,v),f[p++]=a?a[1]:NaN)}r.setLayout("largePoints",f)}:function(t,n){var a,u=n.getStore();for(;null!=(a=t.next());){var f=u.get(s,a),p=u.get(l,a),g=u.get(c,a),v=u.get(h,a),y=u.get(d,a),m=Math.min(p,g),b=Math.max(p,g),x=I(m,f),A=I(b,f),w=I(v,f),_=I(y,f),M=[];E(M,A,0),E(M,x,1),M.push(k(_),k(A),k(w),k(x));var S=n.getItemModel(a),O=!!S.get(["itemStyle","borderColorDoji"]);n.setItemLayout(a,{sign:GT(u,a,p,g,c,O),initBaseline:p>g?A[o]:x[o],ends:M,brushRect:C(v,y,f)})}function I(t,n){var r=[];return r[i]=n,r[o]=t,isNaN(n)||isNaN(t)?[NaN,NaN]:e.dataToPoint(r)}function E(t,e,n){var o=e.slice(),a=e.slice();o[i]=wl(o[i]+r/2,1,!1),a[i]=wl(a[i]-r/2,1,!0),n?t.push(o,a):t.push(a,o)}function C(t,e,n){var a=I(t,n),s=I(e,n);return a[i]-=r/2,s[i]-=r/2,{x:a[0],y:a[1],width:o?r:s[0]-a[0],height:o?s[1]-a[1]:r}}function k(t){return t[i]=wl(t[i],1),t}}}}};function UT(t,e){var n=e.rippleEffectColor||e.color;t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?n:null,fill:"fill"===e.brushType?n:null}})})}var WT=function(t){function e(e,n){var r=t.call(this)||this,i=new lw(e,n),o=new tr;return r.add(i),r.add(o),r.updateData(e,n),r}return Object(f.__extends)(e,t),e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,r=t.rippleNumber,i=this.childAt(1),o=0;o<r;o++){var a=Eg(e,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var s=-o/r*t.period+t.effectOffset;a.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(s).start(),a.animateStyle(!0).when(t.period,{opacity:0}).delay(s).start(),i.add(a)}UT(i,t)},e.prototype.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),r=["symbolType","period","rippleScale","rippleNumber"],i=0;i<r.length;i++){var o=r[i];if(e[o]!==t[o])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}UT(n,t)},e.prototype.highlight=function(){us(this)},e.prototype.downplay=function(){ls(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,e){var n=this,r=t.hostModel;this.childAt(0).updateData(t,e);var i=this.childAt(1),o=t.getItemModel(e),a=t.getItemVisual(e,"symbol"),s=Cg(t.getItemVisual(e,"symbolSize")),u=t.getItemVisual(e,"style"),l=u&&u.fill,c=o.getModel("emphasis");i.setScale(s),i.traverse(function(t){t.setStyle("fill",l)});var h=kg(t.getItemVisual(e,"symbolOffset"),s);h&&(i.x=h[0],i.y=h[1]);var d=t.getItemVisual(e,"symbolRotate");i.rotation=(d||0)*Math.PI/180||0;var f={};f.showEffectOn=r.get("showEffectOn"),f.rippleScale=o.get(["rippleEffect","scale"]),f.brushType=o.get(["rippleEffect","brushType"]),f.period=1e3*o.get(["rippleEffect","period"]),f.effectOffset=e/t.count(),f.z=r.getShallow("z")||0,f.zlevel=r.getShallow("zlevel")||0,f.symbolType=a,f.color=l,f.rippleEffectColor=o.get(["rippleEffect","color"]),f.rippleNumber=o.get(["rippleEffect","number"]),"render"===f.showEffectOn?(this._effectCfg?this.updateEffectAnimation(f):this.startEffectAnimation(f),this._effectCfg=f):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(t){"emphasis"===t?"render"!==f.showEffectOn&&n.startEffectAnimation(f):"normal"===t&&"render"!==f.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=f,As(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(tr),HT=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.init=function(){this._symbolDraw=new fw(WT)},e.prototype.render=function(t,e,n){var r=t.getData(),i=this._symbolDraw;i.updateData(r,{clipShape:this._getClipShape(t)}),this.group.add(i.group)},e.prototype._getClipShape=function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get("clip",!0)?n:null},e.prototype.updateTransform=function(t,e,n){var r=t.getData();this.group.dirty();var i=zw("").reset(t,e,n);i.progress&&i.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=At(e.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(wp),YT=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(f.__extends)(e,t),e.prototype.getInitialData=function(t,e){return fm(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(cp);var XT=function(t){function e(e,n,r){var i=t.call(this)||this;return i.add(i.createLine(e,n,r)),i._updateEffectSymbol(e,n),i}return Object(f.__extends)(e,t),e.prototype.createLine=function(t,e,n){return new PE(t,e,n)},e.prototype._updateEffectSymbol=function(t,e){var n=t.getItemModel(e).getModel("effect"),r=n.get("symbolSize"),i=n.get("symbol");g.t(r)||(r=[r,r]);var o=t.getItemVisual(e,"style"),a=n.get("color")||o&&o.stroke,s=this.childAt(1);this._symbolType!==i&&(this.remove(s),(s=Eg(i,-.5,-.5,1,1,a)).z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle("shadowColor",a),s.setStyle(n.getItemStyle(["color"])),s.scaleX=r[0],s.scaleY=r[1],s.setColor(a),this._symbolType=i,this._symbolScale=r,this._updateEffectAnimation(t,n,e))},e.prototype._updateEffectAnimation=function(t,e,n){var r=this.childAt(1);if(r){var i=t.getItemLayout(n),o=1e3*e.get("period"),a=e.get("loop"),s=e.get("roundTrip"),u=e.get("constantSpeed"),l=g.O(e.get("delay"),function(e){return e/t.count()*o/3});if(r.ignore=!0,this._updateAnimationPoints(r,i),u>0&&(o=this._getLineLength(r)/u*1e3),o!==this._period||a!==this._loop||s!==this._roundTrip){r.stopAnimation();var c=void 0;c=g.w(l)?l(n):l,r.__t>0&&(c=-o*r.__t),this._animateSymbol(r,o,c,a,s)}this._period=o,this._loop=a,this._roundTrip=s}},e.prototype._animateSymbol=function(t,e,n,r,i){if(e>0){t.__t=0;var o=this,a=t.animate("",r).when(i?2*e:e,{__t:i?2:1}).delay(n).during(function(){o._updateSymbolPosition(t)});r||a.done(function(){o.remove(t)}),a.start()}},e.prototype._getLineLength=function(t){return j(t.__p1,t.__cp1)+j(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},e.prototype.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},e.prototype._updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,r=t.__cp1,i=t.__t<1?t.__t:2-t.__t,o=[t.x,t.y],a=o.slice(),s=Me,u=Se;o[0]=s(e[0],r[0],n[0],i),o[1]=s(e[1],r[1],n[1],i);var l=t.__t<1?u(e[0],r[0],n[0],i):u(n[0],r[0],e[0],1-i),c=t.__t<1?u(e[1],r[1],n[1],i):u(n[1],r[1],e[1],1-i);t.rotation=-Math.atan2(c,l)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*j(a,o),1===i&&(o[0]=a[0]+(o[0]-a[0])/2,o[1]=a[1]+(o[1]-a[1])/2)):1===t.__lastT?t.scaleY=2*j(e,o):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=o[0],t.y=o[1]},e.prototype.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},e}(tr),qT=function(t){function e(e,n,r){var i=t.call(this)||this;return i._createPolyline(e,n,r),i}return Object(f.__extends)(e,t),e.prototype._createPolyline=function(t,e,n){var r=t.getItemLayout(e),i=new Iu({shape:{points:r}});this.add(i),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var r=t.hostModel;tl(this.childAt(0),{shape:{points:t.getItemLayout(e)}},r,e),this._updateCommonStl(t,e,n)},e.prototype._updateCommonStl=function(t,e,n){var r=this.childAt(0),i=t.getItemModel(e),o=n&&n.emphasisLineStyle,a=n&&n.focus,s=n&&n.blurScope,u=n&&n.emphasisDisabled;if(!n||t.hasItemOption){var l=i.getModel("emphasis");o=l.getModel("lineStyle").getLineStyle(),u=l.get("disabled"),a=l.get("focus"),s=l.get("blurScope")}r.useStyle(t.getItemVisual(e,"style")),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState("emphasis").style=o,As(this,a,s,u)},e.prototype.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},e}(tr),QT=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return Object(f.__extends)(e,t),e.prototype.createLine=function(t,e,n){return new qT(t,e,n)},e.prototype._updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],r=0,i=1;i<e.length;i++){var o=e[i-1],a=e[i];r+=j(o,a),n.push(r)}if(0!==r){for(i=0;i<n.length;i++)n[i]/=r;this._offsets=n,this._length=r}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var e=t.__t<1?t.__t:2-t.__t,n=this._points,r=this._offsets,i=n.length;if(r){var o,a=this._lastFrame;if(e<this._lastFramePercent){for(o=Math.min(a+1,i-1);o>=0&&!(r[o]<=e);o--);o=Math.min(o,i-2)}else{for(o=a;o<i&&!(r[o]>e);o++);o=Math.min(o-1,i-2)}var s=(e-r[o])/(r[o+1]-r[o]),u=n[o],l=n[o+1];t.x=u[0]*(1-s)+s*l[0],t.y=u[1]*(1-s)+s*l[1];var c=t.__t<1?l[0]-u[0]:u[0]-l[0],h=t.__t<1?l[1]-u[1]:u[1]-l[1];t.rotation=-Math.atan2(h,c)-Math.PI/2,this._lastFrame=o,this._lastFramePercent=e,t.ignore=!1}},e}(XT),ZT=function(){return function(){this.polyline=!1,this.curveness=0,this.segs=[]}}(),KT=function(t){function e(e){var n=t.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return Object(f.__extends)(e,t),e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ZT},e.prototype.buildPath=function(t,e){var n,r=e.segs,i=e.curveness;if(e.polyline)for(n=this._off;n<r.length;){var o=r[n++];if(o>0){t.moveTo(r[n++],r[n++]);for(var a=1;a<o;a++)t.lineTo(r[n++],r[n++])}}else for(n=this._off;n<r.length;){var s=r[n++],u=r[n++],l=r[n++],c=r[n++];if(t.moveTo(s,u),i>0){var h=(s+l)/2-(u-c)*i,d=(u+c)/2-(l-s)*i;t.quadraticCurveTo(h,d,l,c)}else t.lineTo(l,c)}this.incremental&&(this._off=n,this.notClear=!0)},e.prototype.findDataIndex=function(t,e){var n=this.shape,r=n.segs,i=n.curveness,o=this.style.lineWidth;if(n.polyline)for(var a=0,s=0;s<r.length;){var u=r[s++];if(u>0)for(var l=r[s++],c=r[s++],h=1;h<u;h++){if(Co(l,c,d=r[s++],f=r[s++],o,t,e))return a}a++}else for(a=0,s=0;s<r.length;){l=r[s++],c=r[s++];var d=r[s++],f=r[s++];if(i>0){if(To(l,c,(l+d)/2-(c-f)*i,(c+f)/2-(d-l)*i,d,f,o,t,e))return a}else if(Co(l,c,d,f,o,t,e))return a;a++}return-1},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect();return t=n[0],e=n[1],r.contain(t,e)?(this.hoverDataIdx=this.findDataIndex(t,e))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape.segs,n=1/0,r=1/0,i=-1/0,o=-1/0,a=0;a<e.length;){var s=e[a++],u=e[a++];n=Math.min(s,n),i=Math.max(s,i),r=Math.min(u,r),o=Math.max(u,o)}t=this._rect=new Tt(n,r,i,o)}return t},e}(Qo),JT=function(){function t(){this.group=new tr}return t.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},t.prototype.incrementalUpdate=function(t,e){var n=this._newAdded[0],r=e.getLayout("linesPoints"),i=n&&n.shape.segs;if(i&&i.length<2e4){var o=i.length,a=new Float32Array(o+r.length);a.set(i),a.set(r,o),n.setShape({segs:a})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:r}),this._setCommon(s,e),s.__startIndex=t.start}},t.prototype.remove=function(){this._clear()},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new KT({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},t.prototype._setCommon=function(t,e,n){var r=e.hostModel;t.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),t.useStyle(r.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var i=e.getVisual("style");i&&i.stroke&&t.setStyle("stroke",i.stroke),t.setStyle("fill",null);var o=Ia(t);o.seriesIndex=r.seriesIndex,t.on("mousemove",function(e){o.dataIndex=null;var n=t.hoverDataIdx;n>0&&(o.dataIndex=n+t.__startIndex)})},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),$T={seriesType:"lines",plan:fp(),reset:function(t){var e=t.coordinateSystem;if(e){var n=t.get("polyline"),r=t.pipelineContext.large;return{progress:function(i,o){var a=[];if(r){var s=void 0,u=i.end-i.start;if(n){for(var l=0,c=i.start;c<i.end;c++)l+=t.getLineCoordsCount(c);s=new Float32Array(u+2*l)}else s=new Float32Array(4*u);var h=0,d=[];for(c=i.start;c<i.end;c++){var f=t.getLineCoords(c,a);n&&(s[h++]=f);for(var p=0;p<f;p++)d=e.dataToPoint(a[p],!1,d),s[h++]=d[0],s[h++]=d[1]}o.setLayout("linesPoints",s)}else for(c=i.start;c<i.end;c++){var g=o.getItemModel(c),v=(f=t.getLineCoords(c,a),[]);if(n)for(var y=0;y<f;y++)v.push(e.dataToPoint(a[y]));else{v[0]=e.dataToPoint(a[0]),v[1]=e.dataToPoint(a[1]);var m=g.get(["lineStyle","curveness"]);+m&&(v[2]=[(v[0][0]+v[1][0])/2-(v[0][1]-v[1][1])*m,(v[0][1]+v[1][1])/2-(v[1][0]-v[0][0])*m])}o.setItemLayout(c,v)}}}}}},tD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n){var r=t.getData(),i=this._updateLineDraw(r,t),o=t.get("zlevel"),a=t.get(["effect","trailLength"]),s=n.getZr(),u="svg"===s.painter.getType();u||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||u||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&a>0&&(u||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),i.updateData(r);var l=t.get("clip",!0)&&Ow(t.coordinateSystem,!1,t);l?this.group.setClipPath(l):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var r=t.getData();this._updateLineDraw(r,t).incrementalPrepareUpdate(r),this._clearLayer(n),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,e,n){var r=t.getData(),i=t.pipelineContext;if(!this._finished||i.large||i.progressiveRender)return{update:!0};var o=$T.reset(t,e,n);o.progress&&o.progress({start:0,end:r.count(),count:r.count()},r),this._lineDraw.updateLayout(),this._clearLayer(n)},e.prototype._updateLineDraw=function(t,e){var n=this._lineDraw,r=this._showEffect(e),i=!!e.get("polyline"),o=e.pipelineContext.large;return n&&r===this._hasEffet&&i===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new JT:new zE(i?r?QT:qT:r?XT:PE),this._hasEffet=r,this._isPolyline=i,this._isLargeDraw=o),this.group.add(n.group),n},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.type="lines",e}(wp),eD="undefined"==typeof Uint32Array?Array:Uint32Array,nD="undefined"==typeof Float64Array?Array:Float64Array;function rD(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=Object(g.H)(e,function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),Object(g.J)([e,t[0],t[1]])}))}var iD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return Object(f.__extends)(e,t),e.prototype.init=function(e){e.data=e.data||[],rD(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),t.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(e){if(rD(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}t.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=Object(g.e)(this._flatCoords,e.flatCoords),this._flatCoordsOffset=Object(g.e)(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var e=this.getData().getItemModel(t),n=e.option instanceof Array?e.option:e.getShallow("coords");return n},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],r=this._flatCoordsOffset[2*t+1],i=0;i<r;i++)e[i]=e[i]||[],e[i][0]=this._flatCoords[n+2*i],e[i][1]=this._flatCoords[n+2*i+1];return r}var o=this._getCoordsFromItemModel(t);for(i=0;i<o.length;i++)e[i]=e[i]||[],e[i][0]=o[i][0],e[i][1]=o[i][1];return o.length},e.prototype._processFlatCoordsArray=function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),Object(g.z)(t[0])){for(var n=t.length,r=new eD(n),i=new nD(n),o=0,a=0,s=0,u=0;u<n;){s++;var l=t[u++];r[a++]=o+e,r[a++]=l;for(var c=0;c<l;c++){var h=t[u++],d=t[u++];i[o++]=h,i[o++]=d}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,a),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,e){var n=new rm(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],function(t,e,r,i){if(t instanceof Array)return NaN;n.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[i]:o:void 0}),n},e.prototype.formatTooltip=function(t,e,n){var r=this.getData().getItemModel(t),i=r.get("name");if(i)return i;var o=r.get("fromName"),a=r.get("toName"),s=[];return null!=o&&s.push(o),null!=a&&s.push(a),Gf("nameValue",{name:s.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),e=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&e>0?e+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(cp);function oD(t){return t instanceof Array||(t=[t,t]),t}var aD={seriesType:"lines",reset:function(t){var e=oD(t.get("symbol")),n=oD(t.get("symbolSize")),r=t.getData();return r.setVisual("fromSymbol",e&&e[0]),r.setVisual("toSymbol",e&&e[1]),r.setVisual("fromSymbolSize",n&&n[0]),r.setVisual("toSymbolSize",n&&n[1]),{dataEach:r.hasItemOption?function(t,e){var n=t.getItemModel(e),r=oD(n.getShallow("symbol",!0)),i=oD(n.getShallow("symbolSize",!0));r[0]&&t.setItemVisual(e,"fromSymbol",r[0]),r[1]&&t.setItemVisual(e,"toSymbol",r[1]),i[0]&&t.setItemVisual(e,"fromSymbolSize",i[0]),i[1]&&t.setItemVisual(e,"toSymbolSize",i[1])}:null}}};var sD=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=Ln.d.createCanvas();this.canvas=t}return t.prototype.update=function(t,e,n,r,i,o){var a=this._getBrush(),s=this._getGradient(i,"inRange"),u=this._getGradient(i,"outOfRange"),l=this.pointSize+this.blurSize,c=this.canvas,h=c.getContext("2d"),d=t.length;c.width=e,c.height=n;for(var f=0;f<d;++f){var p=t[f],g=p[0],v=p[1],y=r(p[2]);h.globalAlpha=y,h.drawImage(a,g-l,v-l)}if(!c.width||!c.height)return c;for(var m=h.getImageData(0,0,c.width,c.height),b=m.data,x=0,A=b.length,w=this.minOpacity,_=this.maxOpacity-w;x<A;){y=b[x+3]/256;var M=4*Math.floor(255*y);if(y>0){var S=o(y)?s:u;y>0&&(y=y*_+w),b[x++]=S[M],b[x++]=S[M+1],b[x++]=S[M+2],b[x++]=S[M+3]*y*256}else x+=4}return h.putImageData(m,0,0),c},t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=Ln.d.createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var r=t.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-e,e,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),t},t.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,r=n[e]||(n[e]=new Uint8ClampedArray(1024)),i=[0,0,0,0],o=0,a=0;a<256;a++)t[e](a/255,!0,i),r[o++]=i[0],r[o++]=i[1],r[o++]=i[2],r[o++]=i[3];return r},t}();function uD(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var lD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n){var r;e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(n){n===t&&(r=e)})}),this._progressiveEls=null,this.group.removeAll();var i=t.coordinateSystem;"cartesian2d"===i.type||"calendar"===i.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):uD(i)&&this._renderOnGeo(i,t,r,n)},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll()},e.prototype.incrementalRender=function(t,e,n,r){var i=e.coordinateSystem;i&&(uD(i)?this.render(e,n,r):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(e,r,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Nl(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,e,n,r,i){var o,a,s,u,l=t.coordinateSystem,c=Iw(l,"cartesian2d");if(c){var h=l.getAxis("x"),d=l.getAxis("y");0,o=h.getBandWidth()+.5,a=d.getBandWidth()+.5,s=h.scale.getExtent(),u=d.scale.getExtent()}for(var f=this.group,p=t.getData(),g=t.getModel(["emphasis","itemStyle"]).getItemStyle(),v=t.getModel(["blur","itemStyle"]).getItemStyle(),y=t.getModel(["select","itemStyle"]).getItemStyle(),m=t.get(["itemStyle","borderRadius"]),b=Gl(t),x=t.getModel("emphasis"),A=x.get("focus"),w=x.get("blurScope"),_=x.get("disabled"),M=c?[p.mapDimension("x"),p.mapDimension("y"),p.mapDimension("value")]:[p.mapDimension("time"),p.mapDimension("value")],S=n;S<r;S++){var O=void 0,I=p.getItemVisual(S,"style");if(c){var E=p.get(M[0],S),C=p.get(M[1],S);if(isNaN(p.get(M[2],S))||isNaN(E)||isNaN(C)||E<s[0]||E>s[1]||C<u[0]||C>u[1])continue;var k=l.dataToPoint([E,C]);O=new ca({shape:{x:k[0]-o/2,y:k[1]-a/2,width:o,height:a},style:I})}else{if(isNaN(p.get(M[1],S)))continue;O=new ca({z2:1,shape:l.dataToRect([p.get(M[0],S)]).contentShape,style:I})}if(p.hasItemOption){var T=p.getItemModel(S),D=T.getModel("emphasis");g=D.getModel("itemStyle").getItemStyle(),v=T.getModel(["blur","itemStyle"]).getItemStyle(),y=T.getModel(["select","itemStyle"]).getItemStyle(),m=T.get(["itemStyle","borderRadius"]),A=D.get("focus"),w=D.get("blurScope"),_=D.get("disabled"),b=Gl(T)}O.shape.r=m;var j=t.getRawValue(S),L="-";j&&null!=j[2]&&(L=j[2]+""),Fl(O,b,{labelFetcher:t,labelDataIndex:S,defaultOpacity:I.opacity,defaultText:L}),O.ensureState("emphasis").style=g,O.ensureState("blur").style=v,O.ensureState("select").style=y,As(O,A,w,_),O.incremental=i,i&&(O.states.emphasis.hoverLayer=!0),f.add(O),p.setItemGraphicEl(S,O),this._progressiveEls&&this._progressiveEls.push(O)}},e.prototype._renderOnGeo=function(t,e,n,r){var i=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,a=e.getData(),s=this._hmLayer||this._hmLayer||new sD;s.blurSize=e.get("blurSize"),s.pointSize=e.get("pointSize"),s.minOpacity=e.get("minOpacity"),s.maxOpacity=e.get("maxOpacity");var u=t.getViewRect().clone(),l=t.getRoamTransform();u.applyTransform(l);var c=Math.max(u.x,0),h=Math.max(u.y,0),d=Math.min(u.width+u.x,r.getWidth()),f=Math.min(u.height+u.y,r.getHeight()),p=d-c,v=f-h,y=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],m=a.mapArray(y,function(e,n,r){var i=t.dataToPoint([e,n]);return i[0]-=c,i[1]-=h,i.push(r),i}),b=n.getExtent(),x="visualMap.continuous"===n.type?function(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}(b,n.option.range):function(t,e,n){var r=t[1]-t[0],i=(e=g.H(e,function(e){return{interval:[(e.interval[0]-t[0])/r,(e.interval[1]-t[0])/r]}})).length,o=0;return function(t){var r;for(r=o;r<i;r++)if((a=e[r].interval)[0]<=t&&t<=a[1]){o=r;break}if(r===i)for(r=o-1;r>=0;r--){var a;if((a=e[r].interval)[0]<=t&&t<=a[1]){o=r;break}}return r>=0&&r<i&&n[r]}}(b,n.getPieceList(),n.option.selected);s.update(m,p,v,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:o.color.getColorMapper()},x);var A=new na({style:{width:p,height:v,x:c,y:h,image:s.canvas},silent:!0});this.group.add(A)},e.type="heatmap",e}(wp),cD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.getInitialData=function(t,e){return fm(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=ad.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(cp);var hD=["itemStyle","borderWidth"],dD=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],fD=new Js;function pD(t,e,n,r){var i=t.getItemLayout(e),o=n.get("symbolRepeat"),a=n.get("symbolClip"),s=n.get("symbolPosition")||"start",u=(n.get("symbolRotate")||0)*Math.PI/180||0,l=n.get("symbolPatternSize")||2,c=n.isAnimationEnabled(),h={dataIndex:e,layout:i,itemModel:n,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:l,rotation:u,animationModel:c?n:null,hoverScale:c&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};!function(t,e,n,r,i){var o,a=r.valueDim,s=t.get("symbolBoundingData"),u=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),l=u.toGlobalCoord(u.dataToCoord(0)),c=1-+(n[a.wh]<=0);if(g.t(s)){var h=[gD(u,s[0])-l,gD(u,s[1])-l];h[1]<h[0]&&h.reverse(),o=h[c]}else o=null!=s?gD(u,s)-l:e?r.coordSysExtent[a.index][c]-l:n[a.wh];i.boundingLength=o,e&&(i.repeatCutLength=n[a.wh]);i.pxSign=o>0?1:-1}(n,o,i,r,h),function(t,e,n,r,i,o,a,s,u,l){var c,h=u.valueDim,d=u.categoryDim,f=Math.abs(n[d.wh]),p=t.getItemVisual(e,"symbolSize");c=g.t(p)?p.slice():null==p?["100%","100%"]:[p,p];c[d.index]=fr(c[d.index],f),c[h.index]=fr(c[h.index],r?f:Math.abs(o)),l.symbolSize=c,(l.symbolScale=[c[0]/s,c[1]/s])[h.index]*=(u.isHorizontal?-1:1)*a}(t,e,i,o,0,h.boundingLength,h.pxSign,l,r,h),function(t,e,n,r,i){var o=t.get(hD)||0;o&&(fD.attr({scaleX:e[0],scaleY:e[1],rotation:n}),fD.updateTransform(),o/=fD.getLineScale(),o*=e[r.valueDim.index]);i.valueLineWidth=o||0}(n,h.symbolScale,u,r,h);var d=h.symbolSize;return function(t,e,n,r,i,o,a,s,u,l,c,h){var d=c.categoryDim,f=c.valueDim,p=h.pxSign,v=Math.max(e[f.index]+s,0),y=v;if(r){var m=Math.abs(u),b=g.O(t.get("symbolMargin"),"15%")+"",x=!1;b.lastIndexOf("!")===b.length-1&&(x=!0,b=b.slice(0,b.length-1));var A=fr(b,e[f.index]),w=Math.max(v+2*A,0),_=x?0:2*A,M=jr(r),S=M?r:kD((m+_)/w),O=m-S*v;A=O/2/(x?S:Math.max(S-1,1)),w=v+2*A,_=x?0:2*A,M||"fixed"===r||(S=l?kD((Math.abs(l)+_)/w):0),y=S*w-_,h.repeatTimes=S,h.symbolMargin=A}var I=p*(y/2),E=h.pathPosition=[];E[d.index]=n[d.wh]/2,E[f.index]="start"===a?I:"end"===a?u-I:u/2,o&&(E[0]+=o[0],E[1]+=o[1]);var C=h.bundlePosition=[];C[d.index]=n[d.xy],C[f.index]=n[f.xy];var k=h.barRectShape=g.m({},n);k[f.wh]=p*Math.max(Math.abs(n[f.wh]),Math.abs(E[f.index]+I)),k[d.wh]=n[d.wh];var T=h.clipShape={};T[d.xy]=-n[d.xy],T[d.wh]=c.ecSize[d.wh],T[f.xy]=0,T[f.wh]=n[f.wh]}(n,d,i,o,0,kg(n.get("symbolOffset"),d),s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,r,h),h}function gD(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function vD(t){var e=t.symbolPatternSize,n=Eg(t.symbolType,-e/2,-e/2,e,e);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function yD(t,e,n,r){var i=t.__pictorialBundle,o=n.symbolSize,a=n.valueLineWidth,s=n.pathPosition,u=e.valueDim,l=n.repeatTimes||0,c=0,h=o[e.valueDim.index]+a+2*n.symbolMargin;for(ID(t,function(t){t.__pictorialAnimationIndex=c,t.__pictorialRepeatTimes=l,c<l?ED(t,null,p(c),n,r):ED(t,null,{scaleX:0,scaleY:0},n,r,function(){i.remove(t)}),c++});c<l;c++){var d=vD(n);d.__pictorialAnimationIndex=c,d.__pictorialRepeatTimes=l,i.add(d);var f=p(c);ED(d,{x:f.x,y:f.y,scaleX:0,scaleY:0},{scaleX:f.scaleX,scaleY:f.scaleY,rotation:f.rotation},n,r)}function p(t){var e=s.slice(),r=n.pxSign,i=t;return("start"===n.symbolRepeatDirection?r>0:r<0)&&(i=l-1-t),e[u.index]=h*(i-l/2+.5)+s[u.index],{x:e[0],y:e[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function mD(t,e,n,r){var i=t.__pictorialBundle,o=t.__pictorialMainPath;o?ED(o,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,r):(o=t.__pictorialMainPath=vD(n),i.add(o),ED(o,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,r))}function bD(t,e,n){var r=g.m({},e.barRectShape),i=t.__pictorialBarRect;i?ED(i,null,{shape:r},e,n):((i=t.__pictorialBarRect=new ca({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,t.add(i))}function xD(t,e,n,r){if(n.symbolClip){var i=t.__pictorialClipPath,o=g.m({},n.clipShape),s=e.valueDim,u=n.animationModel,l=n.dataIndex;if(i)tl(i,{shape:o},u,l);else{o[s.wh]=0,i=new ca({shape:o}),t.__pictorialBundle.setClipPath(i),t.__pictorialClipPath=i;var c={};c[s.wh]=n.clipShape[s.wh],a[r?"updateProps":"initProps"](i,{shape:c},u,l)}}}function AD(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=wD,n.isAnimationEnabled=_D,n}function wD(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function _D(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function MD(t,e,n,r){var i=new tr,o=new tr;return i.add(o),i.__pictorialBundle=o,o.x=n.bundlePosition[0],o.y=n.bundlePosition[1],n.symbolRepeat?yD(i,e,n):mD(i,0,n),bD(i,n,r),xD(i,e,n,r),i.__pictorialShapeStr=OD(t,n),i.__pictorialSymbolMeta=n,i}function SD(t,e,n,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var o=[];ID(r,function(t){o.push(t)}),r.__pictorialMainPath&&o.push(r.__pictorialMainPath),r.__pictorialClipPath&&(n=null),g.k(o,function(t){rl(t,{scaleX:0,scaleY:0},n,e,function(){r.parent&&r.parent.remove(r)})}),t.setItemGraphicEl(e,null)}function OD(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function ID(t,e,n){g.k(t.__pictorialBundle.children(),function(r){r!==t.__pictorialBarRect&&e.call(n,r)})}function ED(t,e,n,r,i,o){e&&t.attr(e),r.symbolClip&&!i?n&&t.attr(n):n&&a[i?"updateProps":"initProps"](t,n,r.animationModel,r.dataIndex,o)}function CD(t,e,n){var r=n.dataIndex,i=n.itemModel,o=i.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),s=i.getModel(["blur","itemStyle"]).getItemStyle(),u=i.getModel(["select","itemStyle"]).getItemStyle(),l=i.getShallow("cursor"),c=o.get("focus"),h=o.get("blurScope"),d=o.get("scale");ID(t,function(t){if(t instanceof na){var e=t.style;t.useStyle(g.m({image:e.image,x:e.x,y:e.y,width:e.width,height:e.height},n.style))}else t.useStyle(n.style);var r=t.ensureState("emphasis");r.style=a,d&&(r.scaleX=1.1*t.scaleX,r.scaleY=1.1*t.scaleY),t.ensureState("blur").style=s,t.ensureState("select").style=u,l&&(t.cursor=l),t.z2=n.z2});var f=e.valueDim.posDesc[+(n.boundingLength>0)];Fl(t.__pictorialBarRect,Gl(i),{labelFetcher:e.seriesModel,labelDataIndex:r,defaultText:aw(e.seriesModel.getData(),r),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:f}),As(t,c,h,o.get("disabled"))}function kD(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var TD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n){var r=this.group,i=t.getData(),o=this._data,a=t.coordinateSystem,s=a.getBaseAxis().isHorizontal(),u=a.master.getRect(),l={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:a,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:s,valueDim:dD[+s],categoryDim:dD[1-+s]};return i.diff(o).add(function(t){if(i.hasValue(t)){var e=AD(i,t),n=pD(i,t,e,l),o=MD(i,l,n);i.setItemGraphicEl(t,o),r.add(o),CD(o,l,n)}}).update(function(t,e){var n=o.getItemGraphicEl(e);if(i.hasValue(t)){var a=AD(i,t),s=pD(i,t,a,l),u=OD(i,s);n&&u!==n.__pictorialShapeStr&&(r.remove(n),i.setItemGraphicEl(t,null),n=null),n?function(t,e,n){var r=n.animationModel,i=n.dataIndex;tl(t.__pictorialBundle,{x:n.bundlePosition[0],y:n.bundlePosition[1]},r,i),n.symbolRepeat?yD(t,e,n,!0):mD(t,e,n,!0);bD(t,n,!0),xD(t,e,n,!0)}(n,l,s):n=MD(i,l,s,!0),i.setItemGraphicEl(t,n),n.__pictorialSymbolMeta=s,r.add(n),CD(n,l,s)}else r.remove(n)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&SD(o,t,e.__pictorialSymbolMeta.animationModel,e)}).execute(),this._data=i,this.group},e.prototype.remove=function(t,e){var n=this.group,r=this._data;t.get("animation")?r&&r.eachItemGraphicEl(function(e){SD(r,Ia(e).dataIndex,t,e)}):n.removeAll()},e.type="pictorialBar",e}(wp),DD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return Object(f.__extends)(e,t),e.prototype.getInitialData=function(e){return e.stack=null,t.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=pc(Ww.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(Ww);var jD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._layers=[],n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n){var r=t.getData(),i=this,o=this.group,a=t.getLayerSeries(),s=r.getLayout("layoutInfo"),u=s.rect,l=s.boundaryGap;function c(t){return t.name}o.x=0,o.y=u.y+l[0];var h=[];function d(e,n,s){var u=i._layers;if("remove"!==e){for(var l,c,d=[],f=[],p=a[n].indices,g=0;g<p.length;g++){var v=r.getItemLayout(p[g]),y=v.x,m=v.y0,b=v.y;d.push(y,m),f.push(y,m+b),l=r.getItemVisual(p[g],"style")}var x=r.getItemLayout(p[0]),A=t.getModel("label").get("margin"),w=t.getModel("emphasis");if("add"===e){var _=h[n]=new tr;c=new _w({shape:{points:d,stackedOnPoints:f,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),_.add(c),o.add(_),t.isAnimationEnabled()&&c.setClipPath(function(t,e,n){var r=new ca({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return el(r,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,n),r}(c.getBoundingRect(),t,function(){c.removeClipPath()}))}else{_=u[s];c=_.childAt(0),o.add(_),h[n]=_,tl(c,{shape:{points:d,stackedOnPoints:f}},t),al(c)}Fl(c,Gl(t),{labelDataIndex:p[g-1],defaultText:r.getName(p[g-1]),inheritColor:l.fill},{normal:{verticalAlign:"middle"}}),c.setTextConfig({position:null,local:!0});var M=c.getTextContent();M&&(M.x=x.x-A,M.y=x.y0+x.y/2),c.useStyle(l),r.setItemGraphicEl(n,c),Ss(c,t),As(c,w.get("focus"),w.get("blurScope"),w.get("disabled"))}else o.remove(u[n])}new jy(this._layersSeries||[],a,c,c).add(Object(g.c)(d,this,"add")).update(Object(g.c)(d,this,"update")).remove(Object(g.c)(d,this,"remove")).execute(),this._layersSeries=a,this._layers=h},e.type="themeRiver",e}(wp),LD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new k_(g.c(this.getData,this),g.c(this.getRawData,this))},e.prototype.fixData=function(t){var e=t.length,n={},r=[];si(t,function(t){return n.hasOwnProperty(t[0]+"")||(n[t[0]+""]=-1),t[2]}).buckets.each(function(t,e){r.push({name:e,dataList:t})});for(var i=r.length,o=0;o<i;++o){for(var a=r[o].name,s=0;s<r[o].dataList.length;++s){var u=r[o].dataList[s][0]+"";n[u]=o}for(var u in n)n.hasOwnProperty(u)&&n[u]!==o&&(n[u]=o,t[e]=[u,0,a],e++)}return t},e.prototype.getInitialData=function(t,e){for(var n=this.getReferringComponents("singleAxis",ri).models[0].get("type"),r=g.n(t.data,function(t){return void 0!==t[2]}),i=this.fixData(r||[]),o=[],a=this.nameMap=g.f(),s=0,u=0;u<i.length;++u)o.push(i[u][2]),a.get(i[u][2])||(a.set(i[u][2],s),s++);var l=om(i,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Ny(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,c=new rm(l,this);return c.initData(i),c},e.prototype.getLayerSeries=function(){for(var t=this.getData(),e=t.count(),n=[],r=0;r<e;++r)n[r]=r;var i=t.mapDimension("single"),o=[];return si(n,function(e){return t.get("name",e)}).buckets.each(function(e,n){e.sort(function(e,n){return t.get(i,e)-t.get(i,n)}),o.push({name:n,indices:e})}),o},e.prototype.getAxisTooltipData=function(t,e,n){g.t(t)||(t=t?[t]:[]);for(var r,i=this.getData(),o=this.getLayerSeries(),a=[],s=o.length,u=0;u<s;++u){for(var l=Number.MAX_VALUE,c=-1,h=o[u].indices.length,d=0;d<h;++d){var f=i.get(t[0],o[u].indices[d]),p=Math.abs(f-e);p<=l&&(r=f,l=p,c=o[u].indices[d])}a.push(c)}return{dataIndices:a,nestestValue:r}},e.prototype.formatTooltip=function(t,e,n){var r=this.getData();return Gf("nameValue",{name:r.getName(t),value:r.get(r.mapDimension("value"),t)})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(cp);function PD(t,e){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),n=t.coordinateSystem,r={},i=n.getRect();r.rect=i;var o=t.get("boundaryGap"),a=n.getAxis();(r.boundaryGap=o,"horizontal"===a.orient)?(o[0]=fr(o[0],i.height),o[1]=fr(o[1],i.height),ND(e,t,i.height-o[0]-o[1])):(o[0]=fr(o[0],i.width),o[1]=fr(o[1],i.width),ND(e,t,i.width-o[0]-o[1]));e.setLayout("layoutInfo",r)})}function ND(t,e,n){if(t.count())for(var r,i=e.coordinateSystem,o=e.getLayerSeries(),a=t.mapDimension("single"),s=t.mapDimension("value"),u=g.H(o,function(e){return g.H(e.indices,function(e){var n=i.dataToPoint(t.get(a,e));return n[1]=t.get(s,e),n})}),l=function(t){for(var e=t.length,n=t[0].length,r=[],i=[],o=0,a=0;a<n;++a){for(var s=0,u=0;u<e;++u)s+=t[u][a][1];s>o&&(o=s),r.push(s)}for(var l=0;l<n;++l)i[l]=(o-r[l])/2;o=0;for(var c=0;c<n;++c){var h=r[c]+i[c];h>o&&(o=h)}return{y0:i,max:o}}(u),c=l.y0,h=n/l.max,d=o.length,f=o[0].indices.length,p=0;p<f;++p){r=c[p]*h,t.setItemLayout(o[0].indices[p],{layerIndex:0,x:u[0][p][0],y0:r,y:u[0][p][1]*h});for(var v=1;v<d;++v)r+=u[v-1][p][1]*h,t.setItemLayout(o[v].indices[p],{layerIndex:v,x:u[v][p][0],y0:r,y:u[v][p][1]*h})}}var RD=2,BD=4,zD=function(t){function e(e,n,r,i){var o=t.call(this)||this;o.z2=RD,o.textConfig={inside:!0},Ia(o).seriesIndex=n.seriesIndex;var a=new Oa({z2:BD,silent:e.getModel().get(["label","silent"])});return o.setTextContent(a),o.updateData(!0,e,n,r,i),o}return Object(f.__extends)(e,t),e.prototype.updateData=function(t,e,n,r,i){this.node=e,e.piece=this,n=n||this._seriesModel,r=r||this._ecModel;var o=this;Ia(o).dataIndex=e.dataIndex;var a=e.getModel(),s=a.getModel("emphasis"),u=e.getLayout(),l=g.m({},u);l.label=null;var c=e.getVisual("style");c.lineJoin="bevel";var h=e.getVisual("decal");h&&(c.decal=ov(h,i));var d=O_(a.getModel("itemStyle"),l,!0);g.m(l,d),g.k(Na,function(t){var e=o.ensureState(t),n=a.getModel([t,"itemStyle"]);e.style=n.getItemStyle();var r=O_(n,l);r&&(e.shape=r)}),t?(o.setShape(l),o.shape.r=u.r0,tl(o,{shape:{r:u.r}},n,e.dataIndex)):(tl(o,{shape:l},n),al(o)),o.useStyle(c),this._updateLabel(n);var f=a.getShallow("cursor");f&&o.attr("cursor",f),this._seriesModel=n||this._seriesModel,this._ecModel=r||this._ecModel;var p=s.get("focus");As(this,"ancestor"===p?e.getAncestorsIndices():"descendant"===p?e.getDescendantIndices():p,s.get("blurScope"),s.get("disabled"))},e.prototype._updateLabel=function(t){var e=this,n=this.node.getModel(),r=n.getModel("label"),i=this.node.getLayout(),o=i.endAngle-i.startAngle,a=(i.startAngle+i.endAngle)/2,s=Math.cos(a),u=Math.sin(a),l=this,c=l.getTextContent(),h=this.node.dataIndex,d=r.get("minAngle")/180*Math.PI,f=r.get("show")&&!(null!=d&&Math.abs(o)<d);function p(t,e){var n=t.get(e);return null==n?r.get(e):n}c.ignore=!f,g.k(Ra,function(r){var d="normal"===r?n.getModel("label"):n.getModel([r,"label"]),f="normal"===r,v=f?c:c.ensureState(r),y=t.getFormattedLabel(h,r);f&&(y=y||e.node.name),v.style=Vl(d,{},null,"normal"!==r,!0),y&&(v.style.text=y);var m=d.get("show");null==m||f||(v.ignore=!m);var b,x=p(d,"position"),A=f?l:l.states[r],w=A.style.fill;A.textConfig={outsideFill:"inherit"===d.get("color")?w:null,inside:"outside"!==x};var _=p(d,"distance")||0,M=p(d,"align");"outside"===x?(b=i.r+_,M=a>Math.PI/2?"right":"left"):M&&"center"!==M?"left"===M?(b=i.r0+_,a>Math.PI/2&&(M="right")):"right"===M&&(b=i.r-_,a>Math.PI/2&&(M="left")):(b=o===2*Math.PI&&0===i.r0?0:(i.r+i.r0)/2,M="center"),v.style.align=M,v.style.verticalAlign=p(d,"verticalAlign")||"middle",v.x=b*s+i.cx,v.y=b*u+i.cy;var S=p(d,"rotate"),O=0;"radial"===S?(O=-a)<-Math.PI/2&&(O+=Math.PI):"tangential"===S?(O=Math.PI/2-a)>Math.PI/2?O-=Math.PI:O<-Math.PI/2&&(O+=Math.PI):g.z(S)&&(O=S*Math.PI/180),v.rotation=O}),c.dirtyStyle()},e}(yu),FD="sunburstRootToNode",GD="sunburstHighlight",VD="sunburstUnhighlight";var UD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n,r){var i=this;this.seriesModel=t,this.api=n,this.ecModel=e;var o=t.getData(),a=o.tree.root,s=t.getViewRoot(),u=this.group,l=t.get("renderLabelForZeroData"),c=[];s.eachNode(function(t){c.push(t)});var h=this._oldChildren||[];!function(r,i){if(0===r.length&&0===i.length)return;function s(t){return t.getId()}function c(s,c){var h=null==s?null:r[s],d=null==c?null:i[c];!function(r,i){l||!r||r.getValue()||(r=null);if(r!==a&&i!==a)if(i&&i.piece)r?(i.piece.updateData(!1,r,t,e,n),o.setItemGraphicEl(r.dataIndex,i.piece)):function(t){if(!t)return;t.piece&&(u.remove(t.piece),t.piece=null)}(i);else if(r){var s=new zD(r,t,e,n);u.add(s),o.setItemGraphicEl(r.dataIndex,s)}}(h,d)}new jy(i,r,s,s).add(c).update(c).remove(g.h(c,null)).execute()}(c,h),function(r,o){o.depth>0?(i.virtualPiece?i.virtualPiece.updateData(!1,r,t,e,n):(i.virtualPiece=new zD(r,t,e,n),u.add(i.virtualPiece)),o.piece.off("click"),i.virtualPiece.on("click",function(t){i._rootToNode(o.parentNode)})):i.virtualPiece&&(u.remove(i.virtualPiece),i.virtualPiece=null)}(a,s),this._initEvents(),this._oldChildren=c},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(e){var n=!1;t.seriesModel.getViewRoot().eachNode(function(r){if(!n&&r.piece&&r.piece===e.target){var i=r.getModel().get("nodeClick");if("rootToNode"===i)t._rootToNode(r);else if("link"===i){var o=r.getModel(),a=o.get("link");if(a)lh(a,o.get("target",!0)||"_blank")}n=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:FD,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,e){var n=e.getData().getItemLayout(0);if(n){var r=t[0]-n.cx,i=t[1]-n.cy,o=Math.sqrt(r*r+i*i);return o<=n.r&&o>=n.r0}},e.type="sunburst",e}(wp);var WD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreStyleOnData=!0,n}return Object(f.__extends)(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};!function t(e){var n=0;g.k(e.children,function(e){t(e);var r=e.value;g.t(r)&&(r=r[0]),n+=r});var r=e.value;g.t(r)&&(r=r[0]);(null==r||isNaN(r))&&(r=n);r<0&&(r=0);g.t(e.value)?e.value[0]=r:e.value=r}(n);var r=this._levelModels=g.H(t.levels||[],function(t){return new hc(t,this,e)},this),i=YO.createTree(n,this,function(t){t.wrapMethod("getItemModel",function(t,e){var n=i.getNodeByDataIndex(e),o=r[n.depth];return o&&(t.parentModel=o),t})});return i.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=ZO(r,this),n},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){nI(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(cp),HD=Math.PI/180;function YD(t,e,n){e.eachSeriesByType(t,function(t){var e=t.get("center"),r=t.get("radius");g.t(r)||(r=[0,r]),g.t(e)||(e=[e,e]);var i=n.getWidth(),o=n.getHeight(),a=Math.min(i,o),s=fr(e[0],i),u=fr(e[1],o),l=fr(r[0],a/2),c=fr(r[1],a/2),h=-t.get("startAngle")*HD,d=t.get("minAngle")*HD,f=t.getData().tree.root,p=t.getViewRoot(),v=p.depth,y=t.get("sort");null!=y&&function t(e,n){var r=e.children||[];e.children=function(t,e){if(g.w(e)){var n=g.H(t,function(t,e){var n=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return n}},index:e}});return n.sort(function(t,n){return e(t.params,n.params)}),g.H(n,function(e){return t[e.index]})}var r="asc"===e;return t.sort(function(t,e){var n=(t.getValue()-e.getValue())*(r?1:-1);return 0===n?(t.dataIndex-e.dataIndex)*(r?-1:1):n})}(r,n);r.length&&g.k(e.children,function(e){t(e,n)})}(p,y);var m=0;g.k(p.children,function(t){!isNaN(t.getValue())&&m++});var b=p.getValue(),x=Math.PI/(b||m)*2,A=p.depth>0,w=p.height-(A?-1:1),_=(c-l)/(w||1),M=t.get("clockwise"),S=t.get("stillShowZeroSum"),O=M?1:-1,I=function(e,n){if(e){var r=n;if(e!==f){var i=e.getValue(),o=0===b&&S?x:i*x;o<d&&(o=d),r=n+O*o;var c=e.depth-v-(A?-1:1),h=l+_*c,p=l+_*(c+1),y=t.getLevelModel(e);if(y){var m=y.get("r0",!0),w=y.get("r",!0),E=y.get("radius",!0);null!=E&&(m=E[0],w=E[1]),null!=m&&(h=fr(m,a/2)),null!=w&&(p=fr(w,a/2))}e.setLayout({angle:o,startAngle:n,endAngle:r,clockwise:M,cx:s,cy:u,r0:h,r:p})}if(e.children&&e.children.length){var C=0;g.k(e.children,function(t){C+=I(t,n+C)})}return r-n}};if(A){var E=l,C=l+_,k=2*Math.PI;f.setLayout({angle:k,startAngle:h,endAngle:h+k,clockwise:M,cx:s,cy:u,r0:E,r:C})}I(p,h)})}function XD(t){var e={};t.eachSeriesByType("sunburst",function(t){var n=t.getData(),r=n.tree;r.eachNode(function(i){var o=i.getModel().getModel("itemStyle").getItemStyle();o.fill||(o.fill=function(t,n,r){for(var i=t;i&&i.depth>1;)i=i.parentNode;var o=n.getColorFromPalette(i.name||i.dataIndex+"",e);return t.depth>1&&Object(g.C)(o)&&(o=Object(je.c)(o,(t.depth-1)/(r-1)*.5)),o}(i,t,r.root.height));var a=n.ensureUniqueItemVisual(i.dataIndex,"style");Object(g.m)(a,o)})})}var qD={color:"fill",borderColor:"stroke"},QD={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},ZD=$r(),KD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,e){return fm(null,this)},e.prototype.getDataParams=function(e,n,r){var i=t.prototype.getDataParams.call(this,e,n);return r&&(i.info=ZD(r).info),i},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(cp);function JD(t,e){return e=e||[0,0],g.H(["x","y"],function(n,r){var i=this.getAxis(n),o=e[r],a=t[r]/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(o-a)-i.dataToCoord(o+a))},this)}function $D(t,e){return e=e||[0,0],g.H([0,1],function(n){var r=e[n],i=t[n]/2,o=[],a=[];return o[n]=r-i,a[n]=r+i,o[1-n]=a[1-n]=e[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(a)[n])},this)}function tj(t,e){var n=this.getAxis(),r=e instanceof Array?e[0]:e,i=(t instanceof Array?t[0]:t)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(r-i)-n.dataToCoord(r+i))}function ej(t,e){return e=e||[0,0],g.H(["Radius","Angle"],function(n,r){var i=this["get"+n+"Axis"](),o=e[r],a=t[r]/2,s="category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(o-a)-i.dataToCoord(o+a));return"Angle"===n&&(s=s*Math.PI/180),s},this)}function nj(t,e,n,r){return t&&(t.legacy||!1!==t.legacy&&!n&&!r&&"tspan"!==e&&("text"===e||Object(g.q)(t,"text")))}function rj(t,e,n){var r,i,o,a=t;if("text"===e)o=a;else{o={},Object(g.q)(a,"text")&&(o.text=a.text),Object(g.q)(a,"rich")&&(o.rich=a.rich),Object(g.q)(a,"textFill")&&(o.fill=a.textFill),Object(g.q)(a,"textStroke")&&(o.stroke=a.textStroke),Object(g.q)(a,"fontFamily")&&(o.fontFamily=a.fontFamily),Object(g.q)(a,"fontSize")&&(o.fontSize=a.fontSize),Object(g.q)(a,"fontStyle")&&(o.fontStyle=a.fontStyle),Object(g.q)(a,"fontWeight")&&(o.fontWeight=a.fontWeight),i={type:"text",style:o,silent:!0},r={};var s=Object(g.q)(a,"textPosition");n?r.position=s?a.textPosition:"inside":s&&(r.position=a.textPosition),Object(g.q)(a,"textPosition")&&(r.position=a.textPosition),Object(g.q)(a,"textOffset")&&(r.offset=a.textOffset),Object(g.q)(a,"textRotation")&&(r.rotation=a.textRotation),Object(g.q)(a,"textDistance")&&(r.distance=a.textDistance)}return ij(o,t),Object(g.k)(o.rich,function(t){ij(t,t)}),{textConfig:r,textContent:i}}function ij(t,e){e&&(e.font=e.textFont||e.font,Object(g.q)(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth),Object(g.q)(e,"textAlign")&&(t.align=e.textAlign),Object(g.q)(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign),Object(g.q)(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight),Object(g.q)(e,"textWidth")&&(t.width=e.textWidth),Object(g.q)(e,"textHeight")&&(t.height=e.textHeight),Object(g.q)(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor),Object(g.q)(e,"textPadding")&&(t.padding=e.textPadding),Object(g.q)(e,"textBorderColor")&&(t.borderColor=e.textBorderColor),Object(g.q)(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth),Object(g.q)(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius),Object(g.q)(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor),Object(g.q)(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur),Object(g.q)(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX),Object(g.q)(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY))}function oj(t,e,n){var r=t;r.textPosition=r.textPosition||n.position||"inside",null!=n.offset&&(r.textOffset=n.offset),null!=n.rotation&&(r.textRotation=n.rotation),null!=n.distance&&(r.textDistance=n.distance);var i=r.textPosition.indexOf("inside")>=0,o=t.fill||"#000";aj(r,e);var a=null==r.textFill;return i?a&&(r.textFill=n.insideFill||"#fff",!r.textStroke&&n.insideStroke&&(r.textStroke=n.insideStroke),!r.textStroke&&(r.textStroke=o),null==r.textStrokeWidth&&(r.textStrokeWidth=2)):(a&&(r.textFill=t.fill||n.outsideFill||"#000"),!r.textStroke&&n.outsideStroke&&(r.textStroke=n.outsideStroke)),r.text=e.text,r.rich=e.rich,Object(g.k)(e.rich,function(t){aj(t,t)}),r}function aj(t,e){e&&(Object(g.q)(e,"fill")&&(t.textFill=e.fill),Object(g.q)(e,"stroke")&&(t.textStroke=e.fill),Object(g.q)(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth),Object(g.q)(e,"font")&&(t.font=e.font),Object(g.q)(e,"fontStyle")&&(t.fontStyle=e.fontStyle),Object(g.q)(e,"fontWeight")&&(t.fontWeight=e.fontWeight),Object(g.q)(e,"fontSize")&&(t.fontSize=e.fontSize),Object(g.q)(e,"fontFamily")&&(t.fontFamily=e.fontFamily),Object(g.q)(e,"align")&&(t.textAlign=e.align),Object(g.q)(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign),Object(g.q)(e,"lineHeight")&&(t.textLineHeight=e.lineHeight),Object(g.q)(e,"width")&&(t.textWidth=e.width),Object(g.q)(e,"height")&&(t.textHeight=e.height),Object(g.q)(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor),Object(g.q)(e,"padding")&&(t.textPadding=e.padding),Object(g.q)(e,"borderColor")&&(t.textBorderColor=e.borderColor),Object(g.q)(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth),Object(g.q)(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius),Object(g.q)(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor),Object(g.q)(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur),Object(g.q)(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX),Object(g.q)(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY),Object(g.q)(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor),Object(g.q)(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur),Object(g.q)(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX),Object(g.q)(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY))}var sj={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},uj=Object(g.F)(sj),lj=(Object(g.N)(kn,function(t,e){return t[e]=1,t},{}),kn.join(", "),["","style","shape","extra"]),cj=$r();function hj(t,e,n,r,i){var o=t+"Animation",a=Ju(t,r,i)||{},s=cj(e).userDuring;return a.duration>0&&(a.during=s?Object(g.c)(mj,{el:e,userDuring:s}):null,a.setToFinal=!0,a.scope=t),Object(g.m)(a,n[o]),a}function dj(t,e,n,r){var i=(r=r||{}).dataIndex,o=r.isInit,a=r.clearStyle,s=n.isAnimationEnabled(),u=cj(t),l=e.style;u.userDuring=e.during;var c={},h={};if(function(t,e,n){for(var r=0;r<uj.length;r++){var i=uj[r],o=sj[i],a=e[i];a&&(n[o[0]]=a[0],n[o[1]]=a[1])}for(var r=0;r<kn.length;r++){var s=kn[r];null!=e[s]&&(n[s]=e[s])}}(0,e,h),xj("shape",e,h),xj("extra",e,h),!o&&s&&(function(t,e,n){for(var r=e.transition,i=gj(r)?kn:Gr(r||[]),o=0;o<i.length;o++){var a=i[o];if("style"!==a&&"shape"!==a&&"extra"!==a){var s=t[a];0,n[a]=s}}}(t,e,c),bj("shape",t,e,c),bj("extra",t,e,c),function(t,e,n,r){if(!n)return;var i,o=t.style;if(o){var a=n.transition,s=e.transition;if(a&&!gj(a)){var u=Gr(a);!i&&(i=r.style={});for(var l=0;l<u.length;l++){var c=u[l],h=o[c];i[c]=h}}else if(t.getAnimationStyleProps&&(gj(s)||gj(a)||Object(g.r)(s,"style")>=0)){var d=t.getAnimationStyleProps(),f=d?d.style:null;if(f){!i&&(i=r.style={});for(var p=Object(g.F)(n),l=0;l<p.length;l++){var c=p[l];if(f[c]){var h=o[c];i[c]=h}}}}}}(t,e,l,c)),h.style=l,function(t,e,n){var r=e.style;if(!t.isGroup&&r){if(n){t.useStyle({});for(var i=t.animators,o=0;o<i.length;o++){var a=i[o];"style"===a.targetName&&a.changeTarget(t.style)}}t.setStyle(r)}e&&(e.style=null,e&&t.attr(e),e.style=r)}(t,h,a),function(t,e){Object(g.q)(e,"silent")&&(t.silent=e.silent),Object(g.q)(e,"ignore")&&(t.ignore=e.ignore),t instanceof Xi&&Object(g.q)(e,"invisible")&&(t.invisible=e.invisible);t instanceof Qo&&Object(g.q)(e,"autoBatch")&&(t.autoBatch=e.autoBatch)}(t,e),s)if(o){var d={};Object(g.k)(lj,function(t){var n=t?e[t]:e;n&&n.enterFrom&&(t&&(d[t]=d[t]||{}),Object(g.m)(t?d[t]:d,n.enterFrom))});var f=hj("enter",t,e,n,i);f.duration>0&&t.animateFrom(d,f)}else!function(t,e,n,r,i){if(i){var o=hj("update",t,e,r,n);o.duration>0&&t.animateFrom(i,o)}}(t,e,i||0,n,c);fj(t,e),l?t.dirty():t.markRedraw()}function fj(t,e){for(var n=cj(t).leaveToProps,r=0;r<lj.length;r++){var i=lj[r],o=i?e[i]:e;o&&o.leaveTo&&(n||(n=cj(t).leaveToProps={}),i&&(n[i]=n[i]||{}),Object(g.m)(i?n[i]:n,o.leaveTo))}}function pj(t,e,n,r){if(t){var i=t.parent,o=cj(t).leaveToProps;if(o){var a=hj("update",t,e,n,0);a.done=function(){i.remove(t),r&&r()},t.animateTo(o,a)}else i.remove(t),r&&r()}}function gj(t){return"all"===t}var vj={},yj={setTransform:function(t,e){return vj.el[t]=e,this},getTransform:function(t){return vj.el[t]},setShape:function(t,e){var n=vj.el;return(n.shape||(n.shape={}))[t]=e,n.dirtyShape&&n.dirtyShape(),this},getShape:function(t){var e=vj.el.shape;if(e)return e[t]},setStyle:function(t,e){var n=vj.el,r=n.style;return r&&(r[t]=e,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(t){var e=vj.el.style;if(e)return e[t]},setExtra:function(t,e){return(vj.el.extra||(vj.el.extra={}))[t]=e,this},getExtra:function(t){var e=vj.el.extra;if(e)return e[t]}};function mj(){var t=this.el;if(t){var e=cj(t).userDuring,n=this.userDuring;e===n?(vj.el=t,n(yj)):this.el=this.userDuring=null}}function bj(t,e,n,r){var i=n[t];if(i){var o,a=e[t];if(a){var s=n.transition,u=i.transition;if(u)if(!o&&(o=r[t]={}),gj(u))Object(g.m)(o,a);else for(var l=Gr(u),c=0;c<l.length;c++){var h=a[f=l[c]];o[f]=h}else if(gj(s)||Object(g.r)(s,t)>=0){!o&&(o=r[t]={});var d=Object(g.F)(a);for(c=0;c<d.length;c++){var f;h=a[f=d[c]];Aj(i[f],h)&&(o[f]=h)}}}}}function xj(t,e,n){var r=e[t];if(r)for(var i=n[t]={},o=Object(g.F)(r),a=0;a<o.length;a++){var s=o[a];i[s]=Ve(r[s])}}function Aj(t,e){return Object(g.u)(t)?t!==e:null!=t&&isFinite(t)}var wj=$r(),_j=["percent","easing","shape","style","extra"];function Mj(t){t.stopAnimation("keyframe"),t.attr(wj(t))}function Sj(t,e,n){if(n.isAnimationEnabled()&&e)if(Object(g.t)(e))Object(g.k)(e,function(e){Sj(t,e,n)});else{var r=e.keyframes,i=e.duration;if(n&&null==i){var o=Ju("enter",n,0);i=o&&o.duration}if(r&&i){var a=wj(t);Object(g.k)(lj,function(n){if(!n||t[n]){var o;r.sort(function(t,e){return t.percent-e.percent}),Object(g.k)(r,function(r){var s=t.animators,u=n?r[n]:r;if(u){var l=Object(g.F)(u);if(n||(l=Object(g.n)(l,function(t){return Object(g.r)(_j,t)<0})),l.length){o||((o=t.animate(n,e.loop,!0)).scope="keyframe");for(var c=0;c<s.length;c++)s[c]!==o&&s[c].targetName===o.targetName&&s[c].stopTracks(l);n&&(a[n]=a[n]||{});var h=n?a[n]:a;Object(g.k)(l,function(e){h[e]=((n?t[n]:t)||{})[e]}),o.whenWithKeys(i*r.percent,u,l,r.easing)}}}),o&&o.delay(e.delay||0).duration(i).start(e.easing)}})}}}var Oj="emphasis",Ij="normal",Ej=[Ij,Oj,"blur","select"],Cj={normal:["itemStyle"],emphasis:[Oj,"itemStyle"],blur:["blur","itemStyle"],select:["select","itemStyle"]},kj={normal:["label"],emphasis:[Oj,"label"],blur:["blur","label"],select:["select","label"]},Tj=["x","y"],Dj="e\0\0",jj={normal:{},emphasis:{},blur:{},select:{}},Lj={cartesian2d:function(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:g.c(JD,t)}}},geo:function(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:g.c($D,t)}}},single:function(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:Object(g.c)(tj,t)}}},polar:function(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),r=e.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:r[1],r0:r[0]},api:{coord:function(r){var i=e.dataToRadius(r[0]),o=n.dataToAngle(r[1]),a=t.coordToPoint([i,o]);return a.push(i,o*Math.PI/180),a},size:g.c(ej,t)}}},calendar:function(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(e,n){return t.dataToPoint(e,n)}}}}};function Pj(t){return t instanceof Qo}function Nj(t){return t instanceof Xi}var Rj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n,r){this._progressiveEls=null;var i=this._data,o=t.getData(),a=this.group,s=Vj(t,o,e,n);i||a.removeAll(),o.diff(i).add(function(e){Uj(n,null,e,s(e,r),t,a,o)}).remove(function(e){var n=i.getItemGraphicEl(e);n&&pj(n,ZD(n).option,t)}).update(function(e,u){var l=i.getItemGraphicEl(u);Uj(n,l,e,s(e,r),t,a,o)}).execute();var u=t.get("clip",!0)?Ow(t.coordinateSystem,!1,t):null;u?a.setClipPath(u):a.removeClipPath(),this._data=o},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,e,n,r,i){var o=e.getData(),a=Vj(e,o,n,r),s=this._progressiveEls=[];function u(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var l=t.start;l<t.end;l++){var c=Uj(null,null,l,a(l,i),e,this.group,o);c&&(c.traverse(u),s.push(c))}},e.prototype.eachRendered=function(t){Nl(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,e,n,r){var i=e.element;if(null==i||n.name===i)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===i)return!0;return!1},e.type="custom",e}(wp);function Bj(t){var e,n=t.type;if("path"===n){var r=t.shape,i=null!=r.width&&null!=r.height?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,o=$j(r);e=gl(o,null,i,r.layout||"center"),ZD(e).customPathData=o}else if("image"===n)e=new na({}),ZD(e).customImagePath=t.style.image;else if("text"===n)e=new Oa({});else if("group"===n)e=new tr;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var a=pl(n);if(!a){var s="";0,Rr(s)}e=new a}return ZD(e).customGraphicType=n,e.name=t.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function zj(t,e,n,r,i,o,a){Mj(e);var s=i&&i.normal.cfg;s&&e.setTextConfig(s),r&&null==r.transition&&(r.transition=Tj);var u=r&&r.style;if(u){if("text"===e.type){var l=u;Object(g.q)(l,"textFill")&&(l.fill=l.textFill),Object(g.q)(l,"textStroke")&&(l.stroke=l.textStroke)}var c=void 0,h=Pj(e)?u.decal:null;t&&h&&(h.dirty=!0,c=ov(h,t)),u.__decalPattern=c}Nj(e)&&(u&&(c=u.__decalPattern)&&(u.decal=c));dj(e,r,o,{dataIndex:n,isInit:a,clearStyle:!0}),Sj(e,r.keyframeAnimation,o)}function Fj(t,e,n,r,i){var o=e.isGroup?null:e,a=i&&i[t].cfg;if(o){var s=o.ensureState(t);if(!1===r){var u=o.getState(t);u&&(u.style=null)}else s.style=r||null;a&&(s.textConfig=a),os(o)}}function Gj(t,e,n){var r=n===Ij,i=r?e:Xj(e,n),o=i?i.z2:null;null!=o&&((r?t:t.ensureState(n)).z2=o||0)}function Vj(t,e,n,r){var i=t.get("renderItem"),o=t.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):Lj[o.type](o));for(var s,u,l=Object(g.i)({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:function(t,n){return null==n&&(n=s),e.getStore().get(e.getDimensionIndex(t||0),n)},style:function(n,r){0;null==r&&(r=s);var i=e.getItemVisual(r,"style"),o=i&&i.fill,a=i&&i.opacity,u=b(r,Ij).getItemStyle();null!=o&&(u.fill=o),null!=a&&(u.opacity=a);var l={inheritColor:Object(g.C)(o)?o:"#000"},c=x(r,Ij),h=Vl(c,null,l,!1,!0);h.text=c.getShallow("show")?Object(g.P)(t.getFormattedLabel(r,Ij),aw(e,r)):null;var d=Ul(c,l,!1);return w(n,u),u=oj(u,h,d),n&&A(u,n),u.legacy=!0,u},ordinalRawValue:function(t,n){null==n&&(n=s),t=t||0;var r=e.getDimensionInfo(t);if(!r){var i=e.getDimensionIndex(t);return i>=0?e.getStore().get(i,n):void 0}var o=e.get(r.name,n),a=r&&r.ordinalMeta;return a?a.categories[o]:o},styleEmphasis:function(n,r){0;null==r&&(r=s);var i=b(r,Oj).getItemStyle(),o=x(r,Oj),a=Vl(o,null,null,!0,!0);a.text=o.getShallow("show")?Object(g.Q)(t.getFormattedLabel(r,Oj),t.getFormattedLabel(r,Ij),aw(e,r)):null;var u=Ul(o,null,!0);return w(n,i),i=oj(i,a,u),n&&A(i,n),i.legacy=!0,i},visual:function(t,n){if(null==n&&(n=s),Object(g.q)(qD,t)){var r=e.getItemVisual(n,"style");return r?r[qD[t]]:null}if(Object(g.q)(QD,t))return e.getItemVisual(n,t)},barLayout:function(t){if("cartesian2d"===o.type){var e=o.getBaseAxis();return function(t){var e=[],n=t.axis;if("category"===n.type){for(var r=n.getBandWidth(),i=0;i<t.count;i++)e.push(Object(g.i)({bandWidth:r,axisKey:"axis0",stackId:Pm+i},t));var o=Fm(e),a=[];for(i=0;i<t.count;i++){var s=o.axis0[Pm+i];s.offsetCenter=s.offset+s.width/2,a.push(s)}return a}}(Object(g.i)({axis:e},t))}},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(t){return ql(t,n)}},a.api||{}),c={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:a.coordSys,dataInsideLength:e.count(),encode:function(t){var e={};return Object(g.k)(t.dimensions,function(n){var r=t.getDimensionInfo(n);if(!r.isExtraCoord){var i=r.coordDim;(e[i]=e[i]||[])[r.coordDimIndex]=t.getDimensionIndex(n)}}),e}(t.getData())},h={},d={},f={},p={},v=0;v<Ej.length;v++){var y=Ej[v];f[y]=t.getModel(Cj[y]),p[y]=t.getModel(kj[y])}function m(t){return t===s?u||(u=e.getItemModel(t)):e.getItemModel(t)}function b(t,n){return e.hasItemOption?t===s?h[n]||(h[n]=m(t).getModel(Cj[n])):m(t).getModel(Cj[n]):f[n]}function x(t,n){return e.hasItemOption?t===s?d[n]||(d[n]=m(t).getModel(kj[n])):m(t).getModel(kj[n]):p[n]}return function(t,n){return s=t,u=null,h={},d={},i&&i(Object(g.i)({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:n?n.type:null},c),l)};function A(t,e){for(var n in e)Object(g.q)(e,n)&&(t[n]=e[n])}function w(t,e){t&&(t.textFill&&(e.textFill=t.textFill),t.textPosition&&(e.textPosition=t.textPosition))}}function Uj(t,e,n,r,i,o,a){if(r){var s=Wj(t,e,n,r,i,o);return s&&a.setItemGraphicEl(n,s),s&&As(s,r.focus,r.blurScope,r.emphasisDisabled),s}o.remove(e)}function Wj(t,e,n,r,i,o){var a=-1,s=e;e&&Hj(e,r,i)&&(a=Object(g.r)(o.childrenRef(),e),e=null);var u,l,c=!e,h=e;h?h.clearStates():(h=Bj(r),s&&(u=s,(l=h).copyTransform(u),Nj(l)&&Nj(u)&&(l.setStyle(u.style),l.z=u.z,l.z2=u.z2,l.zlevel=u.zlevel,l.invisible=u.invisible,l.ignore=u.ignore,Pj(l)&&Pj(u)&&l.setShape(u.shape)))),!1===r.morph?h.disableMorphing=!0:h.disableMorphing&&(h.disableMorphing=!1),jj.normal.cfg=jj.normal.conOpt=jj.emphasis.cfg=jj.emphasis.conOpt=jj.blur.cfg=jj.blur.conOpt=jj.select.cfg=jj.select.conOpt=null,jj.isLegacy=!1,function(t,e,n,r,i,o){if(t.isGroup)return;Yj(n,null,o),Yj(n,Oj,o);var a=o.normal.conOpt,s=o.emphasis.conOpt,u=o.blur.conOpt,l=o.select.conOpt;if(null!=a||null!=s||null!=l||null!=u){var c=t.getTextContent();if(!1===a)c&&t.removeTextContent();else{a=o.normal.conOpt=a||{type:"text"},c?c.clearStates():(c=Bj(a),t.setTextContent(c)),zj(null,c,e,a,null,r,i);for(var h=a&&a.style,d=0;d<Ej.length;d++){var f=Ej[d];if(f!==Ij){var p=o[f].conOpt;Fj(f,c,0,qj(a,p,f),null)}}h?c.dirty():c.markRedraw()}}}(h,n,r,i,c,jj),function(t,e,n,r,i){var o=n.clipPath;if(!1===o)t&&t.getClipPath()&&t.removeClipPath();else if(o){var a=t.getClipPath();a&&Hj(a,o,r)&&(a=null),a||(a=Bj(o),t.setClipPath(a)),zj(null,a,e,o,null,r,i)}}(h,n,r,i,c),zj(t,h,n,r,jj,i,c),Object(g.q)(r,"info")&&(ZD(h).info=r.info);for(var d=0;d<Ej.length;d++){var f=Ej[d];if(f!==Ij){var p=Xj(r,f);Fj(f,h,0,qj(r,p,f),jj)}}return function(t,e,n){if(!t.isGroup){var r=t,i=n.currentZ,o=n.currentZLevel;r.z=i,r.zlevel=o;var a=e.z2;null!=a&&(r.z2=a||0);for(var s=0;s<Ej.length;s++)Gj(r,e,Ej[s])}}(h,r,i),"group"===r.type&&function(t,e,n,r,i){var o=r.children,a=o?o.length:0,s=r.$mergeChildren,u="byName"===s||r.diffChildrenByName,l=!1===s;if(!a&&!u&&!l)return;if(u)return c={api:t,oldChildren:e.children()||[],newChildren:o||[],dataIndex:n,seriesModel:i,group:e},void new jy(c.oldChildren,c.newChildren,Zj,Zj,c).add(Kj).update(Kj).remove(Jj).execute();var c;l&&e.removeAll();for(var h=0;h<a;h++){var d=o[h],f=e.childAt(h);d?(null==d.ignore&&(d.ignore=!1),Wj(t,f,n,d,i,e)):f.ignore=!0}for(var p=e.childCount()-1;p>=h;p--){var g=e.childAt(p);Qj(e,g,i)}}(t,h,n,r,i),a>=0?o.replaceAt(h,a):o.add(h),h}function Hj(t,e,n){var r,i=ZD(t),o=e.type,a=e.shape,s=e.style;return n.isUniversalTransitionEnabled()||null!=o&&o!==i.customGraphicType||"path"===o&&((r=a)&&(Object(g.q)(r,"pathData")||Object(g.q)(r,"d")))&&$j(a)!==i.customPathData||"image"===o&&Object(g.q)(s,"image")&&s.image!==i.customImagePath}function Yj(t,e,n){var r=e?Xj(t,e):t,i=e?qj(t,r,Oj):t.style,o=t.type,a=r?r.textConfig:null,s=t.textContent,u=s?e?Xj(s,e):s:null;if(i&&(n.isLegacy||nj(i,o,!!a,!!u))){n.isLegacy=!0;var l=rj(i,o,!e);!a&&l.textConfig&&(a=l.textConfig),!u&&l.textContent&&(u=l.textContent)}if(!e&&u){var c=u;!c.type&&(c.type="text")}var h=e?n[e]:n.normal;h.cfg=a,h.conOpt=u}function Xj(t,e){return e?t?t[e]:null:t}function qj(t,e,n){var r=e&&e.style;return null==r&&n===Oj&&t&&(r=t.styleEmphasis),r}function Qj(t,e,n){e&&pj(e,ZD(t).option,n)}function Zj(t,e){var n=t&&t.name;return null!=n?n:Dj+e}function Kj(t,e){var n=this.context,r=null!=t?n.newChildren[t]:null,i=null!=e?n.oldChildren[e]:null;Wj(n.api,i,n.dataIndex,r,n.seriesModel,n.group)}function Jj(t){var e=this.context,n=e.oldChildren[t];n&&pj(n,ZD(n).option,e.seriesModel)}function $j(t){return t&&(t.pathData||t.d)}var tL=$r(),eL=g.d,nL=g.c;function rL(t,e,n,r){(function t(e,n){if(g.A(e)&&g.A(n)){var r=!0;return g.k(n,function(n,i){r=r&&t(e[i],n)}),!!r}return e===n})(tL(n).lastProp,r)||(tL(n).lastProp=r,e?tl(n,r,t):(n.stopAnimation(),n.attr(r)))}function iL(t,e){t[e.get(["label","show"])?"show":"hide"]()}function oL(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function aL(t,e,n){var r=e.get("z"),i=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=r&&(t.z=r),null!=i&&(t.zlevel=i),t.silent=n)})}var sL=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,n,r){var i=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,r||this._lastValue!==i||this._lastStatus!==o){this._lastValue=i,this._lastStatus=o;var a=this._group,s=this._handle;if(!o||"hide"===o)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var u={};this.makeElOption(u,i,t,e,n);var l=u.graphicKey;l!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=l;var c=this._moveAnimation=this.determineAnimation(t,e);if(a){var h=g.h(rL,e,c);this.updatePointerEl(a,u,h),this.updateLabelEl(a,u,h,e)}else a=this._group=new tr,this.createPointerEl(a,u,t,e),this.createLabelEl(a,u,t,e),n.getZr().add(a);aL(a,e,!0),this._renderHandle(i)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var n=e.get("animation"),r=t.axis,i="category"===r.type,o=e.get("snap");if(!o&&!i)return!1;if("auto"===n||null==n){var a=this.animationThreshold;if(i&&r.getBandWidth()>a)return!0;if(o){var s=vM(t).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/s>a}return!1}return!0===n},t.prototype.makeElOption=function(t,e,n,r,i){},t.prototype.createPointerEl=function(t,e,n,r){var i=e.pointer;if(i){var o=tL(t).pointerEl=new a[i.type](eL(e.pointer));t.add(o)}},t.prototype.createLabelEl=function(t,e,n,r){if(e.label){var i=tL(t).labelEl=new Oa(eL(e.label));t.add(i),iL(i,r)}},t.prototype.updatePointerEl=function(t,e,n){var r=tL(t).pointerEl;r&&e.pointer&&(r.setStyle(e.pointer.style),n(r,{shape:e.pointer.shape}))},t.prototype.updateLabelEl=function(t,e,n,r){var i=tL(t).labelEl;i&&(i.setStyle(e.label.style),n(i,{x:e.label.x,y:e.label.y}),iL(i,r))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,r=this._api.getZr(),i=this._handle,o=n.getModel("handle"),a=n.get("status");if(!o.get("show")||!a||"hide"===a)return i&&r.remove(i),void(this._handle=null);this._handle||(e=!0,i=this._handle=kl(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){ut(t.event)},onmousedown:nL(this._onHandleDragMove,this,0,0),drift:nL(this._onHandleDragMove,this),ondragend:nL(this._onHandleDragEnd,this)}),r.add(i)),aL(i,n,!1),i.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=o.get("size");g.t(s)||(s=[s,s]),i.scaleX=s[0]/2,i.scaleY=s[1]/2,Ip(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){rL(this._axisPointerModel,!e&&this._moveAnimation,this._handle,oL(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(oL(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(oL(r)),tL(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,r=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),Ep(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}},t}();function uL(t){var e,n=t.get("type"),r=t.getModel(n+"Style");return"line"===n?(e=r.getLineStyle()).fill=null:"shadow"===n&&((e=r.getAreaStyle()).stroke=null),e}function lL(t,e,n,r,i){var o=cL(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),a=n.getModel("label"),s=th(a.get("padding")||0),u=a.getFont(),l=Bn(o,u),c=i.position,h=l.width+s[1]+s[3],d=l.height+s[0]+s[2],f=i.align;"right"===f&&(c[0]-=h),"center"===f&&(c[0]-=h/2);var p=i.verticalAlign;"bottom"===p&&(c[1]-=d),"middle"===p&&(c[1]-=d/2),function(t,e,n,r){var i=r.getWidth(),o=r.getHeight();t[0]=Math.min(t[0]+e,i)-e,t[1]=Math.min(t[1]+n,o)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(c,h,d,r);var g=a.get("backgroundColor");g&&"auto"!==g||(g=e.get(["axisLine","lineStyle","color"])),t.label={x:c[0],y:c[1],style:Vl(a,{text:o,font:u,fill:a.getTextColor(),padding:s,backgroundColor:g}),z2:10}}function cL(t,e,n,r,i){t=e.scale.parse(t);var o=e.scale.getLabel({value:t},{precision:i.precision}),a=i.formatter;if(a){var s={value:bb(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};g.k(r,function(t){var e=n.getSeriesByIndex(t.seriesIndex),r=t.dataIndexInside,i=e&&e.getDataParams(r);i&&s.seriesData.push(i)}),g.C(a)?o=a.replace("{value}",o):g.w(a)&&(o=a(s))}return o}function hL(t,e,n){var r=[1,0,0,1,0,0];return mt(r,r,n.rotation),yt(r,r,n.position),Ml([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function dL(t,e,n,r,i,o){var a=fM.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get(["label","margin"]),lL(e,r,i,o,{position:hL(r.axis,t,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function fL(t,e,n){return{x1:t[n=n||0],y1:t[1-n],x2:e[n],y2:e[1-n]}}function pL(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}function gL(t,e,n,r,i,o){return{cx:t,cy:e,r0:n,r:r,startAngle:i,endAngle:o,clockwise:!0}}var vL=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.makeElOption=function(t,e,n,r,i){var o=n.axis,a=o.grid,s=r.get("type"),u=yL(a,o).getOtherAxis(o).getGlobalExtent(),l=o.toGlobalCoord(o.dataToCoord(e,!0));if(s&&"none"!==s){var c=uL(r),h=mL[s](o,l,u);h.style=c,t.graphicKey=h.type,t.pointer=h}dL(e,t,K_(a.model,n),n,r,i)},e.prototype.getHandleTransform=function(t,e,n){var r=K_(e.axis.grid.model,e,{labelInside:!1});r.labelMargin=n.get(["handle","margin"]);var i=hL(e.axis,t,r);return{x:i[0],y:i[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,r){var i=n.axis,o=i.grid,a=i.getGlobalExtent(!0),s=yL(o,i).getOtherAxis(i).getGlobalExtent(),u="x"===i.dim?0:1,l=[t.x,t.y];l[u]+=e[u],l[u]=Math.min(a[1],l[u]),l[u]=Math.max(a[0],l[u]);var c=(s[1]+s[0])/2,h=[c,c];h[u]=l[u];return{x:l[0],y:l[1],rotation:t.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][u]}},e}(sL);function yL(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var mL={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:fL([e,n[0]],[e,n[1]],bL(t))}},shadow:function(t,e,n){var r=Math.max(1,t.getBandWidth()),i=n[1]-n[0];return{type:"Rect",shape:pL([e-r/2,n[0]],[r,i],bL(t))}}};function bL(t){return"x"===t.dim?0:1}var xL=vL,AL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(_h),wL=$r(),_L=g.k;function ML(t,e,n){if(!p.a.node){var r=e.getZr();wL(r).records||(wL(r).records={}),function(t,e){if(wL(t).initialized)return;function n(n,r){t.on(n,function(n){var i=function(t){var e={showTip:[],hideTip:[]},n=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=n,t.dispatchAction(r))};return{dispatchAction:n,pendings:e}}(e);_L(wL(t).records,function(t){t&&r(t,n,i.dispatchAction)}),function(t,e){var n,r=t.showTip.length,i=t.hideTip.length;r?n=t.showTip[r-1]:i&&(n=t.hideTip[i-1]);n&&(n.dispatchAction=null,e.dispatchAction(n))}(i.pendings,e)})}wL(t).initialized=!0,n("click",g.h(OL,"click")),n("mousemove",g.h(OL,"mousemove")),n("globalout",SL)}(r,e),(wL(r).records[t]||(wL(r).records[t]={})).handler=n}}function SL(t,e,n){t.handler("leave",null,n)}function OL(t,e,n,r){e.handler(t,n,r)}function IL(t,e){if(!p.a.node){var n=e.getZr();(wL(n).records||{})[t]&&(wL(n).records[t]=null)}}var EL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n){var r=e.getComponent("tooltip"),i=t.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";ML("axisPointer",n,function(t,e,n){"none"!==i&&("leave"===t||i.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},e.prototype.remove=function(t,e){IL("axisPointer",e)},e.prototype.dispose=function(t,e){IL("axisPointer",e)},e.type="axisPointer",e}(dp);function CL(t,e){var n,r=[],i=t.seriesIndex;if(null==i||!(n=e.getSeriesByIndex(i)))return{point:[]};var o=n.getData(),a=Jr(o,t);if(null==a||a<0||g.t(a))return{point:[]};var s=o.getItemGraphicEl(a),u=n.coordinateSystem;if(n.getTooltipPosition)r=n.getTooltipPosition(a)||[];else if(u&&u.dataToPoint)if(t.isStacked){var l=u.getBaseAxis(),c=u.getOtherAxis(l).dim,h=l.dim,d="x"===c||"radius"===c?1:0,f=o.mapDimension(h),p=[];p[d]=o.get(f,a),p[1-d]=o.get(o.getCalculationInfo("stackResultDimension"),a),r=u.dataToPoint(p)||[]}else r=u.dataToPoint(o.getValues(g.H(u.dimensions,function(t){return o.mapDimension(t)}),a))||[];else if(s){var v=s.getBoundingRect().clone();v.applyTransform(s.transform),r=[v.x+v.width/2,v.y+v.height/2]}return{point:r,el:s}}var kL=$r();function TL(t,e,n){var r=t.currTrigger,i=[t.x,t.y],o=t,a=t.dispatchAction||Object(g.c)(n.dispatchAction,n),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){NL(i)&&(i=CL({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var u=NL(i),l=o.axesInfo,c=s.axesInfo,h="leave"===r||NL(i),d={},f={},p={list:[],map:{}},v={showPointer:Object(g.h)(jL,f),showTooltip:Object(g.h)(LL,p)};Object(g.k)(s.coordSysMap,function(t,e){var n=u||t.containPoint(i);Object(g.k)(s.coordSysAxesInfo[e],function(t,e){var r=t.axis,o=function(t,e){for(var n=0;n<(t||[]).length;n++){var r=t[n];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}(l,t);if(!h&&n&&(!l||o)){var a=o&&o.value;null!=a||u||(a=r.pointToData(i)),null!=a&&DL(t,a,v,!1,d)}})});var y={};return Object(g.k)(c,function(t,e){var n=t.linkGroup;n&&!f[e]&&Object(g.k)(n.axesInfo,function(e,r){var i=f[r];if(e!==t&&i){var o=i.value;n.mapper&&(o=t.axis.scale.parse(n.mapper(o,PL(e),PL(t)))),y[t.key]=o}})}),Object(g.k)(y,function(t,e){DL(c[e],t,v,!0,d)}),function(t,e,n){var r=n.axesInfo=[];Object(g.k)(e,function(e,n){var i=e.axisPointerModel.option,o=t[n];o?(!e.useHandle&&(i.status="show"),i.value=o.value,i.seriesDataIndices=(o.payloadBatch||[]).slice()):!e.useHandle&&(i.status="hide"),"show"===i.status&&r.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:i.value})})}(f,c,d),function(t,e,n,r){if(NL(e)||!t.list.length)return void r({type:"hideTip"});var i=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:t.list})}(p,i,t,a),function(t,e,n){var r=n.getZr(),i=kL(r).axisPointerLastHighlights||{},o=kL(r).axisPointerLastHighlights={};Object(g.k)(t,function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&Object(g.k)(n.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;o[e]=t})});var a=[],s=[];Object(g.k)(i,function(t,e){!o[e]&&s.push(t)}),Object(g.k)(o,function(t,e){!i[e]&&a.push(t)}),s.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:s}),a.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:a})}(c,0,n),d}}function DL(t,e,n,r,i){var o=t.axis;if(!o.scale.isBlank()&&o.containData(e))if(t.involveSeries){var a=function(t,e){var n=e.axis,r=n.dim,i=t,o=[],a=Number.MAX_VALUE,s=-1;return Object(g.k)(e.seriesModels,function(e,u){var l,c,h=e.getData().mapDimensionsAll(r);if(e.getAxisTooltipData){var d=e.getAxisTooltipData(h,t,n);c=d.dataIndices,l=d.nestestValue}else{if(!(c=e.getData().indicesOfNearest(h[0],t,"category"===n.type?.5:null)).length)return;l=e.getData().get(h[0],c[0])}if(null!=l&&isFinite(l)){var f=t-l,p=Math.abs(f);p<=a&&((p<a||f>=0&&s<0)&&(a=p,s=f,i=l,o.length=0),Object(g.k)(c,function(t){o.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}}),{payloadBatch:o,snapToValue:i}}(e,t),s=a.payloadBatch,u=a.snapToValue;s[0]&&null==i.seriesIndex&&Object(g.m)(i,s[0]),!r&&t.snap&&o.containData(u)&&null!=u&&(e=u),n.showPointer(t,e,s),n.showTooltip(t,a,u)}else n.showPointer(t,e)}function jL(t,e,n,r){t[e.key]={value:n,payloadBatch:r}}function LL(t,e,n,r){var i=n.payloadBatch,o=e.axis,a=o.model,s=e.axisPointerModel;if(e.triggerTooltip&&i.length){var u=e.coordSys.model,l=mM(u),c=t.map[l];c||(c=t.map[l]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function PL(t){var e=t.axis.model,n={},r=n.axisDim=t.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=e.componentIndex,n.axisName=n[r+"AxisName"]=e.name,n.axisId=n[r+"AxisId"]=e.id,n}function NL(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function RL(t){xM.registerAxisPointerClass("CartesianAxisPointer",xL),t.registerComponentModel(AL),t.registerComponentView(EL),t.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!Object(g.t)(e)&&(t.axisPointer.link=[e])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=pM(t,e)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},TL)}var BL=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.makeElOption=function(t,e,n,r,i){var o=n.axis;"angle"===o.dim&&(this.animationThreshold=Math.PI/18);var a=o.polar,s=a.getOtherAxis(o).getExtent(),u=o.dataToCoord(e),l=r.get("type");if(l&&"none"!==l){var c=uL(r),h=zL[l](o,a,u,s);h.style=c,t.graphicKey=h.type,t.pointer=h}lL(t,n,r,i,function(t,e,n,r,i){var o=e.axis,a=o.dataToCoord(t),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var u,l,c,h=r.getRadiusAxis().getExtent();if("radius"===o.dim){var d=[1,0,0,1,0,0];mt(d,d,s),yt(d,d,[r.cx,r.cy]),u=Ml([a,-i],d);var f=e.getModel("axisLabel").get("rotate")||0,p=fM.innerTextLayout(s,f*Math.PI/180,-1);l=p.textAlign,c=p.textVerticalAlign}else{var g=h[1];u=r.coordToPoint([g+i,a]);var v=r.cx,y=r.cy;l=Math.abs(u[0]-v)/g<.3?"center":u[0]>v?"left":"right",c=Math.abs(u[1]-y)/g<.3?"middle":u[1]>y?"top":"bottom"}return{position:u,align:l,verticalAlign:c}}(e,n,0,a,r.get(["label","margin"])))},e}(sL);var zL={line:function(t,e,n,r){return"angle"===t.dim?{type:"Line",shape:fL(e.coordToPoint([r[0],n]),e.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,r){var i=Math.max(1,t.getBandWidth()),o=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:gL(e.cx,e.cy,r[0],r[1],(-n-i/2)*o,(i/2-n)*o)}:{type:"Sector",shape:gL(e.cx,e.cy,n-i/2,n+i/2,0,2*Math.PI)}}},FL=BL,GL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.findAxisModel=function(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(e=t)},this),e},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(_h),VL=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",ri).models[0]},e.type="polarAxis",e}(_h);g.K(VL,_b);var UL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.type="angleAxis",e}(VL),WL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.type="radiusAxis",e}(VL),HL=function(t){function e(e,n){return t.call(this,"radius",e,n)||this}return Object(f.__extends)(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e}(tx);HL.prototype.dataToRadius=tx.prototype.dataToCoord,HL.prototype.radiusToData=tx.prototype.coordToData;var YL=HL,XL=$r(),qL=function(t){function e(e,n){return t.call(this,"angle",e,n||[0,360])||this}return Object(f.__extends)(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this.getLabelModel(),e=this.scale,n=e.getExtent(),r=e.count();if(n[1]-n[0]<1)return 0;var i=n[0],o=this.dataToCoord(i+1)-this.dataToCoord(i),a=Math.abs(o),s=Bn(null==i?"":i+"",t.getFont(),"center","top"),u=Math.max(s.height,7)/a;isNaN(u)&&(u=1/0);var l=Math.max(0,Math.floor(u)),c=XL(this.model),h=c.lastAutoInterval,d=c.lastTickCount;return null!=h&&null!=d&&Math.abs(h-l)<=1&&Math.abs(d-r)<=1&&h>l?l=h:(c.lastTickCount=r,c.lastAutoInterval=l),l},e}(tx);qL.prototype.dataToAngle=tx.prototype.dataToCoord,qL.prototype.angleToData=tx.prototype.coordToData;var QL=qL,ZL=["radius","angle"];function KL(t){var e=t.seriesModel,n=t.polarModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}var JL=function(){function t(t){this.dimensions=ZL,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new YL,this._angleAxis=new QL,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},t.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},t.prototype.getAxis=function(t){return this["_"+t+"Axis"]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===t&&e.push(n),r.scale.type===t&&e.push(r),e},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},t.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},t.prototype.pointToData=function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},t.prototype.pointToCoord=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=this.getAngleAxis(),i=r.getExtent(),o=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]);r.inverse?o=a-360:a=o+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var u=Math.atan2(-n,e)/Math.PI*180,l=u<o?1:-1;u<o||u>a;)u+=360*l;return[s,u]},t.prototype.coordToPoint=function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]},t.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var n=t.getExtent(),r=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-n[0]*r,endAngle:-n[1]*r,clockwise:t.inverse,contain:function(t,e){var n=t-this.cx,r=e-this.cy,i=n*n+r*r-1e-4,o=this.r,a=this.r0;return i<=o*o&&i>=a*a}}},t.prototype.convertToPixel=function(t,e,n){return KL(e)===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){return KL(e)===this?this.pointToData(n):null},t}();function $L(t,e){var n=this,r=n.getAngleAxis(),i=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===n){var e=t.getData();g.k(wb(e,"radius"),function(t){i.scale.unionExtentFromData(e,t)}),g.k(wb(e,"angle"),function(t){r.scale.unionExtentFromData(e,t)})}}),vb(r.scale,r.model),vb(i.scale,i.model),"category"===r.type&&!r.onBand){var o=r.getExtent(),a=360/r.scale.count();r.inverse?o[1]+=a:o[1]-=a,r.setExtent(o[0],o[1])}}function tP(t,e){if(t.type=e.get("type"),t.scale=yb(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),function(t){return"angleAxis"===t.mainType}(e)){t.inverse=t.inverse!==e.get("clockwise");var n=e.get("startAngle");t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}var eP={dimensions:ZL,create:function(t,e){var n=[];return t.eachComponent("polar",function(t,r){var i=new JL(r+"");i.update=$L;var o=i.getRadiusAxis(),a=i.getAngleAxis(),s=t.findAxisModel("radiusAxis"),u=t.findAxisModel("angleAxis");tP(o,s),tP(a,u),function(t,e,n){var r=e.get("center"),i=n.getWidth(),o=n.getHeight();t.cx=fr(r[0],i),t.cy=fr(r[1],o);var a=t.getRadiusAxis(),s=Math.min(i,o)/2,u=e.get("radius");null==u?u=[0,"100%"]:g.t(u)||(u=[0,u]);var l=[fr(u[0],s),fr(u[1],s)];a.inverse?a.setExtent(l[1],l[0]):a.setExtent(l[0],l[1])}(i,t,e),n.push(i),t.coordinateSystem=i,i.model=t}),t.eachSeries(function(t){if("polar"===t.get("coordinateSystem")){var e=t.getReferringComponents("polar",ri).models[0];0,t.coordinateSystem=e.coordinateSystem}}),n}},nP=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function rP(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var r=t.coordToPoint([e[0],n]),i=t.coordToPoint([e[1],n]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function iP(t){return t.getRadiusAxis().inverse?0:1}function oP(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}var aP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,r=n.polar,i=r.getRadiusAxis().getExtent(),o=n.getTicksCoords(),a=n.getMinorTicksCoords(),s=g.H(n.getViewLabels(),function(t){t=g.d(t);var e=n.scale,r="ordinal"===e.type?e.getRawOrdinalNumber(t.tickValue):t.tickValue;return t.coord=n.dataToCoord(r),t});oP(s),oP(o),g.k(nP,function(e){!t.get([e,"show"])||n.scale.isBlank()&&"axisLine"!==e||sP[e](this.group,t,r,o,a,i,s)},this)}},e.type="angleAxis",e}(xM),sP={axisLine:function(t,e,n,r,i,o){var a,s=e.getModel(["axisLine","lineStyle"]),u=iP(n),l=u?0:1;(a=0===o[l]?new Js({shape:{cx:n.cx,cy:n.cy,r:o[u]},style:s.getLineStyle(),z2:1,silent:!0}):new xu({shape:{cx:n.cx,cy:n.cy,r:o[u],r0:o[l]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,t.add(a)},axisTick:function(t,e,n,r,i,o){var a=e.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),u=o[iP(n)],l=g.H(r,function(t){return new Tu({shape:rP(n,[u,u+s],t.coord)})});t.add(ml(l,{style:g.i(a.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,n,r,i,o){if(i.length){for(var a=e.getModel("axisTick"),s=e.getModel("minorTick"),u=(a.get("inside")?-1:1)*s.get("length"),l=o[iP(n)],c=[],h=0;h<i.length;h++)for(var d=0;d<i[h].length;d++)c.push(new Tu({shape:rP(n,[l,l+u],i[h][d].coord)}));t.add(ml(c,{style:g.i(s.getModel("lineStyle").getLineStyle(),g.i(a.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,e,n,r,i,o,a){var s=e.getCategories(!0),u=e.getModel("axisLabel"),l=u.get("margin"),c=e.get("triggerEvent");g.k(a,function(r,i){var a=u,h=r.tickValue,d=o[iP(n)],f=n.coordToPoint([d+l,r.coord]),p=n.cx,v=n.cy,y=Math.abs(f[0]-p)/d<.3?"center":f[0]>p?"left":"right",m=Math.abs(f[1]-v)/d<.3?"middle":f[1]>v?"top":"bottom";if(s&&s[h]){var b=s[h];g.A(b)&&b.textStyle&&(a=new hc(b.textStyle,u,u.ecModel))}var x=new Oa({silent:fM.isLabelSilent(e),style:Vl(a,{x:f[0],y:f[1],fill:a.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:r.formattedLabel,align:y,verticalAlign:m})});if(t.add(x),c){var A=fM.makeAxisEventDataBase(e);A.targetType="axisLabel",A.value=r.rawLabel,Ia(x).eventData=A}},this)},splitLine:function(t,e,n,r,i,o){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),u=0;s=s instanceof Array?s:[s];for(var l=[],c=0;c<r.length;c++){var h=u++%s.length;l[h]=l[h]||[],l[h].push(new Tu({shape:rP(n,o,r[c].coord)}))}for(c=0;c<l.length;c++)t.add(ml(l[c],{style:g.i({stroke:s[c%s.length]},a.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(t,e,n,r,i,o){if(i.length){for(var a=e.getModel("minorSplitLine").getModel("lineStyle"),s=[],u=0;u<i.length;u++)for(var l=0;l<i[u].length;l++)s.push(new Tu({shape:rP(n,o,i[u][l].coord)}));t.add(ml(s,{style:a.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(t,e,n,r,i,o){if(r.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),u=0;s=s instanceof Array?s:[s];for(var l=[],c=Math.PI/180,h=-r[0].coord*c,d=Math.min(o[0],o[1]),f=Math.max(o[0],o[1]),p=e.get("clockwise"),v=1,y=r.length;v<=y;v++){var m=v===y?r[0].coord:r[v].coord,b=u++%s.length;l[b]=l[b]||[],l[b].push(new yu({shape:{cx:n.cx,cy:n.cy,r0:d,r:f,startAngle:h,endAngle:-m*c,clockwise:p},silent:!0})),h=-m*c}for(v=0;v<l.length;v++)t.add(ml(l[v],{style:g.i({fill:s[v%s.length]},a.getAreaStyle()),silent:!0}))}}},uP=aP,lP=["axisLine","axisTickLabel","axisName"],cP=["splitLine","splitArea","minorSplitLine"],hP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var n=this._axisGroup,r=this._axisGroup=new tr;this.group.add(r);var i=t.axis,o=i.polar,a=o.getAngleAxis(),s=i.getTicksCoords(),u=i.getMinorTicksCoords(),l=a.getExtent()[0],c=i.getExtent(),h=function(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(o,t,l),d=new fM(t,h);g.k(lP,d.add,d),r.add(d.getGroup()),Il(n,r,t),g.k(cP,function(e){t.get([e,"show"])&&!i.scale.isBlank()&&dP[e](this.group,t,o,l,c,s,u)},this)}},e.type="radiusAxis",e}(xM),dP={splitLine:function(t,e,n,r,i,o){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),u=0;s=s instanceof Array?s:[s];for(var l=[],c=0;c<o.length;c++){var h=u++%s.length;l[h]=l[h]||[],l[h].push(new Js({shape:{cx:n.cx,cy:n.cy,r:Math.max(o[c].coord,0)}}))}for(c=0;c<l.length;c++)t.add(ml(l[c],{style:g.i({stroke:s[c%s.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,n,r,i,o,a){if(a.length){for(var s=e.getModel("minorSplitLine").getModel("lineStyle"),u=[],l=0;l<a.length;l++)for(var c=0;c<a[l].length;c++)u.push(new Js({shape:{cx:n.cx,cy:n.cy,r:a[l][c].coord}}));t.add(ml(u,{style:g.i({fill:null},s.getLineStyle()),silent:!0}))}},splitArea:function(t,e,n,r,i,o){if(o.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),u=0;s=s instanceof Array?s:[s];for(var l=[],c=o[0].coord,h=1;h<o.length;h++){var d=u++%s.length;l[d]=l[d]||[],l[d].push(new yu({shape:{cx:n.cx,cy:n.cy,r0:c,r:o[h].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),c=o[h].coord}for(h=0;h<l.length;h++)t.add(ml(l[h],{style:g.i({fill:s[h%s.length]},a.getAreaStyle()),silent:!0}))}}};var fP=hP;function pP(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function gP(t,e){return e.dim+t.model.componentIndex}var vP=function(t,e,n){var r={},i=function(t){var e={};g.k(t,function(t,n){var r=t.getData(),i=t.coordinateSystem,o=i.getBaseAxis(),a=gP(i,o),s=o.getExtent(),u="category"===o.type?o.getBandWidth():Math.abs(s[1]-s[0])/r.count(),l=e[a]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},c=l.stacks;e[a]=l;var h=pP(t);c[h]||l.autoWidthCount++,c[h]=c[h]||{width:0,maxWidth:0};var d=fr(t.get("barWidth"),u),f=fr(t.get("barMaxWidth"),u),p=t.get("barGap"),g=t.get("barCategoryGap");d&&!c[h].width&&(d=Math.min(l.remainedWidth,d),c[h].width=d,l.remainedWidth-=d),f&&(c[h].maxWidth=f),null!=p&&(l.gap=p),null!=g&&(l.categoryGap=g)});var n={};return g.k(e,function(t,e){n[e]={};var r=t.stacks,i=t.bandWidth,o=fr(t.categoryGap,i),a=fr(t.gap,1),s=t.remainedWidth,u=t.autoWidthCount,l=(s-o)/(u+(u-1)*a);l=Math.max(l,0),g.k(r,function(t,e){var n=t.maxWidth;n&&n<l&&(n=Math.min(n,s),t.width&&(n=Math.min(n,t.width)),s-=n,t.width=n,u--)}),l=(s-o)/(u+(u-1)*a),l=Math.max(l,0);var c,h=0;g.k(r,function(t,e){t.width||(t.width=l),c=t,h+=t.width*(1+a)}),c&&(h-=c.width*a);var d=-h/2;g.k(r,function(t,r){n[e][r]=n[e][r]||{offset:d,width:t.width},d+=t.width*(1+a)})}),n}(g.n(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,o=n.getBaseAxis(),a=gP(n,o),s=pP(t),u=i[a][s],l=u.offset,c=u.width,h=n.getOtherAxis(o),d=t.coordinateSystem.cx,f=t.coordinateSystem.cy,p=t.get("barMinHeight")||0,g=t.get("barMinAngle")||0;r[s]=r[s]||[];for(var v=e.mapDimension(h.dim),y=e.mapDimension(o.dim),m=hm(e,v),b="radius"!==o.dim||!t.get("roundCap",!0),x=h.dataToCoord(0),A=0,w=e.count();A<w;A++){var _=e.get(v,A),M=e.get(y,A),S=_>=0?"p":"n",O=x;m&&(r[s][M]||(r[s][M]={p:x,n:x}),O=r[s][M][S]);var I=void 0,E=void 0,C=void 0,k=void 0;if("radius"===h.dim){var T=h.dataToCoord(_)-x,D=o.dataToCoord(M);Math.abs(T)<p&&(T=(T<0?-1:1)*p),I=O,E=O+T,k=(C=D-l)-c,m&&(r[s][M][S]=E)}else{var j=h.dataToCoord(_,b)-x,L=o.dataToCoord(M);Math.abs(j)<g&&(j=(j<0?-1:1)*g),E=(I=L+l)+c,C=O,k=O+j,m&&(r[s][M][S]=k)}e.setItemLayout(A,{cx:d,cy:f,r0:I,r:E,startAngle:-C*Math.PI/180,endAngle:-k*Math.PI/180,clockwise:C>=k})}}})},yP={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},mP={splitNumber:5},bP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.type="polar",e}(dp);function xP(t,e){e=e||{};var n=t.coordinateSystem,r=t.axis,i={},o=r.position,a=r.orient,s=n.getRect(),u=[s.x,s.x+s.width,s.y,s.y+s.height],l={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};i.position=["vertical"===a?l.vertical[o]:u[0],"horizontal"===a?l.horizontal[o]:u[3]];i.rotation=Math.PI/2*{horizontal:0,vertical:1}[a];i.labelDirection=i.tickDirection=i.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),g.O(e.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var c=e.rotate;return null==c&&(c=t.get(["axisLabel","rotate"])),i.labelRotation="top"===o?-c:c,i.z2=1,i}var AP=["axisLine","axisTickLabel","axisName"],wP=["splitArea","splitLine"],_P=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="SingleAxisPointer",n}return Object(f.__extends)(e,t),e.prototype.render=function(e,n,r,i){var o=this.group;o.removeAll();var a=this._axisGroup;this._axisGroup=new tr;var s=xP(e),u=new fM(e,s);g.k(AP,u.add,u),o.add(this._axisGroup),o.add(u.getGroup()),g.k(wP,function(t){e.get([t,"show"])&&MP[t](this,this.group,this._axisGroup,e)},this),Il(a,this._axisGroup,e),t.prototype.render.call(this,e,n,r,i)},e.prototype.remove=function(){_M(this)},e.type="singleAxis",e}(xM),MP={splitLine:function(t,e,n,r){var i=r.axis;if(!i.scale.isBlank()){var o=r.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=s instanceof Array?s:[s];for(var u=a.get("width"),l=r.coordinateSystem.getRect(),c=i.isHorizontal(),h=[],d=0,f=i.getTicksCoords({tickModel:o}),p=[],v=[],y=0;y<f.length;++y){var m=i.toGlobalCoord(f[y].coord);c?(p[0]=m,p[1]=l.y,v[0]=m,v[1]=l.y+l.height):(p[0]=l.x,p[1]=m,v[0]=l.x+l.width,v[1]=m);var b=new Tu({shape:{x1:p[0],y1:p[1],x2:v[0],y2:v[1]},silent:!0});xl(b.shape,u);var x=d++%s.length;h[x]=h[x]||[],h[x].push(b)}var A=a.getLineStyle(["color"]);for(y=0;y<h.length;++y)e.add(ml(h[y],{style:g.i({stroke:s[y%s.length]},A),silent:!0}))}},splitArea:function(t,e,n,r){wM(t,n,r,r)}},SP=_P,OP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(_h);Object(g.K)(OP,_b.prototype);var IP=OP,EP=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r)||this;return a.type=i||"value",a.position=o||"bottom",a}return Object(f.__extends)(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.pointToData=function(t,e){return this.coordinateSystem.pointToData(t)[0]},e}(tx),CP=["single"];function kP(t){var e=t.seriesModel,n=t.singleAxisModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}var TP=function(){function t(t,e,n){this.type="single",this.dimension="single",this.dimensions=CP,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var r=this.dimension,i=new EP(r,yb(t),[0,0],t.get("type"),t.get("position")),o="category"===i.type;i.onBand=o&&t.get("boundaryGap"),i.inverse=t.get("inverse"),i.orient=t.get("orient"),t.axis=i,i.model=t,i.coordinateSystem=this,this._axis=i},t.prototype.update=function(t,e){t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData();Object(g.k)(e.mapDimensionsAll(this.dimension),function(t){this._axis.scale.unionExtentFromData(e,t)},this),vb(this._axis.scale,this._axis.model)}},this)},t.prototype.resize=function(t,e){this._rect=gh({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),r=n?[0,t.width]:[0,t.height],i=e.inverse?1:0;e.setExtent(r[i],r[1-i]),this._updateAxisTransform(e,n?t.x:t.y)},t.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),r=n[0]+n[1],i=t.isHorizontal();t.toGlobalCoord=i?function(t){return t+e}:function(t){return r-t+e},t.toLocalCoord=i?function(t){return t-e}:function(t){return r-t+e}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},t.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},t.prototype.dataToPoint=function(t){var e=this.getAxis(),n=this.getRect(),r=[],i="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),r[i]=e.toGlobalCoord(e.dataToCoord(+t)),r[1-i]=0===i?n.y+n.height/2:n.x+n.width/2,r},t.prototype.convertToPixel=function(t,e,n){return kP(e)===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){return kP(e)===this?this.pointToData(n):null},t}();var DP={create:function(t,e){var n=[];return t.eachComponent("singleAxis",function(r,i){var o=new TP(r,t,e);o.name="single_"+i,o.resize(r,e),r.coordinateSystem=o,n.push(o)}),t.eachSeries(function(t){if("singleAxis"===t.get("coordinateSystem")){var e=t.getReferringComponents("singleAxis",ri).models[0];t.coordinateSystem=e&&e.coordinateSystem}}),n},dimensions:CP},jP=["x","y"],LP=["width","height"],PP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.makeElOption=function(t,e,n,r,i){var o=n.axis,a=o.coordinateSystem,s=BP(a,1-RP(o)),u=a.dataToPoint(e)[0],l=r.get("type");if(l&&"none"!==l){var c=uL(r),h=NP[l](o,u,s);h.style=c,t.graphicKey=h.type,t.pointer=h}dL(e,t,xP(n),n,r,i)},e.prototype.getHandleTransform=function(t,e,n){var r=xP(e,{labelInside:!1});r.labelMargin=n.get(["handle","margin"]);var i=hL(e.axis,t,r);return{x:i[0],y:i[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,r){var i=n.axis,o=i.coordinateSystem,a=RP(i),s=BP(o,a),u=[t.x,t.y];u[a]+=e[a],u[a]=Math.min(s[1],u[a]),u[a]=Math.max(s[0],u[a]);var l=BP(o,1-a),c=(l[1]+l[0])/2,h=[c,c];return h[a]=u[a],{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},e}(sL),NP={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:fL([e,n[0]],[e,n[1]],RP(t))}},shadow:function(t,e,n){var r=t.getBandWidth(),i=n[1]-n[0];return{type:"Rect",shape:pL([e-r/2,n[0]],[r,i],RP(t))}}};function RP(t){return t.isHorizontal()?0:1}function BP(t,e){var n=t.getRect();return[n[jP[e]],n[jP[e]]+n[LP[e]]]}var zP=PP,FP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.type="single",e}(dp);function GP(t,e){var n,r=t.cellSize;1===(n=g.t(r)?r:t.cellSize=[r,r]).length&&(n[1]=n[0]);var i=g.H([0,1],function(t){return function(t,e){return null!=t[dh[e][0]]||null!=t[dh[e][1]]&&null!=t[dh[e][2]]}(e,t)&&(n[t]="auto"),null!=n[t]&&"auto"!==n[t]});mh(t,e,{type:"box",ignoreSize:i})}var VP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.init=function(e,n,r){var i=bh(e);t.prototype.init.apply(this,arguments),GP(e,i)},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),GP(this.option,e)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(_h),UP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n){var r=this.group;r.removeAll();var i=t.coordinateSystem,o=i.getRangeInfo(),a=i.getOrient(),s=e.getLocaleModel();this._renderDayRect(t,o,r),this._renderLines(t,o,a,r),this._renderYearText(t,o,a,r),this._renderMonthText(t,s,a,r),this._renderWeekText(t,s,o,a,r)},e.prototype._renderDayRect=function(t,e,n){for(var r=t.coordinateSystem,i=t.getModel("itemStyle").getItemStyle(),o=r.getCellWidth(),a=r.getCellHeight(),s=e.start.time;s<=e.end.time;s=r.getNextNDay(s,1).time){var u=r.dataToRect([s],!1).tl,l=new ca({shape:{x:u[0],y:u[1],width:o,height:a},cursor:"default",style:i});n.add(l)}},e.prototype._renderLines=function(t,e,n,r){var i=this,o=t.coordinateSystem,a=t.getModel(["splitLine","lineStyle"]).getLineStyle(),s=t.get(["splitLine","show"]),u=a.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var l=e.start,c=0;l.time<=e.end.time;c++){d(l.formatedDate),0===c&&(l=o.getDateInfo(e.start.y+"-"+e.start.m));var h=l.date;h.setMonth(h.getMonth()+1),l=o.getDateInfo(h)}function d(e){i._firstDayOfMonth.push(o.getDateInfo(e)),i._firstDayPoints.push(o.dataToRect([e],!1).tl);var u=i._getLinePointsOfOneWeek(t,e,n);i._tlpoints.push(u[0]),i._blpoints.push(u[u.length-1]),s&&i._drawSplitline(u,a,r)}d(o.getNextNDay(e.end.time,1).formatedDate),s&&this._drawSplitline(i._getEdgesPoints(i._tlpoints,u,n),a,r),s&&this._drawSplitline(i._getEdgesPoints(i._blpoints,u,n),a,r)},e.prototype._getEdgesPoints=function(t,e,n){var r=[t[0].slice(),t[t.length-1].slice()],i="horizontal"===n?0:1;return r[0][i]=r[0][i]-e/2,r[1][i]=r[1][i]+e/2,r},e.prototype._drawSplitline=function(t,e,n){var r=new Iu({z2:20,shape:{points:t},style:e});n.add(r)},e.prototype._getLinePointsOfOneWeek=function(t,e,n){for(var r=t.coordinateSystem,i=r.getDateInfo(e),o=[],a=0;a<7;a++){var s=r.getNextNDay(i.time,a),u=r.dataToRect([s.time],!1);o[2*s.day]=u.tl,o[2*s.day+1]=u["horizontal"===n?"bl":"tr"]}return o},e.prototype._formatterLabel=function(t,e){return Object(g.C)(t)&&t?(n=t,r=e,g.k(r,function(t,e){n=n.replace("{"+e+"}",i?$(t):t)}),n):Object(g.w)(t)?t(e):e.nameMap;var n,r,i},e.prototype._yearTextPositionControl=function(t,e,n,r,i){var o=e[0],a=e[1],s=["center","bottom"];"bottom"===r?(a+=i,s=["center","top"]):"left"===r?o-=i:"right"===r?(o+=i,s=["center","top"]):a-=i;var u=0;return"left"!==r&&"right"!==r||(u=Math.PI/2),{rotation:u,x:o,y:a,style:{align:s[0],verticalAlign:s[1]}}},e.prototype._renderYearText=function(t,e,n,r){var i=t.getModel("yearLabel");if(i.get("show")){var o=i.get("margin"),a=i.get("position");a||(a="horizontal"!==n?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(s[0][0]+s[1][0])/2,l=(s[0][1]+s[1][1])/2,c="horizontal"===n?0:1,h={top:[u,s[c][1]],bottom:[u,s[1-c][1]],left:[s[1-c][0],l],right:[s[c][0],l]},d=e.start.y;+e.end.y>+e.start.y&&(d=d+"-"+e.end.y);var f=i.get("formatter"),p={start:e.start.y,end:e.end.y,nameMap:d},g=this._formatterLabel(f,p),v=new Oa({z2:30,style:Vl(i,{text:g})});v.attr(this._yearTextPositionControl(v,h[a],n,a,o)),r.add(v)}},e.prototype._monthTextPositionControl=function(t,e,n,r,i){var o="left",a="top",s=t[0],u=t[1];return"horizontal"===n?(u+=i,e&&(o="center"),"start"===r&&(a="bottom")):(s+=i,e&&(a="middle"),"start"===r&&(o="right")),{x:s,y:u,align:o,verticalAlign:a}},e.prototype._renderMonthText=function(t,e,n,r){var i=t.getModel("monthLabel");if(i.get("show")){var o=i.get("nameMap"),a=i.get("margin"),s=i.get("position"),u=i.get("align"),l=[this._tlpoints,this._blpoints];o&&!Object(g.C)(o)||(o&&(e=wc(o)||e),o=e.get(["time","monthAbbr"])||[]);var c="start"===s?0:1,h="horizontal"===n?0:1;a="start"===s?-a:a;for(var d="center"===u,f=0;f<l[c].length-1;f++){var p=l[c][f].slice(),v=this._firstDayOfMonth[f];if(d){var y=this._firstDayPoints[f];p[h]=(y[h]+l[0][f+1][h])/2}var m=i.get("formatter"),b=o[+v.m-1],x={yyyy:v.y,yy:(v.y+"").slice(2),MM:v.m,M:+v.m,nameMap:b},A=this._formatterLabel(m,x),w=new Oa({z2:30,style:Object(g.m)(Vl(i,{text:A}),this._monthTextPositionControl(p,d,n,s,a))});r.add(w)}}},e.prototype._weekTextPositionControl=function(t,e,n,r,i){var o="center",a="middle",s=t[0],u=t[1],l="start"===n;return"horizontal"===e?(s=s+r+(l?1:-1)*i[0]/2,o=l?"right":"left"):(u=u+r+(l?1:-1)*i[1]/2,a=l?"bottom":"top"),{x:s,y:u,align:o,verticalAlign:a}},e.prototype._renderWeekText=function(t,e,n,r,i){var o=t.getModel("dayLabel");if(o.get("show")){var a=t.coordinateSystem,s=o.get("position"),u=o.get("nameMap"),l=o.get("margin"),c=a.getFirstDayOfWeek();if(!u||Object(g.C)(u))u&&(e=wc(u)||e),u=e.get(["time","dayOfWeekShort"])||Object(g.H)(e.get(["time","dayOfWeekAbbr"]),function(t){return t[0]});var h=a.getNextNDay(n.end.time,7-n.lweek).time,d=[a.getCellWidth(),a.getCellHeight()];l=fr(l,Math.min(d[1],d[0])),"start"===s&&(h=a.getNextNDay(n.start.time,-(7+n.fweek)).time,l=-l);for(var f=0;f<7;f++){var p,v=a.getNextNDay(h,f),y=a.dataToRect([v.time],!1).center;p=Math.abs((f+c)%7);var m=new Oa({z2:30,style:Object(g.m)(Vl(o,{text:u[p]}),this._weekTextPositionControl(y,r,s,l,d))});i.add(m)}}},e.type="calendar",e}(dp);function WP(t){var e=t.calendarModel,n=t.seriesModel;return e?e.coordinateSystem:n?n.coordinateSystem:null}var HP=function(){function t(e,n,r){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=e}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(t){var e=(t=Or(t)).getFullYear(),n=t.getMonth()+1,r=n<10?"0"+n:""+n,i=t.getDate(),o=i<10?"0"+i:""+i,a=t.getDay();return{y:e+"",m:r,d:o,day:a=Math.abs((a+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+r+"-"+o,date:t}},t.prototype.getNextNDay=function(t,e){return 0===(e=e||0)?this.getDateInfo(t):((t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t))},t.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,r=["width","height"],i=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),a="horizontal"===this._orient?[n,7]:[7,n];g.k([0,1],function(t){l(i,t)&&(o[r[t]]=i[t]*a[t])});var s={width:e.getWidth(),height:e.getHeight()},u=this._rect=gh(o,s);function l(t,e){return null!=t[e]&&"auto"!==t[e]}g.k([0,1],function(t){l(i,t)||(i[t]=u[r[t]]/a[t])}),this._sw=i[0],this._sh=i[1]},t.prototype.dataToPoint=function(t,e){g.t(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),r=this._rangeInfo,i=n.formatedDate;if(e&&!(n.time>=r.start.time&&n.time<r.end.time+864e5))return[NaN,NaN];var o=n.day,a=this._getRangeInfo([r.start.time,i]).nthWeek;return"vertical"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},t.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},t.prototype.dataToRect=function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},t.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,r):this._getDateByWeeksAndDay(e,n-1,r)},t.prototype.convertToPixel=function(t,e,n){var r=WP(e);return r===this?r.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){var r=WP(e);return r===this?r.pointToData(n):null},t.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},t.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(g.t(e)&&1===e.length&&(e=e[0]),g.t(e))t=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var r=this.getDateInfo(n),i=r.date;i.setMonth(i.getMonth()+1);var o=this.getNextNDay(i,-1);t=[r.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var a=this._getRangeInfo(t);return a.start.time>a.end.time&&t.reverse(),t},t.prototype._getRangeInfo=function(t){var e,n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];n[0].time>n[1].time&&(e=!0,n.reverse());var r=Math.floor(n[1].time/864e5)-Math.floor(n[0].time/864e5)+1,i=new Date(n[0].time),o=i.getDate(),a=n[1].date.getDate();i.setDate(o+r-1);var s=i.getDate();if(s!==a)for(var u=i.getTime()-n[1].time>0?1:-1;(s=i.getDate())!==a&&(i.getTime()-n[1].time)*u>0;)r-=u,i.setDate(s-u);var l=Math.floor((r+n[0].day+6)/7),c=e?1-l:l-1;return e&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:r,weeks:l,nthWeek:c,fweek:n[0].day,lweek:n[1].day}},t.prototype._getDateByWeeksAndDay=function(t,e,n){var r=this._getRangeInfo(n);if(t>r.weeks||0===t&&e<r.fweek||t===r.weeks&&e>r.lweek)return null;var i=7*(t-1)-r.fweek+e,o=new Date(r.start.time);return o.setDate(+r.start.d+i),this.getDateInfo(o)},t.create=function(e,n){var r=[];return e.eachComponent("calendar",function(i){var o=new t(i,e,n);r.push(o),i.coordinateSystem=o}),e.eachSeries(function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=r[t.get("calendarIndex")||0])}),r},t.dimensions=["time","value"],t}();function YP(t,e){var n;return g.k(e,function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)}),n}var XP=["transition","enterFrom","leaveTo"],qP=XP.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function QP(t,e,n){if(n&&(!t[n]&&e[n]&&(t[n]={}),t=t[n],e=e[n]),t&&e)for(var r=n?XP:qP,i=0;i<r.length;i++){var o=r[i];null==t[o]&&null!=e[o]&&(t[o]=e[o])}}var ZP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventAutoZ=!0,n}return Object(f.__extends)(e,t),e.prototype.mergeOption=function(e,n){var r=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,e,n),this.option.elements=r},e.prototype.optionUpdated=function(t,e){var n=this.option,r=(e?n:t).elements,i=n.elements=e?[]:n.elements,o=[];this._flatten(r,o,null);var a=Yr(i,o,"normalMerge"),s=this._elOptionsToUpdate=[];g.k(a,function(t,e){var n=t.newOption;n&&(s.push(n),function(t,e){var n=t.existing;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var r=e.parentOption;r?e.parentId=r.id:n&&(e.parentId=n.parentId)}e.parentOption=null}(t,n),function(t,e,n){var r=g.m({},n),i=t[e],o=n.$action||"merge";"merge"===o?i?(g.I(i,r,!0),mh(i,r,{ignoreSize:!0}),xh(n,i),QP(n,i),QP(n,i,"shape"),QP(n,i,"style"),QP(n,i,"extra"),n.clipPath=i.clipPath):t[e]=r:"replace"===o?t[e]=r:"remove"===o&&i&&(t[e]=null)}(i,e,n),function(t,e){if(t&&(t.hv=e.hv=[YP(e,["left","right"]),YP(e,["top","bottom"])],"group"===t.type)){var n=t,r=e;null==n.width&&(n.width=r.width=0),null==n.height&&(n.height=r.height=0)}}(i[e],n))},this),n.elements=g.n(i,function(t){return t&&delete t.$action,null!=t})},e.prototype._flatten=function(t,e,n){g.k(t,function(t){if(t){n&&(t.parentOption=n),e.push(t);var r=t.children;r&&r.length&&this._flatten(r,e,t),delete t.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(_h),KP={path:null,compoundPath:null,group:tr,image:na,text:Oa},JP=$r(),$P=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.init=function(){this._elMap=g.f()},e.prototype.render=function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},e.prototype._updateElements=function(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,r=this.group,i=t.get("z"),o=t.get("zlevel");g.k(e,function(e){var a=Qr(e.id,null),s=null!=a?n.get(a):null,u=Qr(e.parentId,null),l=null!=u?n.get(u):r,c=e.type,h=e.style;"text"===c&&h&&e.hv&&e.hv[1]&&(h.textVerticalAlign=h.textBaseline=h.verticalAlign=h.align=null);var d=e.textContent,f=e.textConfig;if(h&&nj(h,c,!!f,!!d)){var p=rj(h,c,!0);!f&&p.textConfig&&(f=e.textConfig=p.textConfig),!d&&p.textContent&&(d=p.textContent)}var v=function(t){return t=g.m({},t),g.k(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(hh),function(e){delete t[e]}),t}(e);var y=e.$action||"merge",m="merge"===y,b="replace"===y;if(m){var x=s;(I=!s)?x=eN(a,l,e.type,n):(x&&(JP(x).isNew=!1),Mj(x)),x&&(dj(x,v,t,{isInit:I}),rN(x,e,i,o))}else if(b){nN(s,e,n,t);var A=eN(a,l,e.type,n);A&&(dj(A,v,t,{isInit:!0}),rN(A,e,i,o))}else"remove"===y&&(fj(s,e),nN(s,e,n,t));var w=n.get(a);if(w&&d)if(m){var _=w.getTextContent();_?_.attr(d):w.setTextContent(new Oa(d))}else b&&w.setTextContent(new Oa(d));if(w){var M=e.clipPath;if(M){var S=M.type,O=void 0,I=!1;if(m){var E=w.getClipPath();O=(I=!E||JP(E).type!==S)?tN(S):E}else b&&(I=!0,O=tN(S));w.setClipPath(O),dj(O,M,t,{isInit:I}),Sj(O,M.keyframeAnimation,t)}var C=JP(w);w.setTextConfig(f),C.option=e,function(t,e,n){var r=Ia(t).eventData;t.silent||t.ignore||r||(r=Ia(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name});r&&(r.info=n.info)}(w,t,e),Ll({el:w,componentModel:t,itemName:w.name,itemTooltipOption:e.tooltip}),Sj(w,e.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,e){for(var n=t.option.elements,r=this.group,i=this._elMap,o=e.getWidth(),a=e.getHeight(),s=["x","y"],u=0;u<n.length;u++){if((p=null!=(f=Qr((d=n[u]).id,null))?i.get(f):null)&&p.isGroup){var l=(v=p.parent)===r,c=JP(p),h=JP(v);c.width=fr(c.option.width,l?o:h.width)||0,c.height=fr(c.option.height,l?a:h.height)||0}}for(u=n.length-1;u>=0;u--){var d,f,p;if(p=null!=(f=Qr((d=n[u]).id,null))?i.get(f):null){var v=p.parent,y=(h=JP(v),{}),m=vh(p,d,v===r?{width:o,height:a}:{width:h.width,height:h.height},null,{hv:d.hv,boundingMode:d.bounding},y);if(!JP(p).isNew&&m){for(var b=d.transition,x={},A=0;A<s.length;A++){var w=s[A],_=y[w];b&&(gj(b)||g.r(b,w)>=0)?x[w]=_:p[w]=_}tl(p,x,t,0)}else p.attr(y)}}},e.prototype._clear=function(){var t=this,e=this._elMap;e.each(function(n){nN(n,JP(n).option,e,t._lastGraphicModel)}),this._elMap=g.f()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(dp);function tN(t){var e=g.q(KP,t)?KP[t]:pl(t);var n=new e({});return JP(n).type=t,n}function eN(t,e,n,r){var i=tN(n);return e.add(i),r.set(t,i),JP(i).id=t,JP(i).isNew=!0,i}function nN(t,e,n,r){t&&t.parent&&("group"===t.type&&t.traverse(function(t){nN(t,e,n,r)}),pj(t,e,r),n.removeKey(JP(t).id))}function rN(t,e,n,r){t.isGroup||g.k([["cursor",Xi.prototype.cursor],["zlevel",r||0],["z",n||0],["z2",0]],function(n){var r=n[0];g.q(e,r)?t[r]=g.P(e[r],n[1]):null==t[r]&&(t[r]=n[1])}),g.k(g.F(e),function(n){if(0===n.indexOf("on")){var r=e[n];t[n]=g.w(r)?r:null}}),g.q(e,"draggable")&&(t.draggable=e.draggable),null!=e.name&&(t.name=e.name),null!=e.id&&(t.id=e.id)}var iN=["x","y","radius","angle","single"],oN=["cartesian2d","polar","singleAxis"];function aN(t){return t+"Axis"}function sN(t,e){var n,r=Object(g.f)(),i=[],o=Object(g.f)();t.eachComponent({mainType:"dataZoom",query:e},function(t){o.get(t.uid)||s(t)});do{n=!1,t.eachComponent("dataZoom",a)}while(n);function a(t){!o.get(t.uid)&&function(t){var e=!1;return t.eachTargetAxis(function(t,n){var i=r.get(t);i&&i[n]&&(e=!0)}),e}(t)&&(s(t),n=!0)}function s(t){o.set(t.uid,!0),i.push(t),t.eachTargetAxis(function(t,e){(r.get(t)||r.set(t,[]))[e]=!0})}return i}function uN(t){var e=t.ecModel,n={infoList:[],infoMap:Object(g.f)()};return t.eachTargetAxis(function(t,r){var i=e.getComponent(aN(t),r);if(i){var o=i.getCoordSysModel();if(o){var a=o.uid,s=n.infoMap.get(a);s||(s={model:o,axisModels:[]},n.infoList.push(s),n.infoMap.set(a,s)),s.axisModels.push(i)}}}),n}var lN=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}();function cN(t){var e={};return Object(g.k)(["start","end","startValue","endValue","throttle"],function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}var hN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return Object(f.__extends)(e,t),e.prototype.init=function(t,e,n){var r=cN(t);this.settledOption=r,this.mergeDefaultAndTheme(t,n),this._doInit(r)},e.prototype.mergeOption=function(t){var e=cN(t);Object(g.I)(this.option,t,!0),Object(g.I)(this.settledOption,e,!0),this._doInit(e)},e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var n=this.settledOption;Object(g.k)([["start","startValue"],["end","endValue"]],function(t,r){"value"===this._rangePropMode[r]&&(e[t[0]]=n[t[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=Object(g.f)();this._fillSpecifiedTargetAxis(e)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each(function(t){t.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return Object(g.k)(iN,function(n){var r=this.getReferringComponents(aN(n),ii);if(r.specified){e=!0;var i=new lN;Object(g.k)(r.models,function(t){i.add(t.componentIndex)}),t.set(n,i)}},this),e},e.prototype._fillAutoTargetAxisByOrient=function(t,e){var n=this.ecModel,r=!0;if(r){var i="vertical"===e?"y":"x";o(n.findComponents({mainType:i+"Axis"}),i)}r&&o(n.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}}),"single");function o(e,n){var i=e[0];if(i){var o=new lN;if(o.add(i.componentIndex),t.set(n,o),r=!1,"x"===n||"y"===n){var a=i.getReferringComponents("grid",ri).models[0];a&&Object(g.k)(e,function(t){i.componentIndex!==t.componentIndex&&a===t.getReferringComponents("grid",ri).models[0]&&o.add(t.componentIndex)})}}}r&&Object(g.k)(iN,function(e){if(r){var i=n.findComponents({mainType:aN(e),filter:function(t){return"category"===t.get("type",!0)}});if(i[0]){var o=new lN;o.add(i[0].componentIndex),t.set(e,o),r=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(e){!t&&(t=e)},this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var e=this._rangePropMode,n=this.get("rangeMode");Object(g.k)([["start","startValue"],["end","endValue"]],function(r,i){var o=null!=t[r[0]],a=null!=t[r[1]];o&&!a?e[i]="percent":!o&&a?e[i]="value":n?e[i]=n[i]:o&&(e[i]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(e,n){null==t&&(t=this.ecModel.getComponent(aN(e),n))},this),t},e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each(function(n,r){Object(g.k)(n.indexList,function(n){t.call(e,r,n)})})},e.prototype.getAxisProxy=function(t,e){var n=this.getAxisModel(t,e);if(n)return n.__dzAxisProxy},e.prototype.getAxisModel=function(t,e){var n=this._targetAxisInfoMap.get(t);if(n&&n.indexMap[e])return this.ecModel.getComponent(aN(t),e)},e.prototype.setRawRange=function(t){var e=this.option,n=this.settledOption;Object(g.k)([["start","startValue"],["end","endValue"]],function(r){null==t[r[0]]&&null==t[r[1]]||(e[r[0]]=n[r[0]]=t[r[0]],e[r[1]]=n[r[1]]=t[r[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var e=this.option;Object(g.k)(["start","startValue","end","endValue"],function(n){e[n]=t[n]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,n=this._targetAxisInfoMap.keys(),r=0;r<n.length;r++)for(var i=n[r],o=this._targetAxisInfoMap.get(i),a=0;a<o.indexList.length;a++){var s=this.getAxisProxy(i,o.indexList[a]);if(s.hostedBy(this))return s;e||(e=s)}return e},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(_h),dN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.type="dataZoom.select",e}(hN),fN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n,r){this.dataZoomModel=t,this.ecModel=e,this.api=n},e.type="dataZoom",e}(dp),pN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.type="dataZoom.select",e}(fN),gN=g.k,vN=gr;var yN=function(){function t(t,e,n,r){this._dimName=t,this._axisIndex=e,this.ecModel=r,this._dataZoomModel=n}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(function(t){var e=t.get("coordinateSystem");return Object(g.r)(oN,e)>=0}(e)){var n=aN(this._dimName),r=e.getReferringComponents(n,ri).models[0];r&&this._axisIndex===r.componentIndex&&t.push(e)}},this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return g.d(this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var e,n=this._dataExtent,r=this.getAxisModel().axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],a=[],s=[];gN(["start","end"],function(u,l){var c=t[u],h=t[u+"Value"];"percent"===i[l]?(null==c&&(c=o[l]),h=r.parse(dr(c,o,n))):(e=!0,c=dr(h=null==h?n[l]:r.parse(h),n,o)),s[l]=null==h||isNaN(h)?n[l]:h,a[l]=null==c||isNaN(c)?o[l]:c}),vN(s),vN(a);var u=this._minMaxSpan;function l(t,e,n,i,o){var a=o?"Span":"ValueSpan";DC(0,t,n,"all",u["min"+a],u["max"+a]);for(var s=0;s<2;s++)e[s]=dr(t[s],n,i,!0),o&&(e[s]=r.parse(e[s]))}return e?l(s,a,n,o,!1):l(a,s,o,n,!0),{valueWindow:s,percentWindow:a}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,n){var r=[1/0,-1/0];gN(n,function(t){!function(t,e,n){e&&g.k(wb(e,n),function(n){var r=e.getApproximateExtent(n);r[0]<t[0]&&(t[0]=r[0]),r[1]>t[1]&&(t[1]=r[1])})}(r,t.getData(),e)});var i=t.getAxisModel(),o=fb(i.axis.scale,i,r).calculate();return[o.min,o.max]}(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var n=this._dimName,r=this.getTargetSeriesModels(),i=t.get("filterMode"),o=this._valueWindow;"none"!==i&&gN(r,function(t){var e=t.getData(),r=e.mapDimensionsAll(n);if(r.length){if("weakFilter"===i){var a=e.getStore(),s=g.H(r,function(t){return e.getDimensionIndex(t)},e);e.filterSelf(function(t){for(var e,n,i,u=0;u<r.length;u++){var l=a.get(s[u],t),c=!isNaN(l),h=l<o[0],d=l>o[1];if(c&&!h&&!d)return!0;c&&(i=!0),h&&(e=!0),d&&(n=!0)}return i&&e&&n})}else gN(r,function(n){if("empty"===i)t.setData(e=e.map(n,function(t){return function(t){return t>=o[0]&&t<=o[1]}(t)?t:NaN}));else{var r={};r[n]=o,e.selectRange(r)}});gN(r,function(t){e.setApproximateExtent(o,t)})}})}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;gN(["min","max"],function(r){var i=e.get(r+"Span"),o=e.get(r+"ValueSpan");null!=o&&(o=this.getAxisModel().axis.scale.parse(o)),null!=o?i=dr(n[0]+o,n,[0,100],!0):null!=i&&(o=dr(i,[0,100],n,!0)-n[0]),t[r+"Span"]=i,t[r+"ValueSpan"]=o},this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var r=mr(n,[0,500]);r=Math.min(r,20);var i=t.axis.scale.rawExtentInfo;0!==e[0]&&i.setDeterminedMinMax("min",+n[0].toFixed(r)),100!==e[1]&&i.setDeterminedMinMax("max",+n[1].toFixed(r)),i.freeze()}},t}(),mN={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(r,i){var o=t.getComponent(aN(r),i);e(r,i,o,n)})})}e(function(t,e,n,r){n.__dzAxisProxy=null});var n=[];e(function(e,r,i,o){i.__dzAxisProxy||(i.__dzAxisProxy=new yN(e,r,o,t),n.push(i.__dzAxisProxy))});var r=Object(g.f)();return Object(g.k)(n,function(t){Object(g.k)(t.getTargetSeriesModels(),function(t){r.set(t.uid,t)})}),r},overallReset:function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(e,n){t.getAxisProxy(e,n).reset(t)}),t.eachTargetAxis(function(n,r){t.getAxisProxy(n,r).filterData(t,e)})}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy();if(e){var n=e.getDataPercentWindow(),r=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:r[0],endValue:r[1]})}})}};var bN=!1;function xN(t){bN||(bN=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,mN),function(t){t.registerAction("dataZoom",function(t,e){var n=sN(e,t);Object(g.k)(n,function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}(t),t.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function AN(t){t.registerComponentModel(dN),t.registerComponentView(pN),xN(t)}var wN=function(){return function(){}}(),_N={};function MN(t,e){_N[t]=e}function SN(t){return _N[t]}var ON=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;g.k(this.option.feature,function(t,n){var r=SN(n);r&&(r.getDefaultOption&&(r.defaultOption=r.getDefaultOption(e)),g.I(t,r.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(_h);function IN(t,e){var n=th(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),t=new ca({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1})}var EN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n,r){var i=this.group;if(i.removeAll(),t.get("show")){var o=+t.get("itemSize"),a="vertical"===t.get("orient"),s=t.get("feature")||{},u=this._features||(this._features={}),l=[];g.k(s,function(t,e){l.push(e)}),new jy(this._featureNames||[],l).add(c).update(c).remove(g.h(c,null)).execute(),this._featureNames=l,function(t,e,n){var r=e.getBoxLayoutParams(),i=e.get("padding"),o={width:n.getWidth(),height:n.getHeight()},a=gh(r,o,i);ph(e.get("orient"),t,e.get("itemGap"),a.width,a.height),vh(t,r,o,i)}(i,t,n),i.add(IN(i.getBoundingRect(),t)),a||i.eachChild(function(t){var e=t.__title,r=t.ensureState("emphasis"),a=r.textConfig||(r.textConfig={}),s=t.getTextContent(),u=s&&s.ensureState("emphasis");if(u&&!g.w(u)&&e){var l=u.style||(u.style={}),c=Bn(e,Oa.makeFont(l)),h=t.x+i.x,d=!1;t.y+i.y+o+c.height>n.getHeight()&&(a.position="top",d=!0);var f=d?-5-c.height:o+10;h+c.width/2>n.getWidth()?(a.position=["100%",f],l.align="right"):h-c.width/2<0&&(a.position=[0,f],l.align="left")}})}function c(c,h){var d,f=l[c],p=l[h],v=s[f],y=new hc(v,t,t.ecModel);if(r&&null!=r.newTitle&&r.featureName===f&&(v.title=r.newTitle),f&&!p){if(function(t){return 0===t.indexOf("my")}(f))d={onclick:y.option.onclick,featureName:f};else{var m=SN(f);if(!m)return;d=new m}u[f]=d}else if(!(d=u[p]))return;d.uid=fc("toolbox-feature"),d.model=y,d.ecModel=e,d.api=n;var b=d instanceof wN;f||!p?!y.get("show")||b&&d.unusable?b&&d.remove&&d.remove(e,n):(!function(r,s,u){var l,c,h=r.getModel("iconStyle"),d=r.getModel(["emphasis","iconStyle"]),f=s instanceof wN&&s.getIcons?s.getIcons():r.get("icon"),p=r.get("title")||{};g.C(f)?(l={})[u]=f:l=f;g.C(p)?(c={})[u]=p:c=p;var v=r.iconPaths={};g.k(l,function(u,l){var f=kl(u,{},{x:-o/2,y:-o/2,width:o,height:o});f.setStyle(h.getItemStyle());var p=f.ensureState("emphasis");p.style=d.getItemStyle();var y=new Oa({style:{text:c[l],align:d.get("textAlign"),borderRadius:d.get("textBorderRadius"),padding:d.get("textPadding"),fill:null},ignore:!0});f.setTextContent(y),Ll({el:f,componentModel:t,itemName:l,formatterParamsExtra:{title:c[l]}}),f.__title=c[l],f.on("mouseover",function(){var e=d.getItemStyle(),r=a?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";y.setStyle({fill:d.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:d.get("textBackgroundColor")}),f.setTextConfig({position:d.get("textPosition")||r}),y.ignore=!t.get("showTitle"),n.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==r.get(["iconStatus",l])&&n.leaveEmphasis(this),y.hide()}),("emphasis"===r.get(["iconStatus",l])?us:ls)(f),i.add(f),f.on("click",g.c(s.onclick,s,e,n,l)),v[l]=f})}(y,d,f),y.setIconStatus=function(t,e){var n=this.option,r=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,r[t]&&("emphasis"===e?us:ls)(r[t])},d instanceof wN&&d.render&&d.render(y,e,n,r)):b&&d.dispose&&d.dispose(e,n)}},e.prototype.updateView=function(t,e,n,r){g.k(this._features,function(t){t instanceof wN&&t.updateView&&t.updateView(t.model,e,n,r)})},e.prototype.remove=function(t,e){g.k(this._features,function(n){n instanceof wN&&n.remove&&n.remove(t,e)}),this.group.removeAll()},e.prototype.dispose=function(t,e){g.k(this._features,function(n){n instanceof wN&&n.dispose&&n.dispose(t,e)})},e.type="toolbox",e}(dp),CN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.onclick=function(t,e){var n=this.model,r=n.get("name")||t.get("title.0.text")||"echarts",i="svg"===e.getZr().painter.getType(),o=i?"svg":n.get("type",!0)||"png",a=e.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),s=p.a.browser;if(Object(g.w)(MouseEvent)&&(s.newEdge||!s.ie&&!s.edge)){var u=document.createElement("a");u.download=r+"."+o,u.target="_blank",u.href=a;var l=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});u.dispatchEvent(l)}else if(window.navigator.msSaveOrOpenBlob||i){var c=a.split(","),h=c[0].indexOf("base64")>-1,d=i?decodeURIComponent(c[1]):c[1];h&&(d=window.atob(d));var f=r+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var v=d.length,y=new Uint8Array(v);v--;)y[v]=d.charCodeAt(v);var m=new Blob([y]);window.navigator.msSaveOrOpenBlob(m,f)}else{var b=document.createElement("iframe");document.body.appendChild(b);var x=b.contentWindow,A=x.document;A.open("image/svg+xml","replace"),A.write(d),A.close(),x.focus(),A.execCommand("SaveAs",!0,f),document.body.removeChild(b)}}else{var w=n.get("lang"),_='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(w&&w[0]||"")+'" /></body>',M=window.open();M.document.write(_),M.document.title=r}},e.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},e}(wN),kN=[["line","bar"],["stack"]],TN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return g.k(t.get("type"),function(t){e[t]&&(n[t]=e[t])}),n},e.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},e.prototype.onclick=function(t,e,n){var r=this.model,i=r.get(["seriesIndex",n]);if(DN[n]){var o,a={series:[]};g.k(kN,function(t){g.r(t,n)>=0&&g.k(t,function(t){r.setIconStatus(t,"normal")})}),r.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==i?null:{seriesIndex:i}},function(t){var e=t.subType,i=t.id,o=DN[n](e,i,t,r);o&&(g.i(o,t.option),a.series.push(o));var s=t.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===n||"bar"===n)){var u=s.getAxesByScale("ordinal")[0];if(u){var l=u.dim+"Axis",c=t.getReferringComponents(l,ri).models[0].componentIndex;a[l]=a[l]||[];for(var h=0;h<=c;h++)a[l][c]=a[l][c]||{};a[l][c].boundaryGap="bar"===n}}});var s=n;"stack"===n&&(o=g.I({stack:r.option.title.tiled,tiled:r.option.title.stack},r.option.title),"emphasis"!==r.get(["iconStatus",n])&&(s="tiled")),e.dispatchAction({type:"changeMagicType",currentType:s,newOption:a,newTitle:o,featureName:"magicType"})}},e}(wN),DN={line:function(t,e,n,r){if("bar"===t)return g.I({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(t,e,n,r){if("line"===t)return g.I({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(t,e,n,r){var i="__ec_magicType_stack__"===n.get("stack");if("line"===t||"bar"===t)return r.setIconStatus("stack",i?"normal":"emphasis"),g.I({id:e,stack:i?"":"__ec_magicType_stack__"},r.get(["option","stack"])||{},!0)}};gy({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)});var jN=TN,LN=new Array(60).join("-"),PN="\t";function NN(t){var e,n,r,i=function(t){var e={},n=[],r=[];return t.eachRawSeries(function(t){var i=t.coordinateSystem;if(!i||"cartesian2d"!==i.type&&"polar"!==i.type)n.push(t);else{var o=i.getBaseAxis();if("category"===o.type){var a=o.dim+"_"+o.index;e[a]||(e[a]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),e[a].series.push(t)}else n.push(t)}}),{seriesGroupByCategoryAxis:e,other:n,meta:r}}(t);return{value:g.n([(n=i.seriesGroupByCategoryAxis,r=[],g.k(n,function(t,e){var n=t.categoryAxis,i=t.valueAxis.dim,o=[" "].concat(g.H(t.series,function(t){return t.name})),a=[n.model.getCategories()];g.k(t.series,function(t){var e=t.getRawData();a.push(t.getRawData().mapArray(e.mapDimension(i),function(t){return t}))});for(var s=[o.join(PN)],u=0;u<a[0].length;u++){for(var l=[],c=0;c<a.length;c++)l.push(a[c][u]);s.push(l.join(PN))}r.push(s.join("\n"))}),r.join("\n\n"+LN+"\n\n")),(e=i.other,g.H(e,function(t){var e=t.getRawData(),n=[t.name],r=[];return e.each(e.dimensions,function(){for(var t=arguments.length,i=arguments[t-1],o=e.getName(i),a=0;a<t-1;a++)r[a]=arguments[a];n.push((o?o+PN:"")+r.join(PN))}),n.join("\n")}).join("\n\n"+LN+"\n\n"))],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join("\n\n"+LN+"\n\n"),meta:i.meta}}function RN(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var BN=new RegExp("["+PN+"]+","g");function zN(t,e){var n=t.split(new RegExp("\n*"+LN+"\n*","g")),r={series:[]};return g.k(n,function(t,n){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf(PN)>=0)return!0}(t)){var i=function(t){for(var e=t.split(/\n+/g),n=RN(e.shift()).split(BN),r=[],i=g.H(n,function(t){return{name:t,data:[]}}),o=0;o<e.length;o++){var a=RN(e[o]).split(BN);r.push(a.shift());for(var s=0;s<a.length;s++)i[s]&&(i[s].data[o]=a[s])}return{series:i,categories:r}}(t),o=e[n],a=o.axisDim+"Axis";o&&(r[a]=r[a]||[],r[a][o.axisIndex]={data:i.categories},r.series=r.series.concat(i.series))}else{i=function(t){for(var e=t.split(/\n+/g),n=RN(e.shift()),r=[],i=0;i<e.length;i++){var o=RN(e[i]);if(o){var a=o.split(BN),s="",u=void 0,l=!1;isNaN(a[0])?(l=!0,s=a[0],a=a.slice(1),r[i]={name:s,value:[]},u=r[i].value):u=r[i]=[];for(var c=0;c<a.length;c++)u.push(+a[c]);1===u.length&&(l?r[i].value=u[0]:r[i]=u[0])}}return{name:n,data:r}}(t);r.series.push(i)}}),r}var FN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.onclick=function(t,e){setTimeout(function(){e.dispatchAction({type:"hideTip"})});var n=e.getDom(),r=this.model;this._dom&&n.removeChild(this._dom);var i=document.createElement("div");i.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",i.style.backgroundColor=r.get("backgroundColor")||"#fff";var o=document.createElement("h4"),a=r.get("lang")||[];o.innerHTML=a[0]||r.get("title"),o.style.cssText="margin:10px 20px",o.style.color=r.get("textColor");var s=document.createElement("div"),u=document.createElement("textarea");s.style.cssText="overflow:auto";var l=r.get("optionToContent"),c=r.get("contentToOption"),h=NN(t);if(g.w(l)){var d=l(e.getOption());g.C(d)?s.innerHTML=d:g.v(d)&&s.appendChild(d)}else{u.readOnly=r.get("readOnly");var f=u.style;f.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",f.color=r.get("textColor"),f.borderColor=r.get("textareaBorderColor"),f.backgroundColor=r.get("textareaColor"),u.value=h.value,s.appendChild(u)}var p=h.meta,v=document.createElement("div");v.style.cssText="position:absolute;bottom:5px;left:0;right:0";var y="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",m=document.createElement("div"),b=document.createElement("div");y+=";background-color:"+r.get("buttonColor"),y+=";color:"+r.get("buttonTextColor");var x=this;function A(){n.removeChild(i),x._dom=null}st(m,"click",A),st(b,"click",function(){if(null==c&&null!=l||null!=c&&null==l)A();else{var t;try{t=g.w(c)?c(s,e.getOption()):zN(u.value,p)}catch(t){throw A(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),A()}}),m.innerHTML=a[1],b.innerHTML=a[2],b.style.cssText=m.style.cssText=y,!r.get("readOnly")&&v.appendChild(b),v.appendChild(m),i.appendChild(o),i.appendChild(s),i.appendChild(v),s.style.height=n.clientHeight-80+"px",n.appendChild(i),this._dom=i},e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},e}(wN);gy({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var n=[];g.k(t.newOption.series,function(t){var r=e.getSeriesByName(t.name)[0];if(r){var i=r.get("data");n.push({name:t.name,data:function(t,e){return g.H(t,function(t,n){var r=e&&e[n];if(g.A(r)&&!g.t(r)){g.A(t)&&!g.t(t)||(t={value:t});var i=null!=r.name&&null==t.name;return t=g.i(t,r),i&&delete t.name,t}return t})}(t.data,i)})}else n.push(g.m({type:"scatter"},t))}),e.mergeOption(g.i({series:n},t.newOption))});var GN=FN,VN=g.k,UN=$r();function WN(t){var e=UN(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var HN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.onclick=function(t,e){!function(t){UN(t).snapshots=null}(t),e.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},e}(wN);gy({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var YN=HN,XN=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],qN=function(){function t(t,e,n){var r=this;this._targetInfoList=[];var i=ZN(e,t);Object(g.k)(KN,function(t,e){(!n||!n.include||Object(g.r)(n.include,e)>=0)&&t(i,r._targetInfoList)})}return t.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var r=tR[t.brushType](0,n,e);t.__rangeOffset={offset:nR[t.brushType](r.values,t.range,[1,1]),xyMinMax:r.xyMinMax}}}),t},t.prototype.matchOutputRanges=function(t,e,n){Object(g.k)(t,function(t){var r=this.findTargetInfo(t,e);r&&!0!==r&&Object(g.k)(r.coordSyses,function(r){var i=tR[t.brushType](1,r,t.range,!0);n(t,i.values,r,e)})},this)},t.prototype.setInputRanges=function(t,e){Object(g.k)(t,function(t){var n,r,i,o,a,s=this.findTargetInfo(t,e);if(t.range=t.range||[],s&&!0!==s){t.panelId=s.panelId;var u=tR[t.brushType](0,s.coordSys,t.coordRange),l=t.__rangeOffset;t.range=l?nR[t.brushType](u.values,l.offset,(n=u.xyMinMax,r=l.xyMinMax,i=iR(n),o=iR(r),a=[i[0]/o[0],i[1]/o[1]],isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a)):u.values}},this)},t.prototype.makePanelOpts=function(t,e){return Object(g.H)(this._targetInfoList,function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:Nk(r),isTargetByCursor:Bk(r,t,n.coordSysModel),getLinearBrushOtherExtent:Rk(r)}})},t.prototype.controlSeries=function(t,e,n){var r=this.findTargetInfo(t,n);return!0===r||r&&Object(g.r)(r.coordSyses,e.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,r=ZN(e,t),i=0;i<n.length;i++){var o=n[i],a=t.panelId;if(a){if(o.panelId===a)return o}else for(var s=0;s<JN.length;s++)if(JN[s](r,o))return o}return!0},t}();function QN(t){return t[0]>t[1]&&t.reverse(),t}function ZN(t,e){return ei(t,e,{includeMainTypes:XN})}var KN={grid:function(t,e){var n=t.xAxisModels,r=t.yAxisModels,i=t.gridModels,o=Object(g.f)(),a={},s={};(n||r||i)&&(Object(g.k)(n,function(t){var e=t.axis.grid.model;o.set(e.id,e),a[e.id]=!0}),Object(g.k)(r,function(t){var e=t.axis.grid.model;o.set(e.id,e),s[e.id]=!0}),Object(g.k)(i,function(t){o.set(t.id,t),a[t.id]=!0,s[t.id]=!0}),o.each(function(t){var i=t.coordinateSystem,o=[];Object(g.k)(i.getCartesians(),function(t,e){(Object(g.r)(n,t.getAxis("x").model)>=0||Object(g.r)(r,t.getAxis("y").model)>=0)&&o.push(t)}),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:o[0],coordSyses:o,getPanelRect:$N.grid,xAxisDeclared:a[t.id],yAxisDeclared:s[t.id]})}))},geo:function(t,e){Object(g.k)(t.geoModels,function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:$N.geo})})}},JN=[function(t,e){var n=t.xAxisModel,r=t.yAxisModel,i=t.gridModel;return!i&&n&&(i=n.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],$N={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(_l(t)),e}},tR={lineX:Object(g.h)(eR,0),lineY:Object(g.h)(eR,1),rect:function(t,e,n,r){var i=t?e.pointToData([n[0][0],n[1][0]],r):e.dataToPoint([n[0][0],n[1][0]],r),o=t?e.pointToData([n[0][1],n[1][1]],r):e.dataToPoint([n[0][1],n[1][1]],r),a=[QN([i[0],o[0]]),QN([i[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(t,e,n,r){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:Object(g.H)(n,function(n){var o=t?e.pointToData(n,r):e.dataToPoint(n,r);return i[0][0]=Math.min(i[0][0],o[0]),i[1][0]=Math.min(i[1][0],o[1]),i[0][1]=Math.max(i[0][1],o[0]),i[1][1]=Math.max(i[1][1],o[1]),o}),xyMinMax:i}}};function eR(t,e,n,r){var i=n.getAxis(["x","y"][t]),o=QN(Object(g.H)([0,1],function(t){return e?i.coordToData(i.toLocalCoord(r[t]),!0):i.toGlobalCoord(i.dataToCoord(r[t]))})),a=[];return a[t]=o,a[1-t]=[NaN,NaN],{values:o,xyMinMax:a}}var nR={lineX:Object(g.h)(rR,0),lineY:Object(g.h)(rR,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return Object(g.H)(t,function(t,r){return[t[0]-n[0]*e[r][0],t[1]-n[1]*e[r][1]]})}};function rR(t,e,n,r){return[e[0]-r[t]*n[0],e[1]-r[t]*n[1]]}function iR(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var oR,aR,sR=qN,uR=g.k,lR=Fr+"toolbox-dataZoom_",cR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n,r){this._brushController||(this._brushController=new Pk(n.getZr()),this._brushController.on("brush",g.c(this._onBrush,this)).mount()),function(t,e,n,r,i){var o=n._isZoomActive;r&&"takeGlobalCursor"===r.type&&(o="dataZoomSelect"===r.key&&r.dataZoomSelectActive);n._isZoomActive=o,t.setIconStatus("zoom",o?"emphasis":"normal");var a=new sR(dR(t),e,{include:["grid"]}).makePanelOpts(i,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"});n._brushController.setPanels(a).enableBrush(!(!o||!a.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}(t,e,this,r,n),function(t,e){t.setIconStatus("back",function(t){return WN(t).length}(e)>1?"emphasis":"normal")}(t,e)},e.prototype.onclick=function(t,e,n){hR[n].call(this)},e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var e=t.areas;if(t.isEnd&&e.length){var n={},r=this.ecModel;this._brushController.updateCovers([]),new sR(dR(this.model),r,{include:["grid"]}).matchOutputRanges(e,r,function(t,e,n){if("cartesian2d"===n.type){var r=t.brushType;"rect"===r?(i("x",n,e[0]),i("y",n,e[1])):i({lineX:"x",lineY:"y"}[r],n,e)}}),function(t,e){var n=WN(t);VN(e,function(e,r){for(var i=n.length-1;i>=0&&!n[i][r];i--);if(i<0){var o=t.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(o){var a=o.getPercentRange();n[0][r]={dataZoomId:r,start:a[0],end:a[1]}}}}),n.push(e)}(r,n),this._dispatchZoomAction(n)}function i(t,e,i){var o=e.getAxis(t),a=o.model,s=function(t,e,n){var r;return n.eachComponent({mainType:"dataZoom",subType:"select"},function(n){n.getAxisModel(t,e.componentIndex)&&(r=n)}),r}(t,a,r),u=s.findRepresentativeAxisProxy(a).getMinMaxSpan();null==u.minValueSpan&&null==u.maxValueSpan||(i=DC(0,i.slice(),o.scale.getExtent(),0,u.minValueSpan,u.maxValueSpan)),s&&(n[s.id]={dataZoomId:s.id,startValue:i[0],endValue:i[1]})}},e.prototype._dispatchZoomAction=function(t){var e=[];uR(t,function(t,n){e.push(g.d(t))}),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},e.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},e}(wN),hR={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(function(t){var e=WN(t),n=e[e.length-1];e.length>1&&e.pop();var r={};return VN(n,function(t,n){for(var i=e.length-1;i>=0;i--)if(t=e[i][n]){r[n]=t;break}}),r}(this.ecModel))}};function dR(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}oR="dataZoom",aR=function(t){var e=t.getComponent("toolbox",0),n=["feature","dataZoom"];if(e&&null!=e.get(n)){var r=e.getModel(n),i=[],o=ei(t,dR(r));return uR(o.xAxisModels,function(t){return a(t,"xAxis","xAxisIndex")}),uR(o.yAxisModels,function(t){return a(t,"yAxis","yAxisIndex")}),i}function a(t,e,n){var o=t.componentIndex,a={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:lR+e+o};a[n]=o,i.push(a)}},Object(g.b)(null==Uh.get(oR)&&aR),Uh.set(oR,aR);var fR=cR;var pR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(_h);function gR(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function vR(t){if(p.a.domSupported)for(var e=document.documentElement.style,n=0,r=t.length;n<r;n++)if(t[n]in e)return t[n]}var yR=vR(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function mR(t,e){if(!t)return e;e=$c(e,!0);var n=t.indexOf(e);return(t=-1===n?e:"-"+t.slice(0,n)+"-"+e).toLowerCase()}var bR=mR(vR(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),xR=mR(yR,"transform"),AR="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(p.a.transform3dSupported?"will-change:transform;":"");function wR(t,e,n){var r=t.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!p.a.transformSupported)return n?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var o=p.a.transform3dSupported,a="translate"+(o?"3d":"")+"("+r+","+i+(o?",0":"")+")";return n?"top:0;left:0;"+xR+":"+a+";":[["top",0],["left",0],[yR,a]]}function _R(t,e,n){var r=[],i=t.get("transitionDuration"),o=t.get("backgroundColor"),a=t.get("shadowBlur"),s=t.get("shadowColor"),u=t.get("shadowOffsetX"),l=t.get("shadowOffsetY"),c=t.getModel("textStyle"),h=Zf(t,"html"),d=u+"px "+l+"px "+a+"px "+s;return r.push("box-shadow:"+d),e&&i&&r.push(function(t,e){var n=" "+t/2+"s cubic-bezier(0.23,1,0.32,1)",r="opacity"+n+",visibility"+n;return e||(n=" "+t+"s cubic-bezier(0.23,1,0.32,1)",r+=p.a.transformSupported?","+xR+n:",left"+n+",top"+n),bR+":"+r}(i,n)),o&&r.push("background-color:"+o),Object(g.k)(["width","color","radius"],function(e){var n="border-"+e,i=$c(n),o=t.get(i);null!=o&&r.push(n+":"+o+("color"===e?"":"px"))}),r.push(function(t){var e=[],n=t.get("fontSize"),r=t.getTextColor();r&&e.push("color:"+r),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px");var i=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,a=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return i&&o&&e.push("text-shadow:"+a+"px "+s+"px "+o+"px "+i),Object(g.k)(["decoration","align"],function(n){var r=t.get(n);r&&e.push("text-"+n+":"+r)}),e.join(";")}(c)),null!=h&&r.push("padding:"+th(h).join("px ")+"px"),r.join(";")+";"}function MR(t,e,n,r,i){var o=e&&e.painter;if(n){var a=o&&o.getViewportRoot();a&&function(t,e,n,r,i){Q(q,e,r,i,!0)&&Q(t,n,q[0],q[1])}(t,a,document.body,r,i)}else{t[0]=r,t[1]=i;var s=o&&o.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var SR=function(){function t(t,e,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,p.a.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=e.getZr(),o=this._appendToBody=n&&n.appendToBody;MR(this._styleCoord,i,o,e.getWidth()/2,e.getHeight()/2),o?document.body.appendChild(r):t.appendChild(r),this._container=t;var a=this;r.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},r.onmousemove=function(t){if(t=t||window.event,!a._enterable){var e=i.handler;at(i.painter.getViewportRoot(),t,!0),e.dispatch("mousemove",t)}},r.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return t.prototype.update=function(t){var e,n,r,i=this._container,o=(n="position",(r=(e=i).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?n?r[n]:r:null),a=i.style;"absolute"!==a.position&&"absolute"!==o&&(a.position="relative"),t.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,r=n.style,i=this._styleCoord;n.innerHTML?r.cssText=AR+_R(t,!this._firstShow,this._longHide)+wR(i[0],i[1],!0)+"border-color:"+uh(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,n,r,i){var o=this.el;if(null!=t){var a="";if(Object(g.C)(i)&&"item"===n.get("trigger")&&!gR(n)&&(a=function(t,e,n){if(!Object(g.C)(n)||"inside"===n)return"";var r=t.get("backgroundColor"),i=t.get("borderWidth");e=uh(e);var o,a,s=o="left"===(o=n)?"right":"right"===o?"left":"top"===o?"bottom":"top",u=Math.max(1.5*Math.round(i),6),l="",c=xR+":";Object(g.r)(["left","right"],s)>-1?(l+="top:50%",c+="translateY(-50%) rotate("+(a="left"===s?-225:-45)+"deg)"):(l+="left:50%",c+="translateX(-50%) rotate("+(a="top"===s?225:45)+"deg)");var h=a*Math.PI/180,d=u+i,f=d*Math.abs(Math.cos(h))+d*Math.abs(Math.sin(h)),p=e+" solid "+i+"px;";return'<div style="'+["position:absolute;width:"+u+"px;height:"+u+"px;z-index:-1;",(l+=";"+s+":-"+Math.round(100*((f-Math.SQRT2*i)/2+Math.SQRT2*i-(f-d)/2))/100+"px")+";"+c+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"].join("")+'"></div>'}(n,r,i)),Object(g.C)(t))o.innerHTML=t+a;else if(t){o.innerHTML="",Object(g.t)(t)||(t=[t]);for(var s=0;s<t.length;s++)Object(g.v)(t[s])&&t[s].parentNode!==o&&o.appendChild(t[s]);if(a&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=a,o.appendChild(u)}}}else o.innerHTML=""},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,e){var n=this._styleCoord;if(MR(n,this._zr,this._appendToBody,t,e),null!=n[0]&&null!=n[1]){var r=this.el.style,i=wR(n[0],n[1]);Object(g.k)(i,function(t){r[t[0]]=t[1]})}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",p.a.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Object(g.c)(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}();function OR(t){return Math.max(0,t)}function IR(t){var e=OR(t.shadowBlur||0),n=OR(t.shadowOffsetX||0),r=OR(t.shadowOffsetY||0);return{left:OR(e-n),right:OR(e+n),top:OR(e-r),bottom:OR(e+r)}}function ER(t,e,n,r){t[0]=n,t[1]=r,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var CR=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),ER(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){t.get("alwaysShowContent")&&this._moveIfResized()},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,n,r,i){var o=this;g.A(t)&&Rr(""),this.el&&this._zr.remove(this.el);var a=n.getModel("textStyle");this.el=new Oa({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:a.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:Zf(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),g.k(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(t){o.el.style[t]=n.get(t)}),g.k(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(t){o.el.style[t]=a.get(t)||0}),this._zr.add(this.el);var s=this;this.el.on("mouseover",function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0}),this.el.on("mouseout",function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1})},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=IR(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},t.prototype.moveTo=function(t,e){var n=this.el;if(n){var r=this._styleCoord;ER(r,this._zr,t,e),t=r[0],e=r[1];var i=n.style,o=OR(i.borderWidth||0),a=IR(i);n.x=t+o+a.left,n.y=e+o+a.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(g.c(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}(),kR=new ca({shape:{x:-1,y:-1,width:2,height:2}});function TR(t,e,n){var r,i=e.ecModel;n?(r=new hc(n,i,i),r=new hc(e.option,r,i)):r=e;for(var o=t.length-1;o>=0;o--){var a=t[o];a&&(a instanceof hc&&(a=a.get("tooltip",!0)),Object(g.C)(a)&&(a={formatter:a}),a&&(r=new hc(a,r,i)))}return r}function DR(t,e){return t.dispatchAction||Object(g.c)(e.dispatchAction,e)}function jR(t){return"center"===t||"middle"===t}var LR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.init=function(t,e){if(!p.a.node&&e.getDom()){var n,r=t.getComponent("tooltip"),i=this._renderMode="auto"===(n=r.get("renderMode"))?p.a.domSupported?"html":"richText":n||"html";this._tooltipContent="richText"===i?new CR(e):new SR(e.getDom(),e,{appendToBody:r.get("appendToBody",!0)})}},e.prototype.render=function(t,e,n){if(!p.a.node&&n.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._alwaysShowContent=t.get("alwaysShowContent");var r=this._tooltipContent;r.update(t),r.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?Ip(this,"_updatePosition",50,"fixRate"):Ep(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");ML("itemTooltip",this._api,Object(g.c)(function(e,n,r){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,r):"leave"===e&&this._hide(r))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,n=this._api,r=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==r&&"click"!==r){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!n.isDisposed()&&i.manuallyShowTip(t,e,n,{x:i._lastX,y:i._lastY,dataByCoordSys:i._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,e,n,r){if(r.from!==this.uid&&!p.a.node&&n.getDom()){var i=DR(r,n);this._ticket="";var o=r.dataByCoordSys,a=function(t,e,n){var r=ni(t).queryOptionMap,i=r.keys()[0];if(!i||"series"===i)return;var o,a=oi(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(!a)return;if(n.getViewOfComponentModel(a).group.traverse(function(e){var n=Ia(e).tooltipConfig;if(n&&n.name===t.name)return o=e,!0}),o)return{componentMainType:i,componentIndex:a.componentIndex,el:o}}(r,e,n);if(a){var s=a.el.getBoundingRect().clone();s.applyTransform(a.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:a.el,position:r.position,positionDefault:"bottom"},i)}else if(r.tooltip&&null!=r.x&&null!=r.y){var u=kR;u.x=r.x,u.y=r.y,u.update(),Ia(u).tooltipConfig={name:null,option:r.tooltip},this._tryShow({offsetX:r.x,offsetY:r.y,target:u},i)}else if(o)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,dataByCoordSys:o,tooltipOption:r.tooltipOption},i);else if(null!=r.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,r))return;var l=CL(r,e),c=l.point[0],h=l.point[1];null!=c&&null!=h&&this._tryShow({offsetX:c,offsetY:h,target:l.el,position:r.position,positionDefault:"bottom"},i)}else null!=r.x&&null!=r.y&&(n.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y}),this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:n.getZr().findHover(r.x,r.y).target},i))}},e.prototype.manuallyHideTip=function(t,e,n,r){var i=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&i.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,r.from!==this.uid&&this._hide(DR(r,n))},e.prototype._manuallyAxisShowTip=function(t,e,n,r){var i=r.seriesIndex,o=r.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=i&&null!=o&&null!=a){var s=e.getSeriesByIndex(i);if(s)if("axis"===TR([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:i,dataIndex:o,position:r.position}),!0}},e.prototype._tryShow=function(t,e){var n=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var r=t.dataByCoordSys;if(r&&r.length)this._showAxisTooltip(r,t);else if(n){var i,o;this._lastDataByCoordSys=null,gg(n,function(t){return null!=Ia(t).dataIndex?(i=t,!0):null!=Ia(t).tooltipConfig?(o=t,!0):void 0},!0),i?this._showSeriesItemTooltip(t,i,e):o?this._showComponentItemTooltip(t,o,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var n=t.get("showDelay");e=Object(g.c)(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},e.prototype._showAxisTooltip=function(t,e){var n=this._ecModel,r=this._tooltipModel,i=[e.offsetX,e.offsetY],o=TR([e.tooltipOption],r),a=this._renderMode,s=[],u=Gf("section",{blocks:[],noHeader:!0}),l=[],c=new Kf;Object(g.k)(t,function(t){Object(g.k)(t.dataByAxis,function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),i=t.value;if(e&&null!=i){var o=cL(i,e.axis,n,t.seriesDataIndices,t.valueLabelOpt),h=Gf("section",{header:o,noHeader:!Object(g.T)(o),sortBlocks:!0,blocks:[]});u.blocks.push(h),Object(g.k)(t.seriesDataIndices,function(u){var d=n.getSeriesByIndex(u.seriesIndex),f=u.dataIndexInside,p=d.getDataParams(f);if(!(p.dataIndex<0)){p.axisDim=t.axisDim,p.axisIndex=t.axisIndex,p.axisType=t.axisType,p.axisId=t.axisId,p.axisValue=bb(e.axis,{value:i}),p.axisValueLabel=o,p.marker=c.makeTooltipMarker("item",uh(p.color),a);var v=rf(d.formatTooltip(f,!0,null)),y=v.frag;if(y){var m=TR([d],r).get("valueFormatter");h.blocks.push(m?Object(g.m)({valueFormatter:m},y):y)}v.text&&l.push(v.text),s.push(p)}})}})}),u.blocks.reverse(),l.reverse();var h=e.position,d=o.get("order"),f=Yf(u,c,a,d,n.get("useUTC"),o.get("textStyle"));f&&l.unshift(f);var p="richText"===a?"\n\n":"<br/>",v=l.join(p);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(t,s)?this._updatePosition(o,h,i[0],i[1],this._tooltipContent,s):this._showTooltipContent(o,v,s,Math.random()+"",i[0],i[1],h,null,c)})},e.prototype._showSeriesItemTooltip=function(t,e,n){var r=this._ecModel,i=Ia(e),o=i.seriesIndex,a=r.getSeriesByIndex(o),s=i.dataModel||a,u=i.dataIndex,l=i.dataType,c=s.getData(l),h=this._renderMode,d=t.positionDefault,f=TR([c.getItemModel(u),s,a&&(a.coordinateSystem||{}).model],this._tooltipModel,d?{position:d}:null),p=f.get("trigger");if(null==p||"item"===p){var v=s.getDataParams(u,l),y=new Kf;v.marker=y.makeTooltipMarker("item",uh(v.color),h);var m=rf(s.formatTooltip(u,!1,l)),b=f.get("order"),x=f.get("valueFormatter"),A=m.frag,w=A?Yf(x?Object(g.m)({valueFormatter:x},A):A,y,h,b,r.get("useUTC"),f.get("textStyle")):m.text,_="item_"+s.name+"_"+u;this._showOrMove(f,function(){this._showTooltipContent(f,w,v,_,t.offsetX,t.offsetY,t.position,t.target,y)}),n({type:"showTip",dataIndexInside:u,dataIndex:c.getRawIndex(u),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,n){var r=Ia(e),i=r.tooltipConfig.option||{};if(Object(g.C)(i)){i={content:i,formatter:i}}var o=[i],a=this._ecModel.getComponent(r.componentMainType,r.componentIndex);a&&o.push(a),o.push({formatter:i.content});var s=t.positionDefault,u=TR(o,this._tooltipModel,s?{position:s}:null),l=u.get("content"),c=Math.random()+"",h=new Kf;this._showOrMove(u,function(){var n=Object(g.d)(u.get("formatterParams")||{});this._showTooltipContent(u,l,n,c,t.offsetX,t.offsetY,t.position,e,h)}),n({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,n,r,i,o,a,s,u){if(this._ticket="",t.get("showContent")&&t.get("show")){var l=this._tooltipContent;l.setEnterable(t.get("enterable"));var c=t.get("formatter");a=a||t.get("position");var h=e,d=this._getNearestPoint([i,o],n,t.get("trigger"),t.get("borderColor")).color;if(c)if(Object(g.C)(c)){var f=t.ecModel.get("useUTC"),p=Object(g.t)(n)?n[0]:n;h=c,p&&p.axisType&&p.axisType.indexOf("time")>=0&&(h=Lc(p.axisValue,h,f)),h=ih(h,n,!0)}else if(Object(g.w)(c)){var v=Object(g.c)(function(e,r){e===this._ticket&&(l.setContent(r,u,t,d,a),this._updatePosition(t,a,i,o,l,n,s))},this);this._ticket=r,h=c(n,r,v)}else h=c;l.setContent(h,u,t,d,a),l.show(t,d),this._updatePosition(t,a,i,o,l,n,s)}},e.prototype._getNearestPoint=function(t,e,n,r){return"axis"===n||Object(g.t)(e)?{color:r||("html"===this._renderMode?"#fff":"none")}:Object(g.t)(e)?void 0:{color:r||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,n,r,i,o,a){var s=this._api.getWidth(),u=this._api.getHeight();e=e||t.get("position");var l=i.getSize(),c=t.get("align"),h=t.get("verticalAlign"),d=a&&a.getBoundingRect().clone();if(a&&d.applyTransform(a.transform),Object(g.w)(e)&&(e=e([n,r],o,i.el,d,{viewSize:[s,u],contentSize:l.slice()})),Object(g.t)(e))n=fr(e[0],s),r=fr(e[1],u);else if(Object(g.A)(e)){var f=e;f.width=l[0],f.height=l[1];var p=gh(f,{width:s,height:u});n=p.x,r=p.y,c=null,h=null}else if(Object(g.C)(e)&&a){var v=function(t,e,n,r){var i=n[0],o=n[1],a=Math.ceil(Math.SQRT2*r)+8,s=0,u=0,l=e.width,c=e.height;switch(t){case"inside":s=e.x+l/2-i/2,u=e.y+c/2-o/2;break;case"top":s=e.x+l/2-i/2,u=e.y-o-a;break;case"bottom":s=e.x+l/2-i/2,u=e.y+c+a;break;case"left":s=e.x-i-a,u=e.y+c/2-o/2;break;case"right":s=e.x+l+a,u=e.y+c/2-o/2}return[s,u]}(e,d,l,t.get("borderWidth"));n=v[0],r=v[1]}else{v=function(t,e,n,r,i,o,a){var s=n.getSize(),u=s[0],l=s[1];null!=o&&(t+u+o+2>r?t-=u+o:t+=o);null!=a&&(e+l+a>i?e-=l+a:e+=a);return[t,e]}(n,r,i,s,u,c?null:20,h?null:20);n=v[0],r=v[1]}if(c&&(n-=jR(c)?l[0]/2:"right"===c?l[0]:0),h&&(r-=jR(h)?l[1]/2:"bottom"===h?l[1]:0),gR(t)){v=function(t,e,n,r,i){var o=n.getSize(),a=o[0],s=o[1];return t=Math.min(t+a,r)-a,e=Math.min(e+s,i)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(n,r,i,s,u);n=v[0],r=v[1]}i.moveTo(n,r)},e.prototype._updateContentNotChangedOnAxis=function(t,e){var n=this._lastDataByCoordSys,r=this._cbParamsList,i=!!n&&n.length===t.length;return i&&Object(g.k)(n,function(n,o){var a=n.dataByAxis||[],s=(t[o]||{}).dataByAxis||[];(i=i&&a.length===s.length)&&Object(g.k)(a,function(t,n){var o=s[n]||{},a=t.seriesDataIndices||[],u=o.seriesDataIndices||[];(i=i&&t.value===o.value&&t.axisType===o.axisType&&t.axisId===o.axisId&&a.length===u.length)&&Object(g.k)(a,function(t,e){var n=u[e];i=i&&t.seriesIndex===n.seriesIndex&&t.dataIndex===n.dataIndex}),r&&Object(g.k)(t.seriesDataIndices,function(t){var n=t.seriesIndex,o=e[n],a=r[n];o&&a&&a.data!==o.data&&(i=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=e,!!i},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){!p.a.node&&e.getDom()&&(Ep(this,"_updatePosition"),this._tooltipContent.dispose(),IL("itemTooltip",e))},e.type="tooltip",e}(dp);var PR=["rect","polygon","keep","clear"];function NR(t,e){var n=Gr(t?t.brush:[]);if(n.length){var r=[];g.k(n,function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(r=r.concat(e))});var i=t&&t.toolbox;g.t(i)&&(i=i[0]),i||(i={feature:{}},t.toolbox=[i]);var o,a,s=i.feature||(i.feature={}),u=s.brush||(s.brush={}),l=u.type||(u.type=[]);l.push.apply(l,r),o=l,a={},g.k(o,function(t){a[t]=1}),o.length=0,g.k(a,function(t,e){o.push(e)}),e&&!l.length&&l.push.apply(l,PR)}}var RR=g.k;function BR(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function zR(t,e,n){var r={};return RR(e,function(e){var i,o=r[e]=((i=function(){}).prototype.__hidden=i.prototype,new i);RR(t[e],function(t,r){if(PI.isValidType(r)){var i={type:r,visual:t};n&&n(i,e),o[r]=new PI(i),"opacity"===r&&((i=g.d(i)).type="colorAlpha",o.__hidden.__alphaForOpacity=new PI(i))}})}),r}function FR(t,e,n){var r;g.k(n,function(t){e.hasOwnProperty(t)&&BR(e[t])&&(r=!0)}),r&&g.k(n,function(n){e.hasOwnProperty(n)&&BR(e[n])?t[n]=g.d(e[n]):delete t[n]})}var GR={lineX:VR(0),lineY:VR(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&Tb(n.range,t[0],t[1])},rect:function(t,e,n){var r=n.range;if(!t||r.length<=1)return!1;var i=t.x,o=t.y,a=t.width,s=t.height,u=r[0];return!!(Tb(r,i,o)||Tb(r,i+a,o)||Tb(r,i,o+s)||Tb(r,i+a,o+s)||Tt.create(t).contain(u[0],u[1])||Tl(i,o,i+a,o,r)||Tl(i,o,i,o+s,r)||Tl(i+a,o,i+a,o+s,r)||Tl(i,o+s,i+a,o+s,r))||void 0}}};function VR(t){var e=["x","y"],n=["width","height"];return{point:function(e,n,r){if(e){var i=r.range;return UR(e[t],i)}},rect:function(r,i,o){if(r){var a=o.range,s=[r[e[t]],r[e[t]]+r[n[t]]];return s[1]<s[0]&&s.reverse(),UR(s[0],a)||UR(s[1],a)||UR(a[0],s)||UR(a[1],s)}}}}function UR(t,e){return e[0]<=t&&t<=e[1]}var WR=["inBrush","outOfBrush"],HR="__ecBrushSelect",YR="__ecInBrushSelectEvent";function XR(t){t.eachComponent({mainType:"brush"},function(e){(e.brushTargetManager=new sR(e.option,t)).setInputRanges(e.areas,t)})}function qR(t,e,n){var r,i,o=[];t.eachComponent({mainType:"brush"},function(t){n&&"takeGlobalCursor"===n.type&&t.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})}),XR(t),t.eachComponent({mainType:"brush"},function(e,n){var a={brushId:e.id,brushIndex:n,brushName:e.name,areas:g.d(e.areas),selected:[]};o.push(a);var s=e.option,u=s.brushLink,l=[],c=[],h=[],d=!1;n||(r=s.throttleType,i=s.throttleDelay);var f=g.H(e.areas,function(t){var e=KR[t.brushType],n=g.i({boundingRect:e?e(t):void 0},t);return n.selectors=function(t){var e=t.brushType,n={point:function(r){return GR[e].point(r,n,t)},rect:function(r){return GR[e].rect(r,n,t)}};return n}(n),n}),p=zR(e.option,WR,function(t){t.mappingMethod="fixed"});function v(t){return"all"===u||!!l[t]}function y(t){return!!t.length}g.t(u)&&g.k(u,function(t){l[t]=1}),t.eachSeries(function(n,r){var i=h[r]=[];"parallel"===n.subType?function(t,e){var n=t.coordinateSystem;d=d||n.hasAxisBrushed(),v(e)&&n.eachActiveState(t.getData(),function(t,e){"active"===t&&(c[e]=1)})}(n,r):function(n,r,i){if(!n.brushSelector||function(t,e){var n=t.option.seriesIndex;return null!=n&&"all"!==n&&(g.t(n)?g.r(n,e)<0:e!==n)}(e,r))return;if(g.k(f,function(r){e.brushTargetManager.controlSeries(r,n,t)&&i.push(r),d=d||y(i)}),v(r)&&y(i)){var o=n.getData();o.each(function(t){ZR(n,i,o,t)&&(c[t]=1)})}}(n,r,i)}),t.eachSeries(function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};a.selected.push(n);var r=h[e],i=t.getData(),o=v(e)?function(t){return c[t]?(n.dataIndex.push(i.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(e){return ZR(t,r,i,e)?(n.dataIndex.push(i.getRawIndex(e)),"inBrush"):"outOfBrush"};(v(e)?d:y(r))&&function(t,e,n,r,i,o){var a,s={};function u(t){return cg(n,a,t)}function l(t,e){dg(n,a,t,e)}function c(t,c){a=null==o?t:c;var h=n.getRawDataItem(a);if(!h||!1!==h.visualMap)for(var d=r.call(i,t),f=e[d],p=s[d],g=0,v=p.length;g<v;g++){var y=p[g];f[y]&&f[y].applyVisual(t,u,l)}}g.k(t,function(t){var n=PI.prepareVisualTypes(e[t]);s[t]=n}),null==o?n.each(c):n.each([o],c)}(WR,p,i,o)})}),function(t,e,n,r,i){if(!i)return;var o=t.getZr();if(o[YR])return;o[HR]||(o[HR]=QR);Ip(o,HR,n,e)(t,r)}(e,r,i,o,n)}function QR(t,e){if(!t.isDisposed()){var n=t.getZr();n[YR]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[YR]=!1}}function ZR(t,e,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i];if(t.brushSelector(r,n,a.selectors,a))return!0}}var KR={rect:function(t){return JR(t.range)},polygon:function(t){for(var e,n=t.range,r=0,i=n.length;r<i;r++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=n[r];o[0]<e[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&JR(e)}};function JR(t){return new Tt(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var $R=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new Pk(e.getZr())).on("brush",g.c(this._onBrush,this)).mount()},e.prototype.render=function(t,e,n,r){this.model=t,this._updateController(t,e,n,r)},e.prototype.updateTransform=function(t,e,n,r){XR(e),this._updateController(t,e,n,r)},e.prototype.updateVisual=function(t,e,n,r){this.updateTransform(t,e,n,r)},e.prototype.updateView=function(t,e,n,r){this._updateController(t,e,n,r)},e.prototype._updateController=function(t,e,n,r){(!r||r.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var e=this.model.id,n=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:e,areas:g.d(n),$from:e}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:e,areas:g.d(n),$from:e})},e.type="brush",e}(dp);function tB(t,e){return g.I({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new hc(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var eB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.areas=[],n.brushOption={},n}return Object(f.__extends)(e,t),e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&FR(n,t,["inBrush","outOfBrush"]);var r=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:"#ddd"},r.hasOwnProperty("liftZ")||(r.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=g.H(t,function(t){return tB(this.option,t)},this))},e.prototype.setBrushOption=function(t){this.brushOption=tB(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(_h),nB=["rect","polygon","lineX","lineY","keep","clear"],rB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n){var r,i,o;e.eachComponent({mainType:"brush"},function(t){r=t.brushType,i=t.brushOption.brushMode||"single",o=o||!!t.areas.length}),this._brushType=r,this._brushMode=i,g.k(t.get("type",!0),function(e){t.setIconStatus(e,("keep"===e?"multiple"===i:"clear"===e?o:e===r)?"emphasis":"normal")})},e.prototype.updateView=function(t,e,n){this.render(t,e,n)},e.prototype.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return g.k(t.get("type",!0),function(t){e[t]&&(n[t]=e[t])}),n},e.prototype.onclick=function(t,e,n){var r=this._brushType,i=this._brushMode;"clear"===n?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?r:r!==n&&n,brushMode:"keep"===n?"multiple"===i?"single":"multiple":i}})},e.getDefaultOption=function(t){return{show:!0,type:nB.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}},e}(wN);var iB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return Object(f.__extends)(e,t),e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(_h),oB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.render=function(t,e,n){if(this.group.removeAll(),t.get("show")){var r=this.group,i=t.getModel("textStyle"),o=t.getModel("subtextStyle"),a=t.get("textAlign"),s=g.P(t.get("textBaseline"),t.get("textVerticalAlign")),u=new Oa({style:Vl(i,{text:t.get("text"),fill:i.getTextColor()},{disableBox:!0}),z2:10}),l=u.getBoundingRect(),c=t.get("subtext"),h=new Oa({style:Vl(o,{text:c,fill:o.getTextColor(),y:l.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),d=t.get("link"),f=t.get("sublink"),p=t.get("triggerEvent",!0);u.silent=!d&&!p,h.silent=!f&&!p,d&&u.on("click",function(){lh(d,"_"+t.get("target"))}),f&&h.on("click",function(){lh(f,"_"+t.get("subtarget"))}),Ia(u).eventData=Ia(h).eventData=p?{componentType:"title",componentIndex:t.componentIndex}:null,r.add(u),c&&r.add(h);var v=r.getBoundingRect(),y=t.getBoxLayoutParams();y.width=v.width,y.height=v.height;var m=gh(y,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));a||("middle"===(a=t.get("left")||t.get("right"))&&(a="center"),"right"===a?m.x+=m.width:"center"===a&&(m.x+=m.width/2)),s||("center"===(s=t.get("top")||t.get("bottom"))&&(s="middle"),"bottom"===s?m.y+=m.height:"middle"===s&&(m.y+=m.height/2),s=s||"top"),r.x=m.x,r.y=m.y,r.markRedraw();var b={align:a,verticalAlign:s};u.setStyle(b),h.setStyle(b),v=r.getBoundingRect();var x=m.margin,A=t.getItemStyle(["color","opacity"]);A.fill=t.get("backgroundColor");var w=new ca({shape:{x:v.x-x[3],y:v.y-x[0],width:v.width+x[1]+x[3],height:v.height+x[0]+x[2],r:t.get("borderRadius")},style:A,subPixelOptimize:!0,silent:!0});r.add(w)}},e.type="title",e}(dp);var aB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode="box",n}return Object(f.__extends)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._initData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t,e=this.option,n=e.data||[],r=e.axisType,i=this._names=[];"category"===r?(t=[],Object(g.k)(n,function(e,n){var r,o=Qr(Wr(e),"");Object(g.A)(e)?(r=Object(g.d)(e)).value=n:r=n,t.push(r),i.push(o)})):t=n;var o={category:"ordinal",time:"time",value:"number"}[r]||"number";(this._data=new rm([{name:"value",type:o}],this)).initData(t,i)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(_h),sB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.type="timeline.slider",e.defaultOption=pc(aB.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(aB);Object(g.K)(sB,nf.prototype);var uB=sB,lB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.type="timeline",e}(dp),cB=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r)||this;return o.type=i||"value",o}return Object(f.__extends)(e,t),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},e}(tx),hB=Math.PI,dB=$r();function fB(t,e,n,r,i,o){var a=e.get("color");i?(i.setColor(a),n.add(i),o&&o.onUpdate(i)):((i=Eg(t.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),n.add(i),o&&o.onCreate(i));var s=e.getItemStyle(["color"]);i.setStyle(s),r=Object(g.I)({rectHover:!0,z2:100},r,!0);var u=Cg(t.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var l=kg(t.get("symbolOffset"),u);l&&(r.x=(r.x||0)+l[0],r.y=(r.y||0)+l[1]);var c=t.get("symbolRotate");return r.rotation=(c||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function pB(t,e,n,r,i,o){if(!t.dragging){var a=i.getModel("checkpointStyle"),s=r.dataToCoord(i.getData().get("value",n));if(o||!a.get("animation",!0))t.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var u={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:s,y:0},u),e&&e.animateTo({shape:{x2:s}},u)}}}var gB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.init=function(t,e){this.api=e},e.prototype.render=function(t,e,n){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var r=this._layout(t,n),i=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),a=this._axis=this._createAxis(r,t);t.formatTooltip=function(t){return Gf("nameValue",{noName:!0,value:a.scale.getLabel({value:t})})},Object(g.k)(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](r,i,a,t)},this),this._renderAxisLabel(r,o,a,t),this._position(r,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,e){var n,r,i,o,a=t.get(["label","position"]),s=t.get("orient"),u=function(t,e){return gh(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}(t,e),l={horizontal:"center",vertical:(n=null==a||"auto"===a?"horizontal"===s?u.y+u.height/2<e.getHeight()/2?"-":"+":u.x+u.width/2<e.getWidth()/2?"+":"-":Object(g.C)(a)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[s][a]:a)>=0||"+"===n?"left":"right"},c={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:hB/2},d="vertical"===s?u.height:u.width,f=t.getModel("controlStyle"),p=f.get("show",!0),v=p?f.get("itemSize"):0,y=p?f.get("itemGap"):0,m=v+y,b=t.get(["label","rotate"])||0;b=b*hB/180;var x=f.get("position",!0),A=p&&f.get("showPlayBtn",!0),w=p&&f.get("showPrevBtn",!0),_=p&&f.get("showNextBtn",!0),M=0,S=d;"left"===x||"bottom"===x?(A&&(r=[0,0],M+=m),w&&(i=[M,0],M+=m),_&&(o=[S-v,0],S-=m)):(A&&(r=[S-v,0],S-=m),w&&(i=[0,0],M+=m),_&&(o=[S-v,0],S-=m));var O=[M,S];return t.get("inverse")&&O.reverse(),{viewRect:u,mainLength:d,orient:s,rotation:h[s],labelRotation:b,labelPosOpt:n,labelAlign:t.get(["label","align"])||l[s],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||c[s],playPosition:r,prevBtnPosition:i,nextBtnPosition:o,axisExtent:O,controlSize:v,controlGap:y}},e.prototype._position=function(t,e){var n=this._mainGroup,r=this._labelGroup,i=t.viewRect;if("vertical"===t.orient){var o=[1,0,0,1,0,0],a=i.x,s=i.y+i.height;yt(o,o,[-a,-s]),mt(o,o,-hB/2),yt(o,o,[a,s]),(i=i.clone()).applyTransform(o)}var u=y(i),l=y(n.getBoundingRect()),c=y(r.getBoundingRect()),h=[n.x,n.y],d=[r.x,r.y];d[0]=h[0]=u[0][0];var f,p=t.labelPosOpt;null==p||Object(g.C)(p)?(m(h,l,u,1,f="+"===p?0:1),m(d,c,u,1,1-f)):(m(h,l,u,1,f=p>=0?0:1),d[1]=h[1]+p);function v(t){t.originX=u[0][0]-t.x,t.originY=u[1][0]-t.y}function y(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function m(t,e,n,r,i){t[r]+=n[r][i]-e[r][i]}n.setPosition(h),r.setPosition(d),n.rotation=r.rotation=t.rotation,v(n),v(r)},e.prototype._createAxis=function(t,e){var n=e.getData(),r=e.get("axisType"),i=function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new Em({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new Jm({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new Tm}}(e,r);i.getTicks=function(){return n.mapArray(["value"],function(t){return{value:t}})};var o=n.getDataExtent("value");i.setExtent(o[0],o[1]),i.calcNiceTicks();var a=new cB("value",i,t.axisExtent,r);return a.model=e,a},e.prototype._createGroup=function(t){var e=this[t]=new tr;return this.group.add(e),e},e.prototype._renderAxisLine=function(t,e,n,r){var i=n.getExtent();if(r.get(["lineStyle","show"])){var o=new Tu({shape:{x1:i[0],y1:0,x2:i[1],y2:0},style:Object(g.m)({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});e.add(o);var a=this._progressLine=new Tu({shape:{x1:i[0],x2:this._currentPointer?this._currentPointer.x:i[0],y1:0,y2:0},style:Object(g.i)({lineCap:"round",lineWidth:o.style.lineWidth},r.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});e.add(a)}},e.prototype._renderAxisTick=function(t,e,n,r){var i=this,o=r.getData(),a=n.scale.getTicks();this._tickSymbols=[],Object(g.k)(a,function(t){var a=n.dataToCoord(t.value),s=o.getItemModel(t.value),u=s.getModel("itemStyle"),l=s.getModel(["emphasis","itemStyle"]),c=s.getModel(["progress","itemStyle"]),h={x:a,y:0,onclick:Object(g.c)(i._changeTimeline,i,t.value)},d=fB(s,u,e,h);d.ensureState("emphasis").style=l.getItemStyle(),d.ensureState("progress").style=c.getItemStyle(),xs(d);var f=Ia(d);s.get("tooltip")?(f.dataIndex=t.value,f.dataModel=r):f.dataIndex=f.dataModel=null,i._tickSymbols.push(d)})},e.prototype._renderAxisLabel=function(t,e,n,r){var i=this;if(n.getLabelModel().get("show")){var o=r.getData(),a=n.getViewLabels();this._tickLabels=[],Object(g.k)(a,function(r){var a=r.tickValue,s=o.getItemModel(a),u=s.getModel("label"),l=s.getModel(["emphasis","label"]),c=s.getModel(["progress","label"]),h=n.dataToCoord(r.tickValue),d=new Oa({x:h,y:0,rotation:t.labelRotation-t.rotation,onclick:Object(g.c)(i._changeTimeline,i,a),silent:!1,style:Vl(u,{text:r.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});d.ensureState("emphasis").style=Vl(l),d.ensureState("progress").style=Vl(c),e.add(d),xs(d),dB(d).dataIndex=a,i._tickLabels.push(d)})}},e.prototype._renderControl=function(t,e,n,r){var i=t.controlSize,o=t.rotation,a=r.getModel("controlStyle").getItemStyle(),s=r.getModel(["emphasis","controlStyle"]).getItemStyle(),u=r.getPlayState(),l=r.get("inverse",!0);function c(t,n,u,l){if(t){var c=Vn(Object(g.P)(r.get(["controlStyle",n+"BtnSize"]),i),i),h=function(t,e,n,r){var i=r.style,o=kl(t.get(["controlStyle",e]),r||{},new Tt(n[0],n[1],n[2],n[3]));i&&o.setStyle(i);return o}(r,n+"Icon",[0,-c/2,c,c],{x:t[0],y:t[1],originX:i/2,originY:0,rotation:l?-o:0,rectHover:!0,style:a,onclick:u});h.ensureState("emphasis").style=s,e.add(h),xs(h)}}c(t.nextBtnPosition,"next",Object(g.c)(this._changeTimeline,this,l?"-":"+")),c(t.prevBtnPosition,"prev",Object(g.c)(this._changeTimeline,this,l?"+":"-")),c(t.playPosition,u?"stop":"play",Object(g.c)(this._handlePlayClick,this,!u),!0)},e.prototype._renderCurrentPointer=function(t,e,n,r){var i=r.getData(),o=r.getCurrentIndex(),a=i.getItemModel(o).getModel("checkpointStyle"),s=this,u={onCreate:function(t){t.draggable=!0,t.drift=Object(g.c)(s._handlePointerDrag,s),t.ondragend=Object(g.c)(s._handlePointerDragend,s),pB(t,s._progressLine,o,n,r,!0)},onUpdate:function(t){pB(t,s._progressLine,o,n,r)}};this._currentPointer=fB(a,a,this._mainGroup,{},this._currentPointer,u)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,e){var n=this._toAxisCoord(t)[0],r=gr(this._axis.getExtent().slice());n>r[1]&&(n=r[1]),n<r[0]&&(n=r[0]),this._currentPointer.x=n,this._currentPointer.markRedraw();var i=this._progressLine;i&&(i.shape.x2=n,i.dirty());var o=this._findNearestTick(n),a=this.model;(e||o!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(o)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var e=t.model;t._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){return Ml(t,this._mainGroup.getLocalTransform(),!0)},e.prototype._findNearestTick=function(t){var e,n=this.model.getData(),r=1/0,i=this._axis;return n.each(["value"],function(n,o){var a=i.dataToCoord(n),s=Math.abs(a-t);s<r&&(r=s,e=o)}),e},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),e=this._tickSymbols,n=this._tickLabels;if(e)for(var r=0;r<e.length;r++)e&&e[r]&&e[r].toggleState("progress",r<t);if(n)for(r=0;r<n.length;r++)n&&n[r]&&n[r].toggleState("progress",dB(n[r]).dataIndex<=t)},e.type="timeline.slider",e}(lB);function vB(t){var e=t&&t.timeline;g.t(e)||(e=e?[e]:[]),g.k(e,function(t){t&&function(t){var e=t.type,n={number:"value",time:"time"};n[e]&&(t.axisType=n[e],delete t.type);if(yB(t),mB(t,"controlPosition")){var r=t.controlStyle||(t.controlStyle={});mB(r,"position")||(r.position=t.controlPosition),"none"!==r.position||mB(r,"show")||(r.show=!1,delete r.position),delete t.controlPosition}g.k(t.data||[],function(t){g.A(t)&&!g.t(t)&&(!mB(t,"value")&&mB(t,"name")&&(t.value=t.name),yB(t))})}(t)})}function yB(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),r=t.label||t.label||{},i=r.normal||(r.normal={}),o={normal:1,emphasis:1};g.k(r,function(t,e){o[e]||mB(i,e)||(i[e]=t)}),n.label&&!mB(r,"emphasis")&&(r.emphasis=n.label,delete n.label)}function mB(t,e){return t.hasOwnProperty(e)}function bB(t,e){if(!t)return!1;for(var n=Object(g.t)(t)?t:[t],r=0;r<n.length;r++)if(n[r]&&n[r][e])return!0;return!1}function xB(t){Vr(t,"label",["show"])}var AB=$r(),wB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.createdBySelf=!1,n}return Object(f.__extends)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._mergeOption(t,n,!1,!0)},e.prototype.isAnimationEnabled=function(){if(p.a.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,e){this._mergeOption(t,e,!1,!1)},e.prototype._mergeOption=function(t,e,n,r){var i=this.mainType;n||e.eachSeries(function(t){var n=t.get(this.mainType,!0),o=AB(t)[i];n&&n.data?(o?o._mergeOption(n,e,!0):(r&&xB(n),g.k(n.data,function(t){t instanceof Array?(xB(t[0]),xB(t[1])):xB(t)}),o=this.createMarkerModelFromSeries(n,this,e),g.m(o,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),o.__hostSeries=t),AB(t)[i]=o):AB(t)[i]=null},this)},e.prototype.formatTooltip=function(t,e,n){var r=this.getData(),i=this.getRawValue(t),o=r.getName(t);return Gf("section",{header:this.name,blocks:[Gf("nameValue",{name:o,value:i,noName:!o,noValue:null==i})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,e){return AB(t)[e]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(_h);g.K(wB,nf.prototype);var _B=wB,MB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,r){return new e(t,n,r)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(_B);function SB(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function OB(t,e,n,r,i,o){var a=[],s=hm(e,r)?e.getCalculationInfo("stackResultDimension"):r,u=DB(e,s,t),l=e.indicesOfNearest(s,u)[0];a[i]=e.get(n,l),a[o]=e.get(s,l);var c=e.get(r,l),h=vr(e.get(r,l));return(h=Math.min(h,20))>=0&&(a[o]=+a[o].toFixed(h)),[a,c]}var IB={min:Object(g.h)(OB,"min"),max:Object(g.h)(OB,"max"),average:Object(g.h)(OB,"average"),median:Object(g.h)(OB,"median")};function EB(t,e){if(e){var n=t.getData(),r=t.coordinateSystem,i=r.dimensions;if(!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!Object(g.t)(e.coord)&&r){var o=CB(e,n,r,t);if((e=Object(g.d)(e)).type&&IB[e.type]&&o.baseAxis&&o.valueAxis){var a=Object(g.r)(i,o.baseAxis.dim),s=Object(g.r)(i,o.valueAxis.dim),u=IB[e.type](n,o.baseDataDim,o.valueDataDim,a,s);e.coord=u[0],e.value=u[1]}else e.coord=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis]}if(null==e.coord)e.coord=[];else for(var l=e.coord,c=0;c<2;c++)IB[l[c]]&&(l[c]=DB(n,n.mapDimension(i[c]),l[c]));return e}}function CB(t,e,n,r){var i={};return null!=t.valueIndex||null!=t.valueDim?(i.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,i.valueAxis=n.getAxis(function(t,e){var n=t.getData().getDimensionInfo(e);return n&&n.coordDim}(r,i.valueDataDim)),i.baseAxis=n.getOtherAxis(i.valueAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=n.getOtherAxis(i.baseAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim),i.valueDataDim=e.mapDimension(i.valueAxis.dim)),i}function kB(t,e){return!(t&&t.containData&&e.coord&&!SB(e))||t.containData(e.coord)}function TB(t,e){return t?function(t,n,r,i){return uf(i<2?t.coord&&t.coord[i]:t.value,e[i])}:function(t,n,r,i){return uf(t.value,e[i])}}function DB(t,e,n){if("average"===n){var r=0,i=0;return t.each(e,function(t,e){isNaN(t)||(r+=t,i++)}),r/i}return"median"===n?t.getMedian(e):t.getDataExtent(e)["max"===n?1:0]}var jB=$r(),LB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.init=function(){this.markerGroupMap=Object(g.f)()},e.prototype.render=function(t,e,n){var r=this,i=this.markerGroupMap;i.each(function(t){jB(t).keep=!1}),e.eachSeries(function(t){var i=_B.getMarkerModelFromSeries(t,r.type);i&&r.renderSeries(t,i,e,n)}),i.each(function(t){!jB(t).keep&&r.group.remove(t.group)})},e.prototype.markKeep=function(t){jB(t).keep=!0},e.prototype.toggleBlurSeries=function(t,e){var n=this;Object(g.k)(t,function(t){var r=_B.getMarkerModelFromSeries(t,n.type);r&&r.getData().eachItemGraphicEl(function(t){t&&(e?cs(t):hs(t))})})},e.type="marker",e}(dp);function PB(t,e,n){var r=e.coordinateSystem;t.each(function(i){var o,a=t.getItemModel(i),s=fr(a.get("x"),n.getWidth()),u=fr(a.get("y"),n.getHeight());if(isNaN(s)||isNaN(u)){if(e.getMarkerPosition)o=e.getMarkerPosition(t.getValues(t.dimensions,i));else if(r){var l=t.get(r.dimensions[0],i),c=t.get(r.dimensions[1],i);o=r.dataToPoint([l,c])}}else o=[s,u];isNaN(s)||(o[0]=s),isNaN(u)||(o[1]=u),t.setItemLayout(i,o)})}var NB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries(function(t){var e=_B.getMarkerModelFromSeries(t,"markPoint");e&&(PB(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout())},this)},e.prototype.renderSeries=function(t,e,n,r){var i=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,u=s.get(o)||s.set(o,new fw),l=function(t,e,n){var r;r=t?Object(g.H)(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return Object(g.m)(Object(g.m)({},n),{name:t,ordinalMeta:null})}):[{name:"value",type:"float"}];var i=new rm(r,n),o=Object(g.H)(n.get("data"),Object(g.h)(EB,e));t&&(o=Object(g.n)(o,Object(g.h)(kB,t)));var a=TB(!!t,r);return i.initData(o,null,a),i}(i,t,e);e.setData(l),PB(e.getData(),t,r),l.each(function(t){var n=l.getItemModel(t),r=n.getShallow("symbol"),i=n.getShallow("symbolSize"),o=n.getShallow("symbolRotate"),s=n.getShallow("symbolOffset"),u=n.getShallow("symbolKeepAspect");if(Object(g.w)(r)||Object(g.w)(i)||Object(g.w)(o)||Object(g.w)(s)){var c=e.getRawValue(t),h=e.getDataParams(t);Object(g.w)(r)&&(r=r(c,h)),Object(g.w)(i)&&(i=i(c,h)),Object(g.w)(o)&&(o=o(c,h)),Object(g.w)(s)&&(s=s(c,h))}var d=n.getModel("itemStyle").getItemStyle(),f=hg(a,"color");d.fill||(d.fill=f),l.setItemVisual(t,{symbol:r,symbolSize:i,symbolRotate:o,symbolOffset:s,symbolKeepAspect:u,style:d})}),u.updateData(l),this.group.add(u.group),l.eachItemGraphicEl(function(t){t.traverse(function(t){Ia(t).dataModel=e})}),this.markKeep(u),u.group.silent=e.get("silent")||t.get("silent")},e.type="markPoint",e}(LB);var RB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,r){return new e(t,n,r)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(_B),BB=$r(),zB=function(t,e,n,r){var i,o=t.getData();if(Object(g.t)(r))i=r;else{var a=r.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=r.xAxis||null!=r.yAxis){var s=void 0,u=void 0;if(null!=r.yAxis||null!=r.xAxis)s=e.getAxis(null!=r.yAxis?"y":"x"),u=Object(g.O)(r.yAxis,r.xAxis);else{var l=CB(r,o,e,t);s=l.valueAxis,u=DB(o,dm(o,l.valueDataDim),a)}var c="x"===s.dim?0:1,h=1-c,d=Object(g.d)(r),f={coord:[]};d.type=null,d.coord=[],d.coord[h]=-1/0,f.coord[h]=1/0;var p=n.get("precision");p>=0&&Object(g.z)(u)&&(u=+u.toFixed(Math.min(p,20))),d.coord[c]=f.coord[c]=u,i=[d,f,{type:a,valueIndex:r.valueIndex,value:u}]}else i=[]}var v=[EB(t,i[0]),EB(t,i[1]),Object(g.m)({},i[2])];return v[2].type=v[2].type||null,Object(g.I)(v[2],v[0]),Object(g.I)(v[2],v[1]),v};function FB(t){return!isNaN(t)&&!isFinite(t)}function GB(t,e,n,r){var i=1-t,o=r.dimensions[t];return FB(e[i])&&FB(n[i])&&e[t]===n[t]&&r.getAxis(o).containData(e[t])}function VB(t,e){if("cartesian2d"===t.type){var n=e[0].coord,r=e[1].coord;if(n&&r&&(GB(1,n,r,t)||GB(0,n,r,t)))return!0}return kB(t,e[0])&&kB(t,e[1])}function UB(t,e,n,r,i){var o,a=r.coordinateSystem,s=t.getItemModel(e),u=fr(s.get("x"),i.getWidth()),l=fr(s.get("y"),i.getHeight());if(isNaN(u)||isNaN(l)){if(r.getMarkerPosition)o=r.getMarkerPosition(t.getValues(t.dimensions,e));else{var c=a.dimensions,h=t.get(c[0],e),d=t.get(c[1],e);o=a.dataToPoint([h,d])}if(Iw(a,"cartesian2d")){var f=a.getAxis("x"),p=a.getAxis("y");c=a.dimensions;FB(t.get(c[0],e))?o[0]=f.toGlobalCoord(f.getExtent()[n?0:1]):FB(t.get(c[1],e))&&(o[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(u)||(o[0]=u),isNaN(l)||(o[1]=l)}else o=[u,l];t.setItemLayout(e,o)}var WB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries(function(t){var e=_B.getMarkerModelFromSeries(t,"markLine");if(e){var r=e.getData(),i=BB(e).from,o=BB(e).to;i.each(function(e){UB(i,e,!0,t,n),UB(o,e,!1,t,n)}),r.each(function(t){r.setItemLayout(t,[i.getItemLayout(t),o.getItemLayout(t)])}),this.markerGroupMap.get(t.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,e,n,r){var i=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,u=s.get(o)||s.set(o,new zE);this.group.add(u.group);var l=function(t,e,n){var r;r=t?Object(g.H)(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return Object(g.m)(Object(g.m)({},n),{name:t,ordinalMeta:null})}):[{name:"value",type:"float"}];var i=new rm(r,n),o=new rm(r,n),a=new rm([],n),s=Object(g.H)(n.get("data"),Object(g.h)(zB,e,t,n));t&&(s=Object(g.n)(s,Object(g.h)(VB,t)));var u=TB(!!t,r);return i.initData(Object(g.H)(s,function(t){return t[0]}),null,u),o.initData(Object(g.H)(s,function(t){return t[1]}),null,u),a.initData(Object(g.H)(s,function(t){return t[2]})),a.hasItemOption=!0,{from:i,to:o,line:a}}(i,t,e),c=l.from,h=l.to,d=l.line;BB(e).from=c,BB(e).to=h,e.setData(d);var f=e.get("symbol"),p=e.get("symbolSize"),v=e.get("symbolRotate"),y=e.get("symbolOffset");function m(e,n,i){var o=e.getItemModel(n);UB(e,n,i,t,r);var s=o.getModel("itemStyle").getItemStyle();null==s.fill&&(s.fill=hg(a,"color")),e.setItemVisual(n,{symbolKeepAspect:o.get("symbolKeepAspect"),symbolOffset:Object(g.P)(o.get("symbolOffset",!0),y[i?0:1]),symbolRotate:Object(g.P)(o.get("symbolRotate",!0),v[i?0:1]),symbolSize:Object(g.P)(o.get("symbolSize"),p[i?0:1]),symbol:Object(g.P)(o.get("symbol",!0),f[i?0:1]),style:s})}Object(g.t)(f)||(f=[f,f]),Object(g.t)(p)||(p=[p,p]),Object(g.t)(v)||(v=[v,v]),Object(g.t)(y)||(y=[y,y]),l.from.each(function(t){m(c,t,!0),m(h,t,!1)}),d.each(function(t){var e=d.getItemModel(t).getModel("lineStyle").getLineStyle();d.setItemLayout(t,[c.getItemLayout(t),h.getItemLayout(t)]),null==e.stroke&&(e.stroke=c.getItemVisual(t,"style").fill),d.setItemVisual(t,{fromSymbolKeepAspect:c.getItemVisual(t,"symbolKeepAspect"),fromSymbolOffset:c.getItemVisual(t,"symbolOffset"),fromSymbolRotate:c.getItemVisual(t,"symbolRotate"),fromSymbolSize:c.getItemVisual(t,"symbolSize"),fromSymbol:c.getItemVisual(t,"symbol"),toSymbolKeepAspect:h.getItemVisual(t,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(t,"symbolOffset"),toSymbolRotate:h.getItemVisual(t,"symbolRotate"),toSymbolSize:h.getItemVisual(t,"symbolSize"),toSymbol:h.getItemVisual(t,"symbol"),style:e})}),u.updateData(d),l.line.eachItemGraphicEl(function(t){Ia(t).dataModel=e,t.traverse(function(t){Ia(t).dataModel=e})}),this.markKeep(u),u.group.silent=e.get("silent")||t.get("silent")},e.type="markLine",e}(LB);var HB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,r){return new e(t,n,r)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(_B),YB=$r(),XB=function(t,e,n,r){var i=r[0],o=r[1];if(i&&o){var a=EB(t,i),s=EB(t,o),u=a.coord,l=s.coord;u[0]=Object(g.O)(u[0],-1/0),u[1]=Object(g.O)(u[1],-1/0),l[0]=Object(g.O)(l[0],1/0),l[1]=Object(g.O)(l[1],1/0);var c=Object(g.J)([{},a,s]);return c.coord=[a.coord,s.coord],c.x0=a.x,c.y0=a.y,c.x1=s.x,c.y1=s.y,c}};function qB(t){return!isNaN(t)&&!isFinite(t)}function QB(t,e,n,r){var i=1-t;return qB(e[i])&&qB(n[i])}function ZB(t,e){var n=e.coord[0],r=e.coord[1],i={coord:n,x:e.x0,y:e.y0},o={coord:r,x:e.x1,y:e.y1};return Iw(t,"cartesian2d")?!(!n||!r||!QB(1,n,r)&&!QB(0,n,r))||function(t,e,n){return!(t&&t.containZone&&e.coord&&n.coord&&!SB(e)&&!SB(n))||t.containZone(e.coord,n.coord)}(t,i,o):kB(t,i)||kB(t,o)}function KB(t,e,n,r,i){var o,a=r.coordinateSystem,s=t.getItemModel(e),u=fr(s.get(n[0]),i.getWidth()),l=fr(s.get(n[1]),i.getHeight());if(isNaN(u)||isNaN(l)){if(r.getMarkerPosition){var c=t.getValues(["x0","y0"],e),h=t.getValues(["x1","y1"],e),d=a.clampData(c),f=a.clampData(h),p=[];"x0"===n[0]?p[0]=d[0]>f[0]?h[0]:c[0]:p[0]=d[0]>f[0]?c[0]:h[0],"y0"===n[1]?p[1]=d[1]>f[1]?h[1]:c[1]:p[1]=d[1]>f[1]?c[1]:h[1],o=r.getMarkerPosition(p,n,!0)}else{var g=[m=t.get(n[0],e),b=t.get(n[1],e)];a.clampData&&a.clampData(g,g),o=a.dataToPoint(g,!0)}if(Iw(a,"cartesian2d")){var v=a.getAxis("x"),y=a.getAxis("y"),m=t.get(n[0],e),b=t.get(n[1],e);qB(m)?o[0]=v.toGlobalCoord(v.getExtent()["x0"===n[0]?0:1]):qB(b)&&(o[1]=y.toGlobalCoord(y.getExtent()["y0"===n[1]?0:1]))}isNaN(u)||(o[0]=u),isNaN(l)||(o[1]=l)}else o=[u,l];return o}var JB=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];var $B=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries(function(t){var e=_B.getMarkerModelFromSeries(t,"markArea");if(e){var r=e.getData();r.each(function(e){var i=Object(g.H)(JB,function(i){return KB(r,e,i,t,n)});r.setItemLayout(e,i),r.getItemGraphicEl(e).setShape("points",i)})}},this)},e.prototype.renderSeries=function(t,e,n,r){var i=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,u=s.get(o)||s.set(o,{group:new tr});this.group.add(u.group),this.markKeep(u);var l=function(t,e,n){var r,i;if(t){var o=Object(g.H)(t&&t.dimensions,function(t){var n=e.getData(),r=n.getDimensionInfo(n.mapDimension(t))||{};return Object(g.m)(Object(g.m)({},r),{name:t,ordinalMeta:null})});i=Object(g.H)(["x0","y0","x1","y1"],function(t,e){return{name:t,type:o[e%2].type}}),r=new rm(i,n)}else r=new rm(i=[{name:"value",type:"float"}],n);var a=Object(g.H)(n.get("data"),Object(g.h)(XB,e,t,n));t&&(a=Object(g.n)(a,Object(g.h)(ZB,t)));var s=t?function(t,e,n,r){var o=t.coord[Math.floor(r/2)][r%2];return uf(o,i[r])}:function(t,e,n,r){return uf(t.value,i[r])};return r.initData(a,null,s),r.hasItemOption=!0,r}(i,t,e);e.setData(l),l.each(function(e){var n=Object(g.H)(JB,function(n){return KB(l,e,n,t,r)}),o=i.getAxis("x").scale,s=i.getAxis("y").scale,u=o.getExtent(),c=s.getExtent(),h=[o.parse(l.get("x0",e)),o.parse(l.get("x1",e))],d=[s.parse(l.get("y0",e)),s.parse(l.get("y1",e))];gr(h),gr(d);var f=!!(u[0]>h[1]||u[1]<h[0]||c[0]>d[1]||c[1]<d[0]);l.setItemLayout(e,{points:n,allClipped:f});var p=l.getItemModel(e).getModel("itemStyle").getItemStyle(),v=hg(a,"color");p.fill||(p.fill=v,Object(g.C)(p.fill)&&(p.fill=je.e(p.fill,.4))),p.stroke||(p.stroke=v),l.setItemVisual(e,"style",p)}),l.diff(YB(u).data).add(function(t){var e=l.getItemLayout(t);if(!e.allClipped){var n=new Mu({shape:{points:e.points}});l.setItemGraphicEl(t,n),u.group.add(n)}}).update(function(t,n){var r=YB(u).data.getItemGraphicEl(n),i=l.getItemLayout(t);i.allClipped?r&&u.group.remove(r):(r?tl(r,{shape:{points:i.points}},e,t):r=new Mu({shape:{points:i.points}}),l.setItemGraphicEl(t,r),u.group.add(r))}).remove(function(t){var e=YB(u).data.getItemGraphicEl(t);u.group.remove(e)}).execute(),l.eachItemGraphicEl(function(t,n){var r=l.getItemModel(n),i=l.getItemVisual(n,"style");t.useStyle(l.getItemVisual(n,"style")),Fl(t,Gl(r),{labelFetcher:e,labelDataIndex:n,defaultText:l.getName(n)||"",inheritColor:Object(g.C)(i.fill)?je.e(i.fill,1):"#000"}),Ss(t,r),As(t,null,null,r.get(["emphasis","disabled"])),Ia(t).dataModel=e}),YB(u).data=l,u.group.silent=e.get("silent")||t.get("silent")},e.type="markArea",e}(LB);var tz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return Object(f.__extends)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,n=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),g.t(e)&&g.k(e,function(t,r){g.C(t)&&(t={type:t}),e[r]=g.I(t,function(t,e){return"all"===e?{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(n,t.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var r=t[n].get("name");if(this.isSelected(r)){this.select(r),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],n=[];t.eachRawSeries(function(r){var i,o=r.name;if(n.push(o),r.legendVisualProvider){var a=r.legendVisualProvider.getAllNames();t.isSeriesFiltered(r)||(n=n.concat(a)),a.length?e=e.concat(a):i=!0}else i=!0;i&&Zr(r)&&e.push(r.name)}),this._availableNames=n;var r=this.get("data")||e,i=g.f(),o=g.H(r,function(t){return(g.C(t)||g.z(t))&&(t={name:t}),i.get(t.name)?null:(i.set(t.name,!0),new hc(t,this,this.ecModel))},this);this._data=g.n(o,function(t){return!!t})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected;if("single"===this.get("selectedMode")){var n=this._data;g.k(n,function(t){e[t.get("name")]=!1})}e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;g.k(t,function(t){e[t.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;g.k(t,function(t){var n=t.get("name",!0);e.hasOwnProperty(n)||(e[n]=!0),e[n]=!e[n]})},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&g.r(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(_h),ez=g.h,nz=g.k,rz=tr;function iz(t,e,n,r){sz(t,e,n,r),n.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),az(t,e,n,r)}function oz(t){for(var e,n=t.getZr().storage.getDisplayList(),r=0,i=n.length;r<i&&!(e=n[r].states.emphasis);)r++;return e&&e.hoverLayer}function az(t,e,n,r){oz(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:r})}function sz(t,e,n,r){oz(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:r})}var uz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!1,n}return Object(f.__extends)(e,t),e.prototype.init=function(){this.group.add(this._contentGroup=new rz),this.group.add(this._selectorGroup=new rz),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,e,n){var r=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var i=t.get("align"),o=t.get("orient");i&&"auto"!==i||(i="right"===t.get("left")&&"vertical"===o?"right":"left");var a=t.get("selector",!0),s=t.get("selectorPosition",!0);!a||s&&"auto"!==s||(s="horizontal"===o?"end":"start"),this.renderInner(i,t,e,n,a,o,s);var u=t.getBoxLayoutParams(),l={width:n.getWidth(),height:n.getHeight()},c=t.get("padding"),h=gh(u,l,c),d=this.layoutInner(t,i,h,r,a,s),f=gh(g.i({width:d.width,height:d.height},u),l,c);this.group.x=f.x-d.x,this.group.y=f.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=IN(d,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,e,n,r,i,o,a){var s=this.getContentGroup(),u=g.f(),l=e.get("selectedMode"),c=[];n.eachRawSeries(function(t){!t.get("legendHoverLink")&&c.push(t.id)}),nz(e.getData(),function(i,o){var a=i.get("name");if(!this.newlineDisabled&&(""===a||"\n"===a)){var h=new rz;return h.newline=!0,void s.add(h)}var d=n.getSeriesByName(a)[0];if(!u.get(a)){if(d){var f=d.getData(),p=f.getVisual("legendLineStyle")||{},v=f.getVisual("legendIcon"),y=f.getVisual("style");this._createItem(d,a,o,i,e,t,p,y,v,l,r).on("click",ez(iz,a,null,r,c)).on("mouseover",ez(az,d.name,null,r,c)).on("mouseout",ez(sz,d.name,null,r,c)),u.set(a,!0)}else n.eachRawSeries(function(n){if(!u.get(a)&&n.legendVisualProvider){var s=n.legendVisualProvider;if(!s.containName(a))return;var h=s.indexOfName(a),d=s.getItemVisual(h,"style"),f=s.getItemVisual(h,"legendIcon"),p=Object(je.g)(d.fill);p&&0===p[3]&&(p[3]=.2,d=g.m(g.m({},d),{fill:Object(je.h)(p,"rgba")})),this._createItem(n,a,o,i,e,t,{},d,f,l,r).on("click",ez(iz,null,a,r,c)).on("mouseover",ez(az,null,a,r,c)).on("mouseout",ez(sz,null,a,r,c)),u.set(a,!0)}},this);0}},this),i&&this._createSelector(i,e,r,o,a)},e.prototype._createSelector=function(t,e,n,r,i){var o=this.getSelectorGroup();nz(t,function(t){var r=t.type,i=new Oa({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===r?"legendAllSelect":"legendInverseSelect"})}});o.add(i),Fl(i,{normal:e.getModel("selectorLabel"),emphasis:e.getModel(["emphasis","selectorLabel"])},{defaultText:t.title}),xs(i)})},e.prototype._createItem=function(t,e,n,r,i,o,a,s,u,l,c){var h=t.visualDrawType,d=i.get("itemWidth"),f=i.get("itemHeight"),p=i.isSelected(e),v=r.get("symbolRotate"),y=r.get("symbolKeepAspect"),m=r.get("icon"),b=function(t,e,n,r,i,o,a){function s(t,e){"auto"===t.lineWidth&&(t.lineWidth=e.lineWidth>0?2:0),nz(t,function(n,r){"inherit"===t[r]&&(t[r]=e[r])})}var u=e.getModel("itemStyle"),l=u.getItemStyle(),c=0===t.lastIndexOf("empty",0)?"fill":"stroke",h=u.getShallow("decal");l.decal=h&&"inherit"!==h?ov(h,a):r.decal,"inherit"===l.fill&&(l.fill=r[i]);"inherit"===l.stroke&&(l.stroke=r[c]);"inherit"===l.opacity&&(l.opacity=("fill"===i?r:n).opacity);s(l,r);var d=e.getModel("lineStyle"),f=d.getLineStyle();if(s(f,n),"auto"===l.fill&&(l.fill=r.fill),"auto"===l.stroke&&(l.stroke=r.fill),"auto"===f.stroke&&(f.stroke=r.fill),!o){var p=e.get("inactiveBorderWidth"),g=l[c];l.lineWidth="auto"===p?r.lineWidth>0&&g?2:0:l.lineWidth,l.fill=e.get("inactiveColor"),l.stroke=e.get("inactiveBorderColor"),f.stroke=d.get("inactiveColor"),f.lineWidth=d.get("inactiveWidth")}return{itemStyle:l,lineStyle:f}}(u=m||u||"roundRect",r,a,s,h,p,c),x=new rz,A=r.getModel("textStyle");if(!g.w(t.getLegendIcon)||m&&"inherit"!==m){var w="inherit"===m&&t.getData().getVisual("symbol")?"inherit"===v?t.getData().getVisual("symbolRotate"):v:0;x.add(function(t){var e=t.icon||"roundRect",n=Eg(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);n.setStyle(t.itemStyle),n.rotation=(t.iconRotate||0)*Math.PI/180,n.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2);return n}({itemWidth:d,itemHeight:f,icon:u,iconRotate:w,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:y}))}else x.add(t.getLegendIcon({itemWidth:d,itemHeight:f,icon:u,iconRotate:v,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:y}));var _="left"===o?d+5:-5,M=o,S=i.get("formatter"),O=e;g.C(S)&&S?O=S.replace("{name}",null!=e?e:""):g.w(S)&&(O=S(e));var I=r.get("inactiveColor");x.add(new Oa({style:Vl(A,{text:O,x:_,y:f/2,fill:p?A.getTextColor():I,align:M,verticalAlign:"middle"})}));var E=new ca({shape:x.getBoundingRect(),invisible:!0}),C=r.getModel("tooltip");return C.get("show")&&Ll({el:E,componentModel:i,itemName:e,itemTooltipOption:C.option}),x.add(E),x.eachChild(function(t){t.silent=!0}),E.silent=!l,this.getContentGroup().add(x),xs(x),x.__legendDataIndex=n,x},e.prototype.layoutInner=function(t,e,n,r,i,o){var a=this.getContentGroup(),s=this.getSelectorGroup();ph(t.get("orient"),a,t.get("itemGap"),n.width,n.height);var u=a.getBoundingRect(),l=[-u.x,-u.y];if(s.markRedraw(),a.markRedraw(),i){ph("horizontal",s,t.get("selectorItemGap",!0));var c=s.getBoundingRect(),h=[-c.x,-c.y],d=t.get("selectorButtonGap",!0),f=t.getOrient().index,p=0===f?"width":"height",g=0===f?"height":"width",v=0===f?"y":"x";"end"===o?h[f]+=u[p]+d:l[f]+=c[p]+d,h[1-f]+=u[g]/2-c[g]/2,s.x=h[0],s.y=h[1],a.x=l[0],a.y=l[1];var y={x:0,y:0};return y[p]=u[p]+d+c[p],y[g]=Math.max(u[g],c[g]),y[v]=Math.min(0,c[v]+h[1-f]),y}return a.x=l[0],a.y=l[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(dp);function lz(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}function cz(t,e,n){var r,i={},o="toggleSelected"===t;return n.eachComponent("legend",function(n){o&&null!=r?n[r?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),r=n.isSelected(e.name));var a=n.getData();Object(g.k)(a,function(t){var e=t.get("name");if("\n"!==e&&""!==e){var r=n.isSelected(e);i.hasOwnProperty(e)?i[e]=i[e]&&r:i[e]=r}})}),"allSelect"===t||"inverseSelect"===t?{selected:i}:{name:e.name,selected:i}}function hz(t){t.registerComponentModel(tz),t.registerComponentView(uz),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,lz),t.registerSubTypeDefaulter("legend",function(){return"plain"}),function(t){t.registerAction("legendToggleSelect","legendselectchanged",Object(g.h)(cz,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",Object(g.h)(cz,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",Object(g.h)(cz,"inverseSelect")),t.registerAction("legendSelect","legendselected",Object(g.h)(cz,"select")),t.registerAction("legendUnSelect","legendunselected",Object(g.h)(cz,"unSelect"))}(t)}function dz(t,e,n){var r=[1,1];r[t.getOrient().index]=0,mh(e,n,{type:"box",ignoreSize:!!r})}var fz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,n,r){var i=bh(e);t.prototype.init.call(this,e,n,r),dz(this,e,i)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),dz(this,this.option,e)},e.type="legend.scroll",e.defaultOption=pc(tz.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(tz),pz=tr,gz=["width","height"],vz=["x","y"],yz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!0,n._currentIndex=0,n}return Object(f.__extends)(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new pz),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new pz)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,n,r,i,o,a,s){var u=this;t.prototype.renderInner.call(this,e,n,r,i,o,a,s);var l=this._controllerGroup,c=n.get("pageIconSize",!0),h=g.t(c)?c:[c,c];f("pagePrev",0);var d=n.getModel("pageTextStyle");function f(t,e){var r=t+"DataIndex",o=kl(n.get("pageIcons",!0)[n.getOrient().name][e],{onclick:g.c(u._pageGo,u,r,n,i)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});o.name=t,l.add(o)}l.add(new Oa({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),f("pageNext",1)},e.prototype.layoutInner=function(t,e,n,r,i,o){var a=this.getSelectorGroup(),s=t.getOrient().index,u=gz[s],l=vz[s],c=gz[1-s],h=vz[1-s];i&&ph("horizontal",a,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),f=a.getBoundingRect(),p=[-f.x,-f.y],v=g.d(n);i&&(v[u]=n[u]-f[u]-d);var y=this._layoutContentAndController(t,r,v,s,u,c,h,l);if(i){if("end"===o)p[s]+=y[u]+d;else{var m=f[u]+d;p[s]-=m,y[l]-=m}y[u]+=f[u]+d,p[1-s]+=y[h]+y[c]/2-f[c]/2,y[c]=Math.max(y[c],f[c]),y[h]=Math.min(y[h],f[h]+p[1-s]),a.x=p[0],a.y=p[1],a.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,e,n,r,i,o,a,s){var u=this.getContentGroup(),l=this._containerGroup,c=this._controllerGroup;ph(t.get("orient"),u,t.get("itemGap"),r?n.width:null,r?null:n.height),ph("horizontal",c,t.get("pageButtonItemGap",!0));var h=u.getBoundingRect(),d=c.getBoundingRect(),f=this._showController=h[i]>n[i],p=[-h.x,-h.y];e||(p[r]=u[s]);var v=[0,0],y=[-d.x,-d.y],m=g.P(t.get("pageButtonGap",!0),t.get("itemGap",!0));f&&("end"===t.get("pageButtonPosition",!0)?y[r]+=n[i]-d[i]:v[r]+=d[i]+m);y[1-r]+=h[o]/2-d[o]/2,u.setPosition(p),l.setPosition(v),c.setPosition(y);var b={x:0,y:0};if(b[i]=f?n[i]:h[i],b[o]=Math.max(h[o],d[o]),b[a]=Math.min(0,d[a]+y[1-r]),l.__rectSize=n[i],f){var x={x:0,y:0};x[i]=Math.max(n[i]-d[i]-m,0),x[o]=b[o],l.setClipPath(new ca({shape:x})),l.__rectSize=x[i]}else c.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var A=this._getPageInfo(t);return null!=A.pageIndex&&tl(u,{x:A.contentPosition[0],y:A.contentPosition[1]},f?t:null),this._updatePageInfoView(t,A),b},e.prototype._pageGo=function(t,e,n){var r=this._getPageInfo(e)[t];null!=r&&n.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var n=this._controllerGroup;g.k(["pagePrev","pageNext"],function(r){var i=null!=e[r+"DataIndex"],o=n.childOfName(r);o&&(o.setStyle("fill",i?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),o.cursor=i?"pointer":"default")});var r=n.childOfName("pageText"),i=t.get("pageFormatter"),o=e.pageIndex,a=null!=o?o+1:0,s=e.pageCount;r&&i&&r.setStyle("text",g.C(i)?i.replace("{current}",null==a?"":a+"").replace("{total}",null==s?"":s+""):i({current:a,total:s}))},e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),n=this.getContentGroup(),r=this._containerGroup.__rectSize,i=t.getOrient().index,o=gz[i],a=vz[i],s=this._findTargetItemIndex(e),u=n.children(),l=u[s],c=u.length,h=c?1:0,d={contentPosition:[n.x,n.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!l)return d;var f=m(l);d.contentPosition[i]=-f.s;for(var p=s+1,g=f,v=f,y=null;p<=c;++p)(!(y=m(u[p]))&&v.e>g.s+r||y&&!b(y,g.s))&&(g=v.i>g.i?v:y)&&(null==d.pageNextDataIndex&&(d.pageNextDataIndex=g.i),++d.pageCount),v=y;for(p=s-1,g=f,v=f,y=null;p>=-1;--p)(y=m(u[p]))&&b(v,y.s)||!(g.i<v.i)||(v=g,null==d.pagePrevDataIndex&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=y;return d;function m(t){if(t){var e=t.getBoundingRect(),n=e[a]+t[a];return{s:n,e:n+e[o],i:t.__legendDataIndex}}}function b(t,e){return t.e>=e&&t.s<=e+r}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild(function(r,i){var o=r.__legendDataIndex;null==n&&null!=o&&(n=i),o===t&&(e=i)}),null!=e?e:n):0;var e,n},e.type="legend.scroll",e}(uz);function mz(t){ky(hz),t.registerComponentModel(fz),t.registerComponentView(yz),function(t){t.registerAction("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(n)})})}(t)}var bz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.type="dataZoom.inside",e.defaultOption=pc(hN.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(hN),xz=$r();function Az(t,e){if(e){t.removeKey(e.model.uid);var n=e.controller;n&&n.dispose()}}function wz(t,e){t.isDisposed()||t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function _z(t,e,n,r){return t.coordinateSystem.containPoint([n,r])}function Mz(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,function(t,e){var n=xz(e),r=n.coordSysRecordMap||(n.coordSysRecordMap=Object(g.f)());r.each(function(t){t.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(t){var n=uN(t);Object(g.k)(n.infoList,function(n){var i=n.model.uid,o=r.get(i)||r.set(i,function(t,e){var n={model:e,containsPoint:Object(g.h)(_z,e),dispatchAction:Object(g.h)(wz,t),dataZoomInfoMap:null,controller:null},r=n.controller=new $M(t.getZr());return Object(g.k)(["pan","zoom","scrollMove"],function(t){r.on(t,function(e){var r=[];n.dataZoomInfoMap.each(function(i){if(e.isAvailableBehavior(i.model.option)){var o=(i.getRange||{})[t],a=o&&o(i.dzReferCoordSysInfo,n.model.mainType,n.controller,e);!i.model.get("disabled",!0)&&a&&r.push({dataZoomId:i.model.id,start:a[0],end:a[1]})}}),r.length&&n.dispatchAction(r)})}),n}(e,n.model));(o.dataZoomInfoMap||(o.dataZoomInfoMap=Object(g.f)())).set(t.uid,{dzReferCoordSysInfo:n,model:t,getRange:null})})}),r.each(function(t){var e,n=t.controller,i=t.dataZoomInfoMap;if(i){var o=i.keys()[0];null!=o&&(e=i.get(o))}if(e){var a=function(t){var e,n={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return t.each(function(t){var i=t.model,o=!i.get("disabled",!0)&&(!i.get("zoomLock",!0)||"move");n["type_"+o]>n["type_"+e]&&(e=o),r=r&&i.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}(i);n.enable(a.controlType,a.opt),n.setPointerChecker(t.containsPoint),Ip(t,"dispatchAction",e.model.get("throttle",!0),"fixRate")}else Az(r,t)})})}var Sz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return Object(f.__extends)(e,t),e.prototype.render=function(e,n,r){t.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),function(t,e,n){xz(t).coordSysRecordMap.each(function(t){var r=t.dataZoomInfoMap.get(e.uid);r&&(r.getRange=n)})}(r,e,{pan:Object(g.c)(Oz.pan,this),zoom:Object(g.c)(Oz.zoom,this),scrollMove:Object(g.c)(Oz.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){!function(t,e){for(var n=xz(t).coordSysRecordMap,r=n.keys(),i=0;i<r.length;i++){var o=r[i],a=n.get(o),s=a.dataZoomInfoMap;if(s){var u=e.uid;s.get(u)&&(s.removeKey(u),s.keys().length||Az(n,a))}}}(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(fN),Oz={zoom:function(t,e,n,r){var i=this.range,o=i.slice(),a=t.axisModels[0];if(a){var s=Ez[e](null,[r.originX,r.originY],a,n,t),u=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],l=Math.max(1/r.scale,0);o[0]=(o[0]-u)*l+u,o[1]=(o[1]-u)*l+u;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return DC(0,o,[0,100],0,c.minSpan,c.maxSpan),this.range=o,i[0]!==o[0]||i[1]!==o[1]?o:void 0}},pan:Iz(function(t,e,n,r,i,o){var a=Ez[r]([o.oldX,o.oldY],[o.newX,o.newY],e,i,n);return a.signal*(t[1]-t[0])*a.pixel/a.pixelLength}),scrollMove:Iz(function(t,e,n,r,i,o){return Ez[r]([0,0],[o.scrollDelta,o.scrollDelta],e,i,n).signal*(t[1]-t[0])*o.scrollDelta})};function Iz(t){return function(e,n,r,i){var o=this.range,a=o.slice(),s=e.axisModels[0];if(s)return DC(t(a,s,e,n,r,i),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}var Ez={grid:function(t,e,n,r,i){var o=n.axis,a={},s=i.model.coordinateSystem.getRect();return t=t||[0,0],"x"===o.dim?(a.pixel=e[0]-t[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(t,e,n,r,i){var o=n.axis,a={},s=i.model.coordinateSystem,u=s.getRadiusAxis().getExtent(),l=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(a.pixel=e[0]-t[0],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?-1:1),a},singleAxis:function(t,e,n,r,i){var o=n.axis,a=i.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===o.orient?(s.pixel=e[0]-t[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}},Cz=Sz;function kz(t){xN(t),t.registerComponentModel(bz),t.registerComponentView(Cz),Mz(t)}var Tz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=pc(hN.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(hN),Dz=ca,jz="horizontal",Lz=5,Pz=["line","bar","candlestick","scatter"],Nz={easing:"cubicOut",duration:100,delay:0};function Rz(t){return"vertical"===t?"ns-resize":"ew-resize"}var Bz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._displayables={},n}return Object(f.__extends)(e,t),e.prototype.init=function(t,e){this.api=e,this._onBrush=Object(g.c)(this._onBrush,this),this._onBrushEnd=Object(g.c)(this._onBrushEnd,this)},e.prototype.render=function(e,n,r,i){if(t.prototype.render.apply(this,arguments),Ip(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Ep(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var e=this._displayables.sliderGroup=new tr;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,n=t.get("brushSelect")?7:0,r=this._findCoordRect(),i={width:e.getWidth(),height:e.getHeight()},o=this._orient===jz?{right:i.width-r.x-r.width,top:i.height-30-7-n,width:r.width,height:30}:{right:7,top:r.y,width:30,height:r.height},a=bh(t.option);Object(g.k)(["right","top","width","height"],function(t){"ph"===a[t]&&(a[t]=o[t])});var s=gh(a,i);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],"vertical"===this._orient&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,e=this._location,n=this._orient,r=this.dataZoomModel.getFirstTargetAxisModel(),i=r&&r.get("inverse"),o=this._displayables.sliderGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n!==jz||i?n===jz&&i?{scaleY:a?1:-1,scaleX:-1}:"vertical"!==n||i?{scaleY:a?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:a?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:a?1:-1,scaleX:1});var s=t.getBoundingRect([o]);t.x=e.x-s.x,t.y=e.y-s.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.sliderGroup,r=t.get("brushSelect");n.add(new Dz({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var i=new Dz({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:Object(g.c)(this._onClickPanel,this)}),o=this.api.getZr();r?(i.on("mousedown",this._onBrushStart,this),i.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),n.add(i)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var e=this._size,n=this._shadowSize||[],r=t.series,i=r.getRawData(),o=r.getShadowDim&&r.getShadowDim(),a=o&&i.getDimensionInfo(o)?r.getShadowDim():t.otherDim;if(null!=a){var s=this._shadowPolygonPts,u=this._shadowPolylinePts;if(i!==this._shadowData||a!==this._shadowDim||e[0]!==n[0]||e[1]!==n[1]){var l=i.getDataExtent(a),c=.3*(l[1]-l[0]);l=[l[0]-c,l[1]+c];var h,d=[0,e[1]],f=[0,e[0]],p=[[e[0],0],[0,0]],g=[],v=f[1]/(i.count()-1),y=0,m=Math.round(i.count()/e[0]);i.each([a],function(t,e){if(m>0&&e%m)y+=v;else{var n=null==t||isNaN(t)||""===t,r=n?0:dr(t,l,d,!0);n&&!h&&e?(p.push([p[p.length-1][0],0]),g.push([g[g.length-1][0],0])):!n&&h&&(p.push([y,0]),g.push([y,0])),p.push([y,r]),g.push([y,r]),y+=v,h=n}}),s=this._shadowPolygonPts=p,u=this._shadowPolylinePts=g}this._shadowData=i,this._shadowDim=a,this._shadowSize=[e[0],e[1]];for(var b=this.dataZoomModel,x=0;x<3;x++){var A=w(1===x);this._displayables.sliderGroup.add(A),this._displayables.dataShadowSegs.push(A)}}}function w(t){var e=b.getModel(t?"selectedDataBackground":"dataBackground"),n=new tr,r=new Mu({shape:{points:s},segmentIgnoreThreshold:1,style:e.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),i=new Iu({shape:{points:u},segmentIgnoreThreshold:1,style:e.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return n.add(r),n.add(i),n}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,r=this.ecModel;return t.eachTargetAxis(function(i,o){var a=t.getAxisProxy(i,o).getTargetSeriesModels();Object(g.k)(a,function(t){if(!(n||!0!==e&&Object(g.r)(Pz,t.get("type"))<0)){var a,s=r.getComponent(aN(i),o).axis,u={x:"y",y:"x",radius:"angle",angle:"radius"}[i],l=t.coordinateSystem;null!=u&&l.getOtherAxis&&(a=l.getOtherAxis(s).inverse),u=t.getData().mapDimension(u),n={thisAxis:s,series:t,thisDim:i,otherDim:u,otherAxisInverse:a}}},this)},this),n}},e.prototype._renderHandle=function(){var t=this.group,e=this._displayables,n=e.handles=[null,null],r=e.handleLabels=[null,null],i=this._displayables.sliderGroup,o=this._size,a=this.dataZoomModel,s=this.api,u=a.get("borderRadius")||0,l=a.get("brushSelect"),c=e.filler=new Dz({silent:l,style:{fill:a.get("fillerColor")},textConfig:{position:"inside"}});i.add(c),i.add(new Dz({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:u},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),Object(g.k)([0,1],function(e){var o=a.get("handleIcon");!Sg[o]&&o.indexOf("path://")<0&&o.indexOf("image://")<0&&(o="path://"+o);var s=Eg(o,-1,0,2,2,null,!0);s.attr({cursor:Rz(this._orient),draggable:!0,drift:Object(g.c)(this._onDragMove,this,e),ondragend:Object(g.c)(this._onDragEnd,this),onmouseover:Object(g.c)(this._showDataInfo,this,!0),onmouseout:Object(g.c)(this._showDataInfo,this,!1),z2:5});var u=s.getBoundingRect(),l=a.get("handleSize");this._handleHeight=fr(l,this._size[1]),this._handleWidth=u.width/u.height*this._handleHeight,s.setStyle(a.getModel("handleStyle").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),xs(s);var c=a.get("handleColor");null!=c&&(s.style.fill=c),i.add(n[e]=s);var h=a.getModel("textStyle");t.add(r[e]=new Oa({silent:!0,invisible:!0,style:Vl(h,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:h.getTextColor(),font:h.getFont()}),z2:10}))},this);var h=c;if(l){var d=fr(a.get("moveHandleSize"),o[1]),f=e.moveHandle=new ca({style:a.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:d}}),p=.8*d,v=e.moveHandleIcon=Eg(a.get("moveHandleIcon"),-p/2,-p/2,p,p,"#fff",!0);v.silent=!0,v.y=o[1]+d/2-.5,f.ensureState("emphasis").style=a.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var y=Math.min(o[1]/2,Math.max(d,10));(h=e.moveZone=new ca({invisible:!0,shape:{y:o[1]-y,height:d+y}})).on("mouseover",function(){s.enterEmphasis(f)}).on("mouseout",function(){s.leaveEmphasis(f)}),i.add(f),i.add(v),i.add(h)}h.attr({draggable:!0,cursor:Rz(this._orient),drift:Object(g.c)(this._onDragMove,this,"all"),ondragstart:Object(g.c)(this._showDataInfo,this,!0),ondragend:Object(g.c)(this._onDragEnd,this),onmouseover:Object(g.c)(this._showDataInfo,this,!0),onmouseout:Object(g.c)(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[dr(t[0],[0,100],e,!0),dr(t[1],[0,100],e,!0)]},e.prototype._updateInterval=function(t,e){var n=this.dataZoomModel,r=this._handleEnds,i=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];DC(e,r,i,n.get("zoomLock")?"all":t,null!=o.minSpan?dr(o.minSpan,a,i,!0):null,null!=o.maxSpan?dr(o.maxSpan,a,i,!0):null);var s=this._range,u=this._range=gr([dr(r[0],i,a,!0),dr(r[1],i,a,!0)]);return!s||s[0]!==u[0]||s[1]!==u[1]},e.prototype._updateView=function(t){var e=this._displayables,n=this._handleEnds,r=gr(n.slice()),i=this._size;Object(g.k)([0,1],function(t){var r=e.handles[t],o=this._handleHeight;r.attr({scaleX:o/2,scaleY:o/2,x:n[t]+(t?-1:1),y:i[1]/2-o/2})},this),e.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:i[1]});var o={x:r[0],width:r[1]-r[0]};e.moveHandle&&(e.moveHandle.setShape(o),e.moveZone.setShape(o),e.moveZone.getBoundingRect(),e.moveHandleIcon&&e.moveHandleIcon.attr("x",o.x+o.width/2));for(var a=e.dataShadowSegs,s=[0,r[0],r[1],i[0]],u=0;u<a.length;u++){var l=a[u],c=l.getClipPath();c||(c=new ca,l.setClipPath(c)),c.setShape({x:s[u],y:0,width:s[u+1]-s[u],height:i[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var e=this.dataZoomModel,n=this._displayables,r=n.handleLabels,i=this._orient,o=["",""];if(e.get("showDetail")){var a=e.findRepresentativeAxisProxy();if(a){var s=a.getAxisModel().axis,u=this._range,l=t?a.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:a.getDataValueWindow();o=[this._formatLabel(l[0],s),this._formatLabel(l[1],s)]}}var c=gr(this._handleEnds.slice());function h(t){var e=_l(n.handles[t].parent,this.group),a=Sl(0===t?"right":"left",e),s=this._handleWidth/2+Lz,u=Ml([c[t]+(0===t?-s:s),this._size[1]/2],e);r[t].setStyle({x:u[0],y:u[1],verticalAlign:i===jz?"middle":a,align:i===jz?a:"center",text:o[t]})}h.call(this,0),h.call(this,1)},e.prototype._formatLabel=function(t,e){var n=this.dataZoomModel,r=n.get("labelFormatter"),i=n.get("labelPrecision");null!=i&&"auto"!==i||(i=e.getPixelPrecision());var o=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(i,20));return Object(g.w)(r)?r(t,o):Object(g.C)(r)?r.replace("{value}",o):o},e.prototype._showDataInfo=function(t){t=this._dragging||t;var e=this._displayables,n=e.handleLabels;n[0].attr("invisible",!t),n[1].attr("invisible",!t),e.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](e.moveHandle,1)},e.prototype._onDragMove=function(t,e,n,r){this._dragging=!0,ut(r.event);var i=Ml([e,n],this._displayables.sliderGroup.getLocalTransform(),!0),o=this._updateInterval(t,i[0]),a=this.dataZoomModel.get("realtime");this._updateView(!a),o&&a&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var e=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var r=this._handleEnds,i=(r[0]+r[1])/2,o=this._updateInterval("all",n[0]-i);this._updateView(),o&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var e=t.offsetX,n=t.offsetY;this._brushStart=new wt(e,n),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var e=this._displayables.brushRect;if(this._brushing=!1,e){e.attr("ignore",!0);var n=e.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(n.width)<5)){var r=this._getViewExtent(),i=[0,100];this._range=gr([dr(n.x,r,i,!0),dr(n.x+n.width,r,i,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(ut(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,e){var n=this._displayables,r=this.dataZoomModel,i=n.brushRect;i||(i=n.brushRect=new Dz({silent:!0,style:r.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(i)),i.attr("ignore",!1);var o=this._brushStart,a=this._displayables.sliderGroup,s=a.transformCoordToLocal(t,e),u=a.transformCoordToLocal(o.x,o.y),l=this._size;s[0]=Math.max(Math.min(l[0],s[0]),0),i.setShape({x:u[0],y:0,width:s[0]-u[0],height:l[1]})},e.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?Nz:null,start:e[0],end:e[1]})},e.prototype._findCoordRect=function(){var t,e=uN(this.dataZoomModel).infoList;if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}if(!t){var r=this.api.getWidth(),i=this.api.getHeight();t={x:.2*r,y:.2*i,width:.6*r,height:.6*i}}return t},e.type="dataZoom.slider",e}(fN);function zz(t){t.registerComponentModel(Tz),t.registerComponentView(Bz),xN(t)}var Fz={get:function(t,e,n){var r=g.d((Gz[t]||{})[e]);return n&&g.t(r)?r[r.length-1]:r}},Gz={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Vz=Fz,Uz=PI.mapVisual,Wz=PI.eachVisual,Hz=g.t,Yz=g.k,Xz=gr,qz=dr,Qz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return Object(f.__extends)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&FR(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var e=this.stateList;t=g.c(t,this),this.controllerVisuals=zR(this.option.controller,e,t),this.targetVisuals=zR(this.option.target,e,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries(function(t,n){e.push(n)}):e=Gr(t),e},e.prototype.eachTargetSeries=function(t,e){g.k(this.getTargetSeriesIndices(),function(n){var r=this.ecModel.getSeriesByIndex(n);r&&t.call(e,r)},this)},e.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries(function(n){n===t&&(e=!0)}),e},e.prototype.formatValueText=function(t,e,n){var r,i=this.option,o=i.precision,a=this.dataBound,s=i.formatter;n=n||["<",">"],g.t(t)&&(t=t.slice(),r=!0);var u=e?t:r?[l(t[0]),l(t[1])]:l(t);return g.C(s)?s.replace("{value}",r?u[0]:u).replace("{value2}",r?u[1]:u):g.w(s)?r?s(t[0],t[1]):s(t):r?t[0]===a[0]?n[0]+" "+u[1]:t[1]===a[1]?n[1]+" "+u[0]:u[0]+" - "+u[1]:u;function l(t){return t===a[0]?"min":t===a[1]?"max":(+t).toFixed(Math.min(o,20))}},e.prototype.resetExtent=function(){var t=this.option,e=Xz([t.min,t.max]);this._dataExtent=e},e.prototype.getDataDimensionIndex=function(t){var e=this.option.dimension;if(null!=e)return t.getDimensionIndex(e);for(var n=t.dimensions,r=n.length-1;r>=0;r--){var i=n[r],o=t.getDimensionInfo(i);if(!o.isCalculationCoord)return o.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,n={inRange:e.inRange,outOfRange:e.outOfRange},r=e.target||(e.target={}),i=e.controller||(e.controller={});g.I(r,n),g.I(i,n);var o=this.isCategory();function a(n){Hz(e.color)&&!n.inRange&&(n.inRange={color:e.color.slice().reverse()}),n.inRange=n.inRange||{color:t.get("gradientColor")}}a.call(this,r),a.call(this,i),function(t,e,n){var r=t[e],i=t[n];r&&!i&&(i=t[n]={},Yz(r,function(t,e){if(PI.isValidType(e)){var n=Vz.get(e,"inactive",o);null!=n&&(i[e]=n,"color"!==e||i.hasOwnProperty("opacity")||i.hasOwnProperty("colorAlpha")||(i.opacity=[0,0]))}}))}.call(this,r,"inRange","outOfRange"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,r=this.get("inactiveColor"),i=this.getItemSymbol()||"roundRect";Yz(this.stateList,function(a){var s=this.itemSize,u=t[a];u||(u=t[a]={color:o?r:[r]}),null==u.symbol&&(u.symbol=e&&g.d(e)||(o?i:[i])),null==u.symbolSize&&(u.symbolSize=n&&g.d(n)||(o?s[0]:[s[0],s[0]])),u.symbol=Uz(u.symbol,function(t){return"none"===t?i:t});var l=u.symbolSize;if(null!=l){var c=-1/0;Wz(l,function(t){t>c&&(c=t)}),u.symbolSize=Uz(l,function(t){return qz(t,[0,c],[0,s[0]],!0)})}},this)}.call(this,i)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(_h),Zz=[20,140];function Kz(t,e,n){if(n[0]===n[1])return n.slice();for(var r=(n[1]-n[0])/200,i=n[0],o=[],a=0;a<=200&&i<n[1];a++)o.push(i),i+=r;return o.push(n[1]),o}var Jz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=Zz[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=Zz[1])},e.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):g.t(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),g.k(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=e[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),e=gr((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},e.prototype.getValueState=function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries(function(n){var r=[],i=n.getData();i.each(this.getDataDimensionIndex(i),function(e,n){t[0]<=e&&e<=t[1]&&r.push(n)},this),e.push({seriesId:n.id,dataIndex:r})},this),e},e.prototype.getVisualMeta=function(t){var e=Kz(this,"outOfRange",this.getExtent()),n=Kz(this,"inRange",this.option.range.slice()),r=[];function i(e,n){r.push({value:e,color:t(e,n)})}for(var o=0,a=0,s=n.length,u=e.length;a<u&&(!n.length||e[a]<=n[0]);a++)e[a]<n[o]&&i(e[a],"outOfRange");for(var l=1;o<s;o++,l=0)l&&r.length&&i(n[o],"outOfRange"),i(n[o],"inRange");for(l=1;a<u;a++)(!n.length||n[n.length-1]<e[a])&&(l&&(r.length&&i(r[r.length-1].value,"outOfRange"),l=0),i(e[a],"outOfRange"));var c=r.length;return{stops:r,outerColors:[c?r[0].color:"transparent",c?r[c-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=pc(Qz.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(Qz),$z=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return Object(f.__extends)(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e},e.prototype.render=function(t,e,n,r){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,e,n,r):this.group.removeAll()},e.prototype.renderBackground=function(t){var e=this.visualMapModel,n=th(e.get("padding")||0),r=t.getBoundingRect();t.add(new ca({z2:-1,silent:!0,shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[3]+n[1],height:r.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,e,n){var r=(n=n||{}).forceState,i=this.visualMapModel,o={};if("color"===e){var a=i.get("contentColor");o.color=a}function s(t){return o[t]}function u(t,e){o[t]=e}var l=i.controllerVisuals[r||i.getValueState(t)],c=PI.prepareVisualTypes(l);return g.k(c,function(r){var i=l[r];n.convertOpacityToAlpha&&"opacity"===r&&(r="colorAlpha",i=l.__alphaForOpacity),PI.dependsOn(r,e)&&i&&i.applyVisual(t,s,u)}),o[e]},e.prototype.positionGroup=function(t){var e=this.visualMapModel,n=this.api;vh(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},e.prototype.doRender=function(t,e,n,r){},e.type="visualMap",e}(dp),tF=[["left","right","width"],["top","bottom","height"]];function eF(t,e,n){var r=t.option,i=r.align;if(null!=i&&"auto"!==i)return i;for(var o={width:e.getWidth(),height:e.getHeight()},a="horizontal"===r.orient?1:0,s=tF[a],u=[0,null,10],l={},c=0;c<3;c++)l[tF[1-a][c]]=u[c],l[s[c]]=2===c?n[0]:r[s[c]];var h=[["x","width",3],["y","height",0]][a],d=gh(l,o,r.padding);return s[(d.margin[h[2]]||0)+d[h[0]]+.5*d[h[1]]<.5*o[h[1]]?0:1]}function nF(t,e){return g.k(t||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),t}var rF=dr,iF=g.k,oF=Math.min,aF=Math.max,sF=12;function uF(t,e,n,r){return new Mu({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){ut(t.event)},ondragend:r})}function lF(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function cF(t){return"vertical"===t?"ns-resize":"ew-resize"}var hF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return Object(f.__extends)(e,t),e.prototype.doRender=function(t,e,n,r){this._api=n,r&&"selectDataRange"===r.type&&r.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},e.prototype._renderEndsText=function(t,e,n){if(e){var r=e[1-n];r=null!=r?r+"":"";var i=this.visualMapModel,o=i.get("textGap"),a=i.itemSize,s=this._shapes.mainGroup,u=this._applyTransform([a[0]/2,0===n?-o:a[1]+o],s),l=this._applyTransform(0===n?"bottom":"top",s),c=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new Oa({style:Vl(h,{x:u[0],y:u[1],verticalAlign:"horizontal"===c?"middle":l,align:"horizontal"===c?l:"center",text:r})}))}},e.prototype._renderBar=function(t){var e=this.visualMapModel,n=this._shapes,r=e.itemSize,i=this._orient,o=this._useHandle,a=eF(e,this.api,r),s=n.mainGroup=this._createBarGroup(a),u=new tr;s.add(u),u.add(n.outOfRange=uF()),u.add(n.inRange=uF(null,o?cF(this._orient):null,g.c(this._dragHandle,this,"all",!1),g.c(this._dragHandle,this,"all",!0))),u.setClipPath(new ca({shape:{x:0,y:0,width:r[0],height:r[1],r:3}}));var l=e.textStyleModel.getTextRect("国"),c=aF(l.width,l.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(e,s,0,r,c,i),this._createHandle(e,s,1,r,c,i)),this._createIndicator(e,s,r,c,i),t.add(s)},e.prototype._createHandle=function(t,e,n,r,i,o){var a=g.c(this._dragHandle,this,n,!1),s=g.c(this._dragHandle,this,n,!0),u=Vn(t.get("handleSize"),r[0]),l=Eg(t.get("handleIcon"),-u/2,-u/2,u,u,null,!0),c=cF(this._orient);l.attr({cursor:c,draggable:!0,drift:a,ondragend:s,onmousemove:function(t){ut(t.event)}}),l.x=r[0]/2,l.useStyle(t.getModel("handleStyle").getItemStyle()),l.setStyle({strokeNoScale:!0,strokeFirst:!0}),l.style.lineWidth*=2,l.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Os(l,!0),e.add(l);var h=this.visualMapModel.textStyleModel,d=new Oa({cursor:c,draggable:!0,drift:a,onmousemove:function(t){ut(t.event)},ondragend:s,style:Vl(h,{x:0,y:0,text:""})});d.ensureState("blur").style={opacity:.1},d.stateTransition={duration:200},this.group.add(d);var f=[u,0],p=this._shapes;p.handleThumbs[n]=l,p.handleLabelPoints[n]=f,p.handleLabels[n]=d},e.prototype._createIndicator=function(t,e,n,r,i){var o=Vn(t.get("indicatorSize"),n[0]),a=Eg(t.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);a.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var s=t.getModel("indicatorStyle").getItemStyle();if(a instanceof na){var u=a.style;a.useStyle(g.m({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},s))}else a.useStyle(s);e.add(a);var l=this.visualMapModel.textStyleModel,c=new Oa({silent:!0,invisible:!0,style:Vl(l,{x:0,y:0,text:""})});this.group.add(c);var h=[("horizontal"===i?r/2:6)+n[0]/2,0],d=this._shapes;d.indicator=a,d.indicatorLabel=c,d.indicatorLabelPoint=h,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,e,n,r){if(this._useHandle){if(this._dragging=!e,!e){var i=this._applyTransform([n,r],this._shapes.mainGroup,!0);this._updateInterval(t,i[1]),this._hideIndicator(),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():lF(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),r=[0,t.itemSize[1]];this._handleEnds=[rF(e[0],n,r,!0),rF(e[1],n,r,!0)]},e.prototype._updateInterval=function(t,e){e=e||0;var n=this.visualMapModel,r=this._handleEnds,i=[0,n.itemSize[1]];DC(e,r,i,t,0);var o=n.getExtent();this._dataInterval=[rF(r[0],i,o,!0),rF(r[1],i,o,!0)]},e.prototype._updateView=function(t){var e=this.visualMapModel,n=e.getExtent(),r=this._shapes,i=[0,e.itemSize[1]],o=t?i:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,o,"inRange"),s=this._createBarVisual(n,n,i,"outOfRange");r.inRange.setStyle({fill:a.barColor}).setShape("points",a.barPoints),r.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(o,a)},e.prototype._createBarVisual=function(t,e,n,r){var i={forceState:r,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,i),a=[this.getControllerVisual(t[0],"symbolSize",i),this.getControllerVisual(t[1],"symbolSize",i)],s=this._createBarPoints(n,a);return{barColor:new Vu(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},e.prototype._makeColorGradient=function(t,e){var n=[],r=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var i=1;i<100;i++){var o=t[0]+r*i;if(o>t[1])break;n.push({color:this.getControllerVisual(o,"color",e),offset:i/100})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},e.prototype._createBarPoints=function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},e.prototype._createBarGroup=function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new tr("horizontal"!==e||n?"horizontal"===e&&n?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==e||n?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,e){if(this._useHandle){var n=this._shapes,r=this.visualMapModel,i=n.handleThumbs,o=n.handleLabels,a=r.itemSize,s=r.getExtent();iF([0,1],function(u){var l=i[u];l.setStyle("fill",e.handlesColor[u]),l.y=t[u];var c=rF(t[u],[0,a[1]],s,!0),h=this.getControllerVisual(c,"symbolSize");l.scaleX=l.scaleY=h/a[0],l.x=a[0]-h/2;var d=Ml(n.handleLabelPoints[u],_l(l,this.group));o[u].setStyle({x:d[0],y:d[1],text:r.formatValueText(this._dataInterval[u]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,e,n,r){var i=this.visualMapModel,o=i.getExtent(),a=i.itemSize,s=[0,a[1]],u=this._shapes,l=u.indicator;if(l){l.attr("invisible",!1);var c=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),h=this.getControllerVisual(t,"symbolSize"),d=rF(t,o,s,!0),f=a[0]-h/2,p={x:l.x,y:l.y};l.y=d,l.x=f;var g=Ml(u.indicatorLabelPoint,_l(l,this.group)),v=u.indicatorLabel;v.attr("invisible",!1);var y=this._applyTransform("left",u.mainGroup),m="horizontal"===this._orient;v.setStyle({text:(n||"")+i.formatValueText(e),verticalAlign:m?y:"middle",align:m?"center":y});var b={x:f,y:d,style:{fill:c}},x={style:{x:g[0],y:g[1]}};if(i.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var A={duration:100,easing:"cubicInOut",additive:!0};l.x=p.x,l.y=p.y,l.animateTo(b,A),v.animateTo(x,A)}else l.attr(b),v.attr(x);this._firstShowIndicator=!1;var w=this._shapes.handleLabels;if(w)for(var _=0;_<w.length;_++)this._api.enterBlur(w[_])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,r=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0);r[1]=oF(aF(0,r[1]),n[1]),t._doHoverLinkToSeries(r[1],0<=r[0]&&r[0]<=n[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,e){var n=this.visualMapModel,r=n.itemSize;if(n.option.hoverLink){var i=[0,r[1]],o=n.getExtent();t=oF(aF(i[0],t),i[1]);var a=function(t,e,n){var r=sF/2,i=t.get("hoverLinkDataSize");i&&(r=rF(i,e,n,!0)/2);return r}(n,o,i),s=[t-a,t+a],u=rF(t,i,o,!0),l=[rF(s[0],i,o,!0),rF(s[1],i,o,!0)];s[0]<i[0]&&(l[0]=-1/0),s[1]>i[1]&&(l[1]=1/0),e&&(l[0]===-1/0?this._showIndicator(u,l[1],"< ",a):l[1]===1/0?this._showIndicator(u,l[0],"> ",a):this._showIndicator(u,u,"≈ ",a));var c=this._hoverLinkDataIndices,h=[];(e||lF(n))&&(h=this._hoverLinkDataIndices=n.findTargetDataIndices(l));var d=function(t,e){var n={},r={};return i(t||[],n),i(e||[],r,n),[o(n),o(r)];function i(t,e,n){for(var r=0,i=t.length;r<i;r++){var o=Qr(t[r].seriesId,null);if(null==o)return;for(var a=Gr(t[r].dataIndex),s=n&&n[o],u=0,l=a.length;u<l;u++){var c=a[u];s&&s[c]?s[c]=null:(e[o]||(e[o]={}))[c]=1}}}function o(t,e){var n=[];for(var r in t)if(t.hasOwnProperty(r)&&null!=t[r])if(e)n.push(+r);else{var i=o(t[r],!0);i.length&&n.push({seriesId:r,dataIndex:i})}return n}}(c,h);this._dispatchHighDown("downplay",nF(d[0],n)),this._dispatchHighDown("highlight",nF(d[1],n))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e;if(gg(t.target,function(t){var n=Ia(t);if(null!=n.dataIndex)return e=n,!0},!0),e){var n=this.ecModel.getSeriesByIndex(e.seriesIndex),r=this.visualMapModel;if(r.isTargetSeries(n)){var i=n.getData(e.dataType),o=i.getStore().get(r.getDataDimensionIndex(i),e.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var e=this._shapes.handleLabels;if(e)for(var n=0;n<e.length;n++)this._api.leaveBlur(e[n])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",nF(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,e,n,r){var i=_l(e,r?null:this.group);return g.t(t)?Ml(t,i,n):Sl(t,i,n)},e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}($z),dF={type:"selectDataRange",event:"dataRangeSelected",update:"update"},fF=function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})},pF=[{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",function(e){var r,i,o,a,s,u=t.pipelineContext;!e.isTargetSeries(t)||u&&u.large||n.push((r=e.stateList,i=e.targetVisuals,o=g.c(e.getValueState,e),a=e.getDataDimensionIndex(t.getData()),s={},g.k(r,function(t){var e=PI.prepareVisualTypes(i[t]);s[t]=e}),{progress:function(t,e){var n,r;function u(t){return cg(e,r,t)}function l(t,n){dg(e,r,t,n)}null!=a&&(n=e.getDimensionIndex(a));for(var c=e.getStore();null!=(r=t.next());){var h=e.getRawDataItem(r);if(!h||!1!==h.visualMap)for(var d=null!=a?c.get(n,r):r,f=o(d),p=i[f],g=s[f],v=0,y=g.length;v<y;v++){var m=g[v];p[m]&&p[m].applyVisual(d,u,l)}}}}))}),n}},{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),r=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(t)){var i=e.getVisualMeta(g.c(gF,null,t,e))||{stops:[],outerColors:[]},o=e.getDataDimensionIndex(n);o>=0&&(i.dimension=o,r.push(i))}}),t.getData().setVisual("visualMeta",r)}}];function gF(t,e,n,r){for(var i=e.targetVisuals[r],o=PI.prepareVisualTypes(i),a={color:hg(t.getData(),"color")},s=0,u=o.length;s<u;s++){var l=o[s],c=i["opacity"===l?"__alphaForOpacity":l];c&&c.applyVisual(n,h,d)}return a.color;function h(t){return a[t]}function d(t,e){a[t]=e}}var vF=g.k;function yF(t){var e=t&&t.visualMap;g.t(e)||(e=e?[e]:[]),vF(e,function(t){if(t){mF(t,"splitList")&&!mF(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&g.t(e)&&vF(e,function(t){g.A(t)&&(mF(t,"start")&&!mF(t,"min")&&(t.min=t.start),mF(t,"end")&&!mF(t,"max")&&(t.max=t.end))})}})}function mF(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var bF=!1;function xF(t){bF||(bF=!0,t.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}),t.registerAction(dF,fF),Object(g.k)(pF,function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)}),t.registerPreprocessor(yF))}function AF(t){t.registerComponentModel(Jz),t.registerComponentView(hF),xF(t)}var wF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._pieceList=[],n}return Object(f.__extends)(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],_F[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var i=this.option.categories;this.resetVisual(function(t,e){"categories"===r?(t.mappingMethod="category",t.categories=g.d(i)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=g.H(this._pieceList,function(t){return t=g.d(t),"inRange"!==e&&(t.visual=null),t}))})},e.prototype.completeVisualOption=function(){var e=this.option,n={},r=PI.listVisualTypes(),i=this.isCategory();function o(t,e,n){return t&&t[e]&&t[e].hasOwnProperty(n)}g.k(e.pieces,function(t){g.k(r,function(e){t.hasOwnProperty(e)&&(n[e]=1)})}),g.k(n,function(t,n){var r=!1;g.k(this.stateList,function(t){r=r||o(e,t,n)||o(e.target,t,n)},this),!r&&g.k(this.stateList,function(t){(e[t]||(e[t]={}))[n]=Vz.get(n,"inRange"===t?"active":"inactive",i)})},this),t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,e){var n=this.option,r=this._pieceList,i=(e?n:t).selected||{};if(n.selected=i,g.k(r,function(t,e){var n=this.getSelectedMapKey(t);i.hasOwnProperty(n)||(i[n]=!0)},this),"single"===n.selectedMode){var o=!1;g.k(r,function(t,e){var n=this.getSelectedMapKey(t);i[n]&&(o?i[n]=!1:o=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=g.d(t)},e.prototype.getValueState=function(t){var e=PI.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[],n=this._pieceList;return this.eachTargetSeries(function(r){var i=[],o=r.getData();o.each(this.getDataDimensionIndex(o),function(e,r){PI.findPieceIndex(e,n)===t&&i.push(r)},this),e.push({seriesId:r.id,dataIndex:i})},this),e},e.prototype.getRepresentValue=function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var e=[],n=["",""],r=this,i=this._pieceList.slice();if(i.length){var o=i[0].interval[0];o!==-1/0&&i.unshift({interval:[-1/0,o]}),(o=i[i.length-1].interval[1])!==1/0&&i.push({interval:[o,1/0]})}else i.push({interval:[-1/0,1/0]});var a=-1/0;return g.k(i,function(t){var e=t.interval;e&&(e[0]>a&&s([a,e[0]],"outOfRange"),s(e.slice()),a=e[1])},this),{stops:e,outerColors:n}}function s(i,o){var a=r.getRepresentValue({interval:i});o||(o=r.getValueState(a));var s=t(a,o);i[0]===-1/0?n[0]=s:i[1]===1/0?n[1]=s:e.push({value:i[0],color:s},{value:i[1],color:s})}},e.type="visualMap.piecewise",e.defaultOption=pc(Qz.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(Qz),_F={splitNumber:function(t){var e=this.option,n=Math.min(e.precision,20),r=this.getExtent(),i=e.splitNumber;i=Math.max(parseInt(i,10),1),e.splitNumber=i;for(var o=(r[1]-r[0])/i;+o.toFixed(n)!==o&&n<5;)n++;e.precision=n,o=+o.toFixed(n),e.minOpen&&t.push({interval:[-1/0,r[0]],close:[0,0]});for(var a=0,s=r[0];a<i;s+=o,a++){var u=a===i-1?r[1]:s+o;t.push({interval:[s,u],close:[1,1]})}e.maxOpen&&t.push({interval:[r[1],1/0],close:[0,0]}),Tr(t),g.k(t,function(t,e){t.index=e,t.text=this.formatValueText(t.interval)},this)},categories:function(t){var e=this.option;g.k(e.categories,function(e){t.push({text:this.formatValueText(e,!0),value:e})},this),MF(e,t)},pieces:function(t){var e=this.option;g.k(e.pieces,function(e,n){g.A(e)||(e={value:e});var r={text:"",index:n};if(null!=e.label&&(r.text=e.label),e.hasOwnProperty("value")){var i=r.value=e.value;r.interval=[i,i],r.close=[1,1]}else{for(var o=r.interval=[],a=r.close=[0,0],s=[1,0,1],u=[-1/0,1/0],l=[],c=0;c<2;c++){for(var h=[["gte","gt","min"],["lte","lt","max"]][c],d=0;d<3&&null==o[c];d++)o[c]=e[h[d]],a[c]=s[d],l[c]=2===d;null==o[c]&&(o[c]=u[c])}l[0]&&o[1]===1/0&&(a[0]=0),l[1]&&o[0]===-1/0&&(a[1]=0),o[0]===o[1]&&a[0]&&a[1]&&(r.value=o[0])}r.visual=PI.retrieveVisuals(e),t.push(r)},this),MF(e,t),Tr(t),g.k(t,function(t){var e=t.close,n=[["<","≤"][e[1]],[">","≥"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)},this)}};function MF(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}var SF=wF,OF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(f.__extends)(e,t),e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),r=e.textStyleModel,i=r.getFont(),o=r.getTextColor(),a=this._getItemAlign(),s=e.itemSize,u=this._getViewData(),l=u.endsText,c=g.O(e.get("showLabel",!0),!l);l&&this._renderEndsText(t,l[0],s,c,a),g.k(u.viewPieceList,function(r){var u=r.piece,l=new tr;l.onclick=g.c(this._onItemClick,this,u),this._enableHoverLink(l,r.indexInModelPieceList);var h=e.getRepresentValue(u);if(this._createItemSymbol(l,h,[0,0,s[0],s[1]]),c){var d=this.visualMapModel.getValueState(h);l.add(new Oa({style:{x:"right"===a?-n:s[0]+n,y:s[1]/2,text:u.text,verticalAlign:"middle",align:a,font:i,fill:o,opacity:"outOfRange"===d?.5:1}}))}t.add(l)},this),l&&this._renderEndsText(t,l[1],s,c,a),ph(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,e){var n=this;t.on("mouseover",function(){return r("highlight")}).on("mouseout",function(){return r("downplay")});var r=function(t){var r=n.visualMapModel;r.option.hoverLink&&n.api.dispatchAction({type:t,batch:nF(r.findTargetDataIndices(e),r)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return eF(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},e.prototype._renderEndsText=function(t,e,n,r,i){if(e){var o=new tr,a=this.visualMapModel.textStyleModel;o.add(new Oa({style:Vl(a,{x:r?"right"===i?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:r?i:"center",text:e})})),t.add(o)}},e.prototype._getViewData=function(){var t=this.visualMapModel,e=g.H(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),n=t.get("text"),r=t.get("orient"),i=t.get("inverse");return("horizontal"===r?i:!i)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},e.prototype._createItemSymbol=function(t,e,n){t.add(Eg(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},e.prototype._onItemClick=function(t){var e=this.visualMapModel,n=e.option,r=n.selectedMode;if(r){var i=g.d(n.selected),o=e.getSelectedMapKey(t);"single"===r||!0===r?(i[o]=!0,g.k(i,function(t,e){i[e]=e===o})):i[o]=!i[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}},e.type="visualMap.piecewise",e}($z);function IF(t){t.registerComponentModel(SF),t.registerComponentView(OF),xF(t)}var EF={label:{enabled:!0},decal:{show:!1}},CF=$r(),kF={};function TF(t,e){var n=t.getModel("aria");if(n.get("enabled")){var r=g.d(EF);g.I(r.label,t.getLocaleModel().get("aria"),!1),g.I(n.option,r,!1),function(){if(n.getModel("decal").get("show")){var e=g.f();t.eachSeries(function(t){if(!t.isColorBySeries()){var n=e.get(t.type);n||(n={},e.set(t.type,n)),CF(t).scope=n}}),t.eachRawSeries(function(e){if(!t.isSeriesFiltered(e))if(g.w(e.enableAriaDecal))e.enableAriaDecal();else{var n=e.getData();if(e.isColorBySeries()){var r=Zh(e.ecModel,e.name,kF,t.getSeriesCount()),i=n.getVisual("decal");n.setVisual("decal",l(i,r))}else{var o=e.getRawData(),a={},s=CF(e).scope;n.each(function(t){var e=n.getRawIndex(t);a[e]=t});var u=o.count();o.each(function(t){var r=a[t],i=o.getName(t)||t+"",c=Zh(e.ecModel,i,s,u),h=n.getItemVisual(r,"decal");n.setItemVisual(r,"decal",l(h,c))})}}function l(t,e){var n=t?g.m(g.m({},e),t):e;return n.dirty=!0,n}})}}(),function(){var r=t.getLocaleModel().get("aria"),o=n.getModel("label");if(o.option=g.i(o.option,r),!o.get("enabled"))return;var a=e.getZr().dom;if(o.get("description"))return void a.setAttribute("aria-label",o.get("description"));var s,u=t.getSeriesCount(),l=o.get(["data","maxCount"])||10,c=o.get(["series","maxCount"])||10,h=Math.min(u,c);if(u<1)return;var d=function(){var e=t.get("title");e&&e.length&&(e=e[0]);return e&&e.text}();if(d){var f=o.get(["general","withTitle"]);s=i(f,{title:d})}else s=o.get(["general","withoutTitle"]);var p=[],v=u>1?o.get(["series","multiple","prefix"]):o.get(["series","single","prefix"]);s+=i(v,{seriesCount:u}),t.eachSeries(function(e,n){if(n<h){var r=void 0,a=e.get("name"),s=a?"withName":"withoutName";r=i(r=u>1?o.get(["series","multiple",s]):o.get(["series","single",s]),{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:(A=e.subType,t.getLocaleModel().get(["series","typeNames"])[A]||"自定义图")});var c=e.getData();if(c.count()>l){var d=o.get(["data","partialData"]);r+=i(d,{displayCnt:l})}else r+=o.get(["data","allData"]);for(var f=o.get(["data","separator","middle"]),g=o.get(["data","separator","end"]),v=[],y=0;y<c.count();y++)if(y<l){var m=c.getName(y),b=c.getValues(y),x=o.get(["data",m?"withName":"withoutName"]);v.push(i(x,{name:m,value:b.join(f)}))}r+=v.join(f)+g,p.push(r)}var A});var y=o.getModel(["series","multiple","separator"]),m=y.get("middle"),b=y.get("end");s+=p.join(m)+b,a.setAttribute("aria-label",s)}()}function i(t,e){if(!g.C(t))return t;var n=t;return g.k(e,function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}),n}}function DF(t){if(t&&t.aria){var e=t.aria;null!=e.show&&(e.enabled=e.show),e.label=e.label||{},g.k(["description","general","series","data"],function(t){null!=e[t]&&(e.label[t]=e[t])})}}var jF={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},LF=function(){function t(t){if(null==(this._condVal=Object(g.C)(t)?new RegExp(t):Object(g.B)(t)?t:null)){var e="";0,Rr(e)}}return t.prototype.evaluate=function(t){var e=typeof t;return Object(g.C)(e)?this._condVal.test(t):!!Object(g.z)(e)&&this._condVal.test(t+"")},t}(),PF=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),NF=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},t}(),RF=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},t}(),BF=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),zF=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),n=t?this.valueParser(e):null,r=0;r<this.subCondList.length;r++)if(!this.subCondList[r].evaluate(t?n:e))return!1;return!0},t}();function FF(t,e){if(!0===t||!1===t){var n=new PF;return n.value=t,n}var r="";return VF(t)||Rr(r),t.and?GF("and",t,e):t.or?GF("or",t,e):t.not?function(t,e){var n=t.not,r="";0;VF(n)||Rr(r);var i=new BF;i.child=FF(n,e),i.child||Rr(r);return i}(t,e):function(t,e){for(var n="",r=e.prepareGetValue(t),i=[],o=Object(g.F)(t),a=t.parser,s=a?cf(a):null,u=0;u<o.length;u++){var l=o[u];if("parser"!==l&&!e.valueGetterAttrMap.get(l)){var c=Object(g.q)(jF,l)?jF[l]:l,h=t[l],d=s?s(h):h,f=gf(c,d)||"reg"===c&&new LF(d);f||Rr(n),i.push(f)}}i.length||Rr(n);var p=new zF;return p.valueGetterParam=r,p.valueParser=s,p.getValue=e.getValue,p.subCondList=i,p}(t,e)}function GF(t,e,n){var r=e[t],i="";Object(g.t)(r)||Rr(i),r.length||Rr(i);var o="and"===t?new NF:new RF;return o.children=Object(g.H)(r,function(t){return FF(t,n)}),o.children.length||Rr(i),o}function VF(t){return Object(g.A)(t)&&!Object(g.u)(t)}var UF=function(){function t(t,e){this._cond=FF(t,e)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();var WF={type:"echarts:filter",transform:function(t){for(var e,n,r,i=t.upstream,o=(n=t.config,r={valueGetterAttrMap:Object(g.f)({dimension:!0}),prepareGetValue:function(t){var e="",n=t.dimension;Object(g.q)(t,"dimension")||Rr(e);var r=i.getDimensionInfo(n);return r||Rr(e),{dimIdx:r.index}},getValue:function(t){return i.retrieveValueFromItem(e,t.dimIdx)}},new UF(n,r)),a=[],s=0,u=i.count();s<u;s++)e=i.getRawDataItem(s),o.evaluate()&&a.push(e);return{data:a}}};var HF={type:"echarts:sort",transform:function(t){var e=t.upstream,n="",r=Gr(t.config);r.length||Rr(n);var i=[];Object(g.k)(r,function(t){var r=t.dimension,o=t.order,a=t.parser,s=t.incomparable;if(null==r&&Rr(n),"asc"!==o&&"desc"!==o&&Rr(n),s&&"min"!==s&&"max"!==s){var u="";0,Rr(u)}if("asc"!==o&&"desc"!==o){var l="";0,Rr(l)}var c=e.getDimensionInfo(r);c||Rr(n);var h=a?cf(a):null;a&&!h&&Rr(n),i.push({dimIdx:c.index,parser:h,comparator:new ff(o,s)})});var o=e.sourceFormat;o!==Ch&&o!==kh&&Rr(n);for(var a=[],s=0,u=e.count();s<u;s++)a.push(e.getRawDataItem(s));return a.sort(function(t,n){for(var r=0;r<i.length;r++){var o=i[r],a=e.retrieveValueFromItem(t,o.dimIdx),s=e.retrieveValueFromItem(n,o.dimIdx);o.parser&&(a=o.parser(a),s=o.parser(s));var u=o.comparator.evaluate(a,s);if(0!==u)return u}return 0}),{data:a}}};var YF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return Object(f.__extends)(e,t),e.prototype.init=function(e,n,r){t.prototype.init.call(this,e,n,r),this._sourceManager=new jf(this),Lf(this)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),Lf(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Lh},e}(_h),XF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return Object(f.__extends)(e,t),e.type="dataset",e}(dp);var qF=Eo.CMD;function QF(t,e){return Math.abs(t-e)<1e-5}function ZF(t){var e,n,r,i,o,a=t.data,s=t.len(),u=[],l=0,c=0,h=0,d=0;function f(t,n){e&&e.length>2&&u.push(e),e=[t,n]}function p(t,n,r,i){QF(t,r)&&QF(n,i)||e.push(t,n,r,i,r,i)}function g(t,n,r,i,o,a){var s=Math.abs(n-t),u=4*Math.tan(s/4)/3,l=n<t?-1:1,c=Math.cos(t),h=Math.sin(t),d=Math.cos(n),f=Math.sin(n),p=c*o+r,g=h*a+i,v=d*o+r,y=f*a+i,m=o*u*l,b=a*u*l;e.push(p-m*h,g+b*c,v+m*f,y-b*d,v,y)}for(var v=0;v<s;){var y=a[v++],m=1===v;switch(m&&(h=l=a[v],d=c=a[v+1],y!==qF.L&&y!==qF.C&&y!==qF.Q||(e=[h,d])),y){case qF.M:l=h=a[v++],c=d=a[v++],f(h,d);break;case qF.L:p(l,c,n=a[v++],r=a[v++]),l=n,c=r;break;case qF.C:e.push(a[v++],a[v++],a[v++],a[v++],l=a[v++],c=a[v++]);break;case qF.Q:n=a[v++],r=a[v++],i=a[v++],o=a[v++],e.push(l+2/3*(n-l),c+2/3*(r-c),i+2/3*(n-i),o+2/3*(r-o),i,o),l=i,c=o;break;case qF.A:var b=a[v++],x=a[v++],A=a[v++],w=a[v++],_=a[v++],M=a[v++]+_;v+=1;var S=!a[v++];n=Math.cos(_)*A+b,r=Math.sin(_)*w+x,m?f(h=n,d=r):p(l,c,n,r),l=Math.cos(M)*A+b,c=Math.sin(M)*w+x;for(var O=(S?-1:1)*Math.PI/2,I=_;S?I>M:I<M;I+=O){g(I,S?Math.max(I+O,M):Math.min(I+O,M),b,x,A,w)}break;case qF.R:h=l=a[v++],d=c=a[v++],n=h+a[v++],r=d+a[v++],f(n,d),p(n,d,n,r),p(n,r,h,r),p(h,r,h,d),p(h,d,n,d);break;case qF.Z:e&&p(l,c,h,d),l=h,c=d}}return e&&e.length>2&&u.push(e),u}function KF(t,e,n,r,i,o,a,s,u,l){if(QF(t,n)&&QF(e,r)&&QF(i,a)&&QF(o,s))u.push(a,s);else{var c=2/l,h=c*c,d=a-t,f=s-e,p=Math.sqrt(d*d+f*f);d/=p,f/=p;var g=n-t,v=r-e,y=i-a,m=o-s,b=g*g+v*v,x=y*y+m*m;if(b<h&&x<h)u.push(a,s);else{var A=d*g+f*v,w=-d*y-f*m;if(b-A*A<h&&A>=0&&x-w*w<h&&w>=0)u.push(a,s);else{var _=[],M=[];Ae(t,n,i,a,.5,_),Ae(e,r,o,s,.5,M),KF(_[0],M[0],_[1],M[1],_[2],M[2],_[3],M[3],u,l),KF(_[4],M[4],_[5],M[5],_[6],M[6],_[7],M[7],u,l)}}}}function JF(t,e,n){var r=t[e],i=t[1-e],o=Math.abs(r/i),a=Math.ceil(Math.sqrt(o*n)),s=Math.floor(n/a);0===s&&(s=1,a=n);for(var u=[],l=0;l<a;l++)u.push(s);var c=n-a*s;if(c>0)for(l=0;l<c;l++)u[l%a]+=1;return u}function $F(t,e,n){for(var r=t.r0,i=t.r,o=t.startAngle,a=t.endAngle,s=Math.abs(a-o),u=s*i,l=i-r,c=u>Math.abs(l),h=JF([u,l],c?0:1,e),d=(c?s:l)/h.length,f=0;f<h.length;f++)for(var p=(c?l:s)/h[f],g=0;g<h[f];g++){var v={};c?(v.startAngle=o+d*f,v.endAngle=o+d*(f+1),v.r0=r+p*g,v.r=r+p*(g+1)):(v.startAngle=o+p*g,v.endAngle=o+p*(g+1),v.r0=r+d*f,v.r=r+d*(f+1)),v.clockwise=t.clockwise,v.cx=t.cx,v.cy=t.cy,n.push(v)}}function tG(t,e,n,r){return t*r-n*e}function eG(t,e,n,r,i,o,a,s){var u=n-t,l=r-e,c=a-i,h=s-o,d=tG(c,h,u,l);if(Math.abs(d)<1e-6)return null;var f=tG(t-i,e-o,c,h)/d;return f<0||f>1?null:new wt(f*u+t,f*l+e)}function nG(t,e,n){var r=new wt;wt.sub(r,n,e),r.normalize();var i=new wt;return wt.sub(i,t,e),i.dot(r)}function rG(t,e){var n=t[t.length-1];n&&n[0]===e[0]&&n[1]===e[1]||t.push(e)}function iG(t){var e=t.points,n=[],r=[];no(e,n,r);var i=new Tt(n[0],n[1],r[0]-n[0],r[1]-n[1]),o=i.width,a=i.height,s=i.x,u=i.y,l=new wt,c=new wt;return o>a?(l.x=c.x=s+o/2,l.y=u,c.y=u+a):(l.y=c.y=u+a/2,l.x=s,c.x=s+o),function(t,e,n){for(var r=t.length,i=[],o=0;o<r;o++){var a=t[o],s=t[(o+1)%r],u=eG(a[0],a[1],s[0],s[1],e.x,e.y,n.x,n.y);u&&i.push({projPt:nG(u,e,n),pt:u,idx:o})}if(i.length<2)return[{points:t},{points:t}];i.sort(function(t,e){return t.projPt-e.projPt});var l=i[0],c=i[i.length-1];if(c.idx<l.idx){var h=l;l=c,c=h}var d=[l.pt.x,l.pt.y],f=[c.pt.x,c.pt.y],p=[d],g=[f];for(o=l.idx+1;o<=c.idx;o++)rG(p,t[o].slice());for(rG(p,f),rG(p,d),o=c.idx+1;o<=l.idx+r;o++)rG(g,t[o%r].slice());return rG(g,d),rG(g,f),[{points:p},{points:g}]}(e,l,c)}function oG(t,e,n,r){if(1===n)r.push(e);else{var i=Math.floor(n/2),o=t(e);oG(t,o[0],i,r),oG(t,o[1],n-i,r)}return r}function aG(t,e){var n,r=[],i=t.shape;switch(t.type){case"rect":!function(t,e,n){for(var r=t.width,i=t.height,o=r>i,a=JF([r,i],o?0:1,e),s=o?"width":"height",u=o?"height":"width",l=o?"x":"y",c=o?"y":"x",h=t[s]/a.length,d=0;d<a.length;d++)for(var f=t[u]/a[d],p=0;p<a[d];p++){var g={};g[l]=d*h,g[c]=p*f,g[s]=h,g[u]=f,g.x+=t.x,g.y+=t.y,n.push(g)}}(i,e,r),n=ca;break;case"sector":$F(i,e,r),n=yu;break;case"circle":$F({r0:0,r:i.r,startAngle:0,endAngle:2*Math.PI,cx:i.cx,cy:i.cy},e,r),n=yu;break;default:var o=t.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,s=Object(g.H)(function(t,e){var n=ZF(t),r=[];e=e||1;for(var i=0;i<n.length;i++){var o=n[i],a=[],s=o[0],u=o[1];a.push(s,u);for(var l=2;l<o.length;){var c=o[l++],h=o[l++],d=o[l++],f=o[l++],p=o[l++],g=o[l++];KF(s,u,c,h,d,f,p,g,a,e),s=p,u=g}r.push(a)}return r}(t.getUpdatedPathProxy(),a),function(t){return function(t){for(var e=[],n=0;n<t.length;)e.push([t[n++],t[n++]]);return e}(t)}),u=s.length;if(0===u)oG(iG,{points:s[0]},e,r);else if(u===e)for(var l=0;l<u;l++)r.push({points:s[l]});else{var c=0,h=Object(g.H)(s,function(t){var e=[],n=[];no(t,e,n);var r=(n[1]-e[1])*(n[0]-e[0]);return c+=r,{poly:t,area:r}});h.sort(function(t,e){return e.area-t.area});var d=e;for(l=0;l<u;l++){var f=h[l];if(d<=0)break;var p=l===u-1?d:Math.ceil(f.area/c*e);p<0||(oG(iG,{points:f.poly},p,r),d-=p)}}n=Mu}if(!n)return function(t,e){for(var n=[],r=0;r<e;r++)n.push(Qs(t));return n}(t,e);var v,y,m=[];for(l=0;l<r.length;l++){var b=new n;b.setShape(r[l]),v=t,(y=b).setStyle(v.style),y.z=v.z,y.z2=v.z2,y.zlevel=v.zlevel,m.push(b)}return m}function sG(t,e){var n=t.length,r=e.length;if(n===r)return[t,e];for(var i=[],o=[],a=n<r?t:e,s=Math.min(n,r),u=Math.abs(r-n)/6,l=(s-2)/6,c=Math.ceil(u/l)+1,h=[a[0],a[1]],d=u,f=2;f<s;){var p=a[f-2],g=a[f-1],v=a[f++],y=a[f++],m=a[f++],b=a[f++],x=a[f++],A=a[f++];if(d<=0)h.push(v,y,m,b,x,A);else{for(var w=Math.min(d,c-1)+1,_=1;_<=w;_++){var M=_/w;Ae(p,v,m,x,M,i),Ae(g,y,b,A,M,o),p=i[3],g=o[3],h.push(i[1],o[1],i[2],o[2],p,g),v=i[5],y=o[5],m=i[6],b=o[6]}d-=w-1}}return a===t?[h,e]:[t,h]}function uG(t,e){for(var n=t.length,r=t[n-2],i=t[n-1],o=[],a=0;a<e.length;)o[a++]=r,o[a++]=i;return o}function lG(t){for(var e=0,n=0,r=0,i=t.length,o=0,a=i-2;o<i;a=o,o+=2){var s=t[a],u=t[a+1],l=t[o],c=t[o+1],h=s*c-l*u;e+=h,n+=(s+l)*h,r+=(u+c)*h}return 0===e?[t[0]||0,t[1]||0]:[n/e/3,r/e/3,e]}function cG(t,e,n,r){for(var i=(t.length-2)/6,o=1/0,a=0,s=t.length,u=s-2,l=0;l<i;l++){for(var c=6*l,h=0,d=0;d<s;d+=2){var f=0===d?c:(c+d-2)%u+2,p=t[f]-n[0],g=t[f+1]-n[1],v=e[d]-r[0]-p,y=e[d+1]-r[1]-g;h+=v*v+y*y}h<o&&(o=h,a=l)}return a}function hG(t){for(var e=[],n=t.length,r=0;r<n;r+=2)e[r]=t[n-r-2],e[r+1]=t[n-r-1];return e}function dG(t){return t.__isCombineMorphing}var fG="__mOriginal_";function pG(t,e,n){var r=fG+e,i=t[r]||t[e];t[r]||(t[r]=t[e]);var o=n.replace,a=n.after,s=n.before;t[e]=function(){var t,e=arguments;return s&&s.apply(this,e),t=o?o.apply(this,e):i.apply(this,e),a&&a.apply(this,e),t}}function gG(t,e){var n=fG+e;t[n]&&(t[e]=t[n],t[n]=null)}function vG(t,e){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;){var o=r[i],a=r[i+1];r[i++]=e[0]*o+e[2]*a+e[4],r[i++]=e[1]*o+e[3]*a+e[5]}}function yG(t,e){var n=t.getUpdatedPathProxy(),r=e.getUpdatedPathProxy(),i=function(t,e){for(var n,r,i,o=[],a=[],s=0;s<Math.max(t.length,e.length);s++){var u=t[s],l=e[s],c=void 0,h=void 0;u?l?(r=c=(n=sG(u,l))[0],i=h=n[1]):(h=uG(i||u,u),c=u):(c=uG(r||l,l),h=l),o.push(c),a.push(h)}return[o,a]}(ZF(n),ZF(r)),o=i[0],a=i[1],s=t.getComputedTransform(),u=e.getComputedTransform();s&&vG(o,s),u&&vG(a,u),pG(e,"updateTransform",{replace:function(){this.transform=null}}),e.transform=null;var l=function(t,e,n,r){for(var i,o=[],a=0;a<t.length;a++){var s=t[a],u=e[a],l=lG(s),c=lG(u);null==i&&(i=l[2]<0!=c[2]<0);var h=[],d=[],f=0,p=1/0,g=[],v=s.length;i&&(s=hG(s));for(var y=6*cG(s,u,l,c),m=v-2,b=0;b<m;b+=2){var x=(y+b)%m+2;h[b+2]=s[x]-l[0],h[b+3]=s[x+1]-l[1]}if(h[0]=s[y]-l[0],h[1]=s[y+1]-l[1],n>0)for(var A=r/n,w=-r/2;w<=r/2;w+=A){var _=Math.sin(w),M=Math.cos(w),S=0;for(b=0;b<s.length;b+=2){var O=h[b],I=h[b+1],E=u[b]-c[0],C=u[b+1]-c[1],k=E*M-C*_,T=E*_+C*M;g[b]=k,g[b+1]=T;var D=k-O,j=T-I;S+=D*D+j*j}if(S<p){p=S,f=w;for(var L=0;L<g.length;L++)d[L]=g[L]}}else for(var P=0;P<v;P+=2)d[P]=u[P]-c[0],d[P+1]=u[P+1]-c[1];o.push({from:h,to:d,fromCp:l,toCp:c,rotation:-f})}return o}(o,a,10,Math.PI),c=[];pG(e,"buildPath",{replace:function(t){for(var n=e.__morphT,r=1-n,i=[],o=0;o<l.length;o++){var a=l[o],s=a.from,u=a.to,h=a.rotation*n,d=a.fromCp,f=a.toCp,p=Math.sin(h),g=Math.cos(h);R(i,d,f,n);for(var v=0;v<s.length;v+=2){var y=s[v],m=s[v+1],b=y*r+(_=u[v])*n,x=m*r+(M=u[v+1])*n;c[v]=b*g-x*p+i[0],c[v+1]=b*p+x*g+i[1]}var A=c[0],w=c[1];t.moveTo(A,w);for(v=2;v<s.length;){var _=c[v++],M=c[v++],S=c[v++],O=c[v++],I=c[v++],E=c[v++];A===_&&w===M&&S===I&&O===E?t.lineTo(I,E):t.bezierCurveTo(_,M,S,O,I,E),A=I,w=E}}}})}function mG(t,e,n){if(!t||!e)return e;var r=n.done,i=n.during;return yG(t,e),e.__morphT=0,e.animateTo({__morphT:1},Object(g.i)({during:function(t){e.dirtyShape(),i&&i(t)},done:function(){gG(e,"buildPath"),gG(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape(),r&&r()}},n)),e}function bG(t){var e=1/0,n=1/0,r=-1/0,i=-1/0,o=Object(g.H)(t,function(t){var o=t.getBoundingRect(),a=t.getComputedTransform(),s=o.x+o.width/2+(a?a[4]:0),u=o.y+o.height/2+(a?a[5]:0);return e=Math.min(s,e),n=Math.min(u,n),r=Math.max(s,r),i=Math.max(u,i),[s,u]});return Object(g.H)(o,function(o,a){return{cp:o,z:function(t,e,n,r,i,o){t=i===n?0:Math.round(32767*(t-n)/(i-n)),e=o===r?0:Math.round(32767*(e-r)/(o-r));for(var a,s=0,u=32768;u>0;u/=2){var l=0,c=0;(t&u)>0&&(l=1),(e&u)>0&&(c=1),s+=u*u*(3*l^c),0===c&&(1===l&&(t=u-1-t,e=u-1-e),a=t,t=e,e=a)}return s}(o[0],o[1],e,n,r,i),path:t[a]}}).sort(function(t,e){return t.z-e.z}).map(function(t){return t.path})}function xG(t){return aG(t.path,t.count)}function AG(t){return Object(g.t)(t[0])}function wG(t,e){for(var n=[],r=t.length,i=0;i<r;i++)n.push({one:t[i],many:[]});for(i=0;i<e.length;i++){var o=e[i].length,a=void 0;for(a=0;a<o;a++)n[a%r].many.push(e[i][a])}var s=0;for(i=r-1;i>=0;i--)if(!n[i].many.length){var u=n[s].many;if(u.length<=1){if(!s)return n;s=0}o=u.length;var l=Math.ceil(o/2);n[i].many=u.slice(l,o),n[s].many=u.slice(0,l),s++}return n}var _G={clone:function(t){for(var e=[],n=1-Math.pow(1-t.path.style.opacity,1/t.count),r=0;r<t.count;r++){var i=Qs(t.path);i.setStyle("opacity",n),e.push(i)}return e},split:null};function MG(t,e,n,r,i,o){if(t.length&&e.length){var a=Ju("update",r,i);if(a&&a.duration>0){var s,u,l=r.getModel("universalTransition").get("delay"),c=Object.assign({setToFinal:!0},a);AG(t)&&(s=t,u=e),AG(e)&&(s=e,u=t);for(var h=s?s===t:t.length>e.length,d=s?wG(u,s):wG(h?e:t,[h?t:e]),f=0,p=0;p<d.length;p++)f+=d[p].many.length;var v=0;for(p=0;p<d.length;p++)y(d[p],h,v,f),v+=d[p].many.length}}function y(t,e,r,i,a){var s=t.many,u=t.one;if(1!==s.length||a)for(var h=Object(g.i)({dividePath:_G[n],individualDelay:l&&function(t,e,n,o){return l(t+r,i)}},c),d=e?function(t,e,n){var r=[];!function t(e){for(var n=0;n<e.length;n++){var i=e[n];dG(i)?t(i.childrenRef()):i instanceof Qo&&r.push(i)}}(t);var i=r.length;if(!i)return{fromIndividuals:[],toIndividuals:[],count:0};var o=(n.dividePath||xG)({path:e,count:i});if(o.length!==i)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};r=bG(r),o=bG(o);for(var a=n.done,s=n.during,u=n.individualDelay,l=new Dn,c=0;c<i;c++){var h=r[c],d=o[c];d.parent=e,d.copyTransform(l),u||yG(h,d)}function f(t){for(var e=0;e<o.length;e++)o[e].addSelfToZr(t)}function p(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,gG(e,"addSelfToZr"),gG(e,"removeSelfFromZr")}e.__isCombineMorphing=!0,e.childrenRef=function(){return o},pG(e,"addSelfToZr",{after:function(t){f(t)}}),pG(e,"removeSelfFromZr",{after:function(t){for(var e=0;e<o.length;e++)o[e].removeSelfFromZr(t)}});var v=o.length;if(u){var y=v,m=function(){0==--y&&(p(),a&&a())};for(c=0;c<v;c++){var b=u?Object(g.i)({delay:(n.delay||0)+u(c,v,r[c],o[c]),done:m},n):n;mG(r[c],o[c],b)}}else e.__morphT=0,e.animateTo({__morphT:1},Object(g.i)({during:function(t){for(var n=0;n<v;n++){var r=o[n];r.__morphT=e.__morphT,r.dirtyShape()}s&&s(t)},done:function(){p();for(var e=0;e<t.length;e++)gG(t[e],"updateTransform");a&&a()}},n));return e.__zr&&f(e.__zr),{fromIndividuals:r,toIndividuals:o,count:v}}(s,u,h):function(t,e,n){var r=e.length,i=[],o=n.dividePath||xG;if(dG(t)){!function t(e){for(var n=0;n<e.length;n++){var r=e[n];dG(r)?t(r.childrenRef()):r instanceof Qo&&i.push(r)}}(t.childrenRef());var a=i.length;if(a<r)for(var s=0,u=a;u<r;u++)i.push(Qs(i[s++%a]));i.length=r}else{i=o({path:t,count:r});var l=t.getComputedTransform();for(u=0;u<i.length;u++)i[u].setLocalTransform(l);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}i=bG(i),e=bG(e);var c=n.individualDelay;for(u=0;u<r;u++){var h=c?Object(g.i)({delay:(n.delay||0)+c(u,r,i[u],e[u])},n):n;mG(i[u],e[u],h)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}(u,s,h),f=d.fromIndividuals,p=d.toIndividuals,v=f.length,m=0;m<v;m++){b=l?Object(g.i)({delay:l(m,v)},c):c;o(f[m],p[m],e?s[m]:t.one,e?t.one:s[m],b)}else{var b,x=e?s[0]:u,A=e?u:s[0];if(dG(x))y({many:[x],one:A},!0,r,i,!0);else mG(x,A,b=l?Object(g.i)({delay:l(r,i)},c):c),o(x,A,x,A,b)}}}function SG(t){if(!t)return[];if(Object(g.t)(t)){for(var e=[],n=0;n<t.length;n++)e.push(SG(t[n]));return e}var r=[];return t.traverse(function(t){t instanceof Qo&&!t.disableMorphing&&!t.invisible&&!t.ignore&&r.push(t)}),r}var OG=1e4,IG=$r();function EG(t){var e=[];return Object(g.k)(t,function(t){var n=t.data;if(!(n.count()>OG))for(var r=n.getIndices(),i=function(t){for(var e=t.dimensions,n=0;n<e.length;n++){var r=t.getDimensionInfo(e[n]);if(r&&0===r.otherDims.itemGroupId)return e[n]}}(n),o=0;o<r.length;o++)e.push({dataGroupId:t.dataGroupId,data:n,dim:t.dim||i,divide:t.divide,dataIndex:o})}),e}function CG(t,e,n){t.traverse(function(t){t instanceof Qo&&el(t,{style:{opacity:0}},e,{dataIndex:n,isFrom:!0})})}function kG(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function TG(t){t.stopAnimation(),t.isGroup&&t.traverse(function(t){t.stopAnimation()})}function DG(t,e,n){var r=Ju("update",n,e);r&&t.traverse(function(t){if(t instanceof Xi){var e=Ku(t).oldStyle;e&&t.animateFrom({style:e},r)}})}function jG(t,e,n){var r=EG(t),i=EG(e);function o(t,e,n,r,i){(n||t)&&e.animateFrom({style:n&&n!==t?Object(g.m)(Object(g.m)({},n.style),t.style):t.style},i)}function a(t){for(var e=0;e<t.length;e++)if(t[e].dim)return t[e].dim}var s=a(r),u=a(i),l=!1;function c(t,e){return function(n){var r=n.data,i=n.dataIndex;if(e)return r.getId(i);var o=n.dataGroupId,a=t?s||u:u||s,l=a&&r.getDimensionInfo(a),c=l&&l.ordinalMeta;if(l){var h=r.get(l.name,i);return c&&c.categories[h]||h+""}var d=r.getRawDataItem(i);return d&&d.groupId?d.groupId+"":o||r.getId(i)}}var h=function(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++){var i=t[r],o=e[r];if(i.data.getId(i.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}(r,i),d={};if(!h)for(var f=0;f<i.length;f++){var p=i[f],v=p.data.getItemGraphicEl(p.dataIndex);v&&(d[v.id]=!0)}function y(t,e){var n=r[e],a=i[t],s=a.data.hostModel,u=n.data.getItemGraphicEl(n.dataIndex),c=a.data.getItemGraphicEl(a.dataIndex);u!==c?u&&d[u.id]||c&&(TG(c),u?(TG(u),kG(u),l=!0,MG(SG(u),SG(c),a.divide,s,t,o)):CG(c,s,t)):c&&DG(c,a.dataIndex,s)}new jy(r,i,c(!0,h),c(!1,h),null,"multiple").update(y).updateManyToOne(function(t,e){var n=i[t],a=n.data,s=a.hostModel,u=a.getItemGraphicEl(n.dataIndex),c=Object(g.n)(Object(g.H)(e,function(t){return r[t].data.getItemGraphicEl(r[t].dataIndex)}),function(t){return t&&t!==u&&!d[t.id]});u&&(TG(u),c.length?(Object(g.k)(c,function(t){TG(t),kG(t)}),l=!0,MG(SG(c),SG(u),n.divide,s,t,o)):CG(u,s,n.dataIndex))}).updateOneToMany(function(t,e){var n=r[e],a=n.data.getItemGraphicEl(n.dataIndex);if(!a||!d[a.id]){var s=Object(g.n)(Object(g.H)(t,function(t){return i[t].data.getItemGraphicEl(i[t].dataIndex)}),function(t){return t&&t!==a}),u=i[t[0]].data.hostModel;s.length&&(Object(g.k)(s,function(t){return TG(t)}),a?(TG(a),kG(a),l=!0,MG(SG(a),SG(s),n.divide,u,t[0],o)):Object(g.k)(s,function(e){return CG(e,u,t[0])}))}}).updateManyToMany(function(t,e){new jy(e,t,function(t){return r[t].data.getId(r[t].dataIndex)},function(t){return i[t].data.getId(i[t].dataIndex)}).update(function(n,r){y(t[n],e[r])}).execute()}).execute(),l&&Object(g.k)(e,function(t){var e=t.data.hostModel,r=e&&n.getViewOfSeriesModel(e),i=Ju("update",e,0);r&&e.isAnimationEnabled()&&i&&i.duration>0&&r.group.traverse(function(t){t instanceof Qo&&!t.animators.length&&t.animateFrom({style:{opacity:0}},i)})})}function LG(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function PG(t){return Object(g.t)(t)?t.sort().join(","):t}function NG(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function RG(t,e){for(var n=0;n<t.length;n++){if(null!=e.seriesIndex&&e.seriesIndex===t[n].seriesIndex||null!=e.seriesId&&e.seriesId===t[n].id)return n}}n.d(e,!1,function(){return"5.4.1"}),n.d(e,!1,function(){return cv}),n.d(e,!1,function(){return pv}),n.d(e,"b",function(){return ny}),n.d(e,!1,function(){return ry}),n.d(e,!1,function(){return iy}),n.d(e,!1,function(){return oy}),n.d(e,!1,function(){return ay}),n.d(e,!1,function(){return sy}),n.d(e,!1,function(){return uy}),n.d(e,!1,function(){return ly}),n.d(e,!1,function(){return cy}),n.d(e,!1,function(){return hy}),n.d(e,!1,function(){return dy}),n.d(e,!1,function(){return fy}),n.d(e,!1,function(){return py}),n.d(e,!1,function(){return gy}),n.d(e,!1,function(){return vy}),n.d(e,!1,function(){return yy}),n.d(e,!1,function(){return Ac}),n.d(e,!1,function(){return my}),n.d(e,!1,function(){return by}),n.d(e,!1,function(){return wy}),n.d(e,!1,function(){return _y}),n.d(e,!1,function(){return My}),n.d(e,!1,function(){return Sy}),n.d(e,!1,function(){return Oy}),n.d(e,"a",function(){return Iy}),n.d(e,!1,function(){return o}),n.d(e,!1,function(){return i}),n.d(e,!1,function(){return r}),n.d(e,!1,function(){return g}),n.d(e,!1,function(){return je}),n.d(e,!1,function(){return Op}),n.d(e,!1,function(){return s}),n.d(e,!1,function(){return ky}),n.d(e,!1,function(){return Ln.e}),n.d(e,!1,function(){return Vb}),n.d(e,!1,function(){return Vb}),n.d(e,!1,function(){return u}),n.d(e,!1,function(){return l}),n.d(e,!1,function(){return c}),n.d(e,!1,function(){return h}),n.d(e,"c",function(){return d}),n.d(e,!1,function(){return p.a}),n.d(e,!1,function(){return rm}),n.d(e,!1,function(){return hc}),n.d(e,!1,function(){return tx}),n.d(e,!1,function(){return _h}),n.d(e,!1,function(){return dp}),n.d(e,!1,function(){return cp}),n.d(e,!1,function(){return wp}),n.d(e,!1,function(){return tv}),n.d(e,!1,function(){return ex}),n.d(e,!1,function(){return nx}),n.d(e,!1,function(){return rx}),n.d(e,!1,function(){return ix}),ky([function(t){t.registerPainter("canvas",iw)}]),ky([function(t){t.registerPainter("svg",tw)}]),ky([function(t){t.registerChartView(Bw),t.registerSeriesModel(ow),t.registerLayout(zw("line",!0)),t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",n)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Vw("line"))},function(t){t.registerChartView(p_),t.registerSeriesModel(Hw),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,g.h(Gm,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Vm("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Vw("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(e){t.sortInfo&&e.axis.setCategorySortInfo(t.sortInfo)})})},function(t){t.registerChartView(E_),t.registerSeriesModel(D_),fg("pie",t.registerAction),t.registerLayout(Object(g.h)(b_,"pie")),t.registerProcessor(x_("pie")),t.registerProcessor({seriesType:"pie",reset:function(t,e){var n=t.getData();n.filterSelf(function(t){var e=n.mapDimension("value"),r=n.get(e,t);return!(Object(g.z)(r)&&!isNaN(r)&&r<0)})}})},function(t){ky(DM),t.registerSeriesModel(j_),t.registerChartView(R_),t.registerLayout(zw("scatter"))},function(t){ky(YM),t.registerChartView(RM),t.registerSeriesModel(BM),t.registerLayout(jM),t.registerProcessor(x_("radar")),t.registerPreprocessor(NM)},function(t){ky(yO),t.registerChartView(JS),t.registerSeriesModel($S),t.registerLayout(eO),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,tO),fg("map",t.registerAction)},function(t){t.registerChartView(PO),t.registerSeriesModel(KO),t.registerLayout($O),t.registerVisual(tI),function(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var n=t.dataIndex,r=e.getData().tree.getNodeByDataIndex(n);r.isExpand=!r.isExpand})}),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var r=pO(e.coordinateSystem,t,void 0,n);e.setCenter&&e.setCenter(r.center),e.setZoom&&e.setZoom(r.zoom)})})}(t)},function(t){t.registerSeriesModel(rI),t.registerChartView(bI),t.registerVisual(BI),t.registerLayout(ZI),function(t){for(var e=0;e<eI.length;e++)t.registerAction({type:eI[e],update:"updateView"},g.L);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},function(e,n){var r=XO(t,["treemapZoomToNode","treemapRootToNode"],e);if(r){var i=e.getViewRoot();i&&(t.direction=QO(i,r.node)?"rollUp":"drillDown"),e.resetViewRoot(r.node)}})})}(t)},function(t){t.registerChartView(QE),t.registerSeriesModel(rC),t.registerProcessor(tE),t.registerVisual(eE),t.registerVisual(rE),t.registerLayout(pE),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,wE),t.registerLayout(ME),t.registerCoordinateSystem("graphView",{dimensions:iO.dimensions,create:SE}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},g.L),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},g.L),t.registerAction(iC,function(t,e,n){e.eachComponent({mainType:"series",query:t},function(e){var r=pO(e.coordinateSystem,t,void 0,n);e.setCenter&&e.setCenter(r.center),e.setZoom&&e.setZoom(r.zoom)})})},function(t){t.registerChartView(uC),t.registerSeriesModel(lC)},function(t){t.registerChartView(dC),t.registerSeriesModel(fC),t.registerLayout(pC),t.registerProcessor(x_("funnel"))},function(t){ky(Wk),t.registerChartView(xC),t.registerSeriesModel(wC),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,MC)},function(t){t.registerChartView(Xk),t.registerSeriesModel(qk),t.registerLayout(Qk),t.registerVisual(sT),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},function(t){t.registerSeriesModel(cT),t.registerChartView(vT),t.registerLayout(mT),t.registerTransform(bT)},function(t){t.registerChartView(TT),t.registerSeriesModel(jT),t.registerPreprocessor(LT),t.registerVisual(FT),t.registerLayout(VT)},function(t){t.registerChartView(HT),t.registerSeriesModel(YT),t.registerLayout(zw("effectScatter"))},function(t){t.registerChartView(tD),t.registerSeriesModel(iD),t.registerLayout($T),t.registerVisual(aD)},function(t){t.registerChartView(lD),t.registerSeriesModel(cD)},function(t){t.registerChartView(TD),t.registerSeriesModel(DD),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,Object(g.h)(Gm,"pictorialBar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Vm("pictorialBar"))},function(t){t.registerChartView(jD),t.registerSeriesModel(LD),t.registerLayout(PD),t.registerProcessor(x_("themeRiver"))},function(t){t.registerChartView(UD),t.registerSeriesModel(WD),t.registerLayout(Object(g.h)(YD,"sunburst")),t.registerProcessor(Object(g.h)(x_,"sunburst")),t.registerVisual(XD),function(t){t.registerAction({type:FD,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(e,n){var r=XO(t,[FD],e);if(r){var i=e.getViewRoot();i&&(t.direction=QO(i,r.node)?"rollUp":"drillDown"),e.resetViewRoot(r.node)}})}),t.registerAction({type:GD,update:"none"},function(t,e,n){t=Object(g.m)({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},function(e){var n=XO(t,[GD],e);n&&(t.dataIndex=n.node.dataIndex)}),n.dispatchAction(Object(g.m)(t,{type:"highlight"}))}),t.registerAction({type:VD,update:"updateView"},function(t,e,n){t=Object(g.m)({},t),n.dispatchAction(Object(g.m)(t,{type:"downplay"}))})}(t)},function(t){t.registerChartView(Rj),t.registerSeriesModel(KD)}]),ky(function(t){ky(DM),ky(RL)}),ky(function(t){ky(RL),xM.registerAxisPointerClass("PolarAxisPointer",FL),t.registerCoordinateSystem("polar",eP),t.registerComponentModel(GL),t.registerComponentView(bP),H_(t,"angle",UL,yP),H_(t,"radius",WL,mP),t.registerComponentView(uP),t.registerComponentView(fP),t.registerLayout(Object(g.h)(vP,"bar"))}),ky(yO),ky(function(t){ky(RL),xM.registerAxisPointerClass("SingleAxisPointer",zP),t.registerComponentView(FP),t.registerComponentView(SP),t.registerComponentModel(IP),H_(t,"single",IP,IP.defaultOption),t.registerCoordinateSystem("single",DP)}),ky(Wk),ky(function(t){t.registerComponentModel(VP),t.registerComponentView(UP),t.registerCoordinateSystem("calendar",HP)}),ky(function(t){t.registerComponentModel(ZP),t.registerComponentView($P),t.registerPreprocessor(function(t){var e=t.graphic;Object(g.t)(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}),ky(function(t){t.registerComponentModel(ON),t.registerComponentView(EN),MN("saveAsImage",CN),MN("magicType",jN),MN("dataView",GN),MN("dataZoom",fR),MN("restore",YN),ky(AN)}),ky(function(t){ky(RL),t.registerComponentModel(pR),t.registerComponentView(LR),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},g.L),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},g.L)}),ky(RL),ky(function(t){t.registerComponentView($R),t.registerComponentModel(eB),t.registerPreprocessor(NR),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,qR),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(e){e.setAreas(t.areas)})}),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},g.L),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},g.L),MN("brush",rB)}),ky(function(t){t.registerComponentModel(iB),t.registerComponentView(oB)}),ky(function(t){t.registerComponentModel(uB),t.registerComponentView(gB),t.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e,n){var r=e.getComponent("timeline");return r&&null!=t.currentIndex&&(r.setCurrentIndex(t.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.getPlayState()&&(r.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:r.get("replaceMerge",!0)}),Object(g.i)({currentIndex:r.option.currentIndex},t)}),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)})}(t),t.registerPreprocessor(vB)}),ky(function(t){t.registerComponentModel(MB),t.registerComponentView(NB),t.registerPreprocessor(function(t){bB(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}),ky(function(t){t.registerComponentModel(RB),t.registerComponentView(WB),t.registerPreprocessor(function(t){bB(t.series,"markLine")&&(t.markLine=t.markLine||{})})}),ky(function(t){t.registerComponentModel(HB),t.registerComponentView($B),t.registerPreprocessor(function(t){bB(t.series,"markArea")&&(t.markArea=t.markArea||{})})}),ky(function(t){ky(hz),ky(mz)}),ky(function(t){ky(kz),ky(zz)}),ky(kz),ky(zz),ky(function(t){ky(AF),ky(IF)}),ky(AF),ky(IF),ky(function(t){t.registerPreprocessor(DF),t.registerVisual(t.PRIORITY.VISUAL.ARIA,TF)}),ky(function(t){t.registerTransform(WF),t.registerTransform(HF)}),ky(function(t){t.registerComponentModel(YF),t.registerComponentView(XF)}),ky(function(t){t.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){Object(g.k)(Gr(n.seriesTransition),function(t){Object(g.k)(Gr(t.to),function(t){for(var e=n.updatedSeries,r=0;r<e.length;r++)(null!=t.seriesIndex&&t.seriesIndex===e[r].seriesIndex||null!=t.seriesId&&t.seriesId===e[r].id)&&(e[r][ep]=!0)})})}),t.registerUpdateLifecycle("series:transition",function(t,e,n){var r=IG(e);if(r.oldSeries&&n.updatedSeries&&n.optionChanged){var i=n.seriesTransition;if(i)Object(g.k)(Gr(i),function(t){!function(t,e,n,r){var i=[],o=[];Object(g.k)(Gr(t.from),function(t){var n=RG(e.oldSeries,t);n>=0&&i.push({dataGroupId:e.oldDataGroupIds[n],data:e.oldData[n],divide:NG(e.oldData[n]),dim:t.dimension})}),Object(g.k)(Gr(t.to),function(t){var r=RG(n.updatedSeries,t);if(r>=0){var i=n.updatedSeries[r].getData();o.push({dataGroupId:e.oldDataGroupIds[r],data:i,divide:NG(i),dim:t.dimension})}}),i.length>0&&o.length>0&&jG(i,o,r)}(t,r,n,e)});else{var o=function(t,e){var n=Object(g.f)(),r=Object(g.f)(),i=Object(g.f)();return Object(g.k)(t.oldSeries,function(e,n){var o=t.oldDataGroupIds[n],a=t.oldData[n],s=LG(e),u=PG(s);r.set(u,{dataGroupId:o,data:a}),Object(g.t)(s)&&Object(g.k)(s,function(t){i.set(t,{key:u,dataGroupId:o,data:a})})}),Object(g.k)(e.updatedSeries,function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var e=t.get("dataGroupId"),o=t.getData(),a=LG(t),s=PG(a),u=r.get(s);if(u)n.set(s,{oldSeries:[{dataGroupId:u.dataGroupId,divide:NG(u.data),data:u.data}],newSeries:[{dataGroupId:e,divide:NG(o),data:o}]});else if(Object(g.t)(a)){var l=[];Object(g.k)(a,function(t){var e=r.get(t);e.data&&l.push({dataGroupId:e.dataGroupId,divide:NG(e.data),data:e.data})}),l.length&&n.set(s,{oldSeries:l,newSeries:[{dataGroupId:e,data:o,divide:NG(o)}]})}else{var c=i.get(a);if(c){var h=n.get(c.key);h||(h={oldSeries:[{dataGroupId:c.dataGroupId,data:c.data,divide:NG(c.data)}],newSeries:[]},n.set(c.key,h)),h.newSeries.push({dataGroupId:e,data:o,divide:NG(o)})}}}}),n}(r,n);Object(g.k)(o.keys(),function(t){var n=o.get(t);jG(n.oldSeries,n.newSeries,e)})}Object(g.k)(n.updatedSeries,function(t){t[ep]&&(t[ep]=!1)})}for(var a=t.getSeries(),s=r.oldSeries=[],u=r.oldDataGroupIds=[],l=r.oldData=[],c=0;c<a.length;c++){var h=a[c].getData();h.count()<OG&&(s.push(a[c]),u.push(a[c].get("dataGroupId")),l.push(h))}})}),ky(Vx)},Xe0k:function(t,e,n){t.exports=n.p+"static/img/ImageNet4.a12f4e6.png"},"Y/tY":function(t,e,n){var r=n("72Lu"),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var a=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var u=a[s].channels,l=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:u}),Object.defineProperty(a[s],"labels",{value:l})}a.rgb.hsl=function(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a;return s===a?e=0:r===s?e=(i-o)/u:i===s?e=2+(o-r)/u:o===s&&(e=4+(r-i)/u),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+s)/2,[e,100*(s===a?0:n<=.5?u/(s+a):u/(2-s-a)),100*n]},a.rgb.hsv=function(t){var e,n,r,i,o,a=t[0]/255,s=t[1]/255,u=t[2]/255,l=Math.max(a,s,u),c=l-Math.min(a,s,u),h=function(t){return(l-t)/6/c+.5};return 0===c?i=o=0:(o=c/l,e=h(a),n=h(s),r=h(u),a===l?i=r-n:s===l?i=1/3+e-r:u===l&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*l]},a.rgb.hwb=function(t){var e=t[0],n=t[1],r=t[2];return[a.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(n,r))),100*(r=1-1/255*Math.max(e,Math.max(n,r)))]},a.rgb.cmyk=function(t){var e,n=t[0]/255,r=t[1]/255,i=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-r,1-i)))/(1-e)||0),100*((1-r-e)/(1-e)||0),100*((1-i-e)/(1-e)||0),100*e]},a.rgb.keyword=function(t){var e=i[t];if(e)return e;var n,o,a,s=1/0;for(var u in r)if(r.hasOwnProperty(u)){var l=r[u],c=(o=t,a=l,Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));c<s&&(s=c,n=u)}return n},a.keyword.rgb=function(t){return r[t]},a.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]},a.rgb.lab=function(t){var e=a.rgb.xyz(t),n=e[0],r=e[1],i=e[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(t){var e,n,r,i,o,a=t[0]/360,s=t[1]/100,u=t[2]/100;if(0===s)return[o=255*u,o,o];e=2*u-(n=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var l=0;l<3;l++)(r=a+1/3*-(l-1))<0&&r++,r>1&&r--,o=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,i[l]=255*o;return i},a.hsl.hsv=function(t){var e=t[0],n=t[1]/100,r=t[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[e,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),a=255*r*(1-n),s=255*r*(1-n*o),u=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,u,a];case 1:return[s,r,a];case 2:return[a,r,u];case 3:return[a,s,r];case 4:return[u,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(t){var e,n,r,i=t[0],o=t[1]/100,a=t[2]/100,s=Math.max(a,.01);return r=(2-o)*a,n=o*s,[i,100*(n=(n/=(e=(2-o)*s)<=1?e:2-e)||0),100*(r/=2)]},a.hwb.rgb=function(t){var e,n,r,i,o,a,s,u=t[0]/360,l=t[1]/100,c=t[2]/100,h=l+c;switch(h>1&&(l/=h,c/=h),n=1-c,r=6*u-(e=Math.floor(6*u)),0!=(1&e)&&(r=1-r),i=l+r*(n-l),e){default:case 6:case 0:o=n,a=i,s=l;break;case 1:o=i,a=n,s=l;break;case 2:o=l,a=n,s=i;break;case 3:o=l,a=i,s=n;break;case 4:o=i,a=l,s=n;break;case 5:o=n,a=l,s=i}return[255*o,255*a,255*s]},a.cmyk.rgb=function(t){var e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},a.xyz.rgb=function(t){var e,n,r,i=t[0]/100,o=t[1]/100,a=t[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,e=(e=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(t){var e=t[0],n=t[1],r=t[2];return n/=100,r/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(t){var e,n,r,i=t[0],o=t[1],a=t[2];e=o/500+(n=(i+16)/116),r=n-a/200;var s=Math.pow(n,3),u=Math.pow(e,3),l=Math.pow(r,3);return n=s>.008856?s:(n-16/116)/7.787,e=u>.008856?u:(e-16/116)/7.787,r=l>.008856?l:(r-16/116)/7.787,[e*=95.047,n*=100,r*=108.883]},a.lab.lch=function(t){var e,n=t[0],r=t[1],i=t[2];return(e=360*Math.atan2(i,r)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(r*r+i*i),e]},a.lch.lab=function(t){var e,n=t[0],r=t[1];return e=t[2]/360*2*Math.PI,[n,r*Math.cos(e),r*Math.sin(e)]},a.rgb.ansi16=function(t){var e=t[0],n=t[1],r=t[2],i=1 in arguments?arguments[1]:a.rgb.hsv(t)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},a.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},a.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map(function(t){return t+t}).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.max(Math.max(r,i),o),s=Math.min(Math.min(r,i),o),u=a-s;return e=u<1?s/(1-u):0,n=u<=0?0:a===r?(i-o)/u%6:a===i?2+(o-r)/u:4+(r-i)/u+4,n/=6,[360*(n%=1),100*u,100*e]},a.hsl.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=1,i=0;return(r=n<.5?2*e*n:2*e*(1-n))<1&&(i=(n-.5*r)/(1-r)),[t[0],100*r,100*i]},a.hsv.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=e*n,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},a.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,r=t[2]/100;if(0===n)return[255*r,255*r,255*r];var i,o=[0,0,0],a=e%1*6,s=a%1,u=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=u,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=u,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=u}return i=(1-n)*r,[255*(n*o[0]+i),255*(n*o[1]+i),255*(n*o[2]+i)]},a.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},a.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},a.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},a.hwb.hcg=function(t){var e=t[1]/100,n=1-t[2]/100,r=n-e,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},a.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},a.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},a.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},Y1ED:function(t,e,n){"use strict";var r=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.a=r},Y4K9:function(t,e,n){var r=n("ZFR3");t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},Y9x2:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return t.prototype.init=function(e,n,r){this.cells=[],this.CELL_W=r.CELL_W||t.DEFAULT_CELL_W,this.CELL_H=r.CELL_H||t.DEFAULT_CELL_H,this.columnNum=Math.ceil(e/this.CELL_W),this.rowNum=Math.ceil(n/this.CELL_H),t.MIN_DIST=Math.pow(e,2)+Math.pow(n,2);for(var i=0;i<this.columnNum;i++){for(var o=[],a=0;a<this.rowNum;a++){var s={dx:i,dy:a,x:i*this.CELL_W,y:a*this.CELL_H,occupied:!1};o.push(s)}this.cells.push(o)}},t.prototype.findGridByNodeId=function(t){for(var e,n,r=0;r<this.columnNum;r++)for(var i=0;i<this.rowNum;i++)if(this.cells[r][i].node&&(null===(n=null===(e=this.cells[r][i])||void 0===e?void 0:e.node)||void 0===n?void 0:n.id)===t)return{column:r,row:i};return null},t.prototype.sqdist=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},t.prototype.occupyNearest=function(e){for(var n,r=t.MIN_DIST,i=null,o=0;o<this.columnNum;o++)for(var a=0;a<this.rowNum;a++)!this.cells[o][a].occupied&&(n=this.sqdist(e,this.cells[o][a]))<r&&(r=n,i=this.cells[o][a]);return i&&(i.occupied=!0),i},t.prototype.insertColumn=function(t,e){if(!(e<=0)){for(var n=0;n<e;n++){this.cells[n+this.columnNum]=[];for(var i=0;i<this.rowNum;i++)this.cells[n+this.columnNum][i]={dx:n,dy:i,x:n*this.CELL_W,y:i*this.CELL_H,occupied:!1,node:null}}for(n=this.columnNum-1;n>t;n--)for(i=0;i<this.rowNum;i++)this.cells[n+e][i]=r(r({},this.cells[n][i]),{x:(n+e)*this.CELL_W,y:i*this.CELL_H}),this.cells[n][i]={x:n*this.CELL_W,y:i*this.CELL_H,occupied:!0,node:null};for(i=0;i<this.additionColumn.length;i++)this.additionColumn[i]>=t&&(this.additionColumn[i]+=e);for(n=0;n<e;n++)this.additionColumn.push(t+n+1);this.columnNum+=e}},t.prototype.insertRow=function(t,e){if(!(e<=0)){for(var n=0;n<e;n++)for(var i=0;i<this.columnNum;i++)this.cells[i][n+this.rowNum]={dx:i,dy:n,x:i*this.CELL_W,y:n*this.CELL_H,occupied:!1,node:null};for(i=0;i<this.columnNum;i++)for(n=this.rowNum-1;n>t;n--)this.cells[i][n+e]=r(r({},this.cells[i][n]),{dx:i,dy:n+e,x:i*this.CELL_W,y:(n+e)*this.CELL_H}),this.cells[i][n]={dx:i,dy:n,x:i*this.CELL_W,y:n*this.CELL_H,occupied:!1,node:null};for(n=0;n<this.additionRow.length;n++)this.additionRow[n]>=t&&(this.additionRow[n]+=e);for(i=0;i<e;i++)this.additionRow.push(t+i+1);this.rowNum+=e}},t.prototype.getNodes=function(){for(var t=[],e=0;e<this.columnNum;e++)for(var n=0;n<this.rowNum;n++)this.cells[e][n].node&&t.push(this.cells[e][n]);return t},t.MIN_DIST=50,t.DEFAULT_CELL_W=80,t.DEFAULT_CELL_H=80,t}();e.default=i},YAyp:function(t,e){},YNzw:function(t,e,n){"use strict";var r=function(){return function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}}(),i=new(function(){return function(){this.browser=new r,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window}}());"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(i.wxa=!0,i.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?i.worker=!0:"undefined"==typeof navigator?(i.node=!0,i.svgSupported=!0):function(t,e){var n=e.browser,r=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(t);r&&(n.firefox=!0,n.version=r[1]);i&&(n.ie=!0,n.version=i[1]);o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18);a&&(n.weChat=!0);e.svgSupported="undefined"!=typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,e.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported="undefined"!=typeof document;var s=document.documentElement.style;e.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||n.ie&&+n.version>=9}(navigator.userAgent,i),e.a=i},"YPq+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=i,e.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=o,e.fromValues=function(t,e,n){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=a,e.multiply=s,e.divide=u,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},e.distance=l,e.squaredDistance=c,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;o>0&&(o=1/Math.sqrt(o));return t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t},e.dot=d,e.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t},e.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t},e.hermite=function(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,l=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*l+i[0]*c,t[1]=e[1]*s+n[1]*u+r[1]*l+i[1]*c,t[2]=e[2]*s+n[2]*u+r[2]*l+i[2]*c,t},e.bezier=function(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,l=s*a,c=3*o*s,h=3*u*a,d=u*o;return t[0]=e[0]*l+n[0]*c+r[0]*h+i[0]*d,t[1]=e[1]*l+n[1]*c+r[1]*h+i[1]*d,t[2]=e[2]*l+n[2]*c+r[2]*h+i[2]*d,t},e.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=i*e,t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},e.transformQuat=function(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],l=e[2],c=i*l-o*u,h=o*s-r*l,d=r*u-i*s,f=i*d-o*h,p=o*c-r*d,g=r*h-i*c,v=2*a;return c*=v,h*=v,d*=v,f*=2,p*=2,g*=2,t[0]=s+c+f,t[1]=u+h+p,t[2]=l+d+g,t},e.rotateX=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateY=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateZ=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.angle=function(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],u=Math.sqrt(n*n+r*r+i*i),l=Math.sqrt(o*o+a*a+s*s),c=u*l,h=c&&d(t,e)/c;return Math.acos(Math.min(Math.max(h,-1),1))},e.zero=function(t){return t[0]=0,t[1]=0,t[2]=0,t},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))},n.d(e,"sub",function(){return p}),n.d(e,"mul",function(){return g}),n.d(e,"div",function(){return v}),n.d(e,"dist",function(){return y}),n.d(e,"sqrDist",function(){return m}),n.d(e,"len",function(){return b}),n.d(e,"sqrLen",function(){return x}),n.d(e,"forEach",function(){return A});var r=n("NVY2");function i(){var t=new r.ARRAY_TYPE(3);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function a(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function s(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function u(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function l(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function h(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}var f,p=a,g=s,v=u,y=l,m=c,b=o,x=h,A=(f=i(),function(t,e,n,r,i,o){var a,s;for(e||(e=3),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)f[0]=t[a],f[1]=t[a+1],f[2]=t[a+2],i(f,f,o),t[a]=f[0],t[a+1]=f[1],t[a+2]=f[2];return t})},YuLH:function(t,e){t.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAB3RJTUUH2AgBFjccJtg7/wAAChRJREFUSIkFwVmPXNlBAOCz3X2rW3t1V7u7Pe622554PLZCgpkMERGQBEIUlkiQJ6S8AC+88Q/4A7yjSDwFoZEioQwgNAp4MmOseGa8TdtuT6+1dNWtqlt3P+fec+7h++DjD/8JEiYV12zuGGbXdrua4QIgAQAQSghrQRkmdVmWUTjJ42merqQIMZaLxVpBWFOVglaapkjIsa7CmqiKUuTl8evzdnswDedE97UoTOZnrxrtQCEalEQxN/vbd9xOj3P6+vEDz64UFUTrFcCcMQqgoNkaSwQryUSFQSk4oEhiIkEpNM1iFaclaA5cCWRVSfxXP7x/fjKua3L91tuOreA6L5JpFEwEF6eHL958/rjRAhKy5WyEsaRlgRBOokSUNYIYEykkV1XTchRaclEhXTOhhKISpgouJ2MgFWJp6u7WjuY4QpY5LbzuQLXZyy++mpy8LlN+Oac3ycZ6vVQUoms2wLwSFaOcF7A/cL0Gen2cGCboDDxF9YuMRcncdZoQcSF4u+3UUiWNVk/T9EpSxmgehVDUSYqfvZzd3u+EcYIsVTXwfJZuDjZqzhXApSgNoo3jUqDKdd3L6RwbqNulQopSiFrWUbSqyhrIwvfdIs+QYpGEhiUTopYYqVXBZpNgESZJqT88HO3fGvAs6Q96QgqIAEYllHBjc7gxVJ+/OAnXcDBoP395sV6h1TyYXEwMpQ0ghKhqeB6QAkiISF3p2BAlWM5WtmWpCqS0yAX8zYuzbrt5ddvndS1KzGiZp5mUAGukktZbewe7O61//4//A5KF89GTZ8d1pemKxsu1RqCuawQ7WUalBCgvCinSmq90wvMsTuO46arT45OHDx+//967pmWG6/zpZ+cqVjUFMlZVvHz25dMHnxzeuf12Fq+ePD3e7JkPPv38wcPTMM0lRDV3Gm5DISohmJYZqgUvq5SyWNFgWVY11lpeu2PZjFaqZi6Xq7qGL4/HCKluYwCwupyv9q8NCORPHr14796d0VcLW2lcnM3/+1ePkjU9Pl0dHseK6mb5GqIaIYTyZJ3nJcZOwXizv2E47awsLA9FUXr05kJWPFvncV5lWZgliao7lq2kq+XetU1Whqv5nNTw0SfPsjQDXERhgmrwm8+ezGZBlsdZlsdpgoBiqXpbCMgFztNYVtGVa+3v/uh9y1E/+tUD3XQYYyWQAkrBSwJrw2kYvm9Y6K2DK1///W/oHfO933vnt7+5Z2mq53vdrkeLbDqdVQIuV2AdSaSAklcJ48y2u6BGomTJer270/mj7339xZNXR69jpBs0YSpRMxoE02m6FuPzaL1Km71tCSggrLWxcfPOTVXX8hRkuYSAKBrOaMY4dvwhYpWcL5aG4SkqUk014zwvKE0Wf/jt/b2r3X/9+Udte5ClxXKNAFDCZX5xNnnw4BmlEmPZsG1V1RZhIpjouMYyyI7OiobveLqpIcey3CjN8N//3V+EQZisE8czMSEAQJqnmqZ1en6v3/j04Rez84AyUWNzZ7PHilwA8fRwPNgeNswKQfDw0bHt6O9s9yzVePzybB3nd25vsHVWVuXF6HwZzFGeUAKUs7NJGomyqHklKUvnQRSt064Hf/rX38pFzOL1h7/4z+cvlhg0Gqa92fc+f/pVukpG57PJ5cr39ZauFEyen4/3BlayTI9OZ6tVMOg5B3tb+Cd/9p0sDY9O55xTwWgwm4ua62aLUja9mFSM3bi+0e3bvOQff/x4NF6aqtXutL94cfpb9278z4PPo0L84FvvTI5nH3z0aH9raGhKXNBrV33NVm/d3nNchXiOfX4UEkltvQqXa1ZWW82BrptxfMkBGo1WV7fVlq++/+2Dt/b6v/748IMPJ+1O/2Ie/vyDT85OJz/+8f08LH/568OEUoErzSjevrHZ6Lm+33JdU3Id/81PfjfP6KDTLxI2micQYsfRsyioBSMKJhDIWhEV0mzj2tVB0zVs33r1ZhIsgk8ePb33jbs//M43//lffvH0bPHevYObN7p3b29iJHTLGvR7rIhFyVCcxs2+hxR4dHLJKFUJKxntdnoq9opCWJ5NubT9K8PhNV5xUeeOpqgEH1y/6jWc54ev/uuXj55/eQJ5vtVvXNlq51w6Ddc1dV4VigogLkm4KMN46tpOp+cgTExTNlyfUTGbL88uJjs7myWrXh8dRbGzWk5kXTb93mIZ0ctAM0wVKy+/PNnb2t492Lx7bwgQV4ymSiDnNInmXttWdYz/4P6+aSiyFv2BT1mxXjPH8yAuAKL9Qa/hNKoqQ5Cncdry7Y2NVkHp2Wkwnq6cZvNP/+T789nyz3/0x9d3dtfxor/VSaIkzxmAwm80FaSxkuOf/uXvGLougUBIpazC2MiLuqoqhDCreBzFAFQqQbatubamKwRj1G46i1m6DrPZePTF4VFaFMPhVqPnt3pOcBloRPWaKlCMmoOc5vh7928XSU7LIk1L3bCLQnDGsAIoE5jARRikUawo0vXVNKOgRn7TcWzjzVfLyXQpq7IU4OXJyZvJ5Natr21vdWuamCZCSOQUmLZT8xx/bbuLkcSKajvWeBIE82hrqy04TePoylbHNo1uswMxGI/CeZB6ntVoWLWs//fTV7NVImUtASKEqKCmRfXW9lXPlhxSw+q1WwOFgDico80N17CIxCRLWTCPsVK5TVtI4XukiGJZgM3h9YOb921r27JanXZPIU6eoVkQA1BjiEAttrc2/vEf/nanaf7sZ/+2irlhunEcliJazl7Pxxekv9lDUkZ52mi0wygDCtB0dXu7Gy1DGoJbb7/bG96AGPZ+sC9rxrIFRsrlxWEUUYIBBLCl6webzvT4y8s3b4ThUCDPLk41AolZn43GjNYkLap4vhoOu6tlRBTFsDs1NxoOBhF1WlaDAJmEAgkV1nkw58mirsH8yWdYcsOw8jh3+v79+9dlGd5+d3O4t2uj7DzMbt55J88CVXUtkxDbNl3DiOIsikpJhElyKBMFERxnqErimro7Oc1zGafR+UhUVRqtw/HIVIij6Fxhqq6ZtmF7qmU5SHBR0uHwahyFoMxEmjtNm/Q3vHi5jnPo+RYVAiLh+PblyTQ9GjOsdRXMgmkZZvF8LCoRx1WWZVBVTUXDQGAAPUsnGGpGu9H2y2JBKTJco0iCYLZaxRKYKro4XwIJd3d7cbKiOSCapXuD8YU8Pw5XaQEQSeazeLVmNKtgPQvXFCkV0nzbablO07a7vtMaNPsbXVmmJU0Ej6EMXdvQ9eZotMwKRK7t76XhPE4qVdc0rXZcI48SW2ZQJ4N+p4ozRsswqXxbCRbUsRoCyChdmhohstJlbcFahyBZj/I8lkCVUtIsgZCoGrx7d9dp2cRrkHiVZxlvelp/oNdQLbPAwit/u+n3LFqwRUyhRBjqEMtmu1UhmD0/LUte1ExKOJoGk4up1yFMgP0bN5MoYXS5WCwkIN1+y202/x8Rwydh4fxKvAAAAABJRU5ErkJggg=="},Z60a:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},ZE1E:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&("get"in i?e.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n("akEr"),e),i(n("i3IR"),e),i(n("yKiC"),e),i(n("PRxO"),e),i(n("hTOL"),e),i(n("N8pi"),e)},ZFR3:function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},ZoBt:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.GForceGPULayout=void 0;var s=n("w9t0"),u=n("ZE1E"),l=n("JKCU"),c=n("6hwo"),h=n("PRxO"),d=n("OqTO"),f=n("D9Z3"),p=function(t){function e(e){var n=t.call(this)||this;return n.maxIteration=1e3,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}},e.prototype.execute=function(){return o(this,void 0,void 0,function(){var t,e,n,r,i;return a(this,function(o){switch(o.label){case 0:return(e=(t=this).nodes)&&0!==e.length?(t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]),n=t.center,1===e.length?(e[0].x=n[0],e[0].y=n[1],t.onLayoutEnd&&t.onLayoutEnd(),[2]):(r={},i={},e.forEach(function(e,n){(0,u.isNumber)(e.x)||(e.x=Math.random()*t.width),(0,u.isNumber)(e.y)||(e.y=Math.random()*t.height),r[e.id]=e,i[e.id]=n}),t.nodeMap=r,t.nodeIdxMap=i,t.nodeStrength=(0,c.proccessToFunc)(t.nodeStrength,1),t.edgeStrength=(0,c.proccessToFunc)(t.edgeStrength,1),[4,t.run()])):(t.onLayoutEnd&&t.onLayoutEnd(),[2]);case 1:return o.sent(),[2]}})})},e.prototype.executeWithWorker=function(t,e){var n=this,r=n.nodes,i=n.center;if(r&&0!==r.length){if(1===r.length)return r[0].x=i[0],void(r[0].y=i[1]);var o={},a={};r.forEach(function(t,e){(0,u.isNumber)(t.x)||(t.x=Math.random()*n.width),(0,u.isNumber)(t.y)||(t.y=Math.random()*n.height),o[t.id]=t,a[t.id]=e}),n.nodeMap=o,n.nodeIdxMap=a,n.nodeStrength=(0,c.proccessToFunc)(n.nodeStrength,1),n.edgeStrength=(0,c.proccessToFunc)(n.edgeStrength,1),n.run(t,e)}},e.prototype.run=function(t,e){return o(this,void 0,void 0,function(){var n,r,i,s,p,g,v,y,m,b,x,A,w,_,M,S,O,I,E,C,k,T,D,j,L,P,N=this;return a(this,function(R){switch(R.label){case 0:for(r=(n=this).nodes,i=n.edges,s=n.maxIteration,n.width||"undefined"==typeof window||(n.width=window.innerWidth),n.height||"undefined"==typeof window||(n.height=window.innerHeight),p=r.length,n.linkDistance=(0,c.proccessToFunc)(n.linkDistance),n.edgeStrength=(0,c.proccessToFunc)(n.edgeStrength),g=(0,c.buildTextureDataWithTwoEdgeAttr)(r,i,n.linkDistance,n.edgeStrength),v=g.maxEdgePerVetex,y=g.array,n.degrees=(0,h.getDegree)(r.length,n.nodeIdxMap,i).map(function(t){return t.all}),m=[],b=[],x=[],A=[],w=[],_=[],M=[],n.getMass||(n.getMass=function(t){return n.degrees[n.nodeIdxMap[t.id]]||1}),S=n.gravity,O=n.center,r.forEach(function(t,e){m.push(n.getMass(t)),b.push(n.nodeStrength(t)),n.degrees[e]||(n.degrees[e]=0);var r=[O[0],O[1],S];if(n.getCenter){var i=n.getCenter(t,n.degrees[e]);i&&(0,u.isNumber)(i[0])&&(0,u.isNumber)(i[1])&&(0,u.isNumber)(i[2])&&(r=i)}x.push(r[0]),A.push(r[1]),w.push(r[2]),(0,u.isNumber)(t.fx)&&(0,u.isNumber)(t.fy)?(_.push(t.fx||.001),M.push(t.fy||.001)):(_.push(0),M.push(0))}),I=(0,c.arrayToTextureData)([m,n.degrees,b,_]),E=(0,c.arrayToTextureData)([x,A,w,M]),C=n.workerEnabled,k=C?l.World.create({canvas:t,engineOptions:{supportCompute:!0}}):l.World.create({engineOptions:{supportCompute:!0}}),T=n.onLayoutEnd,D=[],y.forEach(function(t){D.push(t)}),j=0;j<4;j++)D.push(0);return L=k.createKernel(d.gForceBundle).setDispatch([p,1,1]).setBinding({u_Data:y,u_damping:n.damping,u_maxSpeed:n.maxSpeed,u_minMovement:n.minMovement,u_coulombDisScale:n.coulombDisScale,u_factor:n.factor,u_NodeAttributeArray1:I,u_NodeAttributeArray2:E,MAX_EDGE_PER_VERTEX:v,VERTEX_COUNT:p,u_AveMovement:D,u_interval:n.interval}),P=k.createKernel(d.aveMovementBundle).setDispatch([1,1,1]).setBinding({u_Data:y,VERTEX_COUNT:p,u_AveMovement:[0,0,0,0]}),[4,function(){return o(N,void 0,void 0,function(){var i,o,u;return a(this,function(a){switch(a.label){case 0:i=0,a.label=1;case 1:return i<s?[4,L.execute()]:[3,5];case 2:return a.sent(),P.setBinding({u_Data:L}),[4,P.execute()];case 3:a.sent(),o=Math.max(.02,n.interval-.002*i),L.setBinding({u_interval:o,u_AveMovement:P}),a.label=4;case 4:return i++,[3,1];case 5:return[4,L.getOutput()];case 6:return u=a.sent(),t?e.postMessage({type:f.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:u}):r.forEach(function(t,e){var n=u[4*e],r=u[4*e+1];t.x=n,t.y=r}),T&&T(),[2]}})})}()];case 1:return R.sent(),[2]}})})},e.prototype.getType=function(){return"gForce-gpu"},e}(s.Base);e.GForceGPULayout=p},akEr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.camelize=e.isString=void 0;e.isString=function(t){return"string"==typeof t};var r,i,o=/-(\w)/g;e.camelize=(r=function(t){return t.replace(o,function(t,e){return e?e.toUpperCase():""})},i=Object.create(null),function(t){return i[t]||(i[t]=r(t))})},c7ya:function(t,e){},cMrJ:function(t,e,n){t.exports=n.p+"static/img/score.fc54b20.png"},cOOB:function(t,e,n){"use strict";e.a=function(){if(!r){var t=document.createElement("canvas");t.width=1,t.height=1,r=t.getContext("2d")}return r};var r=null},cP7J:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&("get"in i?e.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n("1/b1")),s=n("ZE1E");e.default=function(){function t(t){return function(){return t}}var e,n=function(t){return t.cluster},r=t(1),i=t(-1),o=t(100),u=t(.1),l=[0,0],c=[],h={},d=[],f=100,p=100,g={none:{x:0,y:0}},v=[],y="force",m=!0,b=.1;function x(t){if(!m)return x;e.tick(),w();for(var r=0,i=c.length,o=void 0,a=t*b;r<i;++r)(o=c[r]).vx+=(g[n(o)].x-o.x)*a,o.vy+=(g[n(o)].y-o.y)*a}function A(){c&&function(){if(c&&c.length){if(void 0===n(c[0]))throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var t,l,g,y,m,b,x,A=(g=[],y=[],m={},b={},x=[],b=function(t){var e={};return t.forEach(function(t){var r=n(t);e[r]||(e[r]={count:0,sumforceNodeSize:0})}),t.forEach(function(t){var i=n(t),o=r(t),a=e[i];a.count=a.count+1,a.sumforceNodeSize=a.sumforceNodeSize+Math.PI*(o*o)*1.3,e[i]=a}),e}(c),t={},l=[],d.forEach(function(e){var r=function(t){var e=(0,s.getEdgeTerminal)(t,"source"),r=(0,s.getEdgeTerminal)(t,"target"),i=n(h[e]),o=n(h[r]);return i<=o?"".concat(i,"~").concat(o):"".concat(o,"~").concat(i)}(e),i=0;void 0!==t[r]&&(i=t[r]),i+=1,t[r]=i}),Object.entries(t).forEach(function(t){var e=t[0],n=t[1],r=e.split("~")[0],i=e.split("~")[1];void 0!==r&&void 0!==i&&l.push({source:r,target:i,count:n})}),x=l,Object.keys(b).forEach(function(t,e){var n=b[t];g.push({id:t,size:n.count,r:Math.sqrt(n.sumforceNodeSize/Math.PI)}),m[t]=e}),x.forEach(function(t){var e=(0,s.getEdgeTerminal)(t,"source"),n=(0,s.getEdgeTerminal)(t,"target"),r=m[e],i=m[n];void 0!==r&&void 0!==i&&y.push({source:r,target:i,count:t.count})}),{nodes:g,links:y});e=a.forceSimulation(A.nodes).force("x",a.forceX(f).strength(.1)).force("y",a.forceY(p).strength(.1)).force("collide",a.forceCollide(function(t){return t.r}).iterations(4)).force("charge",a.forceManyBody().strength(i)).force("links",a.forceLink(A.nodes.length?A.links:[]).distance(o).strength(u)),v=e.nodes(),w()}}()}function w(){return g={none:{x:0,y:0}},v.forEach(function(t){g[t.id]={x:t.x-l[0],y:t.y-l[1]}}),g}return x.initialize=function(t){c=t,A()},x.template=function(t){return arguments.length?(y=t,A(),x):y},x.groupBy=function(t){return arguments.length?"string"==typeof t?(n=function(e){return e[t]},x):(n=t,x):n},x.enableGrouping=function(t){return arguments.length?(m=t,x):m},x.strength=function(t){return arguments.length?(b=t,x):b},x.centerX=function(t){return arguments.length?(f=t,x):f},x.centerY=function(t){return arguments.length?(p=t,x):p},x.nodes=function(t){return arguments.length?(function(t){h={},t.forEach(function(t){h[t.id]=t})}(t||[]),c=t||[],x):c},x.links=function(t){return arguments.length?(d=t||[],A(),x):d},x.forceNodeSize=function(e){return arguments.length?(r="function"==typeof e?e:t(+e),A(),x):r},x.nodeSize=x.forceNodeSize,x.forceCharge=function(e){return arguments.length?(i="function"==typeof e?e:t(+e),A(),x):i},x.forceLinkDistance=function(e){return arguments.length?(o="function"==typeof e?e:t(+e),A(),x):o},x.forceLinkStrength=function(e){return arguments.length?(u="function"==typeof e?e:t(+e),A(),x):u},x.offset=function(t){return arguments.length?(l=t,x):l},x.getFocis=w,x}},cTIi:function(t,e){},cW1l:function(t,e){},csQB:function(t,e,n){"use strict";var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dataInfo"},[n("table",[n("tbody",t._l(Math.ceil(t.tabledata.length/3),function(e){return n("tr",{key:e},[3*(e-1)<t.tabledata.length?n("td",{staticClass:"colname"},[t._v(t._s(t.tabledata[3*(e-1)].name)+"：")]):t._e(),t._v(" "),3*(e-1)<t.tabledata.length?n("td",{staticClass:"colvalue"},[t._v(t._s(t.tabledata[3*(e-1)].value))]):t._e(),t._v(" "),3*(e-1)+1<t.tabledata.length?n("td",{staticClass:"colname"},[t._v(t._s(t.tabledata[3*(e-1)+1].name)+"：")]):t._e(),t._v(" "),3*(e-1)+1<t.tabledata.length?n("td",{staticClass:"colvalue"},[t._v(t._s(t.tabledata[3*(e-1)+1].value))]):t._e(),t._v(" "),3*(e-1)+2<t.tabledata.length?n("td",{staticClass:"colname"},[t._v(t._s(t.tabledata[3*(e-1)+2].name)+"：")]):t._e(),t._v(" "),3*(e-1)+2<t.tabledata.length?n("td",{staticClass:"colvalue"},[t._v(t._s(t.tabledata[3*(e-1)+2].value))]):t._e()])}),0)])])},staticRenderFns:[]};var i=n("VU/8")({name:"datatable",props:["tabledata"],data:function(){return{j:0}}},r,!1,function(t){n("cW1l")},null,null);e.a=i.exports},dAFD:function(t,e,n){"use strict";e.a=function(t,e){var n=e[1],i=e[2],s=Object(r.m)(Object(r.o)(e[3]),2*Math.PI),u=e[4],l=e[5],c=t[0],h=t[1],d=e[6],f=e[7],p=Math.cos(s)*(c-d)/2+Math.sin(s)*(h-f)/2,g=-1*Math.sin(s)*(c-d)/2+Math.cos(s)*(h-f)/2,v=p*p/(n*n)+g*g/(i*i);v>1&&(n*=Math.sqrt(v),i*=Math.sqrt(v));var y=n*n*(g*g)+i*i*(p*p),m=y?Math.sqrt((n*n*(i*i)-y)/y):1;u===l&&(m*=-1);isNaN(m)&&(m=0);var b=i?m*n*g/i:0,x=n?m*-i*p/n:0,A=(c+d)/2+Math.cos(s)*b-Math.sin(s)*x,w=(h+f)/2+Math.sin(s)*b+Math.cos(s)*x,_=[(p-b)/n,(g-x)/i],M=[(-1*p-b)/n,(-1*g-x)/i],S=a([1,0],_),O=a(_,M);o(_,M)<=-1&&(O=Math.PI);o(_,M)>=1&&(O=0);0===l&&O>0&&(O-=2*Math.PI);1===l&&O<0&&(O+=2*Math.PI);return{cx:A,cy:w,rx:Object(r.j)(t,[d,f])?0:n,ry:Object(r.j)(t,[d,f])?0:i,startAngle:S,endAngle:S+O,xRotation:s,arcFlag:u,sweepFlag:l}};var r=n("PDVq");function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,e){return i(t)*i(e)?(t[0]*e[0]+t[1]*e[1])/(i(t)*i(e)):1}function a(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(o(t,e))}},dKp5:function(t,e){t.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAB3RJTUUH2AgGBQIBZFiwAAAACNZJREFUSIktlllvHFlyhSPi3lyqMmthFUmR4qJeJFDizHi6Z9CehjWAbcDPhv+Hf838nHmyDdiYh16mW+6RRLWl5s5iFWvNrMy8W4QfSi/xdIFz7okDxId/+vd/7eUkUZ7uPo86O4icJHHTmKurq7IsmVlrrZTaTNLYTuJOmj8+ONR5bkGUACFaa4uiyPM8VgkwIMl8/lCWKwHQhtExkAAHz8EDQQjMzCICAMzsQwAAERERYNEIBq0xlmNrRJRoFEDUnXwQQnAhCDMpCSEwCxBoh5GXEAGE4FUIHHjjSERCCCEEAGBERBRhDmytq7larVaaQ8OcqEQhEREiWmtRAEWYXVWvq2ptvdNF7RLyMdNaZlgLKori2DRNURTL5dJaG0URIhKRUsqzbcXxsDuYTMZXr8dJt3O0v68QldKkyFqnIdIUsbj5fF7XlQtON84pjLO4vXYhKNfq5rFCTFR/qwdaKVJZq0WIhIJERGoxX92MF/0tchZaAUgBgAh4DqBRCMGDBwIPknXydrutGcQ7VqJPn/8qGR407H9+/UNZLr2OmyB5rJVSwIEQkXBdrr/97tWrNz9/9vTZr0+emrIcje5ZWAMpRGARoUDkSdZlkanI1EYHxlXt2x0SpRfL4mY0nj4UxjRBS2kcr+vQTgKAs85ZF0fK+IoiWDfFulnFcdtYS0jWGm9sJ8tnk3Fl7aPjw+CkMrZc1YQqMdSalPbP//Gfo/G43crnsxUzJkk7TVqRSCfPOltbjvRsvu72hienLw6fHANhUa2BqN8fdLv94OXhYQ6Ai8n0/uo6VXErzoyB8Xihu73hwcHhN99+c3F+sTB8fHD8/sPbfr8zODharKqkKqt6rYfD+WpdN+Hs7DwbdFaFHY0nsYrzVp5ki6pc393c1kVpKgtVEzFMR5PKw/XlyNRW7+0fe9QXtw/TYn3/l//5efj6qy9/fXr6fDRf/uo3p4sP56/O3o7vbu/HKzJKE9bir++nADSdFhHeDLa3y6I0jUnT1ps3b/txpJTyHy5aveFoPLWNV51O/68//u+6aj797JlzZnuYvzh90coy79zvvvzi8MnB4+PHIfjb67uq8kVjHsoVIyKEXqb7eXR8fGBMfTe66Xbz8cP9tFpP1k1hfNbdEtKBnXq001WKt7f7u7uDfrdzdHC4vfPoxx9/6m8Ne52ejtO0lQ6HA6X1clU8LBdraxlAazzcG+7t9E1T13XlrDW2abXSJE06nTxvJ7GCvJ102lo//XQXEZnZN7Osle3vHc1nRdbuJVH77nYy2OKyWjixn3xyfH5xcz+fVz64ECKt0jQlxHK1BMQkUiEE1JioWBMRKUU1eiMiOgYHAoCAGk2zvry6CCFYY385/zAcDBXRo/3t3qA7mszStK2UBhBE9N4bYzikWSsZDAdZllVVNR6Pi8UCQkhiBeCQAIi0rWsR2Wisa39zN+50OiJiffv5i8+fnRz3Bz0X+M1/vXt3djF9WAYOSCrSUZwkp6cvXpx8fnR02O12lVLn5+ffffN9sSomD6PlcorIQKhBBESCD6QoS6N22nLB++BRTJ5FvUFHJfH15f1//+X72/u5DRgEOZhenr38x69f/vEP7SSJotghMdFgb+/Lr//QTtPzX96/+vF77xulSL/840tETNO0bgz7oFEDUQBh4IPDfYqixsrlzfj+YW5DEKQ4SpqmGQy7v/vqS2rFD4sSEdtZlsSJdeFqNBLvnhwe/PP2vzRVScB6d3cvTdO9vf2LywtTm6a21tlWmibtVhSnRVHNl9X5+cXDdBLFWiG5YJH52WdP93b2JuNRWZTtdmaNC56bplnMl8v5rJvlkUZjHIrX19d3HLiu7HQ2BUFjfGMbamwWONtyLcXecxzHrVayKiohpUieff7p11/9/XpVje8mpHS/lwjjbLkoVsV0OleCZVm1kogDSGD9w19fzeeLTifP81ypiHTcytq7+3uPj590e/2qCstF2W5nX3zx22+/+56UfvnyH774u9/sDrde//Tm9uaGIp22siROggdj3Gy27OVZtTa2Nmdv/3Z7fa0vL6+U1nVdz2bzIPDk0893ul2to+nDbDSaOAtXN3ei6OjowDp7fX2lUNjbD+/fTyeT0d3dslylSXJy8hyR7keToihbcWyM8SRlWRbFWqPSAgiIXsAYU6yWb/62dNYBIQeOdVoaq7KMolgDRxzOfvph9XAPAKZpqmoN7D68ff3J4WEryxfzeRzpEGxgp4iIRCvUgZmIkjje3d19e3Z2eXkRx/Hm6CtShEq0PtzfrRs7XyzyWBGG5fg6iiIiSklQqdnkfjy6fXbyIk3iTp63WzEAIAIpBSg6iWMWieO42+3u7uyUZRlFETOHELTWhAixerQznE7mC5F2K9YqIKB8xAwUVAzw7u3r/cePnxwd3N5C1k4JhZRCRBHRSITM1tp3794BQBzHAKCUQkREZOBIYRJrV68j4YSIkQmRWQAQaaPDs8l9VSwV4mz6INxvp3ESK+ecs04zMxJt/HjvEREAEFEpRYRApLRalytnGmIWJgfIIQgAAhCiiOfA4sP1xXnjwocP7weDwZOjQw6urmtSpJmZAAKz935DQZuImBkRtI7rKrw7u2qqOlijmESTMDAH7z2RUoQiyBzenv2fD7xYFle3d86HXidfFYZBawBwzm1CR0StNQCEEEQEAY0JjtUvF+NeN29H6JwJFpjZ+0CESrEIioC15v0vF71+P+3kAnJzezeLE/YeWdTpZwcAAABEtOnGxv6GG7N26+nJSVnVwqzAMwcB3OS+eSDCwnxweNDrdY1ptreHh4cH62LlrVEACkFvGHTDfhslRIyiaLMVljCZ3EcRgYAi1BAFIWYmIhFhZgDRke528yhSRbGyplGaFAIppQARBf/tn37PzBs43NR/I/bRnXBA5TEilIQYgQJ//KIACAekj4z8MV4EDowCGhABAUQrpREZETZ2lFKbjoYQAIglECkFJBIUoogQQaT1R9ZmAuQQgkKldYREiEgRSgggjAIA8P9+d+A3oOaigQAAAABJRU5ErkJggg=="},"dLd/":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTk2QkI4RkE3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTk2QkI4Rjk3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjU2QTEyNzk3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjU2QTEyN0E3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5WHowqAAAXNElEQVR42uxda4xd1XVe53XvvD2eGQ/lXQcKuDwc2eFlCAGnUn7kT6T86J/+aNTgsWPchJJYciEOCQ8hF+G0hFCIHRSEqAuJBCqRaUEIEbmBppAIBGnESwZje8COZ+y587j3PLq+ffadGJix53HvPevcuz60xPjec89ZZ+39nf04+9vLSZKEFArFzHA1BAqFEkShUIIoFEoQhUIJolAoQRQKJYhCoQRRKJQgCoUSRKFQKEEUCiWIQrFo+Gv/8/YH+f/nsMWSHHMChyhxqPTTdyncWyJ3ScD/ztipiB3wXSqu6P17avN+TyFC5ggv4tRnmoxWTP1+5F+Mz17GPvPl49EKBWd3UsfXllPiso8VcYtmPba3fNuKrBVXrGFCbrdPwXndFL49ltI367roOpSUI4pGypv9s7q+ltj6JxqOQ07Bo/DgxGb2/a8cX0CnAWXJ5etz2TqdHiXHKlKj9w6i9XX8Ic41DmI8FVHhmmXk85MmRhCzJoiTWnig9LfJRHihgydxzAxJhBr7Bh/hK3yu+p9568FliTJF2aKMZfVd/kQOcKP6OBmS9+Rjm4zJ6faoeN0gOUn61MncLX4CJ+MRhe+P/dRxhfew2Df4CF/hs4jWg8vQYUKYMuWyRRkLjeHQ8YP0Z9mekVjA8Qj3VVcuoeDiXu63lkUE0ym6FA5PXBaNVr7qtPumGyPR4Bt8hK/wWUR5chn6XJYoU5StUHL8l+XEx2axhkS6yk+chJuP4rXLyOkIKJkS0B67adcqfL/0Y4pixxSysK6V8Yl9Mz7i3272NRFlhzJsu24Z5l9E9Ahmwfrpoj7uw3fZtktsRZKjIXnndlLxin7+W8ZTBwPf6I+Tg9HwxK2Ob8citbCoBoaxBxMCvsFH+CqjHCtUvLzflKWUcpwB91gupG5f9/Rtx39ZZBtmWyJtphKzHTQW0diP36b4aJmcLj/zGaSkHJPb4SWFi/tOJd8bTqd9s48VBRh4RKeUX/vjgXg8cpyCmz05xkJylxSoa8M5RF0eJaVIIkGOsg2yTc3UgpD94psiWxEOqDNYoOIXuHnGwE5AXUTFi46FTnRw4l/dwEm7/pSxcYnCF/gE3zInh52RRJkVP7/MlKFQcgCbjifHTAQBfsb2qsgBO3e1Cpf3UXBej3nRJKKrxU/rcH/pKzz4vNIQuRJTEmZklbg6EL4SPsE3GQPzinmfhbJDGQolB+r8w58abs5y8DqRt4ABeptLRR7koY9NleybEYw/MPisvF/ayT1/SvDewcnIcG32wfiCAbEvoCZyGaGsitdyz6XdTctQJq6fcT5mloNfYvu5yFZkpEz+RT0UrFoqpxVBV+vQxIrkaPnrbqdvXs6hcjbU+Jq4Nvvwd/BFRNeq2npwWfkX95iyE9p6PM72P/MhCPANTBSKu5WITHcC074Y9CUTkYglKBgcV/aVtlM5Kpp/RHFjDdfka7MP/2wG6m72661QNigjlBXKTGBtsjWKNs5atCf44Uds3xc5YD8Wknd2BxWuGjCzIxLWQzlFj+IjU108OL7bafM5sm5DDdfka/8T+9AJXyTMpqFsUEYoK5SZ0NbjVlvX500Q4Ha2A+JuCcEvhVS8qp/8MzspHhMSfO7mVPaP35BMRp9JsCQldbX+hmvxNfnamzJfqVvtWnGZoGxQRigroYs6UbfvOGHn4ORVkTaIbEWwtqg3MNO+Zql0JGCdVuCayhDuG9uJB7vp+oR17FbZc+NauCauLWLmKkqXr6NsUEYoK6GtxwY6CXXnEs0n2faIHLCPhhR8bikFKwRN+xZddHWu5a7Ol9yCZ2ZwHKdOxufGNeKRqS/hmnLWW1VMmQSrl5oyEkqOPbZu02IJAsic9sU7B+5uF9cOmqUfeLOdOaAZYb/CA+M/Ic9NxUoYMNfD/PT84f7xB807EAnrrbgMUBZt1w1SEpCIqfjF1Om5EuQNth0iu1r8tPLP76LCpX2yWpHDk2dGH018p6brtD5hOHf04cR3okOTZ0lqPVAW3gVdlMhdrfsTW6drRhDgRrYJcbeKZQxTkenvegNt6YBQwrQvOxG+P3ZHEia9TuClS9Br1XKge8XnxLlxjelzZ/2w4tijDMxyoHIsVQg1zvYPcy7KeZx4jG2zyFakFJF7Whu1XT2QvhfJeryeVNdplYPo4Pi9hKd7VVxVC8O5cH4+N65hXgoKuGfEHmWAskjGxI49Ntu6XHOCAD9ie1PcLSepjDNY00fB8m6KpSyJx/jgg9LfJEfLK40818w+LXY5e5zKaMfKl+DcIlSCZp0cd3U59igDI4+WOa2LunvfvDoD9RrcNLqAjDy3yzfrtKqbAkggSDIZmSlYxzz9a8BaJ101zF2rh3BuSTJaCKGMDEGujHbedXch0X2ebbdEkkDC6a9cQoWVguS53P0JP5xcHY1W/tppD9KxgrdAw5QxnwPn4nOukrPeqkzBJb0m9oJltLtt3a07QYD1IkMAeS7/hw0BXMhzJwXJc/eV7kuiyIN8OOGuUhLP06JUeoxz4FxiZLRouTsDM9WO2OdBRtsIgrzHtk3kgH00JO+cTipc2S9jqyCaluf2xwcnfuB6LndHuEsSzdP4N/gtzoFzSZHRIsaQQiPmidyXgttsnW0YQYDvsh2ROGBPxkMqXjNA/qlCFsnZ8UdlX+kfk0pymlnMWH2JOBfz0sWI+C3OMS1dzPphhPVWHOPC5wdMzIUOzFFHb1lwB2ARF+ZOPt0gshWBPLe/wCRZlu6CIkSei/cE0fD4g2ZbVWceyxH5WPwGvzXrrSTJaDnG7oBoGS3qaCULggCPsv1W5IAd8tzLllJwvpx1WthMIfyg9OVotHy1WVQ4V37wsfgNfkuSZLQcW8Q4lruU/RVbRykrggDXiwwN3uQWnXTa1xMkz2W/on2lndNajpNtAGePw2/MOicBMlqs+8K7GBNbjrFgGe2iX0nUgiAvs+0S2YpgndaFPVRc3SdmVanZlfGjifOiw5PrT/oGvPpG/vDkEH4jZ70Vt86rl5rYimmdP41/s3Uzc4Isup9XNxwvz+0tyNAlONPrtO6hctR+QnluKqNt52O3pxvtClhvxTH0egtmEwbBMlrUxU21OFGtCHKYbavIATv3j90z26kIea4QZRtahfhIuT0anrjH7O3rpjNVHzPIaLG3Lh8Tj5TbRQihjlNyehxTwTLarbZOiiEIcBfbPnGhMtroChXW9JN/VqeYdyPEY4nwwPj6ZCL8C1T+T61JhDqRv8MxZgwlJG2BxzEsrBmgeEzseqt9ti6SNIIA8t6wm901eFDZ66d7M4UkQ56LVgTTvvtKaRqFqoTWymjxGb6LpUzrImYcuzaOIWKJmAptPWpaB2sd+V+yvSB1wB6s7qXgwiUyBpbJdBqFq6MjU18mKCKhRsTyEbx558/wnRmYJzLiV+DYBat6JQ/MX7B1UCxBAKHy3IQrH6W7MhY9MWkUMNAN948/8Mm35/jMDIKlpC3gmBWQtsAjifkE61b36kGQP7DdL7KrVZXnXiYpjYKZxj09Gh7f4kB4yIa/8ZmU1brIIYiYIXaJ3Nbjflv3xBME+DZbSVwIzfIIK89dJkSea18Ihu+XflD9yPztCJnW5Ri5VRntpNh8giVb5ygvBIHu9yaRrchYRO6fFU0CSTPQlDLte6zshx9O3g3D3yJajySd4EDaAsQMsRPaetxk61zty+YTCXRqjf9jO19cOLnyYV+p8QffpcreMXJ7BeRgh77Ds6SIYhGbMBgB2tld1DW0nGL4VxbZfKBbdUHdhol1dl7mOi0MOjttGgWT11lAwU9r1mMSsX0oxwSxgYyWOvKXtiAvBPkV239I7GqZdVqX9FDw2V5+UoYipn2nt/WRMK3LMQlW9poYCZ7WfcrWsdwSBNggMrRYdcLdhjas0+q28lzJOc8bOU7jWLh2AwzEyLxclYm6Z2ZuBEE+YLtTZEVA9tzPdBh5biJ3q5rGD8yRjXbNAPkcm0RuyjTUqf3NQBDge2yHJFaGeDyi4tUD5J3WIXmzs8Y9NDgG3un80OCYIDZCHxqHbJ2iZiEIGmnB8twgzYIkd7vMxiBON59GLJyBQLKMdiM1qOPXyMn2f2f7X5EDdshzkUbhAtED0oZMXCAGiIXgtAW/YXusURdr9NsoufLcgmP20zKy2ErrNSNGRuunMUAshL7zABq61q/RBPkd2yNSn57+X3ZTQZA8t7H3H5p7RwwEt6KP2DrUtAQBIIUsiwt99Kf+tydFntuocVhVRltNWyBTRlumGslopRNkhO1mkRVlLCT3jHYzqyU48WSN+1ZWRou0BZDRyp3Ju9nWnaYnCHA3216JlQWy0gKy557dJSaNQn0nKNL1VrhnwTLavbbOUKsQBBApzzVpFHqsPFdIGoW6AfeG7cMwrcv3TC0io80LQZ5me07kU3WkYqSlhYvkpFGoz8C8bO7RyGjlpi14ztaVliMIIFOeizQKbpI+WdsDGfLcWvcmsaK53b4gdUW3lENZXjxrgrzNdq/IAftohbzzOql4eV/zjUUcu96K7w33KFhGi7rxVisTBEBSxWPiiqYqz71mGfmDQuS5tSIHstHyPZnd7+XKaI+RgKSxEggySWmKaXkVaSwi5xSbRmGiSdZpxVZGy/eEexMso73R1o2WJwiwk+11kQNZrNO6oo+Cc7vz39Wy07q4l+CKfnNvQu/ndVsnSAkifcCOAXq7R8W1y9JdRvI87QvfnTRtgdPeujLavBLkv9meEPnUHS2Tf1EPFT67lOKRnE77munrsrkH/+IeydPXqAO/VoLMDMhz5T2irTzXpFHoKeRPnluV0XYX0mlduTLamIRJtKUR5CDbbSIrGPfX/eUdVFyTQ3luku6OaNIW/HmH5LQFt9k6oAQ5Ab7PNiyxkmGndUhRvTNyJM9F1wrZaM9IZbQmG63MocewxIejRIKg+DaKbEXGI3KWBtT2hUFKyonUZeEfB3xkX4vsM3wXvIx/IwmMqCu0WH/B9qLIpzG6Wp/rpWBFj/x1WnaCAb4G7LPgad0XbZmTEmTukDnti0yzgZvKcwNPtDzXyGjZR5ONFincVEbbVAR5je0hkU/lkTL5F3TZzQ2EvjysJr1hH/0LuiVPTz9ky1oJsgB8iwQsN5hplISns5Hn9hXl9eurMlr2zUzrVsQuk5m0ZUxKkIXhKNsWkQN2yHNPhzx3WbqQMRZGYCOjXWZ8FDzjtsWWsRJkEfgh2zvyOvhWnovsucu75GTPtdlo4RN8i+W+s3nHli0pQRaPIXEeVeW53V46YJciz2Uf4IvxiX0juW/9h/JQ8fJCkGfZnpE5YK9QsHIJBZcIkOdW141d3Gt8EiyjfcaWqRKk6Z84kOc6duODjmzluUZGyz4g6Q18UhltaxHkXbbtIgfsRyvknQt5bobZc6dltP3Gl0SudmW7LUslSJ1mPUbFeWVUepDnDpB3SgazRtW0BXxt+ABfhE7rypyVbCKCTLF9U2QrgjQKg3b7zskGv3eI0+XsuDZ8EJy2YJMtQyVIHfEztldFDtghz728j4LzGphGoZq2gK9ZMDuwiH3ngTJ7OG+VLY8EAeTKc9ts9lwk42zEOi2st+JrYZIA1xYso12Xx4qWV4K8xPZzka3ISCrPDVY1YJ1WtfVYZWW0ctdbPW7LTAnSQHyDJCoykEYhTNdpuUsK6YDZqQ85cG5cw6y3CsWmLYBXG/NayfJMkI8oVR/KG7AfC8k7u4MKVw2kM1r1eB2RpDNXuAauJVhGe6stKyVIBrid7YA4r6o5N5BG4cxOI3mtaeWtymj53LiG4FwmKJs78lzB8k4QVIsN4ryqynN7AzP1ShXIc2tYg3GuSpJO6/aKltHK3KWmhQgCPMm2R+SAfTSkANlzV9Rw2rc6MDcyWtHZaPfYsiElSPaQOYVYiSnxiIprB8kpeGn+v8U2mZD8FjxzTpybKjqtqwQ5Od5g2yGyq4Xsued3UeHSvsW3IlUZLZ8L5xSctmCHLRMliCBgN/AJcV7F6SpbjBe8gUWkUaimLeBzmOUsU2JltOMkcbd+JQiNkYB8ErNVbPe0Nmq72i4kXMiwNUnfe+AcOJfgfCWbbVkoQQTiR2xvivPKynODNX0ULF9AGoVq2gL+Lc4hWEaL2N/XTBWq2Qgic3BYled2+ekeVfOV51az0WKNF59DsIx2XbNVpmYkyPNsuyWSBBJYf+USKsxHnlvNRsu/8WXLaHfb2CtBcoD1Ir2CPJf/wxSt2xmkupGT9c6QtoCPNdO66FfJldGub8aK1KwEeY9tm8gB+2hI3jmdVLii/+RbBdktfHAsfpPIfSm4zcZcCZIjfJftiMQBO1IQQBrrn3qCRYZ20SOOMTLacbHrrRDjW5q1EjUzQbiTTzeIbEUgz+232XNne59RfX+CbLT9omW0iHFFCZJPPMr2W5EDdshzL1tKwfkzrNOqrrfi73CMYBntKzbGpATJL64X6RXWZRVtxlnP+VgaBZO2wEu/wzGatkAJUk+8zLZLZCuCdVoXciux+rhVuXYVMD7Dd7Hc9Va7bGyVIE0Amf3kaXnuIHm9qTwXhr/xmWAZbUXk+E4JsmAcZtsqcsAOee6Z7VS08lwY/sZngmW0W21MlSBNhLvY9onzCqtIxipUuKqf3L6iMfyNz4RO6+6zsWwJ+NRawNvep8S1IhMxucie+8VT0o+6PIqPiB17rG+lCtNqBPkl2wts14gbsCONwqVLzT8Fr7d6wcawZeBS60Hm1GSSTu+a6d5EY6cEyQ5/YLtf4oCd4iQ1ma3H/TZ2SpAWwLfZSqSYK0o2ZqQEaQ1AN32T1vs54yYbMyVIC+GBVuwyLLBL+kCr3rzb4oV/vdZ/jZESZHb8iqS9F5GFp2yMlCAtjCENgcZGCTI79rPdqWH4FO60sVGCKOh7bIc0DNM4ZGNCShAFEFKOsyDVARttTJQgGoJpPMb2Gw2DicFjGgYlyExYpyHQGChBZsfv2B5p4ft/xMZAoQSZFZso3TKo1VC2965QgpwQI2w3t+B932zvXaEEOSnuZtvbQve7196zQgkyZ6zXe1UoQWbH02zPtcB9PmfvVaEEmTeG9B6VIIrZ8RbbvU18f/fae1QoQRYMJKU81oT3dYwkJj1VguQOk9REaY2Pw4323hRKkEVjJ9vrTXQ/r9t7UihBaobr9V6UIIrZ8Wu2J5rgPp6w96JQgtQcG2jmhGl5QWzvQaEEqQsOst2WY/9vs/egUILUtZIN59Dv4ZyTWwmSEyDnUx7luRtJar4qJUjT4RdsL+bI3xetzwolSMOwTn1Vgihmx2tsD+XAz4esrwolSMPxLZK9XGPS+qhQgmSCo2xbBPu3xfqoUIJkhh+yvSPQr3esbwolSOYYUp+UIIrZ8SzbM4L8ecb6pFCC6BNbWw8lSB7wLtt2AX5st74olCDikPWskfRZNSVIi2OKst2+c5P1QaEEEYuH2V7N4Lqv2msrlCDisa5FrqkEUSwIL7E93sDrPW6vqVCC5AaN0l/kVZ+iBGlxfMR2awOuc6u9lkIJkjvcwXagjuc/YK+hUILkEgnVdxeRDfYaCiVIbvEk2546nHePPbdCCZJ7rMvJORVKkEzwBtuOGp5vhz2nQgnSNMBu6uM1OM84Nedu80qQFscY1SYfx2Z7LoUSpOlwH9ubi/j9m/YcCiWIDth1YK4EaUU8z7Z7Ab/bbX+rUII0PdY36DcKJUgu8R7btnkcv83+RqEEaRncwnZkDscdsccqlCAthQrbDXM47gZ7rEIJ0nJ4lO2VE3z/ij1GoQRpWaxb4HcKJUhL4GW2XTN8vst+p1CCtDw+Oc6Y6/hEoQRpCRxm23rcv7fazxRKEIXFXZRuwBDZvxUC4GsIREHflguDkyQqaVYotIulUChBFAoliEKhBFEolCAKhRJEoVCCKBRKEIVCCaJQKJQgCoUSRKFQgigUShCFIhP8vwADACog5YM65zugAAAAAElFTkSuQmCC"},dVqt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forceNBody=void 0;var r=n("2Si+");function i(t){var e=0,n=0,r=0;if(t.length){for(var i=0;i<4;i++){(o=t[i])&&o.weight&&(e+=o.weight,n+=o.x*o.weight,r+=o.y*o.weight)}t.x=n/e,t.y=r/e,t.weight=e}else{var o=t;t.x=o.data.x,t.y=o.data.y,t.weight=o.data.weight}}e.forceNBody=function(t,e,n,a,s){var u=n/a,l=t.map(function(t,n){var r=e[t.id],i=r.data,o=r.x,a=r.y,s=r.size,l=i.layout.force.nodeStrength;return{x:o,y:a,size:s,index:n,vx:0,vy:0,weight:u*l}}),c=(0,r.quadtree)(l,function(t){return t.x},function(t){return t.y}).visitAfter(i);return l.forEach(function(t){!function(t,e){e.visit(function(e,n,r,i,a){return o(e,n,r,i,a,t)})}(t,c)}),l.map(function(n,r){var i=e[t[r].id].data.layout.force.mass,o=void 0===i?1:i;s[2*r]=n.vx/o,s[2*r+1]=n.vy/o}),s};var o=function(t,e,n,r,i,o){var a=o.x-t.x||.1,s=o.y-t.y||.1,u=r-e,l=a*a+s*s,c=Math.sqrt(l)*l;if(u*u*.81<l){var h=t.weight/c;return o.vx+=a*h,o.vy+=s*h,!0}if(t.length)return!1;if(t.data!==o){h=t.data.weight/c;o.vx+=a*h,o.vy+=s*h}}},dxiS:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA1MCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ5IiBoZWlnaHQ9IjQ4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjUpIiBmaWxsPSIjRTBFM0VCIi8+CjxwYXRoIGQ9Ik0xOS43MTIyIDE4Ljc1NjJDMTkuNzEyMiAxOS41ODQ2IDE5LjA0MDYgMjAuMjU2MiAxOC4yMTIyIDIwLjI1NjJDMTcuMzgzOCAyMC4yNTYyIDE2LjcxMjIgMTkuNTg0NiAxNi43MTIyIDE4Ljc1NjJDMTYuNzEyMiAxNy45Mjc4IDE3LjM4MzggMTcuMjU2MiAxOC4yMTIyIDE3LjI1NjJDMTkuMDQwNiAxNy4yNTYyIDE5LjcxMjIgMTcuOTI3OCAxOS43MTIyIDE4Ljc1NjJaIiBmaWxsPSIjNkM3Mzg1Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTEuMzMyIDE0LjY2NjNDMTEuMzMyIDEzLjM3NzcgMTIuMzc2NyAxMi4zMzMgMTMuNjY1NCAxMi4zMzNIMjguOTk4N0MyOS4zNTkgMTIuMzMzIDI5LjY5MTQgMTIuNTI2OCAyOS44Njg5IDEyLjg0MDNDMzAuMDQ2NCAxMy4xNTM4IDMwLjA0MTUgMTMuNTM4NiAyOS44NTYyIDEzLjg0NzVMMjguMTgxOCAxNi42MzgyTDI5LjE2NDEgMTguMTExNkMyOS4zMjMyIDE4LjM1MDMgMjkuMzcyMiAxOC42NDU4IDI5LjI5ODUgMTguOTIzQzI5LjIyNDkgMTkuMjAwMiAyOS4wMzU4IDE5LjQzMjUgMjguNzc5MiAxOS41NjA4TDI0LjA5MDYgMjEuOTA1MUwyNC42NTUzIDI1Ljg1ODNDMjQuNzI2IDI2LjM1MyAyNC40MjA2IDI2LjgyMzkgMjMuOTQwMSAyNi45NjEyTDIwLjIyMzQgMjguMDIzMUwyMS45NjM1IDM0LjQwMzJDMjIuMDQ1NSAzNC43MDM5IDIxLjk4MjYgMzUuMDI1NiAyMS43OTM0IDM1LjI3MzNDMjEuNjA0MiAzNS41MjEgMjEuMzEwNCAzNS42NjYzIDIwLjk5ODcgMzUuNjY2M0gxMy42NjU0QzEyLjM3NjcgMzUuNjY2MyAxMS4zMzIgMzQuNjIxNyAxMS4zMzIgMzMuMzMzVjE0LjY2NjNaTTEzLjY2NTQgMTQuMzMzQzEzLjQ4MTMgMTQuMzMzIDEzLjMzMiAxNC40ODIyIDEzLjMzMiAxNC42NjYzVjMzLjMzM0MxMy4zMzIgMzMuNTE3MSAxMy40ODEzIDMzLjY2NjMgMTMuNjY1NCAzMy42NjYzSDE5LjY4OTRMMTguMDMzOSAyNy41OTYxQzE3Ljg4OTkgMjcuMDY3OCAxOC4xOTc1IDI2LjUyMTkgMTguNzI0IDI2LjM3MTVMMjIuNTUyMSAyNS4yNzc3TDIyLjAwODcgMjEuNDc0NEMyMS45NDc5IDIxLjA0ODMgMjIuMTY2NSAyMC42MzExIDIyLjU1MTUgMjAuNDM4NkwyNi44NzE2IDE4LjI3ODVMMjYuMTY2NiAxNy4yMjFDMjUuOTUyMyAxNi44OTk1IDI1Ljk0MjQgMTYuNDgzMiAyNi4xNDEyIDE2LjE1MThMMjcuMjMyNSAxNC4zMzNIMTMuNjY1NFoiIGZpbGw9IiM2QzczODUiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zMy41MDAyIDEyLjc3ODNDMzMuNjg1NyAxMi41MDAxIDMzLjk5NzkgMTIuMzMzIDM0LjMzMjMgMTIuMzMzSDM2LjMzMjNDMzcuNjIxIDEyLjMzMyAzOC42NjU2IDEzLjM3NzcgMzguNjY1NiAxNC42NjYzVjMzLjMzM0MzOC42NjU2IDM0LjYyMTcgMzcuNjIxIDM1LjY2NjMgMzYuMzMyMyAzNS42NjYzSDI0Ljk5OUMyNC41NTI1IDM1LjY2NjMgMjQuMTYwMSAzNS4zNzA0IDI0LjAzNzQgMzQuOTQxMUwyMi43MDQxIDMwLjI3NDRDMjIuNTUyNCAyOS43NDM0IDIyLjg1OTkgMjkuMTg5OSAyMy4zOTA5IDI5LjAzODJMMjcuMjMzNyAyNy45NDAyTDI2LjY3MzMgMjMuNDU3QzI2LjYxODcgMjMuMDE5NyAyNi44NTY4IDIyLjU5ODIgMjcuMjU5NSAyMi40MTkyTDMyLjIyNjYgMjAuMjExNkwzMC44MDgxIDE3Ljg0NzVDMzAuNjA5MyAxNy41MTYxIDMwLjYxOTIgMTcuMDk5OSAzMC44MzM2IDE2Ljc3ODNMMzMuNTAwMiAxMi43NzgzWk0zNC44Njc1IDE0LjMzM0wzMi44NDg3IDE3LjM2MTJMMzQuNTIzMSAyMC4xNTE4QzM0LjY3MDUgMjAuMzk3NSAzNC43MDU1IDIwLjY5NDUgMzQuNjE5MSAyMC45Njc3QzM0LjUzMjggMjEuMjQwOCAzNC4zMzM1IDIxLjQ2MzggMzQuMDcxOCAyMS41ODAyTDI4Ljc1IDIzLjk0NTRMMjkuMzI0NiAyOC41NDIzQzI5LjM4NTcgMjkuMDMxNiAyOS4wODExIDI5LjQ5MjQgMjguNjA3IDI5LjYyNzlMMjQuOTAxOSAzMC42ODY1TDI1Ljc1MzMgMzMuNjY2M0gzNi4zMzIzQzM2LjUxNjQgMzMuNjY2MyAzNi42NjU2IDMzLjUxNzEgMzYuNjY1NiAzMy4zMzNWMTQuNjY2M0MzNi42NjU2IDE0LjQ4MjIgMzYuNTE2NCAxNC4zMzMgMzYuMzMyMyAxNC4zMzNIMzQuODY3NVoiIGZpbGw9IiM2QzczODUiLz4KPC9zdmc+Cg=="},e9Fv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){for(var e={},n=t.nodes().filter(function(e){var n;return!(null===(n=t.children(e))||void 0===n?void 0:n.length)}),r=n.map(function(e){return t.node(e).rank}),i=Math.max.apply(Math,r),o=[],a=0;a<i+1;a++)o.push([]);var s=function(n){var r;if(!e.hasOwnProperty(n)){e[n]=!0;var i=t.node(n);isNaN(i.rank)||o[i.rank].push(n),null===(r=t.successors(n))||void 0===r||r.forEach(function(t){return s(t)})}},u=n.sort(function(e,n){return t.node(e).rank-t.node(n).rank}),l=u.filter(function(e){return void 0!==t.node(e).fixorder}).sort(function(e,n){return t.node(e).fixorder-t.node(n).fixorder});return null===l||void 0===l||l.forEach(function(n){isNaN(t.node(n).rank)||o[t.node(n).rank].push(n),e[n]=!0}),null===u||void 0===u||u.forEach(s),o}},ec3M:function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wgARCACnAKcDASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAUGAwQHAgH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHn4AAAAADPvEU2tUAA+vgAAAAA+7uS6GtOR1bFdz6wAAAAAAA2cVuJHb+0Ywx4AAAAAAADIb/R61OFcqW/HgAAAAAAADb1bIWqBsXOTU87s+Vjxfocq7PgAAAAAAPXQ6H0ohaXZK8WuQi4UsctzWyn2sdJ5+aYAAAAAJDo3OuiFHhZOJNjD5Dc0946Hz7oPPiPAAAAABIdE5jfypQ95qBqsmc17P4sZjoctAHwAAAAACbhPR0rXqEsSO5B4yxViOjT34AAAAAAAAAAAAAAAAAAAAAAAAAD/8QAKhAAAQMDAwIGAgMAAAAAAAAAAgEDBAAREgUTMDFAECEiIzM0FSAyUGD/2gAIAQEAAQUC/oQbUqSEa04yTfZMsKax4ONWBsZ5CpL2DDOax4iAL0zaFzUVKnHc+wabU1gxkQZMgWxffUi7ARyXT4tPOowMp9TLsYYZOMhtBqTl17EEuUFiyzHdtuQ7mvYsBdxgMGp7+VKvnWC1bnhs3V5cI753NtnOmdMUq/F+UiBhRhjyp1gN+zNesi+ZQWkUXJWzQ6muQEkhJsaykll42huUNLRpy+of5MPIASXsiyqFItRhutyEs7xx+sf604vdvW4tKt/Bk7FF9UaZ83HH6sfWnfN+jIZFG9MaZ83HH6x/rTk93xRL1CYp1zbB9cnOMCssN1NqXGypxpRVBvQsEVRoRXTFkZsjIlW/LGkYK28LoOQEcodMoYaBRyBaSVLzoivzItlalq3SasqJ+XWi1Ulp2Srn+I//xAAUEQEAAAAAAAAAAAAAAAAAAABg/9oACAEDAQE/AXP/xAAUEQEAAAAAAAAAAAAAAAAAAABg/9oACAECAQE/AXP/xAAiEAABAwQCAgMAAAAAAAAAAAABABEhECAwQDFQAnESYIH/2gAIAQEABj8C6LhTpuVwo0vkm03KIB05TLnpwdQIHUBX5qOj40dMKSoyihuJzm4+kcxuPpHMbZRGZk9kikZ2tj65/8QAIhAAAwADAAICAgMAAAAAAAAAAAERICExMEEQYUBxUYGh/9oACAEBAAE/IaUpSlKUpSlKUpSlKUT35WOkK6HETJd8aVEFEyQJvUHuDvFd8bU6EllwVA+DpqjnuS74kBJCEn4GjPvR3Nd8L5I2JoemB5mg3fAu+GWp7EU+i5GNt+Fd8EJCYBokxj74l3wMBaf4Fo0mMbCVZqo5zXc101AJiGu2PfhFcK9ENvRbJku58/2J4jQO0uQqwaj4+ttDRYruf9sKAo5exNpjm7FDo7VsT9KXliu58TVjS/YpYlKUY3xDSG2MiXc+J3P9OL0MSR5Eu5tFGrDbz3g99DntBN30XXiu5xv2NbxqtV0YtDQw0iK9B3tFy9DGrxXc10gqiTqbhCEzbv0S8Rtphj7eS74Nwe8ZOVn3sSysqVjdea7+Ku/irv4q6f/aAAwDAQACAAMAAAAQwwwwwww0wwMAAAAEQIMAA8AAAAUk4AAA8AAAAsIAAAA8AAAUEUsAAA8AAAMMUAgAA8AAAkgAAcAA8AAA4oEQ8AA8AAAwoM0AAA8AAAAAAAAAA8AAAAAAAAAA8//EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQMBAT8Qc//EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQIBAT8Qc//EACMQAQACAQQCAgMBAAAAAAAAAAEAESEgMVGRMEFhcRBAoYH/2gAIAQEAAT8Qty9y3L3Lcvcty9y3L3Lcvcty9y3L3Lcvcty9y3L3Lcvcty9y3L3Lcvcty9y3L3Lcvcty9y3L3Gpl78m8HDLK6cV0UiI06drxo6JQxyw7MPkgQ9CK5hfqK8dO14gtqZ8ovEGgIuIxkXC1GqXeLbnTteKznmUckrchErCoa2U8xVK69rw+4UUsxXsjUUqjc9mI7W3wbXhXgCDUBFe9Udy+Ha8F6+41dyO0BMoItq8+La8FXHuEZqrTMM+5cj7iAE9Qxr3r2tZsnzF9alYIJBe2zC4WuGKecs2v9IYq/wCR3sK1bWs2fwmRZFQMOASN9y2HqxIqgxiXKlfcaqMw7KL4jqitO1rKwekMnwRwX7YQelxCA/2P5YuPS3ix7sZAOTPut07WsD95K/VJvjEZElSKo7V/DtN2WrLOCvudO1r/ALyfymqRcbMNRWcQscuna1hb5IdN9EzwrQOAuVns+yCmmRM576drW1N9IaWSEuW7odNKmKphAXMJDPT0EQF9p72adrWqD8x0sfuMoSlQhxX8SxL/ACMhCZbRILyE6P6YkUdW14KLhExMEGfhu73cFsZlg869r9Xa/V2v1dqf/9k="},edjc:function(t,e,n){"use strict";(function(t){e.p=function(t){var e;if(t&&"transparent"!==t){if("string"==typeof t&&t.indexOf("rgba")>-1){var n=Object(i.g)(t);n&&(t="rgb("+n[0]+","+n[1]+","+n[2]+")",e=n[3])}}else t="none";return{color:t,opacity:null==e?1:e}},e.j=function(t){return t<s&&t>-s},e.q=l,e.e=function(t){return"matrix("+u(t[0])+","+u(t[1])+","+u(t[2])+","+u(t[3])+","+l(t[4])+","+l(t[5])+")"},n.d(e,"a",function(){return c}),e.b=function(t,e,n){"top"===n?t+=e/2:"bottom"===n&&(t-=e/2);return t},e.i=function(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)},e.h=function(t){var e=t.style,n=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")},e.l=h,e.n=function(t){return h(t)||function(t){return t&&!!t.svgElement}(t)},e.m=function(t){return"linear"===t.type},e.o=function(t){return"radial"===t.type},e.k=function(t){return t&&("linear"===t.type||"radial"===t.type)},e.d=function(t){return"url(#"+t+")"},e.f=function(t){var e=t.getGlobalScale(),n=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)},e.g=function(t){var e=t.x||0,n=t.y||0,i=(t.rotation||0)*r.a,o=Object(r.P)(t.scaleX,1),s=Object(r.P)(t.scaleY,1),u=t.skewX||0,l=t.skewY||0,c=[];(e||n)&&c.push("translate("+e+"px,"+n+"px)");i&&c.push("rotate("+i+")");1===o&&1===s||c.push("scale("+o+","+s+")");(u||l)&&c.push("skew("+a(u*r.a)+"deg, "+a(l*r.a)+"deg)");return c.join(" ")},n.d(e,"c",function(){return d});var r=n("/gxq"),i=n("DRaW"),o=n("YNzw"),a=Math.round;var s=1e-4;function u(t){return a(1e3*t)/1e3}function l(t){return a(1e4*t)/1e4}var c={left:"start",right:"end",center:"middle",middle:"middle"};function h(t){return t&&!!t.image}var d=o.a.hasGlobalWindow&&Object(r.w)(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:void 0!==t?function(e){return t.from(e).toString("base64")}:function(t){return null}}).call(e,n("EuP9").Buffer)},esuD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("vVQx"))&&r.__esModule?r:{default:r};var o=function(){function t(){this.linkedList=new i.default}return t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},t.prototype.enqueue=function(t){this.linkedList.append(t)},t.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toString=function(t){return this.linkedList.toString(t)},t}();e.default=o},f3pQ:function(t,e,n){"use strict";(function(t){e.a=function(e){if(e)return f(e);if("undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product)return new s;if("undefined"!=typeof navigator)return f(navigator.userAgent);return void 0!==t&&t.version?new i(t.version.slice(1)):null};var n=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},r=function(){return function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"}}(),i=function(){return function(e){this.version=e,this.type="node",this.name="node",this.os=t.platform}}(),o=function(){return function(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"}}(),a=function(){return function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}}(),s=function(){return function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}}(),u=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,l=3,c=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],h=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function d(t){return""!==t&&c.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]},!1)}function f(t){var e=d(t);if(!e)return null;var i=e[0],s=e[1];if("searchbot"===i)return new a;var c=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);c?c.length<l&&(c=n(n([],c,!0),function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(l-c.length),!0)):c=[];var f=c.join("."),p=function(t){for(var e=0,n=h.length;e<n;e++){var r=h[e],i=r[0],o=r[1],a=o.exec(t);if(a)return i}return null}(t),g=u.exec(t);return g&&g[1]?new o(i,f,p,g[1]):new r(i,f,p)}}).call(e,n("W2nU"))},fCEa:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Layouts=e.Layout=void 0;var r=n("Umca"),i=n("Upny"),o=n("VWzN"),a=n("CLuh"),s=n("9938"),u=n("mxuM"),l=n("Rq7w"),c=n("Cq/5"),h=n("uJhO"),d=n("5XWd"),f=n("6D6L"),p=n("Fg8h"),g=n("COaM"),v=n("ZoBt"),y=n("C3+6"),m=n("nOum"),b=n("5tg8"),x=n("Iker"),A=n("0IlV"),w=n("ZE1E"),_=function(){function t(t){var e=(0,r.getLayoutByName)(t.type);this.layoutInstance=new e(t)}return t.prototype.layout=function(t){return this.layoutInstance.layout(t)},t.prototype.updateCfg=function(t){this.layoutInstance.updateCfg(t)},t.prototype.init=function(t){this.correctLayers(t.nodes),this.layoutInstance.init(t)},t.prototype.correctLayers=function(t){if(null===t||void 0===t?void 0:t.length){var e=1/0,n=[];if(t.forEach(function(t){(0,w.isString)(t.layer)&&(t.layer=parseInt(t.layer,10)),void 0===t.layer||isNaN(t.layer)||(n.push(t),t.layer<e&&(e=t.layer))}),e<=0){var r=Math.abs(e)+1;n.forEach(function(t){return t.layer+=r})}}},t.prototype.execute=function(){this.layoutInstance.execute()},t.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},t.prototype.destroy=function(){return this.layoutInstance.destroy()},t}();e.Layout=_,e.Layouts={force:u.ForceLayout,fruchterman:p.FruchtermanLayout,forceAtlas2:b.ForceAtlas2Layout,gForce:s.GForceLayout,force2:a.Force2Layout,dagre:c.DagreLayout,dagreCompound:A.DagreCompoundLayout,circular:l.CircularLayout,radial:h.RadialLayout,concentric:d.ConcentricLayout,grid:i.GridLayout,mds:f.MDSLayout,comboForce:y.ComboForceLayout,comboCombined:m.ComboCombinedLayout,random:o.RandomLayout,"gForce-gpu":v.GForceGPULayout,"fruchterman-gpu":g.FruchtermanGPULayout,er:x.ERLayout}},fKPv:function(t,e,n){var r=n("1VE+");t.exports=function(t,e,n){return(e=r(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},fZOM:function(t,e,n){var r=n("kM2E"),i=n("mbce")(!1);r(r.S,"Object",{values:function(t){return i(t)}})},fZjL:function(t,e,n){t.exports={default:n("jFbC"),__esModule:!0}},fzH7:function(t,e,n){"use strict";var r=n("TToO"),i=n("IgWN"),o=n("IzBs"),a=n("BuFP"),s=n("MdiT"),u=n("SVAo"),l=o.a.transform,c=["zIndex","capture","visible","type"],h=["repeat"];var d=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return Object(i.mix)(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return Object(r.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],o=e[1];if(!r)return this.attrs;if(Object(i.isObject)(r)){for(var a in r)this.setAttr(a,r[a]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,o),this.afterAttrsChange(((t={})[r]=o,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(Object(a.j)(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr("matrix")},e.prototype.setMatrix=function(t){this.attr("matrix",t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?Object(s.b)(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?Object(s.b)(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?Object(s.c)(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=Object(s.a)(e);if(n)return Object(s.c)(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase()[Object(i.upperFirst)(t.type)];r&&(n=new r({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};Object(i.each)(e,function(t,r){Object(i.isArray)(e[r])?n[r]=function(t){for(var e=[],n=0;n<t.length;n++)Object(i.isArray)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[r]):n[r]=e[r]});var r=new(0,this.constructor)({attrs:n});return Object(i.each)(c,function(e){r.set(e,t.get(e))}),r},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var o,a,s,u,l,c=t[0],d=t[1],f=t[2],p=void 0===f?"easeLinear":f,g=t[3],v=void 0===g?i.noop:g,y=t[4],m=void 0===y?0:y;Object(i.isFunction)(c)?(o=c,c={}):Object(i.isObject)(c)&&c.onFrame&&(o=c.onFrame,a=c.repeat),Object(i.isObject)(d)?(d=(l=d).duration,p=l.easing||"easeLinear",m=l.delay||0,a=l.repeat||a||!1,v=l.callback||i.noop,s=l.pauseCallback||i.noop,u=l.resumeCallback||i.noop):(Object(i.isNumber)(v)&&(m=v,v=null),Object(i.isFunction)(p)?(v=p,p="easeLinear"):p=p||"easeLinear");var b=function(t,e){var n={},r=e.attr();return Object(i.each)(t,function(t,e){-1!==h.indexOf(e)||Object(i.isEqual)(r[e],t)||(n[e]=t)}),n}(c,this),x={fromAttrs:function(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}(b,this),toAttrs:b,duration:d,easing:p,repeat:a,callback:v,pauseCallback:s,resumeCallback:u,delay:m,startTime:n.getTime(),id:Object(i.uniqueId)(),onFrame:o,pathFormatted:!1};r.length>0?r=function(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,o=e.duration,a=Object.prototype.hasOwnProperty;return Object(i.each)(t,function(t){n+r<t.startTime+t.delay+t.duration&&o>t.delay&&Object(i.each)(e.toAttrs,function(e,n){a.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])})}),t}(r,x):n.addAnimator(this),r.push(x),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");Object(i.each)(n,function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()}),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return Object(i.each)(e,function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return Object(i.each)(e,function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,r=this,o=e.propagationPath;this.getEvents();"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var s=function(t){var s=o[t],l=s.get("name");if(l){if((s.isGroup()||s.isCanvas&&s.isCanvas())&&n&&Object(a.g)(s,n))return"break";Object(i.isArray)(l)?Object(i.each)(l,function(t){r.emitDelegateEvent(s,t,e)}):u.emitDelegateEvent(s,l,e)}},u=this,l=0;l<o.length;l++){if("break"===s(l))break}},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=l(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=l(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=l(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=l(i,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=l(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(i),this},e}(u.a);e.a=d},gRE1:function(t,e,n){t.exports={default:n("TmV0"),__esModule:!0}},ghwr:function(t,e,n){"use strict";n("o2t7"),n("i6H2");var r=n("H7FV");n.d(e,"Canvas",function(){return r.a});n("iaRc")},gosJ:function(t,e,n){"use strict";e.a=function(t,e){var n=e.attr();for(var o in n){var a=n[o],s=u[o]?u[o]:o;"matrix"===s&&a?t.transform(a[0],a[1],a[3],a[4],a[6],a[7]):"lineDash"===s&&t.setLineDash?Object(r.isArray)(a)&&t.setLineDash(a):("strokeStyle"===s||"fillStyle"===s?a=Object(i.b)(t,e,a):"globalAlpha"===s&&(a*=t.globalAlpha),t[s]=a)}},e.d=function(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];i.cfg.visible?i.draw(t,n):i.skipDraw()}},e.b=function(t,e,n){var i=t.get("refreshElements");Object(r.each)(i,function(e){if(e!==t)for(var n=e.cfg.parent;n&&n!==t&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent}),i[0]===t?l(e,n):function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];if(i.cfg.visible)if(i.cfg.hasChanged)i.cfg.refresh=!0,i.isGroup()&&l(i.cfg.children,n);else if(i.cfg.refresh)i.isGroup()&&t(i.cfg.children,n);else{var o=c(i,n);i.cfg.refresh=o,o&&i.isGroup()&&t(i.cfg.children,n)}}}(e,n)},e.c=function t(e){for(var n=0;n<e.length;n++){var r=e[n];r.cfg.hasChanged=!1,r.isGroup()&&!r.destroyed&&t(r.cfg.children)}},e.e=function(t,e,n,r){var i=n.path,a=n.startArrow,u=n.endArrow;if(!i)return;var l=[0,0],c=[0,0],h={dx:0,dy:0};e.beginPath();for(var d=0;d<i.length;d++){var f=i[d],p=f[0];if(0===d&&a&&a.d){var g=t.getStartTangent();h=s.c(g[0][0],g[0][1],g[1][0],g[1][1],a.d)}else if(d===i.length-2&&"Z"===i[d+1][0]&&u&&u.d){var v=i[d+1];if("Z"===v[0]){var g=t.getEndTangent();h=s.c(g[0][0],g[0][1],g[1][0],g[1][1],u.d)}}else if(d===i.length-1&&u&&u.d&&"Z"!==i[0]){var g=t.getEndTangent();h=s.c(g[0][0],g[0][1],g[1][0],g[1][1],u.d)}var y=h.dx,m=h.dy;switch(p){case"M":e.moveTo(f[1]-y,f[2]-m),c=[f[1],f[2]];break;case"L":e.lineTo(f[1]-y,f[2]-m);break;case"Q":e.quadraticCurveTo(f[1],f[2],f[3]-y,f[4]-m);break;case"C":e.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-y,f[6]-m);break;case"A":var b=void 0;r?(b=r[d])||(b=Object(o.a)(l,f),r[d]=b):b=Object(o.a)(l,f);var x=b.cx,A=b.cy,w=b.rx,_=b.ry,M=b.startAngle,S=b.endAngle,O=b.xRotation,I=b.sweepFlag;if(e.ellipse)e.ellipse(x,A,w,_,O,M,S,1-I);else{var E=w>_?w:_,C=w>_?1:w/_,k=w>_?_/w:1;e.translate(x,A),e.rotate(O),e.scale(C,k),e.arc(0,0,E,M,S,1-I),e.scale(1/C,1/k),e.rotate(-O),e.translate(-x,-A)}break;case"Z":e.closePath()}if("Z"===p)l=c;else{var T=f.length;l=[f[T-2],f[T-1]]}}},e.h=function(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw())))},e.f=function(t){if(!t.length)return null;var e=[],n=[],i=[],o=[];return Object(r.each)(t,function(t){var r=function(t){var e;if(t.destroyed)e=t._cacheCanvasBBox;else{var n=t.get("cacheCanvasBBox"),r=n&&!(!n.width||!n.height),i=t.getCanvasBBox(),o=i&&!(!i.width||!i.height);r&&o?e=Object(a.l)(n,i):r?e=n:o&&(e=i)}return e}(t);r&&(e.push(r.minX),n.push(r.minY),i.push(r.maxX),o.push(r.maxY))}),{minX:Object(r.min)(e),minY:Object(r.min)(n),maxX:Object(r.max)(i),maxY:Object(r.max)(o)}},e.g=function(t,e){if(!t||!e)return null;if(!Object(a.f)(t,e))return null;return{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}};var r=n("IgWN"),i=n("4KIz"),o=n("dAFD"),a=n("PDVq"),s=n("+ymx"),u={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function l(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.cfg.refresh=!0,r.isGroup()&&l(r.get("children"),e)}}function c(t,e){var n=t.cfg.cacheCanvasBBox;return t.cfg.isInView&&n&&Object(a.f)(n,e)}},hCgo:function(t,e){},hDRz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=Object.prototype.toString;function i(t){return r.call(t).endsWith("Array]")}function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!i(n.output))throw new TypeError("output option must be an array if specified");e=n.output}else e=new Array(t.length);var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,r=void 0===n?0:n,o=e.toIndex,a=void 0===o?t.length:o;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=r||a>t.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=t[r],u=r+1;u<a;u++)t[u]<s&&(s=t[u]);return s}(t),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,r=void 0===n?0:n,o=e.toIndex,a=void 0===o?t.length:o;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=r||a>t.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=t[r],u=r+1;u<a;u++)t[u]>s&&(s=t[u]);return s}(t);if(r===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=n.min,s=void 0===a?n.autoMinMax?r:0:a,u=n.max,l=void 0===u?n.autoMinMax?o:1:u;if(s>=l)throw new RangeError("min option must be smaller than max option");for(var c=(l-s)/(o-r),h=0;h<t.length;h++)e[h]=(t[h]-r)*c+s;return e}const a=" ".repeat(2),s=" ".repeat(4);function u(t,e={}){const{maxRows:n=15,maxColumns:r=10,maxNumSize:i=8,padMinus:o="auto"}=e;return`${t.constructor.name} {\n${a}[\n${s}${function(t,e,n,r,i){const{rows:o,columns:a}=t,u=Math.min(o,e),c=Math.min(a,n),h=[];if("auto"===i){i=!1;t:for(let e=0;e<u;e++)for(let n=0;n<c;n++)if(t.get(e,n)<0){i=!0;break t}}for(let e=0;e<u;e++){let n=[];for(let o=0;o<c;o++)n.push(l(t.get(e,o),r,i));h.push(`${n.join(" ")}`)}c!==a&&(h[h.length-1]+=` ... ${a-n} more columns`);u!==o&&h.push(`... ${o-e} more rows`);return h.join(`\n${s}`)}(t,n,r,i,o)}\n${a}]\n${a}rows: ${t.rows}\n${a}columns: ${t.columns}\n}`}function l(t,e,n){return(t>=0&&n?` ${c(t,e-1)}`:c(t,e)).padEnd(e)}function c(t,e){let n=t.toString();if(n.length<=e)return n;let r=t.toFixed(e);if(r.length>e&&(r=t.toFixed(Math.max(0,e-(r.length-e)))),r.length<=e&&!r.startsWith("0.000")&&!r.startsWith("-0.000"))return r;let i=t.toExponential(e);return i.length>e&&(i=t.toExponential(Math.max(0,e-(i.length-e)))),i.slice(0)}function h(t,e,n){let r=n?t.rows:t.rows-1;if(e<0||e>r)throw new RangeError("Row index out of range")}function d(t,e,n){let r=n?t.columns:t.columns-1;if(e<0||e>r)throw new RangeError("Column index out of range")}function f(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function p(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function g(t,e){if(!i(e))throw new TypeError("row indices must be an array");for(let n=0;n<e.length;n++)if(e[n]<0||e[n]>=t.rows)throw new RangeError("row indices are out of range")}function v(t,e){if(!i(e))throw new TypeError("column indices must be an array");for(let n=0;n<e.length;n++)if(e[n]<0||e[n]>=t.columns)throw new RangeError("column indices are out of range")}function y(t,e,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(b("startRow",e),b("endRow",n),b("startColumn",r),b("endColumn",i),e>n||r>i||e<0||e>=t.rows||n<0||n>=t.rows||r<0||r>=t.columns||i<0||i>=t.columns)throw new RangeError("Submatrix indices are out of range")}function m(t,e=0){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function b(t,e){if("number"!=typeof e)throw new TypeError(`${t} must be a number`)}function x(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}class A{static from1DArray(t,e,n){if(t*e!==n.length)throw new RangeError("data length does not match given dimensions");let r=new _(t,e);for(let i=0;i<t;i++)for(let t=0;t<e;t++)r.set(i,t,n[i*e+t]);return r}static rowVector(t){let e=new _(1,t.length);for(let n=0;n<t.length;n++)e.set(0,n,t[n]);return e}static columnVector(t){let e=new _(t.length,1);for(let n=0;n<t.length;n++)e.set(n,0,t[n]);return e}static zeros(t,e){return new _(t,e)}static ones(t,e){return new _(t,e).fill(1)}static rand(t,e,n={}){if("object"!=typeof n)throw new TypeError("options must be an object");const{random:r=Math.random}=n;let i=new _(t,e);for(let n=0;n<t;n++)for(let t=0;t<e;t++)i.set(n,t,r());return i}static randInt(t,e,n={}){if("object"!=typeof n)throw new TypeError("options must be an object");const{min:r=0,max:i=1e3,random:o=Math.random}=n;if(!Number.isInteger(r))throw new TypeError("min must be an integer");if(!Number.isInteger(i))throw new TypeError("max must be an integer");if(r>=i)throw new RangeError("min must be smaller than max");let a=i-r,s=new _(t,e);for(let n=0;n<t;n++)for(let t=0;t<e;t++){let e=r+Math.round(o()*a);s.set(n,t,e)}return s}static eye(t,e,n){void 0===e&&(e=t),void 0===n&&(n=1);let r=Math.min(t,e),i=this.zeros(t,e);for(let t=0;t<r;t++)i.set(t,t,n);return i}static diag(t,e,n){let r=t.length;void 0===e&&(e=r),void 0===n&&(n=e);let i=Math.min(r,e,n),o=this.zeros(e,n);for(let e=0;e<i;e++)o.set(e,e,t[e]);return o}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,r=t.columns,i=new _(n,r);for(let o=0;o<n;o++)for(let n=0;n<r;n++)i.set(o,n,Math.min(t.get(o,n),e.get(o,n)));return i}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,r=t.columns,i=new this(n,r);for(let o=0;o<n;o++)for(let n=0;n<r;n++)i.set(o,n,Math.max(t.get(o,n),e.get(o,n)));return i}static checkMatrix(t){return A.isMatrix(t)?t:new _(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.call(this,e,n);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.push(this.get(e,n));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isEchelonForm(){let t=0,e=0,n=-1,r=!0,i=!1;for(;t<this.rows&&r;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(i=!0,n=e):(r=!1,i=!0);t++}return r}isReducedEchelonForm(){let t=0,e=0,n=-1,r=!0,i=!1;for(;t<this.rows&&r;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(i=!0,n=e):(r=!1,i=!0);for(let n=e+1;n<this.rows;n++)0!==this.get(t,n)&&(r=!1);t++}return r}echelonForm(){let t=this.clone(),e=0,n=0;for(;e<t.rows&&n<t.columns;){let r=e;for(let i=e;i<t.rows;i++)t.get(i,n)>t.get(r,n)&&(r=i);if(0===t.get(r,n))n++;else{t.swapRows(e,r);let i=t.get(e,n);for(let r=n;r<t.columns;r++)t.set(e,r,t.get(e,r)/i);for(let r=e+1;r<t.rows;r++){let i=t.get(r,n)/t.get(e,n);t.set(r,n,0);for(let o=n+1;o<t.columns;o++)t.set(r,o,t.get(r,o)-t.get(e,o)*i)}e++,n++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,n=t.rows,r=n-1;for(;r>=0;)if(0===t.maxRow(r))r--;else{let i=0,o=!1;for(;i<n&&!1===o;)1===t.get(r,i)?o=!0:i++;for(let n=0;n<r;n++){let o=t.get(n,i);for(let a=i;a<e;a++){let e=t.get(n,a)-o*t.get(r,a);t.set(n,a,e)}}r--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:n=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new TypeError("columns must be a positive integer");let r=new _(this.rows*e,this.columns*n);for(let t=0;t<e;t++)for(let e=0;e<n;e++)r.setSubMatrix(this,this.rows*t,this.columns*e);return r}fill(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,t);return this}neg(){return this.mulS(-1)}getRow(t){h(this,t);let e=[];for(let n=0;n<this.columns;n++)e.push(this.get(t,n));return e}getRowVector(t){return _.rowVector(this.getRow(t))}setRow(t,e){h(this,t),e=f(this,e);for(let n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}swapRows(t,e){h(this,t),h(this,e);for(let n=0;n<this.columns;n++){let r=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,r)}return this}getColumn(t){d(this,t);let e=[];for(let n=0;n<this.rows;n++)e.push(this.get(n,t));return e}getColumnVector(t){return _.columnVector(this.getColumn(t))}setColumn(t,e){d(this,t),e=p(this,e);for(let n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}swapColumns(t,e){d(this,t),d(this,e);for(let n=0;n<this.rows;n++){let r=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,r)}return this}addRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}subRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}mulRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}divRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}addColumnVector(t){t=p(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}subColumnVector(t){t=p(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}mulColumnVector(t){t=p(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}divColumnVector(t){t=p(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}mulRow(t,e){h(this,t);for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}mulColumn(t,e){d(this,t);for(let n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t[e]&&(t[e]=this.get(e,n));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t[n]&&(t[n]=this.get(e,n));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){x(this);let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)>t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t[e]&&(t[e]=this.get(e,n));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t[n]&&(t[n]=this.get(e,n));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}default:throw new Error(`invalid option: ${t}`)}}minIndex(){x(this);let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)<t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}maxRow(t){if(h(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}maxRowIndex(t){h(this,t),x(this);let e=this.get(t,0),n=[t,0];for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r),n[1]=r);return n}minRow(t){if(h(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}minRowIndex(t){h(this,t),x(this);let e=this.get(t,0),n=[t,0];for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r),n[1]=r);return n}maxColumn(t){if(d(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}maxColumnIndex(t){d(this,t),x(this);let e=this.get(0,t),n=[0,t];for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t),n[0]=r);return n}minColumn(t){if(d(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}minColumnIndex(t){d(this,t),x(this);let e=this.get(0,t),n=[0,t];for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t),n[0]=r);return n}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let n=0;n<t;n++)e.push(this.get(n,n));return e}norm(t="frobenius"){let e=0;if("max"===t)return this.max();if("frobenius"===t){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)e+=this.get(t,n)*this.get(t,n);return Math.sqrt(e)}throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}dot(t){A.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let n=0;for(let r=0;r<e.length;r++)n+=e[r]*t[r];return n}mmul(t){t=_.checkMatrix(t);let e=this.rows,n=this.columns,r=t.columns,i=new _(e,r),o=new Float64Array(n);for(let a=0;a<r;a++){for(let e=0;e<n;e++)o[e]=t.get(e,a);for(let t=0;t<e;t++){let e=0;for(let r=0;r<n;r++)e+=this.get(t,r)*o[r];i.set(t,a,e)}}return i}strassen2x2(t){t=_.checkMatrix(t);let e=new _(2,2);const n=this.get(0,0),r=t.get(0,0),i=this.get(0,1),o=t.get(0,1),a=this.get(1,0),s=t.get(1,0),u=this.get(1,1),l=t.get(1,1),c=(n+u)*(r+l),h=(a+u)*r,d=n*(o-l),f=u*(s-r),p=(n+i)*l,g=c+f-p+(i-u)*(s+l),v=d+p,y=h+f,m=c-h+d+(a-n)*(r+o);return e.set(0,0,g),e.set(0,1,v),e.set(1,0,y),e.set(1,1,m),e}strassen3x3(t){t=_.checkMatrix(t);let e=new _(3,3);const n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),u=this.get(2,0),l=this.get(2,1),c=this.get(2,2),h=t.get(0,0),d=t.get(0,1),f=t.get(0,2),p=t.get(1,0),g=t.get(1,1),v=t.get(1,2),y=t.get(2,0),m=t.get(2,1),b=t.get(2,2),x=(n-o)*(-d+g),A=(-n+o+a)*(h-d+g),w=(o+a)*(-h+d),M=n*h,S=(-n+u+l)*(h-f+v),O=(-n+u)*(f-v),I=(u+l)*(-h+f),E=(-i+l+c)*(g+y-m),C=(i-c)*(g-m),k=i*y,T=(l+c)*(-y+m),D=(-i+a+s)*(v+y-b),j=(i-s)*(v-b),L=(a+s)*(-y+b),P=M+k+r*p,N=(n+r+i-o-a-l-c)*g+A+w+M+E+k+T,R=M+S+I+(n+r+i-a-s-u-l)*v+k+D+L,B=x+a*(-h+d+p-g-v-y+b)+A+M+k+D+j,z=x+A+w+M+s*m,F=k+D+j+L+o*f,G=M+S+O+l*(-h+f+p-g-v-y+m)+E+C+k,V=E+C+k+T+u*d,U=M+S+O+I+c*b;return e.set(0,0,P),e.set(0,1,N),e.set(0,2,R),e.set(1,0,B),e.set(1,1,z),e.set(1,2,F),e.set(2,0,G),e.set(2,1,V),e.set(2,2,U),e}mmulStrassen(t){t=_.checkMatrix(t);let e=this.clone(),n=e.rows,r=e.columns,i=t.rows,o=t.columns;function a(t,e,n){let r=t.rows,i=t.columns;if(r===e&&i===n)return t;{let r=A.zeros(e,n);return r=r.setSubMatrix(t,0,0)}}r!==i&&console.warn(`Multiplying ${n} x ${r} and ${i} x ${o} matrix: dimensions do not match.`);let s=Math.max(n,i),u=Math.max(r,o);return function t(e,n,r,i){if(r<=512||i<=512)return e.mmul(n);r%2==1&&i%2==1?(e=a(e,r+1,i+1),n=a(n,r+1,i+1)):r%2==1?(e=a(e,r+1,i),n=a(n,r+1,i)):i%2==1&&(e=a(e,r,i+1),n=a(n,r,i+1));let o=parseInt(e.rows/2,10),s=parseInt(e.columns/2,10),u=e.subMatrix(0,o-1,0,s-1),l=n.subMatrix(0,o-1,0,s-1),c=e.subMatrix(0,o-1,s,e.columns-1),h=n.subMatrix(0,o-1,s,n.columns-1),d=e.subMatrix(o,e.rows-1,0,s-1),f=n.subMatrix(o,n.rows-1,0,s-1),p=e.subMatrix(o,e.rows-1,s,e.columns-1),g=n.subMatrix(o,n.rows-1,s,n.columns-1),v=t(A.add(u,p),A.add(l,g),o,s),y=t(A.add(d,p),l,o,s),m=t(u,A.sub(h,g),o,s),b=t(p,A.sub(f,l),o,s),x=t(A.add(u,c),g,o,s),w=t(A.sub(d,u),A.add(l,h),o,s),_=t(A.sub(c,p),A.add(f,g),o,s),M=A.add(v,b);M.sub(x),M.add(_);let S=A.add(m,x),O=A.add(y,b),I=A.sub(v,y);I.add(m),I.add(w);let E=A.zeros(2*M.rows,2*M.columns);return(E=(E=(E=(E=E.setSubMatrix(M,0,0)).setSubMatrix(S,M.rows,0)).setSubMatrix(O,0,M.columns)).setSubMatrix(I,M.rows,M.columns)).subMatrix(0,r-1,0,i-1)}(e=a(e,s,u),t=a(t,s,u),s,u)}scaleRows(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let r=new _(this.rows,this.columns);for(let t=0;t<this.rows;t++){const i=this.getRow(t);i.length>0&&o(i,{min:e,max:n,output:i}),r.setRow(t,i)}return r}scaleColumns(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let r=new _(this.rows,this.columns);for(let t=0;t<this.columns;t++){const i=this.getColumn(t);i.length&&o(i,{min:e,max:n,output:i}),r.setColumn(t,i)}return r}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let n=0;n<t;n++){let t=this.get(e,n),r=this.get(e,this.columns-1-n);this.set(e,n,r),this.set(e,this.columns-1-n,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let n=0;n<t;n++){let t=this.get(n,e),r=this.get(this.rows-1-n,e);this.set(n,e,r),this.set(this.rows-1-n,e,t)}return this}kroneckerProduct(t){t=_.checkMatrix(t);let e=this.rows,n=this.columns,r=t.rows,i=t.columns,o=new _(e*r,n*i);for(let a=0;a<e;a++)for(let e=0;e<n;e++)for(let n=0;n<r;n++)for(let s=0;s<i;s++)o.set(r*a+n,i*e+s,this.get(a,e)*t.get(n,s));return o}kroneckerSum(t){if(t=_.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,n=t.rows,r=this.kroneckerProduct(_.eye(n,n)),i=_.eye(e,e).kroneckerProduct(t);return r.add(i)}transpose(){let t=new _(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}sortRows(t=w){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=w){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,n,r){y(this,t,e,n,r);let i=new _(e-t+1,r-n+1);for(let o=t;o<=e;o++)for(let e=n;e<=r;e++)i.set(o-t,e-n,this.get(o,e));return i}subMatrixRow(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");let r=new _(t.length,n-e+1);for(let i=0;i<t.length;i++)for(let o=e;o<=n;o++){if(t[i]<0||t[i]>=this.rows)throw new RangeError(`Row index out of range: ${t[i]}`);r.set(i,o-e,this.get(t[i],o))}return r}subMatrixColumn(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");let r=new _(n-e+1,t.length);for(let i=0;i<t.length;i++)for(let o=e;o<=n;o++){if(t[i]<0||t[i]>=this.columns)throw new RangeError(`Column index out of range: ${t[i]}`);r.set(o-e,i,this.get(o,t[i]))}return r}setSubMatrix(t,e,n){if((t=_.checkMatrix(t)).isEmpty())return this;y(this,e,e+t.rows-1,n,n+t.columns-1);for(let r=0;r<t.rows;r++)for(let i=0;i<t.columns;i++)this.set(e+r,n+i,t.get(r,i));return this}selection(t,e){g(this,t),v(this,e);let n=new _(t.length,e.length);for(let r=0;r<t.length;r++){let i=t[r];for(let t=0;t<e.length;t++){let o=e[t];n.set(r,t,this.get(i,o))}}return n}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let n=0;n<t;n++)e+=this.get(n,n);return e}clone(){let t=new _(this.rows,this.columns);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}sum(t){switch(t){case"row":return function(t){let e=m(t.rows);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]+=t.get(n,r);return e}(this);case"column":return function(t){let e=m(t.columns);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]+=t.get(n,r);return e}(this);case void 0:return function(t){let e=0;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e+=t.get(n,r);return e}(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return function(t){let e=m(t.rows,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]*=t.get(n,r);return e}(this);case"column":return function(t){let e=m(t.columns,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]*=t.get(n,r);return e}(this);case void 0:return function(t){let e=1;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e*=t.get(n,r);return e}(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{unbiased:n=!0,mean:r=this.mean(t)}=e;if("boolean"!=typeof n)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!i(r))throw new TypeError("mean must be an array");return function(t,e,n){const r=t.rows,i=t.columns,o=[];for(let a=0;a<r;a++){let r=0,s=0,u=0;for(let e=0;e<i;e++)r+=u=t.get(a,e)-n[a],s+=u*u;e?o.push((s-r*r/i)/(i-1)):o.push((s-r*r/i)/i)}return o}(this,n,r);case"column":if(!i(r))throw new TypeError("mean must be an array");return function(t,e,n){const r=t.rows,i=t.columns,o=[];for(let a=0;a<i;a++){let i=0,s=0,u=0;for(let e=0;e<r;e++)i+=u=t.get(e,a)-n[a],s+=u*u;e?o.push((s-i*i/r)/(r-1)):o.push((s-i*i/r)/r)}return o}(this,n,r);case void 0:if("number"!=typeof r)throw new TypeError("mean must be a number");return function(t,e,n){const r=t.rows,i=t.columns,o=r*i;let a=0,s=0,u=0;for(let e=0;e<r;e++)for(let r=0;r<i;r++)a+=u=t.get(e,r)-n,s+=u*u;return e?(s-a*a/o)/(o-1):(s-a*a/o)/o}(this,n,r);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"==typeof t&&(e=t,t=void 0);const n=this.variance(t,e);if(void 0===t)return Math.sqrt(n);for(let t=0;t<n.length;t++)n[t]=Math.sqrt(n[t]);return n}center(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{center:n=this.mean(t)}=e;switch(t){case"row":if(!i(n))throw new TypeError("center must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[n])}(this,n),this;case"column":if(!i(n))throw new TypeError("center must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[r])}(this,n),this;case void 0:if("number"!=typeof n)throw new TypeError("center must be a number");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e)}(this,n),this;default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");let n=e.scale;switch(t){case"row":if(void 0===n)n=function(t){const e=[];for(let n=0;n<t.rows;n++){let r=0;for(let e=0;e<t.columns;e++)r+=Math.pow(t.get(n,e),2)/(t.columns-1);e.push(Math.sqrt(r))}return e}(this);else if(!i(n))throw new TypeError("scale must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[n])}(this,n),this;case"column":if(void 0===n)n=function(t){const e=[];for(let n=0;n<t.columns;n++){let r=0;for(let e=0;e<t.rows;e++)r+=Math.pow(t.get(e,n),2)/(t.rows-1);e.push(Math.sqrt(r))}return e}(this);else if(!i(n))throw new TypeError("scale must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[r])}(this,n),this;case void 0:if(void 0===n)n=function(t){const e=t.size-1;let n=0;for(let r=0;r<t.columns;r++)for(let i=0;i<t.rows;i++)n+=Math.pow(t.get(i,r),2)/e;return Math.sqrt(n)}(this);else if("number"!=typeof n)throw new TypeError("scale must be a number");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e)}(this,n),this;default:throw new Error(`invalid option: ${t}`)}}toString(t){return u(this,t)}}function w(t,e){return t-e}A.prototype.klass="Matrix","undefined"!=typeof Symbol&&(A.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return u(this)}),A.random=A.rand,A.randomInt=A.randInt,A.diagonal=A.diag,A.prototype.diagonal=A.prototype.diag,A.identity=A.eye,A.prototype.negate=A.prototype.neg,A.prototype.tensorProduct=A.prototype.kroneckerProduct;class _ extends A{constructor(t,e){if(super(),_.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>=0){if(this.data=[],!(Number.isInteger(e)&&e>=0))throw new TypeError("nColumns must be a positive integer");for(let n=0;n<t;n++)this.data.push(new Float64Array(e))}else{if(!i(t))throw new TypeError("First argument must be a positive number or an array");{const n=t;if("number"!=typeof(e=(t=n.length)?n[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let r=0;r<t;r++){if(n[r].length!==e)throw new RangeError("Inconsistent array dimensions");if(!n[r].every(t=>"number"==typeof t))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(n[r]))}}}this.rows=t,this.columns=e}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}removeRow(t){return h(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),h(this,t,!0),e=Float64Array.from(f(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){d(this,t);for(let e=0;e<this.rows;e++){const n=new Float64Array(this.columns-1);for(let r=0;r<t;r++)n[r]=this.data[e][r];for(let r=t+1;r<this.columns;r++)n[r-1]=this.data[e][r];this.data[e]=n}return this.columns-=1,this}addColumn(t,e){void 0===e&&(e=t,t=this.columns),d(this,t,!0),e=p(this,e);for(let n=0;n<this.rows;n++){const r=new Float64Array(this.columns+1);let i=0;for(;i<t;i++)r[i]=this.data[n][i];for(r[i++]=e[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}}var M,S;S=_,(M=A).prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},M.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t);return this},M.prototype.addM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t.get(e,n));return this},M.add=function(t,e){return new S(t).add(e)},M.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},M.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t);return this},M.prototype.subM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t.get(e,n));return this},M.sub=function(t,e){return new S(t).sub(e)},M.prototype.subtract=M.prototype.sub,M.prototype.subtractS=M.prototype.subS,M.prototype.subtractM=M.prototype.subM,M.subtract=M.sub,M.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},M.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this},M.prototype.mulM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t.get(e,n));return this},M.mul=function(t,e){return new S(t).mul(e)},M.prototype.multiply=M.prototype.mul,M.prototype.multiplyS=M.prototype.mulS,M.prototype.multiplyM=M.prototype.mulM,M.multiply=M.mul,M.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},M.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t);return this},M.prototype.divM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t.get(e,n));return this},M.div=function(t,e){return new S(t).div(e)},M.prototype.divide=M.prototype.div,M.prototype.divideS=M.prototype.divS,M.prototype.divideM=M.prototype.divM,M.divide=M.div,M.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},M.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t);return this},M.prototype.modM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t.get(e,n));return this},M.mod=function(t,e){return new S(t).mod(e)},M.prototype.modulus=M.prototype.mod,M.prototype.modulusS=M.prototype.modS,M.prototype.modulusM=M.prototype.modM,M.modulus=M.mod,M.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},M.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t);return this},M.prototype.andM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t.get(e,n));return this},M.and=function(t,e){return new S(t).and(e)},M.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},M.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t);return this},M.prototype.orM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t.get(e,n));return this},M.or=function(t,e){return new S(t).or(e)},M.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},M.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t);return this},M.prototype.xorM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t.get(e,n));return this},M.xor=function(t,e){return new S(t).xor(e)},M.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},M.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t);return this},M.prototype.leftShiftM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t.get(e,n));return this},M.leftShift=function(t,e){return new S(t).leftShift(e)},M.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},M.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t);return this},M.prototype.signPropagatingRightShiftM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t.get(e,n));return this},M.signPropagatingRightShift=function(t,e){return new S(t).signPropagatingRightShift(e)},M.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},M.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t);return this},M.prototype.rightShiftM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t.get(e,n));return this},M.rightShift=function(t,e){return new S(t).rightShift(e)},M.prototype.zeroFillRightShift=M.prototype.rightShift,M.prototype.zeroFillRightShiftS=M.prototype.rightShiftS,M.prototype.zeroFillRightShiftM=M.prototype.rightShiftM,M.zeroFillRightShift=M.rightShift,M.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},M.not=function(t){return new S(t).not()},M.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},M.abs=function(t){return new S(t).abs()},M.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},M.acos=function(t){return new S(t).acos()},M.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},M.acosh=function(t){return new S(t).acosh()},M.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},M.asin=function(t){return new S(t).asin()},M.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},M.asinh=function(t){return new S(t).asinh()},M.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},M.atan=function(t){return new S(t).atan()},M.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},M.atanh=function(t){return new S(t).atanh()},M.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},M.cbrt=function(t){return new S(t).cbrt()},M.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},M.ceil=function(t){return new S(t).ceil()},M.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},M.clz32=function(t){return new S(t).clz32()},M.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},M.cos=function(t){return new S(t).cos()},M.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},M.cosh=function(t){return new S(t).cosh()},M.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},M.exp=function(t){return new S(t).exp()},M.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},M.expm1=function(t){return new S(t).expm1()},M.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},M.floor=function(t){return new S(t).floor()},M.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},M.fround=function(t){return new S(t).fround()},M.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},M.log=function(t){return new S(t).log()},M.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},M.log1p=function(t){return new S(t).log1p()},M.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},M.log10=function(t){return new S(t).log10()},M.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},M.log2=function(t){return new S(t).log2()},M.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},M.round=function(t){return new S(t).round()},M.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},M.sign=function(t){return new S(t).sign()},M.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},M.sin=function(t){return new S(t).sin()},M.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},M.sinh=function(t){return new S(t).sinh()},M.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},M.sqrt=function(t){return new S(t).sqrt()},M.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},M.tan=function(t){return new S(t).tan()},M.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},M.tanh=function(t){return new S(t).tanh()},M.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},M.trunc=function(t){return new S(t).trunc()},M.pow=function(t,e){return new S(t).pow(e)},M.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},M.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t));return this},M.prototype.powM=function(t){if(t=S.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t.get(e,n)));return this};class O extends A{constructor(t,e,n){super(),this.matrix=t,this.rows=e,this.columns=n}}class I extends O{constructor(t,e){d(t,e),super(t,t.rows,1),this.column=e}set(t,e,n){return this.matrix.set(t,this.column,n),this}get(t){return this.matrix.get(t,this.column)}}class E extends O{constructor(t,e){v(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,n){return this.matrix.set(t,this.columnIndices[e],n),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}}class C extends O{constructor(t){super(t,t.rows,t.columns)}set(t,e,n){return this.matrix.set(t,this.columns-e-1,n),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}}class k extends O{constructor(t){super(t,t.rows,t.columns)}set(t,e,n){return this.matrix.set(this.rows-t-1,e,n),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}}class T extends O{constructor(t,e){h(t,e),super(t,1,t.columns),this.row=e}set(t,e,n){return this.matrix.set(this.row,e,n),this}get(t,e){return this.matrix.get(this.row,e)}}class D extends O{constructor(t,e){g(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,n){return this.matrix.set(this.rowIndices[t],e,n),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}}class j extends O{constructor(t,e,n){g(t,e),v(t,n),super(t,e.length,n.length),this.rowIndices=e,this.columnIndices=n}set(t,e,n){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],n),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class L extends O{constructor(t,e,n,r,i){y(t,e,n,r,i),super(t,n-e+1,i-r+1),this.startRow=e,this.startColumn=r}set(t,e,n){return this.matrix.set(this.startRow+t,this.startColumn+e,n),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}}class P extends O{constructor(t){super(t,t.columns,t.rows)}set(t,e,n){return this.matrix.set(e,t,n),this}get(t,e){return this.matrix.get(e,t)}}class N extends A{constructor(t,e={}){const{rows:n=1}=e;if(t.length%n!=0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=n,this.columns=t.length/n,this.data=t}set(t,e,n){let r=this._calculateIndex(t,e);return this.data[r]=n,this}get(t,e){let n=this._calculateIndex(t,e);return this.data[n]}_calculateIndex(t,e){return t*this.columns+e}}class R extends A{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}}function B(t,e){if(i(t))return t[0]&&i(t[0])?new R(t):new N(t,e);throw new Error("the argument is not an array")}class z{constructor(t){let e,n,r,i,o,a,s,u,l,c=(t=R.checkMatrix(t)).clone(),h=c.rows,d=c.columns,f=new Float64Array(h),p=1;for(e=0;e<h;e++)f[e]=e;for(u=new Float64Array(h),n=0;n<d;n++){for(e=0;e<h;e++)u[e]=c.get(e,n);for(e=0;e<h;e++){for(l=Math.min(e,n),o=0,r=0;r<l;r++)o+=c.get(e,r)*u[r];u[e]-=o,c.set(e,n,u[e])}for(i=n,e=n+1;e<h;e++)Math.abs(u[e])>Math.abs(u[i])&&(i=e);if(i!==n){for(r=0;r<d;r++)a=c.get(i,r),c.set(i,r,c.get(n,r)),c.set(n,r,a);s=f[i],f[i]=f[n],f[n]=s,p=-p}if(n<h&&0!==c.get(n,n))for(e=n+1;e<h;e++)c.set(e,n,c.get(e,n)/c.get(n,n))}this.LU=c,this.pivotVector=f,this.pivotSign=p}isSingular(){let t=this.LU,e=t.columns;for(let n=0;n<e;n++)if(0===t.get(n,n))return!0;return!1}solve(t){t=_.checkMatrix(t);let e=this.LU;if(e.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let n,r,i,o=t.columns,a=t.subMatrixRow(this.pivotVector,0,o-1),s=e.columns;for(i=0;i<s;i++)for(n=i+1;n<s;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*e.get(n,i));for(i=s-1;i>=0;i--){for(r=0;r<o;r++)a.set(i,r,a.get(i,r)/e.get(i,i));for(n=0;n<i;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*e.get(n,i))}return a}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,n=t.columns;for(let r=0;r<n;r++)e*=t.get(r,r);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,n=t.columns,r=new _(e,n);for(let i=0;i<e;i++)for(let e=0;e<n;e++)i>e?r.set(i,e,t.get(i,e)):i===e?r.set(i,e,1):r.set(i,e,0);return r}get upperTriangularMatrix(){let t=this.LU,e=t.rows,n=t.columns,r=new _(e,n);for(let i=0;i<e;i++)for(let e=0;e<n;e++)i<=e?r.set(i,e,t.get(i,e)):r.set(i,e,0);return r}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function F(t,e){let n=0;return Math.abs(t)>Math.abs(e)?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0!==e?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0}class G{constructor(t){let e,n,r,i,o=(t=R.checkMatrix(t)).clone(),a=t.rows,s=t.columns,u=new Float64Array(s);for(r=0;r<s;r++){let t=0;for(e=r;e<a;e++)t=F(t,o.get(e,r));if(0!==t){for(o.get(r,r)<0&&(t=-t),e=r;e<a;e++)o.set(e,r,o.get(e,r)/t);for(o.set(r,r,o.get(r,r)+1),n=r+1;n<s;n++){for(i=0,e=r;e<a;e++)i+=o.get(e,r)*o.get(e,n);for(i=-i/o.get(r,r),e=r;e<a;e++)o.set(e,n,o.get(e,n)+i*o.get(e,r))}}u[r]=-t}this.QR=o,this.Rdiag=u}solve(t){t=_.checkMatrix(t);let e=this.QR,n=e.rows;if(t.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let r,i,o,a,s=t.columns,u=t.clone(),l=e.columns;for(o=0;o<l;o++)for(i=0;i<s;i++){for(a=0,r=o;r<n;r++)a+=e.get(r,o)*u.get(r,i);for(a=-a/e.get(o,o),r=o;r<n;r++)u.set(r,i,u.get(r,i)+a*e.get(r,o))}for(o=l-1;o>=0;o--){for(i=0;i<s;i++)u.set(o,i,u.get(o,i)/this.Rdiag[o]);for(r=0;r<o;r++)for(i=0;i<s;i++)u.set(r,i,u.get(r,i)-u.get(o,i)*e.get(r,o))}return u.subMatrix(0,l-1,0,s-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,n=this.QR,r=n.columns,i=new _(r,r);for(t=0;t<r;t++)for(e=0;e<r;e++)t<e?i.set(t,e,n.get(t,e)):t===e?i.set(t,e,this.Rdiag[t]):i.set(t,e,0);return i}get orthogonalMatrix(){let t,e,n,r,i=this.QR,o=i.rows,a=i.columns,s=new _(o,a);for(n=a-1;n>=0;n--){for(t=0;t<o;t++)s.set(t,n,0);for(s.set(n,n,1),e=n;e<a;e++)if(0!==i.get(n,n)){for(r=0,t=n;t<o;t++)r+=i.get(t,n)*s.get(t,e);for(r=-r/i.get(n,n),t=n;t<o;t++)s.set(t,e,s.get(t,e)+r*i.get(t,n))}}return s}}class V{constructor(t,e={}){if((t=R.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");let n=t.rows,r=t.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:o=!0,autoTranspose:a=!1}=e;let s,u=Boolean(i),l=Boolean(o),c=!1;if(n<r)if(a){n=(s=t.transpose()).rows,r=s.columns,c=!0;let e=u;u=l,l=e}else s=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else s=t.clone();let h=Math.min(n,r),d=Math.min(n+1,r),f=new Float64Array(d),p=new _(n,h),g=new _(r,r),v=new Float64Array(r),y=new Float64Array(n),m=new Float64Array(d);for(let t=0;t<d;t++)m[t]=t;let b=Math.min(n-1,r),x=Math.max(0,Math.min(r-2,n)),A=Math.max(b,x);for(let t=0;t<A;t++){if(t<b){f[t]=0;for(let e=t;e<n;e++)f[t]=F(f[t],s.get(e,t));if(0!==f[t]){s.get(t,t)<0&&(f[t]=-f[t]);for(let e=t;e<n;e++)s.set(e,t,s.get(e,t)/f[t]);s.set(t,t,s.get(t,t)+1)}f[t]=-f[t]}for(let e=t+1;e<r;e++){if(t<b&&0!==f[t]){let r=0;for(let i=t;i<n;i++)r+=s.get(i,t)*s.get(i,e);r=-r/s.get(t,t);for(let i=t;i<n;i++)s.set(i,e,s.get(i,e)+r*s.get(i,t))}v[e]=s.get(t,e)}if(u&&t<b)for(let e=t;e<n;e++)p.set(e,t,s.get(e,t));if(t<x){v[t]=0;for(let e=t+1;e<r;e++)v[t]=F(v[t],v[e]);if(0!==v[t]){v[t+1]<0&&(v[t]=0-v[t]);for(let e=t+1;e<r;e++)v[e]/=v[t];v[t+1]+=1}if(v[t]=-v[t],t+1<n&&0!==v[t]){for(let e=t+1;e<n;e++)y[e]=0;for(let e=t+1;e<n;e++)for(let n=t+1;n<r;n++)y[e]+=v[n]*s.get(e,n);for(let e=t+1;e<r;e++){let r=-v[e]/v[t+1];for(let i=t+1;i<n;i++)s.set(i,e,s.get(i,e)+r*y[i])}}if(l)for(let e=t+1;e<r;e++)g.set(e,t,v[e])}}let w=Math.min(r,n+1);if(b<r&&(f[b]=s.get(b,b)),n<w&&(f[w-1]=0),x+1<w&&(v[x]=s.get(x,w-1)),v[w-1]=0,u){for(let t=b;t<h;t++){for(let e=0;e<n;e++)p.set(e,t,0);p.set(t,t,1)}for(let t=b-1;t>=0;t--)if(0!==f[t]){for(let e=t+1;e<h;e++){let r=0;for(let i=t;i<n;i++)r+=p.get(i,t)*p.get(i,e);r=-r/p.get(t,t);for(let i=t;i<n;i++)p.set(i,e,p.get(i,e)+r*p.get(i,t))}for(let e=t;e<n;e++)p.set(e,t,-p.get(e,t));p.set(t,t,1+p.get(t,t));for(let e=0;e<t-1;e++)p.set(e,t,0)}else{for(let e=0;e<n;e++)p.set(e,t,0);p.set(t,t,1)}}if(l)for(let t=r-1;t>=0;t--){if(t<x&&0!==v[t])for(let e=t+1;e<r;e++){let n=0;for(let i=t+1;i<r;i++)n+=g.get(i,t)*g.get(i,e);n=-n/g.get(t+1,t);for(let i=t+1;i<r;i++)g.set(i,e,g.get(i,e)+n*g.get(i,t))}for(let e=0;e<r;e++)g.set(e,t,0);g.set(t,t,1)}let M=w-1,S=0,O=Number.EPSILON;for(;w>0;){let t,e;for(t=w-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+O*Math.abs(f[t]+Math.abs(f[t+1]));if(Math.abs(v[t])<=e||Number.isNaN(v[t])){v[t]=0;break}}if(t===w-2)e=4;else{let n;for(n=w-1;n>=t&&n!==t;n--){let e=(n!==w?Math.abs(v[n]):0)+(n!==t+1?Math.abs(v[n-1]):0);if(Math.abs(f[n])<=O*e){f[n]=0;break}}n===t?e=3:n===w-1?e=1:(e=2,t=n)}switch(t++,e){case 1:{let e=v[w-2];v[w-2]=0;for(let n=w-2;n>=t;n--){let i=F(f[n],e),o=f[n]/i,a=e/i;if(f[n]=i,n!==t&&(e=-a*v[n-1],v[n-1]=o*v[n-1]),l)for(let t=0;t<r;t++)i=o*g.get(t,n)+a*g.get(t,w-1),g.set(t,w-1,-a*g.get(t,n)+o*g.get(t,w-1)),g.set(t,n,i)}break}case 2:{let e=v[t-1];v[t-1]=0;for(let r=t;r<w;r++){let i=F(f[r],e),o=f[r]/i,a=e/i;if(f[r]=i,e=-a*v[r],v[r]=o*v[r],u)for(let e=0;e<n;e++)i=o*p.get(e,r)+a*p.get(e,t-1),p.set(e,t-1,-a*p.get(e,r)+o*p.get(e,t-1)),p.set(e,r,i)}break}case 3:{const e=Math.max(Math.abs(f[w-1]),Math.abs(f[w-2]),Math.abs(v[w-2]),Math.abs(f[t]),Math.abs(v[t])),i=f[w-1]/e,o=f[w-2]/e,a=v[w-2]/e,s=f[t]/e,c=v[t]/e,h=((o+i)*(o-i)+a*a)/2,d=i*a*(i*a);let y=0;0===h&&0===d||(y=d/(h+(y=h<0?0-Math.sqrt(h*h+d):Math.sqrt(h*h+d))));let m=(s+i)*(s-i)+y,b=s*c;for(let e=t;e<w-1;e++){let i=F(m,b);0===i&&(i=Number.MIN_VALUE);let o=m/i,a=b/i;if(e!==t&&(v[e-1]=i),m=o*f[e]+a*v[e],v[e]=o*v[e]-a*f[e],b=a*f[e+1],f[e+1]=o*f[e+1],l)for(let t=0;t<r;t++)i=o*g.get(t,e)+a*g.get(t,e+1),g.set(t,e+1,-a*g.get(t,e)+o*g.get(t,e+1)),g.set(t,e,i);if(0===(i=F(m,b))&&(i=Number.MIN_VALUE),o=m/i,a=b/i,f[e]=i,m=o*v[e]+a*f[e+1],f[e+1]=-a*v[e]+o*f[e+1],b=a*v[e+1],v[e+1]=o*v[e+1],u&&e<n-1)for(let t=0;t<n;t++)i=o*p.get(t,e)+a*p.get(t,e+1),p.set(t,e+1,-a*p.get(t,e)+o*p.get(t,e+1)),p.set(t,e,i)}v[w-2]=m,S+=1;break}case 4:if(f[t]<=0&&(f[t]=f[t]<0?-f[t]:0,l))for(let e=0;e<=M;e++)g.set(e,t,-g.get(e,t));for(;t<M&&!(f[t]>=f[t+1]);){let e=f[t];if(f[t]=f[t+1],f[t+1]=e,l&&t<r-1)for(let n=0;n<r;n++)e=g.get(n,t+1),g.set(n,t+1,g.get(n,t)),g.set(n,t,e);if(u&&t<n-1)for(let r=0;r<n;r++)e=p.get(r,t+1),p.set(r,t+1,p.get(r,t)),p.set(r,t,e);t++}S=0,w--}}if(c){let t=g;g=p,p=t}this.m=n,this.n=r,this.s=f,this.U=p,this.V=g}solve(t){let e=t,n=this.threshold,r=this.s.length,i=_.zeros(r,r);for(let t=0;t<r;t++)Math.abs(this.s[t])<=n?i.set(t,t,0):i.set(t,t,1/this.s[t]);let o=this.U,a=this.rightSingularVectors,s=a.mmul(i),u=a.rows,l=o.rows,c=_.zeros(u,l);for(let t=0;t<u;t++)for(let e=0;e<l;e++){let n=0;for(let i=0;i<r;i++)n+=s.get(t,i)*o.get(e,i);c.set(t,e,n)}return c.mmul(e)}solveForDiagonal(t){return this.solve(_.diag(t))}inverse(){let t=this.V,e=this.threshold,n=t.rows,r=t.columns,i=new _(n,this.s.length);for(let o=0;o<n;o++)for(let n=0;n<r;n++)Math.abs(this.s[n])>e&&i.set(o,n,t.get(o,n)/this.s[n]);let o=this.U,a=o.rows,s=o.columns,u=new _(n,a);for(let t=0;t<n;t++)for(let e=0;e<a;e++){let n=0;for(let r=0;r<s;r++)n+=i.get(t,r)*o.get(e,r);u.set(t,e,n)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s;for(let r=0,i=n.length;r<i;r++)n[r]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return _.diag(this.s)}}function U(t,e=!1){return t=R.checkMatrix(t),e?new V(t).inverse():W(t,_.eye(t.rows))}function W(t,e,n=!1){return t=R.checkMatrix(t),e=R.checkMatrix(e),n?new V(t).solve(e):t.isSquare()?new z(t).solve(e):new G(t).solve(e)}function H(t){if((t=_.checkMatrix(t)).isSquare()){if(0===t.columns)return 1;let e,n,r,i;if(2===t.columns)return e=t.get(0,0),n=t.get(0,1),r=t.get(1,0),e*(i=t.get(1,1))-n*r;if(3===t.columns){let i,o,a;return i=new j(t,[1,2],[1,2]),o=new j(t,[1,2],[0,2]),a=new j(t,[1,2],[0,1]),e=t.get(0,0),n=t.get(0,1),r=t.get(0,2),e*H(i)-n*H(o)+r*H(a)}return new z(t).determinant}throw Error("determinant can only be calculated for a square matrix")}function Y(t,e){let n=[];for(let r=0;r<t;r++)r!==e&&n.push(r);return n}function X(t,e,n,r=1e-9,i=1e-9){if(t>i)return new Array(e.rows+1).fill(0);{let t=e.addRow(n,[0]);for(let e=0;e<t.rows;e++)Math.abs(t.get(e,0))<r&&t.set(e,0,0);return t.to1DArray()}}function q(t,e={}){const{thresholdValue:n=1e-9,thresholdError:r=1e-9}=e;let i=(t=_.checkMatrix(t)).rows,o=new _(i,i);for(let e=0;e<i;e++){let a=_.columnVector(t.getRow(e)),s=t.subMatrixRow(Y(i,e)).transpose(),u=new V(s).solve(a),l=_.sub(a,s.mmul(u)).abs().max();o.setRow(e,X(l,u,e,n,r))}return o}function Q(t,e=Number.EPSILON){if((t=_.checkMatrix(t)).isEmpty())return t.transpose();let n=new V(t,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,o=n.diagonal;for(let t=0;t<o.length;t++)Math.abs(o[t])>e?o[t]=1/o[t]:o[t]=0;return i.mmul(_.diag(o).mmul(r.transpose()))}function Z(t,e=t,n={}){t=new _(t);let r=!1;if("object"!=typeof e||_.isMatrix(e)||i(e)?e=new _(e):(n=e,e=t,r=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0}=n;o&&(t=t.center("column"),r||(e=e.center("column")));const a=t.transpose().mmul(e);for(let e=0;e<a.rows;e++)for(let n=0;n<a.columns;n++)a.set(e,n,a.get(e,n)*(1/(t.rows-1)));return a}function K(t,e=t,n={}){t=new _(t);let r=!1;if("object"!=typeof e||_.isMatrix(e)||i(e)?e=new _(e):(n=e,e=t,r=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0,scale:a=!0}=n;o&&(t.center("column"),r||e.center("column")),a&&(t.scale("column"),r||e.scale("column"));const s=t.standardDeviation("column",{unbiased:!0}),u=r?s:e.standardDeviation("column",{unbiased:!0}),l=t.transpose().mmul(e);for(let e=0;e<l.rows;e++)for(let n=0;n<l.columns;n++)l.set(e,n,l.get(e,n)*(1/(s[e]*u[n]))*(1/(t.rows-1)));return l}class J{constructor(t,e={}){const{assumeSymmetric:n=!1}=e;if(!(t=R.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");let r,i,o=t.columns,a=new _(o,o),s=new Float64Array(o),u=new Float64Array(o),l=t,c=!1;if(c=!!n||t.isSymmetric()){for(r=0;r<o;r++)for(i=0;i<o;i++)a.set(r,i,l.get(r,i));!function(t,e,n,r){let i,o,a,s,u,l,c,h;for(u=0;u<t;u++)n[u]=r.get(t-1,u);for(s=t-1;s>0;s--){for(h=0,a=0,l=0;l<s;l++)h+=Math.abs(n[l]);if(0===h)for(e[s]=n[s-1],u=0;u<s;u++)n[u]=r.get(s-1,u),r.set(s,u,0),r.set(u,s,0);else{for(l=0;l<s;l++)n[l]/=h,a+=n[l]*n[l];for(i=n[s-1],o=Math.sqrt(a),i>0&&(o=-o),e[s]=h*o,a-=i*o,n[s-1]=i-o,u=0;u<s;u++)e[u]=0;for(u=0;u<s;u++){for(i=n[u],r.set(u,s,i),o=e[u]+r.get(u,u)*i,l=u+1;l<=s-1;l++)o+=r.get(l,u)*n[l],e[l]+=r.get(l,u)*i;e[u]=o}for(i=0,u=0;u<s;u++)e[u]/=a,i+=e[u]*n[u];for(c=i/(a+a),u=0;u<s;u++)e[u]-=c*n[u];for(u=0;u<s;u++){for(i=n[u],o=e[u],l=u;l<=s-1;l++)r.set(l,u,r.get(l,u)-(i*e[l]+o*n[l]));n[u]=r.get(s-1,u),r.set(s,u,0)}}n[s]=a}for(s=0;s<t-1;s++){if(r.set(t-1,s,r.get(s,s)),r.set(s,s,1),0!==(a=n[s+1])){for(l=0;l<=s;l++)n[l]=r.get(l,s+1)/a;for(u=0;u<=s;u++){for(o=0,l=0;l<=s;l++)o+=r.get(l,s+1)*r.get(l,u);for(l=0;l<=s;l++)r.set(l,u,r.get(l,u)-o*n[l])}}for(l=0;l<=s;l++)r.set(l,s+1,0)}for(u=0;u<t;u++)n[u]=r.get(t-1,u),r.set(t-1,u,0);r.set(t-1,t-1,1),e[0]=0}(o,u,s,a),function(t,e,n,r){let i,o,a,s,u,l,c,h,d,f,p,g,v,y,m,b,x;for(a=1;a<t;a++)e[a-1]=e[a];e[t-1]=0;let A=0,w=0,_=Number.EPSILON;for(l=0;l<t;l++){for(w=Math.max(w,Math.abs(n[l])+Math.abs(e[l])),c=l;c<t&&!(Math.abs(e[c])<=_*w);)c++;if(c>l){x=0;do{for(x+=1,i=n[l],h=(n[l+1]-i)/(2*e[l]),d=F(h,1),h<0&&(d=-d),n[l]=e[l]/(h+d),n[l+1]=e[l]*(h+d),f=n[l+1],o=i-n[l],a=l+2;a<t;a++)n[a]-=o;for(A+=o,h=n[c],g=p=1,v=p,y=e[l+1],m=0,b=0,a=c-1;a>=l;a--)for(v=g,g=p,b=m,i=p*e[a],o=p*h,d=F(h,e[a]),e[a+1]=m*d,m=e[a]/d,h=(p=h/d)*n[a]-m*i,n[a+1]=o+m*(p*i+m*n[a]),u=0;u<t;u++)o=r.get(u,a+1),r.set(u,a+1,m*r.get(u,a)+p*o),r.set(u,a,p*r.get(u,a)-m*o);h=-m*b*v*y*e[l]/f,e[l]=m*h,n[l]=p*h}while(Math.abs(e[l])>_*w)}n[l]=n[l]+A,e[l]=0}for(a=0;a<t-1;a++){for(u=a,h=n[a],s=a+1;s<t;s++)n[s]<h&&(u=s,h=n[s]);if(u!==a)for(n[u]=n[a],n[a]=h,s=0;s<t;s++)h=r.get(s,a),r.set(s,a,r.get(s,u)),r.set(s,u,h)}}(o,u,s,a)}else{let t=new _(o,o),e=new Float64Array(o);for(i=0;i<o;i++)for(r=0;r<o;r++)t.set(r,i,l.get(r,i));!function(t,e,n,r){let i,o,a,s,u,l,c,h=t-1;for(l=1;l<=h-1;l++){for(c=0,s=l;s<=h;s++)c+=Math.abs(e.get(s,l-1));if(0!==c){for(a=0,s=h;s>=l;s--)n[s]=e.get(s,l-1)/c,a+=n[s]*n[s];for(o=Math.sqrt(a),n[l]>0&&(o=-o),a-=n[l]*o,n[l]=n[l]-o,u=l;u<t;u++){for(i=0,s=h;s>=l;s--)i+=n[s]*e.get(s,u);for(i/=a,s=l;s<=h;s++)e.set(s,u,e.get(s,u)-i*n[s])}for(s=0;s<=h;s++){for(i=0,u=h;u>=l;u--)i+=n[u]*e.get(s,u);for(i/=a,u=l;u<=h;u++)e.set(s,u,e.get(s,u)-i*n[u])}n[l]=c*n[l],e.set(l,l-1,c*o)}}for(s=0;s<t;s++)for(u=0;u<t;u++)r.set(s,u,s===u?1:0);for(l=h-1;l>=1;l--)if(0!==e.get(l,l-1)){for(s=l+1;s<=h;s++)n[s]=e.get(s,l-1);for(u=l;u<=h;u++){for(o=0,s=l;s<=h;s++)o+=n[s]*r.get(s,u);for(o=o/n[l]/e.get(l,l-1),s=l;s<=h;s++)r.set(s,u,r.get(s,u)+o*n[s])}}}(o,t,e,a),function(t,e,n,r,i){let o,a,s,u,l,c,h,d,f,p,g,v,y,m,b,x=t-1,A=t-1,w=Number.EPSILON,_=0,M=0,S=0,O=0,I=0,E=0,C=0,k=0;for(o=0;o<t;o++)for((o<0||o>A)&&(n[o]=i.get(o,o),e[o]=0),a=Math.max(o-1,0);a<t;a++)M+=Math.abs(i.get(o,a));for(;x>=0;){for(u=x;u>0&&(0===(E=Math.abs(i.get(u-1,u-1))+Math.abs(i.get(u,u)))&&(E=M),!(Math.abs(i.get(u,u-1))<w*E));)u--;if(u===x)i.set(x,x,i.get(x,x)+_),n[x]=i.get(x,x),e[x]=0,x--,k=0;else if(u===x-1){if(h=i.get(x,x-1)*i.get(x-1,x),S=(i.get(x-1,x-1)-i.get(x,x))/2,O=S*S+h,C=Math.sqrt(Math.abs(O)),i.set(x,x,i.get(x,x)+_),i.set(x-1,x-1,i.get(x-1,x-1)+_),d=i.get(x,x),O>=0){for(C=S>=0?S+C:S-C,n[x-1]=d+C,n[x]=n[x-1],0!==C&&(n[x]=d-h/C),e[x-1]=0,e[x]=0,d=i.get(x,x-1),E=Math.abs(d)+Math.abs(C),S=d/E,O=C/E,I=Math.sqrt(S*S+O*O),S/=I,O/=I,a=x-1;a<t;a++)C=i.get(x-1,a),i.set(x-1,a,O*C+S*i.get(x,a)),i.set(x,a,O*i.get(x,a)-S*C);for(o=0;o<=x;o++)C=i.get(o,x-1),i.set(o,x-1,O*C+S*i.get(o,x)),i.set(o,x,O*i.get(o,x)-S*C);for(o=0;o<=A;o++)C=r.get(o,x-1),r.set(o,x-1,O*C+S*r.get(o,x)),r.set(o,x,O*r.get(o,x)-S*C)}else n[x-1]=d+S,n[x]=d+S,e[x-1]=C,e[x]=-C;x-=2,k=0}else{if(d=i.get(x,x),f=0,h=0,u<x&&(f=i.get(x-1,x-1),h=i.get(x,x-1)*i.get(x-1,x)),10===k){for(_+=d,o=0;o<=x;o++)i.set(o,o,i.get(o,o)-d);E=Math.abs(i.get(x,x-1))+Math.abs(i.get(x-1,x-2)),d=f=.75*E,h=-.4375*E*E}if(30===k&&(E=(E=(f-d)/2)*E+h)>0){for(E=Math.sqrt(E),f<d&&(E=-E),E=d-h/((f-d)/2+E),o=0;o<=x;o++)i.set(o,o,i.get(o,o)-E);_+=E,d=f=h=.964}for(k+=1,l=x-2;l>=u&&(C=i.get(l,l),S=((I=d-C)*(E=f-C)-h)/i.get(l+1,l)+i.get(l,l+1),O=i.get(l+1,l+1)-C-I-E,I=i.get(l+2,l+1),E=Math.abs(S)+Math.abs(O)+Math.abs(I),S/=E,O/=E,I/=E,l!==u)&&!(Math.abs(i.get(l,l-1))*(Math.abs(O)+Math.abs(I))<w*(Math.abs(S)*(Math.abs(i.get(l-1,l-1))+Math.abs(C)+Math.abs(i.get(l+1,l+1)))));)l--;for(o=l+2;o<=x;o++)i.set(o,o-2,0),o>l+2&&i.set(o,o-3,0);for(s=l;s<=x-1&&(m=s!==x-1,s!==l&&(S=i.get(s,s-1),O=i.get(s+1,s-1),I=m?i.get(s+2,s-1):0,0!==(d=Math.abs(S)+Math.abs(O)+Math.abs(I))&&(S/=d,O/=d,I/=d)),0!==d);s++)if(E=Math.sqrt(S*S+O*O+I*I),S<0&&(E=-E),0!==E){for(s!==l?i.set(s,s-1,-E*d):u!==l&&i.set(s,s-1,-i.get(s,s-1)),d=(S+=E)/E,f=O/E,C=I/E,O/=S,I/=S,a=s;a<t;a++)S=i.get(s,a)+O*i.get(s+1,a),m&&(S+=I*i.get(s+2,a),i.set(s+2,a,i.get(s+2,a)-S*C)),i.set(s,a,i.get(s,a)-S*d),i.set(s+1,a,i.get(s+1,a)-S*f);for(o=0;o<=Math.min(x,s+3);o++)S=d*i.get(o,s)+f*i.get(o,s+1),m&&(S+=C*i.get(o,s+2),i.set(o,s+2,i.get(o,s+2)-S*I)),i.set(o,s,i.get(o,s)-S),i.set(o,s+1,i.get(o,s+1)-S*O);for(o=0;o<=A;o++)S=d*r.get(o,s)+f*r.get(o,s+1),m&&(S+=C*r.get(o,s+2),r.set(o,s+2,r.get(o,s+2)-S*I)),r.set(o,s,r.get(o,s)-S),r.set(o,s+1,r.get(o,s+1)-S*O)}}}if(0===M)return;for(x=t-1;x>=0;x--)if(S=n[x],0===(O=e[x]))for(u=x,i.set(x,x,1),o=x-1;o>=0;o--){for(h=i.get(o,o)-S,I=0,a=u;a<=x;a++)I+=i.get(o,a)*i.get(a,x);if(e[o]<0)C=h,E=I;else if(u=o,0===e[o]?i.set(o,x,0!==h?-I/h:-I/(w*M)):(d=i.get(o,o+1),f=i.get(o+1,o),O=(n[o]-S)*(n[o]-S)+e[o]*e[o],c=(d*E-C*I)/O,i.set(o,x,c),i.set(o+1,x,Math.abs(d)>Math.abs(C)?(-I-h*c)/d:(-E-f*c)/C)),c=Math.abs(i.get(o,x)),w*c*c>1)for(a=o;a<=x;a++)i.set(a,x,i.get(a,x)/c)}else if(O<0)for(u=x-1,Math.abs(i.get(x,x-1))>Math.abs(i.get(x-1,x))?(i.set(x-1,x-1,O/i.get(x,x-1)),i.set(x-1,x,-(i.get(x,x)-S)/i.get(x,x-1))):(b=$(0,-i.get(x-1,x),i.get(x-1,x-1)-S,O),i.set(x-1,x-1,b[0]),i.set(x-1,x,b[1])),i.set(x,x-1,0),i.set(x,x,1),o=x-2;o>=0;o--){for(p=0,g=0,a=u;a<=x;a++)p+=i.get(o,a)*i.get(a,x-1),g+=i.get(o,a)*i.get(a,x);if(h=i.get(o,o)-S,e[o]<0)C=h,I=p,E=g;else if(u=o,0===e[o]?(b=$(-p,-g,h,O),i.set(o,x-1,b[0]),i.set(o,x,b[1])):(d=i.get(o,o+1),f=i.get(o+1,o),v=(n[o]-S)*(n[o]-S)+e[o]*e[o]-O*O,y=2*(n[o]-S)*O,0===v&&0===y&&(v=w*M*(Math.abs(h)+Math.abs(O)+Math.abs(d)+Math.abs(f)+Math.abs(C))),b=$(d*I-C*p+O*g,d*E-C*g-O*p,v,y),i.set(o,x-1,b[0]),i.set(o,x,b[1]),Math.abs(d)>Math.abs(C)+Math.abs(O)?(i.set(o+1,x-1,(-p-h*i.get(o,x-1)+O*i.get(o,x))/d),i.set(o+1,x,(-g-h*i.get(o,x)-O*i.get(o,x-1))/d)):(b=$(-I-f*i.get(o,x-1),-E-f*i.get(o,x),C,O),i.set(o+1,x-1,b[0]),i.set(o+1,x,b[1]))),c=Math.max(Math.abs(i.get(o,x-1)),Math.abs(i.get(o,x))),w*c*c>1)for(a=o;a<=x;a++)i.set(a,x-1,i.get(a,x-1)/c),i.set(a,x,i.get(a,x)/c)}for(o=0;o<t;o++)if(o<0||o>A)for(a=o;a<t;a++)r.set(o,a,i.get(o,a));for(a=t-1;a>=0;a--)for(o=0;o<=A;o++){for(C=0,s=0;s<=Math.min(a,A);s++)C+=r.get(o,s)*i.get(s,a);r.set(o,a,C)}}(o,u,s,a,t)}this.n=o,this.e=u,this.d=s,this.V=a}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,n=this.n,r=this.e,i=this.d,o=new _(n,n);for(t=0;t<n;t++){for(e=0;e<n;e++)o.set(t,e,0);o.set(t,t,i[t]),r[t]>0?o.set(t,t+1,r[t]):r[t]<0&&o.set(t,t-1,r[t])}return o}}function $(t,e,n,r){let i,o;return Math.abs(n)>Math.abs(r)?[(t+(i=r/n)*e)/(o=n+i*r),(e-i*t)/o]:[((i=n/r)*t+e)/(o=r+i*n),(i*e-t)/o]}class tt{constructor(t){if(!(t=R.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");let e,n,r,i=t,o=i.rows,a=new _(o,o),s=!0;for(n=0;n<o;n++){let t=0;for(r=0;r<n;r++){let o=0;for(e=0;e<r;e++)o+=a.get(r,e)*a.get(n,e);o=(i.get(n,r)-o)/a.get(r,r),a.set(n,r,o),t+=o*o}for(s&=(t=i.get(n,n)-t)>0,a.set(n,n,Math.sqrt(Math.max(t,0))),r=n+1;r<o;r++)a.set(n,r,0)}this.L=a,this.positiveDefinite=Boolean(s)}isPositiveDefinite(){return this.positiveDefinite}solve(t){t=R.checkMatrix(t);let e=this.L,n=e.rows;if(t.rows!==n)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let r,i,o,a=t.columns,s=t.clone();for(o=0;o<n;o++)for(i=0;i<a;i++){for(r=0;r<o;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*e.get(o,r));s.set(o,i,s.get(o,i)/e.get(o,o))}for(o=n-1;o>=0;o--)for(i=0;i<a;i++){for(r=o+1;r<n;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*e.get(r,o));s.set(o,i,s.get(o,i)/e.get(o,o))}return s}get lowerTriangularMatrix(){return this.L}}class et{constructor(t,e={}){t=R.checkMatrix(t);let{Y:n}=e;const{scaleScores:r=!1,maxIterations:o=1e3,terminationCriteria:a=1e-10}=e;let s;if(n){if((n=i(n)&&"number"==typeof n[0]?_.columnVector(n):R.checkMatrix(n)).rows!==t.rows)throw new Error("Y should have the same number of rows as X");s=n.getColumnVector(0)}else s=t.getColumnVector(0);let u,l,c,h,d=1;for(let e=0;e<o&&d>a;e++)c=(c=t.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0))).div(c.norm()),u=t.mmul(c).div(c.transpose().mmul(c).get(0,0)),e>0&&(d=u.clone().sub(h).pow(2).sum()),h=u.clone(),n?(l=(l=n.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0))).div(l.norm()),s=n.mmul(l).div(l.transpose().mmul(l).get(0,0))):s=u;if(n){let e=t.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0));e=e.div(e.norm());let r=t.clone().sub(u.clone().mmul(e.transpose())),i=s.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),o=n.clone().sub(u.clone().mulS(i.get(0,0)).mmul(l.transpose()));this.t=u,this.p=e.transpose(),this.w=c.transpose(),this.q=l,this.u=s,this.s=u.transpose().mmul(u),this.xResidual=r,this.yResidual=o,this.betas=i}else this.w=c.transpose(),this.s=u.transpose().mmul(u).sqrt(),this.t=r?u.clone().div(this.s.get(0,0)):u,this.xResidual=t.sub(u.mmul(c.transpose()))}}n.d(e,"AbstractMatrix",function(){return A}),n.d(e,"default",function(){return _}),n.d(e,"Matrix",function(){return _}),n.d(e,"MatrixColumnView",function(){return I}),n.d(e,"MatrixColumnSelectionView",function(){return E}),n.d(e,"MatrixFlipColumnView",function(){return C}),n.d(e,"MatrixFlipRowView",function(){return k}),n.d(e,"MatrixRowView",function(){return T}),n.d(e,"MatrixRowSelectionView",function(){return D}),n.d(e,"MatrixSelectionView",function(){return j}),n.d(e,"MatrixSubView",function(){return L}),n.d(e,"MatrixTransposeView",function(){return P}),n.d(e,"wrap",function(){return B}),n.d(e,"WrapperMatrix1D",function(){return N}),n.d(e,"WrapperMatrix2D",function(){return R}),n.d(e,"solve",function(){return W}),n.d(e,"inverse",function(){return U}),n.d(e,"determinant",function(){return H}),n.d(e,"linearDependencies",function(){return q}),n.d(e,"pseudoInverse",function(){return Q}),n.d(e,"covariance",function(){return Z}),n.d(e,"correlation",function(){return K}),n.d(e,"SingularValueDecomposition",function(){return V}),n.d(e,"SVD",function(){return V}),n.d(e,"EigenvalueDecomposition",function(){return J}),n.d(e,"EVD",function(){return J}),n.d(e,"CholeskyDecomposition",function(){return tt}),n.d(e,"CHO",function(){return tt}),n.d(e,"LuDecomposition",function(){return z}),n.d(e,"LU",function(){return z}),n.d(e,"QrDecomposition",function(){return G}),n.d(e,"QR",function(){return G}),n.d(e,"Nipals",function(){return et}),n.d(e,"NIPALS",function(){return et})},hTOL:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.clone=e.isObject=void 0;e.isObject=function(t){return null!==t&&"object"==typeof t};e.clone=function(t){if(null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array){var n=[];return t.forEach(function(t){n.push(t)}),n.map(function(t){return(0,e.clone)(t)})}if("object"==typeof t&&Object.keys(t).length){var i=r({},t);return Object.keys(i).forEach(function(t){i[t]=(0,e.clone)(i[t])}),i}return t}},hcOA:function(t,e,n){"use strict";var r={props:{name:{default:"MNIST"},description:{default:"是一个手写体数字的图片数据集，该数据集来由美国国家标准与技术研究所（National Institute of Standards and Technology (NIST)）发起整理，一共统计了来自250个不同的人手写数字图片，其中50%是高中生，50%来自人口普查局的工作人员。该数据集的收集目的是希望通过算法，实现对手写数字的识别。"},pictureSrcs:{default:function(){return[[n("wlDy"),n("KdR5"),n("2LXz"),n("3rtV"),n("Ppgw"),n("P9ea"),n("ec3M"),n("wAAx"),n("30PV"),n("v3v+")]]}},checked:{default:!0},indexInParent:0},methods:{selectDataset:function(){this.$emit("selectDataset",this.indexInParent)}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-radio",{staticStyle:{width:"100%"},attrs:{checked:t.checked},on:{click:t.selectDataset}},[t._v(t._s(t.name))]),t._v(" "),t.checked?n("div",{staticClass:"describe_con"},[n("div",{staticClass:"describe"},[n("span",[t._v(t._s(t.name)+"数据集")]),t._v("："+t._s(t.description)+" ")]),t._v(" "),n("div",{staticClass:"picture describe"},[n("div",[t._v("图例：")]),t._v(" "),n("div",{staticClass:"picContent"},t._l(t.pictureSrcs[0],function(t,e){return n("img",{staticStyle:{width:"80px",height:"80px"},attrs:{id:"Picture"+e,src:t}})}),0)])]):t._e()],1)},staticRenderFns:[]};var o=n("VU/8")(r,i,!1,function(t){n("3jjx")},"data-v-37b641b4",null);e.a=o.exports},i3IR:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArray=void 0,e.isArray=Array.isArray},i6H2:function(t,e,n){"use strict";var r=n("TnYd"),i=n("CpEa"),o=(n.n(i),n("1YJU")),a=(n.n(o),n("Y1ED"));n.d(e,"Event",function(){return a.a});n("SVAo");var s=n("t3gJ");n.d(e,"AbstractCanvas",function(){return s.a});var u=n("yJKB");n.d(e,"AbstractGroup",function(){return u.a});var l=n("JL8M");n.d(e,"AbstractShape",function(){return l.a}),n.d(e,"PathUtil",function(){return r});var c=n("MTK1");n.d(e,"getBBoxMethod",function(){return c.a});var h=n("Tb0P");n.d(e,"getTextHeight",function(){return h.b}),n.d(e,"assembleFont",function(){return h.a});var d=n("BuFP");n.d(e,"isAllowCapture",function(){return d.b});var f=n("MdiT");n.d(e,"multiplyVec2",function(){return f.c}),n.d(e,"invert",function(){return f.a});var p=n("cOOB");n.d(e,"getOffScreenContext",function(){return p.a});n("V9uW")},iPQi:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("Y9x2"));e.default=function(t,e){if(!t.nodes||0===t.nodes.length)return t;var n=e.width,r=e.height,o=e.nodeMinGap,a=1e4,s=1e4;t.nodes.forEach(function(t){var e=t.size[0]||50,n=t.size[1]||50;a=Math.min(e,a),s=Math.min(n,s)});var u=new i.default;u.init(n,r,{CELL_H:s,CELL_W:a}),t.nodes.forEach(function(t){var e=u.occupyNearest(t);e&&(e.node={id:t.id,size:t.size},t.x=e.x,t.y=e.y,t.dx=e.dx,t.dy=e.dy)});for(var l=0;l<t.nodes.length;l++){var c=t.nodes[l],h=u.findGridByNodeId(c.id);if(!h)throw new Error("can not find node cell");var d=h.column,f=h.row;if(c.size[0]+o>a){for(var p=v=Math.ceil((c.size[0]+o)/a)-1,g=0;g<v&&(u.additionColumn.indexOf(d+g+1)>-1&&!u.cells[d+g+1][f].node);g++)p--;u.insertColumn(d,p)}if(c.size[1]+o>s){var v;for(p=v=Math.ceil((c.size[1]+o)/s)-1,g=0;g<v&&(u.additionRow.indexOf(f+g+1)>-1&&!u.cells[d][f+g+1].node);g++)p--;u.insertRow(f,p)}}for(l=0;l<u.columnNum;l++){var y=function(e){var n=u.cells[l][e];if(n.node){var r=t.nodes.find(function(t){var e;return t.id===(null===(e=null===n||void 0===n?void 0:n.node)||void 0===e?void 0:e.id)});r&&(r.x=n.x+r.size[0]/2,r.y=n.y+r.size[1]/2)}};for(g=0;g<u.rowNum;g++)y(g)}}},iaRc:function(t,e,n){"use strict";var r=n("TToO"),i=n("i6H2"),o=n("IgWN"),a=n("o2t7"),s=n("qNZ/"),u=n("IpCj"),l=n("85Et"),c=n("8ALn"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=Object(c.b)("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n?n.appendChild(t):(n=e.createDom(),e.set("el",n),n.appendChild(t))}return t},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.createPath(r,e)}},e.prototype.onCanvasChange=function(t){Object(s.b)(this,t)},e.prototype.getShapeBase=function(){return a},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),Object(u.a)(this,t),this.createPath(t),e.length&&Object(s.a)(t,e))},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(o.each)(e||n,function(t,e){l.b[e]&&r.setAttribute(l.b[e],t)}),Object(u.c)(this)},e}(i.AbstractGroup);e.a=h},ifFn:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAMAAAC8EZcfAAACIlBMVEUAAAAISPcEPvsLVPUHR/QEPvoGTfIGPvMGTfYOUvoIT/ULUf8JSfIKTfcJT/YKUPYHUPYJTfIKUPYLUPYMUfYISe8LUfYMUPULT/UJUvUKVPQKVPQKVPQKVfVynvja5P4KVfQKVPUJU/XV4f0KU/XI1/sLVPTY5f7E1v1jjPabt/oLVPWzyfvW4/7T3/0KVPQMUPXN3PwJVPbU4P20xvuuxfvQ3P2Kq/jQ3f26zvyzyvzb5f3I1/zN2/ySsfmpwf0oaPgKVPTF1v3////E1f33+f/C1f0LVfXI2P3G1/0MVfXa5f7T4P4OVvXN3P4RWPXz9v/t8v8qavbp7/7B0/0TWvXw9f77/P9ejvgPV/U5dPdTh/j5+/+3zP0fYva7z/0aX/a90P0iZPYxb/eyyPxQhfjr8f8tbPdJgPgZXvZEfPgdYfZAefgVW/ZViPg+ePcmZ/anwfxhkfn1+P82cvckZvYXXfagvfx+pfrR3v7L2/47dveGqvpOhPiIrPtbjPg0cfdGfvhCe/hXivhMgvhKgfgvbve/0f1Zi/fg6f4oafbj6/5mlPmRsvtplvhrmPnY5P7W4v7e6P6ZuPvl7f7J2f6sxftfkPmVtPuPsfuCp/p3oPmduvu0yv2jv/tznvpkkvjP3v5ynfm5zf16ovpumvmYt/twm/nV4f6txvzO3f6Mrvtkk/l8pPpolvmpwvx1n/qvx/yrxPxdjvlpl/pZi/kZo2yFAAAAQXRSTlMABAX+CggNBxsOFhEQExghHhUqJCcSLDA2SMGpheP+8PJlVnJxQtnAfCQVe1HEkoo/mZCFJ5pmV/DwxOHGwIp0THWuX+MAABiwSURBVHja7JrrU6JVHMfzsmvbbaamXnSvqaapF73p3kzTJGporhZpsZCuKxKICCyLhiJ3VDKUvWQguIoIy+Zt3az/r+/5ncNzfHyMIpqpF3652ePWfPp+z+93fs9hHzjTmc50pjOd6Uxnqk9Nih5gj/+XGFYzp2vGQ9H/g5NRQW3n8MCTqZkkgCHu6H+DS3gPPf3qcy8//fQTrVWdgziq1DFf/y1r+WKqHRXw2l5+6dOqnn/mmWefI1gFFc8TuBIUkt7WiyYSevO1V95++5V3mv7EP0T73KcaaWAlLTjP4X+qTessVFc9NgPtrddfvH4Duv756++c9q+Dr+1JLdpfw4JUbaukxev0VtCkuCbQANbb2zszs7W1NdN74/P3NID4823nWp+twVWHs1VcWWN4Mij+UqNd52hbO319fbOknZkbn7+GP6nlO48FKNU4LHDxBC0Rc1CyteraXXJtZwdoq7OreqZuvX61b+bGi2+e9LAZ/60LNQH+Gex5EqdF52JoH3+wNcO0swXbZgVaN6m9nb2D8Por8FxdITDwkYagasM+/cb7n7z70YdXBgY62plLq7MCDWwCTgi/np258TqMVlUIEn7kqX8Nqke8kQZt9mQ++/3GxtVffxm7PbR9ZXFgoAscJ8Ek4erO3RfbVITcwMcbxqKXVP+SO5jyz0Gh0O7acvbW9xv3GONlMvLPpe/r/fzcCcDW1vMPNwCoQfO47cbK4WalXE6n0+Vy5TC/nwutAfHqr/eZizCxq+NPILsJkCyUe8i58488+lAjfBLNFE2mK+mDPa8xnIy7oHgy7E2li3n/3Fp2nXk4tH15cfEvAFH5AJRNphWAjzWINmVyuFK/FbzGZNwcTNijjpjT6YzFHPaE1RX2HlTyudDyHW4hQu4CYQ3AVrJQ1ghbgvUDtlTRfDFzoZAxJl3W4HzU4XQHTL5IxGJZsFgiPpM7Zg+aw4X0IbeQA9Z2EICtAASbAnjh4ToAsd4UNLc14z363WVN2B0xd8AHLJvNsLS05PFMeTyeJcNCxBeI2a3xzEGxlNvlGVMpd1QJFU7xjwpgs6qIH37oQS1JbUiLee8IntlhmclnWQCXZ2oUGh6eGOYanfIYbBaT25Ewh/fK+dzuMsrk5zE4yABVdJKRAM+3UsQS8EJ9gNB0MmO2OwM+i81gABioJkZGxsenSeN4jo+MTEyMgjBicsJCb3oTGd8BoHCwQ1pHj3bxEoCy0TTV7yD8mzbGowHLEsgmRsanJycnB08Il6bHRyZGpwwWHyx0GVeK+wDEIuSAXYJQsxKrgHIRNv8TB81Jh2VqYhxc/f39ly5dxIO900e/0ODgNAg9CBmrMJyqiEV4/zYBdkk4NWfVweYGIm4xeO2R0fHB/ksXoZ6qLkJ4o4sAJcLhKcOCzx21JgvlvAJ4GYCIVSQrIaWDVMYNrMGEy7003n+xp6Wn5bPPWj5jby34IOFaC2iBemlwcpxZGAk4gliEef9u9pYAXCRASSZ/angNUgXvWSPDg5daBJoQZyRUMAL+Yv/g9MQwAE2xhCuDThhaJsAhOCg7tfzQrMF6AaX25hcmBi8KIDzEp0TEpc/IQpYxFuE8ADcBiD7zC58XqA9qGdEHtWuwfkCvwzbS30Mg0kJBKi9QxgTonEcZqwGFg1XKDlXEFxosEgAaACjB8FK7SQ72XOoXgDG7WQLyiKnPSNWs4ra6ATMApBqB8C4wJa5wkABHmYMARCMMLVOnBiAnVG0iqkbdqIMESE0FD4iTSjYqbQJEGdMaNBsP2FbC9rrqGpRgKitlkTQIOMj7HV5EyhFFzNJBaoRYg8xBEfFYFVCrjtMBW+srkhYGaJtAm1ZEkBxQFklPFRARk4M8Ygkoq0MW9L8UsTe6MDw52D8I9ZM4I09ZWCgitiWMmPd390tFOEgRj4mJlWerHWe0gK31txm7ZXR8EhoUUwIxckRRzjByZD478OU3XLpvdNduzo6tVx2UVdwhn+TgScAmcrDuRh0ZxRQzzucrcHInCRFi+Y5sXvnuW0gBxAv6ST/GI66nzdQPmEr4PBi0JjAEQsCcnCZGZTWalr8CnAQkRDyYflwkQEQs/JMrUQ3Y9M8BfwuaDKPDQsAkxkklacMVkHVqAav6qR18sg+e0mbONzgPps0Bm2eKi6Z8OIm0OeLwcmcnARKixDuG2KnX7iTCSDksPNCAg2WX24J7IwO0hJsjQApE2Jj4vBMCIKPDU0on9TUAOZLGxFP24ta6AYtJB7tPWlhYsNlsBInhn5Iez34LOgKEyEHJJxG/pWmmxsDa4E5yGJ4P4N7Xh1fEAlKGOMps9O2QdxySe3iz+/7YUHvvTZWD36i24n9/q8t7g7GAKcBkMoESRtJdZ+Cm8I1end8NlKK2KTEsHGSHflD4vuONWjstyIgbKpJSwRyNudnRhtPtJka6YXeCDxKQA6UpdtekjFsv+OfWF7/gRdJdrWKZs7qK/34fNGRT2ov+dDJoj9qhKA5hGKMPLjoUPjg4YGV3xyPDox7aizkghoUrX+l03+lPnQc7/slebEAsPxhOXp2rGM1BUoLOiYhwXuFDuBWUNTTBAeU0I/di8GmkvnEXhM01R/4NiiQ7or4aKu4lXWazCy9rEIh0YtQr+YYirKqhYQDaItVpRhkW1POqOuP67knixAcTTarLu6UVY5gpmYzj5IjOtK4q8XbOofOgqvn5zBIAY2KiVjtIs4v2eIsXSdvfA1Tq7mvV5WV/OeXNZLxeozEc56duc8r6+7IYoc7D9hg6PwIgixgTtZwHWZHQUbVelTAu1VUkczpFqpCzuc10CtoreEFoBuHRD1XALzNU1QsGcQaHI7hATBTJmnJXRztJNwPUy6GBpDlZoDX46KmABsm3ofrFnVCpkoYOUnviSHWos6qSU1Q1TIRwAIcjwgSPeO2Yg+QWU3e9h0fagDWFvL7rP6zQGXmKH60WFL51hwPdkSGynA0G89gYnWd13NkUDirzIOyDVle5geoqbtXedtYMeEX9m+/XcqXDzc1ipZxOeRngtlK/UXsUvRGIlLPN9qMywexTm5EOEt8qpK+5F2sn6toBkzayIX8pnz/cLKcPCpmwK1Xl+9Fon08k5qu90WIp6BTdUfdB/qUTfeukCvnvA3ZpAlZ09dZuzl8q5Q+L5ZWCMexSDAzZE4lEMMh6I+/etyXgTQDKNcgiJjxIr1mDf6fNpDQBS/26vjaX8++X8sXyQcGYNCoGwr+g1Wq2Vs/7o7pjmpNFssiGhXaOp1jYUdc9iUFWyIzG3J/Xl0MgLOU3yyteY3y5ClgEoNXqwg4DQjsIsYyltkOqIoGFDK4P0p82UTc11RxYN3SKDBrA+xvZ3blcbh+AB95wfEfw/eCwzwet5jjkMiNmR2xHx9R9k68UuQYXeZ8BHmn21IhrjPyqgOe09T22cWctxACL6ZQxeVQ1cM4RBSD79isZR/tO2I90pFyJf16lY37pIOIk7fRpAFv/AnDkWAs85ejj9tVbLONSvrJSOIoru1w8FsXXSq4k7dIgDN7XMX01H75GP8yqqxg0YNuBtvS0ButoM9kaAeMIeOjeOgFSwq5fBJ/e7XTYg1YAGjPGozAIMftBlxPWRd4KmYMSkGUMOKZZdaO+AANrFImqBWa1h0dVQH+JJRy3zl7rvMa0G3DHovjuEHwQNmm/jlQKWnP8p5+rgItiol5ldOxvCDA2cfSh2eqatIDHAsaQoNX2rwDM+fPFFW/YHPwSfEwpU4ABxsNGLwQPB3jCwaA5yTP+8fhOQhnPCMk+U6MP1t7jtID7h5WVTNIavyaE7zadDnLQWyjseTOi0K6gsJPbPOP14xFLwN4ZuZnUOqOuvcdJeTggEi4YXcEDwbdlieCLQzvWIAD39gqZdR2pYkXdhPjP3RKQW8jgeiG9qoov1D6jnlHvcVp5t9lW4kcNI+FEkRL+4lrXAhusUMYA3EthELvOE7aiM4YzPOOf+BGwBNzp5VpVR1zDQe0epy2Soe17ANw/LLMSsZcA9wV02wZAJwcsADCvI62bzQD0XtaRxpQ+KADv3r3bixcASbUmau0e16WBIy19sX3v1i4lHHYlojnwMd2zLQAwiu/XycHCmI50gJsrAO7qSFsyYjJs6y7XrBy3at40qVvgH6ybe1NSYRDGqz+a6Uv0XYouik5zgDoZajdA0SwKsTJQQS5eKAWkwmvaRSgFrabv1/Puu4f1BIKYjzg6/vWb3Xffy+7j2+aAZWPwYHfv9fq32sdkID27Bj4GjKOMp9QafAu5HEqVfg1Y0zkeIEDxBOzktQCo1X6QE2t1yJHyxuCL0nT10/K+CmBobVwTvnAz4AylmEP2rh9SgINc0/Z38WRzQEmxvIubnHJm0xqJYLltlWLr5Vr4TyA9GqpxBG+7M1Qkz/Qa7HaQ5g6gXx/8m718K7Q/O3tzpPz7Di6sQUeLixa0MW74X71bO1yGZ2EqMeadN7R6UCTweNA+uL/9DSltpgG/lWJadJWcFl+4TjarK7U46KCcYfzEq+lzLTwfCI6GvGMGywtAax/c3nAco0lbBHM9GrD7nypudZLIRggFG/gS18eNDxt7X7/t96kARuOZIgP2K4dHms7icDh/HKBHA/JZ3AMpRqB1MMjxmi3O4lfXDePXSuxQnXJpdAl9w7cZMBbXR908LjOfHcfqwZEI/ujRqsh160SDnPUWSfagJg5Ka+X9GVqBeKCvMOANHHWJFF23fm8dD5jjjVrh5BlwssES0DLF8qKDkva7IJ7o4+YWmjPYA4OzIWWcmSE80yiOYZ9O0Y16xqPT+XsG6vu4v1SGu2yXy0Qi2FWAFOAbopPLQtsWsNu07zUC+HMAa3Br9evS7/4UKiSOHoyvaJgmAI1pAsS+nFzjZxI5zEYTsB6F4VngDayrfpL8UHzq+8jLuJ3rozHJN47yLaL3bJgb04fbSVUhCCB603OgoxxH6UqNvuFtvsiEotHQ2Gwi3T+vAB/wusY2o6edgKMY5jWbrMGL7fuDm0K4fkW0fVcBrqgWKycYvfMqZRhaAmAqAPHdBe1rbxTU6QABrl7XLfQ5bSC89mZhQRP+kDZ621FY6wPFOYcMjxu7a8szUzrBaoozXDR1CK+G8K5DY+Gdg3TgjUQiXjwE2Lw1zY2aCh91hQVIAXZ38OxsfaC4BwZAaJSqtWRwzBvJDOtOagmLkBjX4GgMptO8kU7FfRim0BUnSbaULw6SS9+od7ILWnmKn30NnqCBWWpya7iMDGMfXF0PB0b1AqRGb0IBUiEHURKJPt5PVHdL3WJDiSllS6lO7w7wslZF0lXIMmHXv5aAS22LRJJsP1AKdynFe5f7UmNexcfN8gcUQTB+UdOTqoNUxewEhHFlf2PfTMFB6lVrMJdVogCectLkZTo5ULwYuQ2MYz8p/0lE4ygQGnRCEfBpxr0oKndjc9PvL7nd3GEFIPeotyqFhWy2oC4LlawlK4Anu7C2PFC2CHDciC0/m42gQHjKCTPjO9NSGS1q6lHrJvUiDITSo5b2261ikflykt92z84WLUJTv5fBhxybr5cCIZ/iw4ST7JYji3mTVUzq8eIijZIn6k30mopgvbPQlS0yYUHeS52PwtymbbdOODjF1e1UdJj8l3VXaMC0lF2mCe2EKh8Q1scQn1WPmgHfFCGNONlsoH2xXRVLkpnvoW7JcQS/hoMRNwhohk16OSJJNvee0+ZDk6YJbcGUFCvAHU/Rw4S2CjnuNtMcUA4Uk8+SHQY01vtGfYvI7whcAFog7BLCLS/orFndsAwTdQS/5DyQBiyc3iIqe80N6yTxEyBS/Gl+NqPjx7YZRRjnZegyXa7eZeWzIJutTDurMerydxeBx4jZ9/+MjDvoUbPcsSWhPcTcHAE0y8nQsDLOsGEGUr5fX8UFESAQU0i+NS8eY3seIjiY84g037Wz9M0kXvVgDX7rj7rvg4/pLERfrwkRJLTzNvNyBBZRy7uFFJceVDwNfGKlhsTo3alFVBofidXXywHv8ycvKXpsUibCO5lesFkacrkGPwXq5rLy9IedrJXdIRtfy436/OmMPZEJmKgVHkSmZI043C18Q8To6n7k//X951XJLOiGII+cIDIIEw/r/3kWaqn445dihSKxxXtVCImPhZAJICnHXEJ5Jq4PpBh6m/bdf1rHczoZkSDDkwSkv4YE0M5XvGV3iHbkWWiv/WAGBkems4ysVijdK0RkqQmgC+GjKz/TtY5gR0XiZMAEHJgUP3aG0od+VX9ZXAEfAmiPoMRvge6DjNRiH+w8guAjhQGo3IIajp3ySmQdxLdCpCBKydQrpPc2t9+O+rtbHHUXTuejRgSdAAQOey5JYrId+bjZBLCYu+r3i4/aZt06y23mo3Ki24y/FiZHkz4P+/cGCwgkA2Z35l5wl59NtrL85Idct85JBE9r9HY2eLsVINOyydadnsF/1cUwNTvO2CPp7eAsbiUnA9I/azAUZAVSPPOWVT4jZ7Hd9WHLr6T4bIzeIwCUqBGThhNI7USfEKu8zIsb16C9gcnv4s6r2HkU8IpGAZ4klhciG70pgmIum7YPE21ojVUs3q3TRfAeIigFIg5+iaEFmBHAFRnkiAOTGfksPhOLaJiK5CZkCxt9qY+OoFNSTNYoNlXUAYmpIYxnZJVX28zfds71ZYYwDOOE3Z3d2WW9xiHkECLkfCiSfHQspV6UDyLnY0gIWR8khy2JHFJyLIfwD7ru63meuXbMsDaTfHDt7OHtnXn39973PM/Oztz3lQ4OSLnlnaQ/RDB0Q+gUcAqmV4UXtAeP4B18Fu/YHMgyk58GSmgZEiCnGZUEiEwS4B+l+NHBc/t3bVNqBahx45qu0p6mAKgIKrd6LmuaOXjr+M4jmqmZaU3ZYKN2A5Cdf5ePsivM74MqcFR6y5mopfMfbuKQ2g64wEEiSUewO9hXd/vQudBXF9rWVLOQgSupn4TqDB8+d3vfEdbv7+aRq7i8dpDPMpx2Jl5lZ+IBdibmRnH+/ODg+6B05OzwzVPXD7mzW/r6KfHLPPZABJAlrOrtfP+cgJqps21rZfTVkfDOnVs4CXwZhYyuXtW1REAnnC74ImV2x9r5y5evQot2AAxJ1lNxgaMAB9L1YVzP7uxVB7QDBSlYTcdw3oPnttBffMv3Fz87I0ClVyopgvIEuHHywycrErUectY0siEanRw89Xbeesj32PlVdmiHtjq/Dyq3Kkgv4ZNkcwHm0c6ne64SE/F0dYOIKG7owmchSGcYuyDGyIO0Q5sZFp2ko5lBAfs7LHTuvw6crP022WUm8MEl4OMV116MaVAd2pRCKMDRZQJKu05fPvzt9cvXqL2lEQTrFayE4bWZBNx9wzHiASFxFVW/jSgfUC4fN4dfoH7Ue2m8ffn01cUr5EOGOUbUhK/d0D+kKZZTReZybImYNw7eeXIluJE8fvMMPhXvyccAokNbcCLNXWnS2a1yJTuXa7BzgZ/L569fDoT0skh+ky3Fdi79rzT11yje+2jm9HlwxFk+a+OaDTDEIZsVT1+CUD6dN8SBaIjjjCBAqHmwXUIEBTV16vJpC2fNnrJ06WTTpEkTx08YGlqwZv6q9WtZL2gWUbQ76vHtcXwPkeHVqhBljp0ZyaCmTJtzUEumzQHTZMnREW/C0NhxtVqt1WotWDR/2eIZ3a4VbW0FJykDJk2Z1q3ULthj5zKQrZWgFhrUpJ9r4sTxxAMf8Or1eruNe91hbqGvFeIZfK22g2/LouBioGP+StSszx4QamJG43EDit0lQ0NqjW5crWVszWYzSfDQdhKmRRPa+q67ZXVFxwqOsOpGyfK+UJM9jd7eCKQhaWzQOINj7ICWRDGUxAkoE2AaaD3F7HZRBLJ4bqzGyd5h3G7V5kz/HSivHhQs4pHAhQVwjF0jieMoquAW4ZmchhmiyaSvWDF/ZRxV9LVdJZiwtaq3amNnY/BloUCEhUQBSixZEsJIdSwQ3huhM7rgEVYxRaYsZtOtV9EsnckxhkltHKIxhLQVxokSkpND8Wo2sSBvJqawAQBELgIP2caYCOkx4xSToHjB+IVjLQFWx1SiBEkGIhipfKg8EqBE1Q44jYbRWBbdUsEC8YFozgGuCpGSnIpm7Dfmykxw3pwuTtp1Q4QCUy5xZBJUAigKSGAhDJZUoPJ+et6YDk/exhLir1JKbs+NzMkuZ49IwkYTiGDMUgHJxNQZk4eKBCUkvCfFcDFeBjQSN76NnAcpUoZo6n9i/AoJEcQEjJQhkamRiROgnAQlJuYQN2MiGFXoK0lIUXpVGeyibQCIX2K+BkbiqIRlElVvoKr29wjm1d8bVYhegZLiD4Wb2opV7g2RU9i/86GqBgUoaXCnzpD1nr/101WRGwTRS0hKHxPo85djKsc9117/YqXMHvGrOAnq7yrE2kPZT0L6R3yBe+P0z5gAZ/TvxOq//uvf0Hd6LqqU1SJ7QgAAAABJRU5ErkJggg=="},jFbC:function(t,e,n){n("Cdx3"),t.exports=n("FeBl").Object.keys},juNB:function(t,e,n){t.exports=n.p+"static/img/modularDevelopIcon.a2968e0.png"},kAgk:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},kdcY:function(t,e,n){"use strict";var r=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0});var i=n("+ZTV"),o=n("Mkwl");e.default=function(t){var e,n=(0,i.asNonCompoundGraph)(t);!function(t){var e=(0,i.buildLayerMatrix)(t),n=t.graph().ranksep,o=0;null===e||void 0===e||e.forEach(function(e){var i=e.map(function(e){return t.node(e).height}),a=Math.max.apply(Math,r(r([],i,!1),[0],!1));null===e||void 0===e||e.forEach(function(e){t.node(e).y=o+a/2}),o+=a+n})}(n);var a=function(t){var e=(0,i.buildLayerMatrix)(t),n=Object.assign((0,o.findType1Conflicts)(t,e),(0,o.findType2Conflicts)(t,e)),r={},a=[];["u","d"].forEach(function(i){a="u"===i?e:Object.values(e).reverse(),["l","r"].forEach(function(e){"r"===e&&(a=a.map(function(t){return Object.values(t).reverse()}));var s=("u"===i?t.predecessors:t.successors).bind(t),u=(0,o.verticalAlignment)(t,a,n,s),l=(0,o.horizontalCompaction)(t,a,u.root,u.align,"r"===e);"r"===e&&Object.keys(l).forEach(function(t){return l[t]=-l[t]}),r[i+e]=l})});var s=(0,o.findSmallestWidthAlignment)(t,r);return s&&(0,o.alignCoordinates)(r,s),(0,o.balance)(r,t.graph().align)}(n);null===(e=Object.keys(a))||void 0===e||e.forEach(function(t){n.node(t).x=a[t]})}},"l8+k":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return e?o(t):i(t)},e.detectStrongConnectComponents=e.detectConnectedComponents=void 0;var r=n("lSAc"),i=function(t){for(var e=t.nodes,n=void 0===e?[]:e,i=t.edges,o=void 0===i?[]:i,a=[],s={},u=[],l=function t(e){u.push(e),s[e.id]=!0;for(var i=(0,r.getNeighbors)(e.id,o),a=function(e){var r=i[e];if(!s[r]){var o=n.filter(function(t){return t.id===r});o.length>0&&t(o[0])}},l=0;l<i.length;++l)a(l)},c=0;c<n.length;c++){var h=n[c];if(!s[h.id]){l(h);for(var d=[];u.length>0;)d.push(u.pop());a.push(d)}}return a};e.detectConnectedComponents=i;var o=function(t){for(var e=t.nodes,n=void 0===e?[]:e,i=t.edges,o=void 0===i?[]:i,a=[],s={},u={},l={},c=[],h=0,d=function t(e){u[e.id]=h,l[e.id]=h,h+=1,a.push(e),s[e.id]=!0;for(var i=(0,r.getNeighbors)(e.id,o,"target").filter(function(t){return n.map(function(t){return t.id}).indexOf(t)>-1}),d=function(r){var o=i[r];if(u[o]||0===u[o])s[o]&&(l[e.id]=Math.min(l[e.id],u[o]));else{var a=n.filter(function(t){return t.id===o});a.length>0&&t(a[0]),l[e.id]=Math.min(l[e.id],l[o])}},f=0;f<i.length;f++)d(f);if(l[e.id]===u[e.id]){for(var p=[];a.length>0;){var g=a.pop();if(s[g.id]=!1,p.push(g),g===e)break}p.length>0&&c.push(p)}},f=0,p=n;f<p.length;f++){var g=p[f];u[g.id]||0===u[g.id]||d(g)}return c};e.detectStrongConnectComponents=o},lB35:function(t,e){t.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAB3RJTUUH2AceCAAy9pvIZgAACUFJREFUSIkFwUmPJFdCAOC3bxGRkVm51Np2u+2y3QY8tN2zYHkuMxy4ceE+d/4Gv2KkQeLIgIZNzEiAQEIsggODhGXZbo9d3V17VVYukfFevP3xffBPfvJjwYigmBACMc4pjUYj58LDciWEyLl4byEqGWLnIyZUqfpyuTPGHM3aSsnbu7vVanV4eFhiUErWdb1ZrUIpXFXW+cFatNlpFxLlsiCKidjuhqvbB+djStGYXghGKel7nWICECJMMqQupJxS9JaUWFEIvLHdWjLCKK3qBlK2C9AjQQg5no0I5TLk0g+uZEgwiAltu37Qpqko45xxjLGijKimzQD5kKyLDOXJuHpz0XKKBKxn9TsIIQhhgXno1s7o1drcb7pFww8nh8TFlGIoKY2ave3ODIODkKYcSkkQgWHQCGEhJOciZmDMFnp3uFdPJN5vsNYmmS1njBEqKYglrfQAvGYI7JzvOmf9nOSUEgQQEet8AYgLaa1jUhydTAWGZvDLhw0qKQx53WkEyaPD6ahpcLLFbHVOjGA/DCDFmvLFbDoew7apR1tz+dA5H3oXieIcQkiYiCm3k9YHb6xpZvPTp0+k7TY6CqkUy7KizQOp6/np6Rv3N9dO+12Bsh7V7Z53njJaS8o5baWqqn6vFdOxfHG1XvU9UUoBCDFCIUQAQYyxgIIIpaLJ0VOFD0cHk4ngjOeze5hJ123Wq+WgjdWGcSqJrBpeVbWSIudEGIUIjBqVmVxZuNzuSMkZYhxjjDFtt10pmTEGAcViT1WTVtSoqqnAV69v/vKXv/jRp59I4gBMMVrGECEgxoGQ4oPOJXLGESGqaTAuyaZ25L0PJJdMAHbeO2dDCDElSshicTQ7POWCMqmwFNu+z9T91rOP9k9me1K7oRs0is5jzDnjUkqEUczFxqAgmB8s7LC7297tNutWVgQUAAAIIRhtEMbGmMlksr9/xKsZqyuXPEOcK9mOw8fPP1Rog0Ju2wbkZHaaIKVUHUIQRFQ1MVYbN7R4UjU15SvBGcqFYFBqwbLDuFapIGMGIoSoRz4kgSgGMMZCKTk4aifN/m6p3QPn7X5VGKe9tZmrSiI0DAPHRDKGS3bWHz95cuzJ9cXu69c3CKOCSh43NScYpCikND68vry0g8Yg4hJhziAnBCJBpKnnrJmydsGbqWpaKnlCRY5UobDXhkIEUjLGAj4+efJ0f7KnRg3+g+89vb69ixmkXHyMiDIX4vnF+fXNuao4F9jZIViffUi2wIK9N/fLdYqhomSz2SCMc87GGM6YECzEvDKxGc/apk7WvDq/JAii67uHVNZtI5umji4SiNfL27OXL7746rOPnn98+u7be20tGEcFoJKs0euu5yWFNCCMCaXOOUopF4IJbgK4e9iVr85sry/u75fLO0IoZbJ6fb3MsAgpCKGDcYKKSsSX3768uLxazCbH++PHj994+vT9xXxqYxCqGjarbr06OdjXWscYKaUhxp3OV/er8zv987//j/mkhllzwvAP3j0yLiMmEcoUQ8lV8AFjAhGxNgCICOR64y8v765ubi4vr7XWTTPebdYjxSrJu22HMMYYa62NtVA0f/tP//5f//Plxc2t8bZtJ8QMGpW038r57Jgjsl6uCgyEFhxTCdm7UOqWt7OSw929MUNUzejVq8ugN89//7urm6uAEmYqQDKe782O3vzrf/zvz1+8fHwyn7XNqK0IZuRof7/r9KgVGIGT+Xyl0MUqFSZub7Vz0XgXbm82u55CIBgeNOz02mn76Scfj+dzvVkrpfams/niyIX4D//26z/7818CSB8d7c/bEQBgsJaAmA8X03feO3r5zVec9L/3vdPb7cHnLx+++Hq56gbj/QiCkrsEy2R/Ngzm1cXZ+++/9+Gz342ANaOJYhXBBAT/0z/9xc9+/s9MsvfffrMSKuVc17V1jiw3W0Cw9en45PhgUlcNa8Hk9v7si9+c3yw7nxOgmDGaMSZMPn3rySeLH37yw+8/e/6RM2Y0zzh62/c3F5cw+8NFLet2fzbjnOTgrLVKKfzs9PjbV9dffXMWY5ru1Vyoz15c/9Wv/vPFqzubYCxg8D4DiCkbfBhPpt/9+DsfPvtAjVoqRoRBTCEmsB3Vbz1awBIG5zFGklLGKIQQQoh/5+2Db88uQgKnp++dvT7f6vAXf/Ov//fiIkOcCwAApJS0dtudWW36b8/O18v7qhZcyFygs7uUUnDW6S6bdfDxYWtyyrAkBKEQHEIA//gPf9Dt+qZpzGAJpRiRX//vZ7we7YzX2gzWEYTGTd0PrrceASAgPDjYe/b8g/39PVrSycnRpOFzlSUMX56tPvt6FWO01iBCBOcAQvLBO0+0MV3XSYpzgcMwfP/ZU+2iHkKMQWtTK3l4sFh3vQulQIhK/vLL3/zq7/6FEAAz4JI2kv7kj378o09/O5U1REQIOgyaMe5DLKWQh5sbQhmDSDX1rt+1eyPO+HanrQgQQoSmGCOleKNoAigD5Pww2/uO1m6z3lnru17Pp9XJo8cIs8H588trSnEIdrXTjLKqUsTYiEOJKcWuLyXrfqCEWjswzjBCnArGKEQAY2CtjanEmBBEj04Ojg7mfdevNps3j6eLaaPNsFxvE4AYYIgpLAUSEgsgCUufsvc5R8gIhZgAQgmHhOLxeNx1HYEo5RQLLJgAABsmrevt0AmBjxbqncezWsA0LG+W/dX1LYACYlJyrKqKUNJ1OzIkUDJ0CYCUBWcIQoIw4QCAWEnWqFmK4fbhwQMEMWOI+BAo5YxB74c3FqN3n7yBkmEwrh+2u977LEsInGLrLM2klIQ/eHzsvAcIIVQwRinGkksIPgTv3aA4nY7btm4go7o3DBIXnfOeMSm4soP+5usXjeCwQFlPVz3cmJyKpyijUkrOkjP84ZOTAkBKKSMECHUhh1gKIhHCDNDgvPMxZrDqtVIVRbjXfQwB5FyparPrup3uen11c8+r0XJtfEighBKD4FwKIaUguRSMMYAQEJwxcdnDnEeiyolEmBkhG+2Atjer5duP32oqSTldrzejUUMIEqJihN093JcUHvrPnYOcKcJJTqXEkCHIsBDOOQCAMRZK4BQSRVEBgpMYi9W7CJIUsh+8T8UMplgrldhrm/FkbLQWGDJZo5KNGQCG00pSiAEj1tscYkrZ2+H/ATMrpPPQOY7JAAAAAElFTkSuQmCC"},lSAc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uniqueId=e.getOutEdgesNodeId=e.getNeighbors=e.getEdgesByNodeId=void 0;e.getNeighbors=function(t,e,n){void 0===e&&(e=[]);var r=e.filter(function(e){return e.source===t||e.target===t});if("target"===n)return r.filter(function(e){return e.source===t}).map(function(t){return t.target});if("source"===n)return r.filter(function(e){return e.target===t}).map(function(t){return t.source});return r.map(function(e){return e.source===t?e.target:e.source})};e.getOutEdgesNodeId=function(t,e){return e.filter(function(e){return e.source===t})};e.getEdgesByNodeId=function(t,e){return e.filter(function(e){return e.source===t||e.target===t})};e.uniqueId=function(t){void 0===t&&(t=0);var e="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(t,"-").concat(e).concat(n)}},lVvd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};n.d(r,"create",function(){return h}),n.d(r,"clone",function(){return d}),n.d(r,"copy",function(){return f}),n.d(r,"identity",function(){return p}),n.d(r,"fromValues",function(){return g}),n.d(r,"set",function(){return v}),n.d(r,"transpose",function(){return y}),n.d(r,"invert",function(){return m}),n.d(r,"adjoint",function(){return b}),n.d(r,"determinant",function(){return x}),n.d(r,"multiply",function(){return A}),n.d(r,"rotate",function(){return w}),n.d(r,"scale",function(){return _}),n.d(r,"fromRotation",function(){return M}),n.d(r,"fromScaling",function(){return S}),n.d(r,"str",function(){return O}),n.d(r,"frob",function(){return I}),n.d(r,"LDU",function(){return E}),n.d(r,"add",function(){return C}),n.d(r,"subtract",function(){return k}),n.d(r,"exactEquals",function(){return T}),n.d(r,"equals",function(){return D}),n.d(r,"multiplyScalar",function(){return j}),n.d(r,"multiplyScalarAndAdd",function(){return L}),n.d(r,"mul",function(){return P}),n.d(r,"sub",function(){return N});var i={};n.d(i,"create",function(){return R}),n.d(i,"clone",function(){return B}),n.d(i,"copy",function(){return z}),n.d(i,"identity",function(){return F}),n.d(i,"fromValues",function(){return G}),n.d(i,"set",function(){return V}),n.d(i,"invert",function(){return U}),n.d(i,"determinant",function(){return W}),n.d(i,"multiply",function(){return H}),n.d(i,"rotate",function(){return Y}),n.d(i,"scale",function(){return X}),n.d(i,"translate",function(){return q}),n.d(i,"fromRotation",function(){return Q}),n.d(i,"fromScaling",function(){return Z}),n.d(i,"fromTranslation",function(){return K}),n.d(i,"str",function(){return J}),n.d(i,"frob",function(){return $}),n.d(i,"add",function(){return tt}),n.d(i,"subtract",function(){return et}),n.d(i,"multiplyScalar",function(){return nt}),n.d(i,"multiplyScalarAndAdd",function(){return rt}),n.d(i,"exactEquals",function(){return it}),n.d(i,"equals",function(){return ot}),n.d(i,"mul",function(){return at}),n.d(i,"sub",function(){return st});var o={};n.d(o,"create",function(){return ut}),n.d(o,"fromMat4",function(){return lt}),n.d(o,"clone",function(){return ct}),n.d(o,"copy",function(){return ht}),n.d(o,"fromValues",function(){return dt}),n.d(o,"set",function(){return ft}),n.d(o,"identity",function(){return pt}),n.d(o,"transpose",function(){return gt}),n.d(o,"invert",function(){return vt}),n.d(o,"adjoint",function(){return yt}),n.d(o,"determinant",function(){return mt}),n.d(o,"multiply",function(){return bt}),n.d(o,"translate",function(){return xt}),n.d(o,"rotate",function(){return At}),n.d(o,"scale",function(){return wt}),n.d(o,"fromTranslation",function(){return _t}),n.d(o,"fromRotation",function(){return Mt}),n.d(o,"fromScaling",function(){return St}),n.d(o,"fromMat2d",function(){return Ot}),n.d(o,"fromQuat",function(){return It}),n.d(o,"normalFromMat4",function(){return Et}),n.d(o,"projection",function(){return Ct}),n.d(o,"str",function(){return kt}),n.d(o,"frob",function(){return Tt}),n.d(o,"add",function(){return Dt}),n.d(o,"subtract",function(){return jt}),n.d(o,"multiplyScalar",function(){return Lt}),n.d(o,"multiplyScalarAndAdd",function(){return Pt}),n.d(o,"exactEquals",function(){return Nt}),n.d(o,"equals",function(){return Rt}),n.d(o,"mul",function(){return Bt}),n.d(o,"sub",function(){return zt});var a={};n.d(a,"create",function(){return Ft}),n.d(a,"clone",function(){return Gt}),n.d(a,"copy",function(){return Vt}),n.d(a,"fromValues",function(){return Ut}),n.d(a,"set",function(){return Wt}),n.d(a,"identity",function(){return Ht}),n.d(a,"transpose",function(){return Yt}),n.d(a,"invert",function(){return Xt}),n.d(a,"adjoint",function(){return qt}),n.d(a,"determinant",function(){return Qt}),n.d(a,"multiply",function(){return Zt}),n.d(a,"translate",function(){return Kt}),n.d(a,"scale",function(){return Jt}),n.d(a,"rotate",function(){return $t}),n.d(a,"rotateX",function(){return te}),n.d(a,"rotateY",function(){return ee}),n.d(a,"rotateZ",function(){return ne}),n.d(a,"fromTranslation",function(){return re}),n.d(a,"fromScaling",function(){return ie}),n.d(a,"fromRotation",function(){return oe}),n.d(a,"fromXRotation",function(){return ae}),n.d(a,"fromYRotation",function(){return se}),n.d(a,"fromZRotation",function(){return ue}),n.d(a,"fromRotationTranslation",function(){return le}),n.d(a,"fromQuat2",function(){return ce}),n.d(a,"getTranslation",function(){return he}),n.d(a,"getScaling",function(){return de}),n.d(a,"getRotation",function(){return fe}),n.d(a,"fromRotationTranslationScale",function(){return pe}),n.d(a,"fromRotationTranslationScaleOrigin",function(){return ge}),n.d(a,"fromQuat",function(){return ve}),n.d(a,"frustum",function(){return ye}),n.d(a,"perspectiveNO",function(){return me}),n.d(a,"perspective",function(){return be}),n.d(a,"perspectiveZO",function(){return xe}),n.d(a,"perspectiveFromFieldOfView",function(){return Ae}),n.d(a,"orthoNO",function(){return we}),n.d(a,"ortho",function(){return _e}),n.d(a,"orthoZO",function(){return Me}),n.d(a,"lookAt",function(){return Se}),n.d(a,"targetTo",function(){return Oe}),n.d(a,"str",function(){return Ie}),n.d(a,"frob",function(){return Ee}),n.d(a,"add",function(){return Ce}),n.d(a,"subtract",function(){return ke}),n.d(a,"multiplyScalar",function(){return Te}),n.d(a,"multiplyScalarAndAdd",function(){return De}),n.d(a,"exactEquals",function(){return je}),n.d(a,"equals",function(){return Le}),n.d(a,"mul",function(){return Pe}),n.d(a,"sub",function(){return Ne});var s={};n.d(s,"create",function(){return Be}),n.d(s,"clone",function(){return ze}),n.d(s,"fromValues",function(){return Fe}),n.d(s,"copy",function(){return Ge}),n.d(s,"set",function(){return Ve}),n.d(s,"add",function(){return Ue}),n.d(s,"subtract",function(){return We}),n.d(s,"multiply",function(){return He}),n.d(s,"divide",function(){return Ye}),n.d(s,"ceil",function(){return Xe}),n.d(s,"floor",function(){return qe}),n.d(s,"min",function(){return Qe}),n.d(s,"max",function(){return Ze}),n.d(s,"round",function(){return Ke}),n.d(s,"scale",function(){return Je}),n.d(s,"scaleAndAdd",function(){return $e}),n.d(s,"distance",function(){return tn}),n.d(s,"squaredDistance",function(){return en}),n.d(s,"length",function(){return nn}),n.d(s,"squaredLength",function(){return rn}),n.d(s,"negate",function(){return on}),n.d(s,"inverse",function(){return an}),n.d(s,"normalize",function(){return sn}),n.d(s,"dot",function(){return un}),n.d(s,"cross",function(){return ln}),n.d(s,"lerp",function(){return cn}),n.d(s,"random",function(){return hn}),n.d(s,"transformMat4",function(){return dn}),n.d(s,"transformQuat",function(){return fn}),n.d(s,"zero",function(){return pn}),n.d(s,"str",function(){return gn}),n.d(s,"exactEquals",function(){return vn}),n.d(s,"equals",function(){return yn}),n.d(s,"sub",function(){return bn}),n.d(s,"mul",function(){return xn}),n.d(s,"div",function(){return An}),n.d(s,"dist",function(){return wn}),n.d(s,"sqrDist",function(){return _n}),n.d(s,"len",function(){return Mn}),n.d(s,"sqrLen",function(){return Sn}),n.d(s,"forEach",function(){return On});var u={};n.d(u,"create",function(){return In}),n.d(u,"identity",function(){return En}),n.d(u,"setAxisAngle",function(){return Cn}),n.d(u,"getAxisAngle",function(){return kn}),n.d(u,"getAngle",function(){return Tn}),n.d(u,"multiply",function(){return Dn}),n.d(u,"rotateX",function(){return jn}),n.d(u,"rotateY",function(){return Ln}),n.d(u,"rotateZ",function(){return Pn}),n.d(u,"calculateW",function(){return Nn}),n.d(u,"exp",function(){return Rn}),n.d(u,"ln",function(){return Bn}),n.d(u,"pow",function(){return zn}),n.d(u,"slerp",function(){return Fn}),n.d(u,"random",function(){return Gn}),n.d(u,"invert",function(){return Vn}),n.d(u,"conjugate",function(){return Un}),n.d(u,"fromMat3",function(){return Wn}),n.d(u,"fromEuler",function(){return Hn}),n.d(u,"str",function(){return Yn}),n.d(u,"clone",function(){return $n}),n.d(u,"fromValues",function(){return tr}),n.d(u,"copy",function(){return er}),n.d(u,"set",function(){return nr}),n.d(u,"add",function(){return rr}),n.d(u,"mul",function(){return ir}),n.d(u,"scale",function(){return or}),n.d(u,"dot",function(){return ar}),n.d(u,"lerp",function(){return sr}),n.d(u,"length",function(){return ur}),n.d(u,"len",function(){return lr}),n.d(u,"squaredLength",function(){return cr}),n.d(u,"sqrLen",function(){return hr}),n.d(u,"normalize",function(){return dr}),n.d(u,"exactEquals",function(){return fr}),n.d(u,"equals",function(){return pr}),n.d(u,"rotationTo",function(){return gr}),n.d(u,"sqlerp",function(){return vr}),n.d(u,"setAxes",function(){return yr});var l={};n.d(l,"create",function(){return mr}),n.d(l,"clone",function(){return br}),n.d(l,"fromValues",function(){return xr}),n.d(l,"fromRotationTranslationValues",function(){return Ar}),n.d(l,"fromRotationTranslation",function(){return wr}),n.d(l,"fromTranslation",function(){return _r}),n.d(l,"fromRotation",function(){return Mr}),n.d(l,"fromMat4",function(){return Sr}),n.d(l,"copy",function(){return Or}),n.d(l,"identity",function(){return Ir}),n.d(l,"set",function(){return Er}),n.d(l,"getReal",function(){return Cr}),n.d(l,"getDual",function(){return kr}),n.d(l,"setReal",function(){return Tr}),n.d(l,"setDual",function(){return Dr}),n.d(l,"getTranslation",function(){return jr}),n.d(l,"translate",function(){return Lr}),n.d(l,"rotateX",function(){return Pr}),n.d(l,"rotateY",function(){return Nr}),n.d(l,"rotateZ",function(){return Rr}),n.d(l,"rotateByQuatAppend",function(){return Br}),n.d(l,"rotateByQuatPrepend",function(){return zr}),n.d(l,"rotateAroundAxis",function(){return Fr}),n.d(l,"add",function(){return Gr}),n.d(l,"multiply",function(){return Vr}),n.d(l,"mul",function(){return Ur}),n.d(l,"scale",function(){return Wr}),n.d(l,"dot",function(){return Hr}),n.d(l,"lerp",function(){return Yr}),n.d(l,"invert",function(){return Xr}),n.d(l,"conjugate",function(){return qr}),n.d(l,"length",function(){return Qr}),n.d(l,"len",function(){return Zr}),n.d(l,"squaredLength",function(){return Kr}),n.d(l,"sqrLen",function(){return Jr}),n.d(l,"normalize",function(){return $r}),n.d(l,"str",function(){return ti}),n.d(l,"exactEquals",function(){return ei}),n.d(l,"equals",function(){return ni});var c=n("NVY2");function h(){var t=new c.ARRAY_TYPE(4);return c.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function d(t){var e=new c.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function f(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function p(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function g(t,e,n,r){var i=new c.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function v(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function y(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function m(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*o-i*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=n*a,t):null}function b(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function x(t){return t[0]*t[3]-t[2]*t[1]}function A(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*s+o*u,t[1]=i*s+a*u,t[2]=r*l+o*c,t[3]=i*l+a*c,t}function w(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t}function _(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*u,t[3]=a*u,t}function M(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function S(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function O(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function I(t){return Math.hypot(t[0],t[1],t[2],t[3])}function E(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function C(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function k(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function T(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function D(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],u=e[2],l=e[3];return Math.abs(n-a)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=c.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-l)<=c.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))}function j(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function L(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}var P=A,N=k;function R(){var t=new c.ARRAY_TYPE(6);return c.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function B(t){var e=new c.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function z(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function F(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function G(t,e,n,r,i,o){var a=new c.ARRAY_TYPE(6);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a[4]=i,a[5]=o,a}function V(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t}function U(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=n*o-r*i;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-o*a)*u,t[5]=(r*a-n*s)*u,t):null}function W(t){return t[0]*t[3]-t[1]*t[2]}function H(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1],h=n[2],d=n[3],f=n[4],p=n[5];return t[0]=r*l+o*c,t[1]=i*l+a*c,t[2]=r*h+o*d,t[3]=i*h+a*d,t[4]=r*f+o*p+s,t[5]=i*f+a*p+u,t}function Y(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*l,t[1]=i*c+a*l,t[2]=r*-l+o*c,t[3]=i*-l+a*c,t[4]=s,t[5]=u,t}function X(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r*l,t[1]=i*l,t[2]=o*c,t[3]=a*c,t[4]=s,t[5]=u,t}function q(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*l+o*c+s,t[5]=i*l+a*c+u,t}function Q(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function Z(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function K(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function J(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function $(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function tt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function et(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function nt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function rt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function it(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function ot(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=e[0],l=e[1],h=e[2],d=e[3],f=e[4],p=e[5];return Math.abs(n-u)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-l)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-h)<=c.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-d)<=c.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-f)<=c.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(s-p)<=c.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))}var at=H,st=et;function ut(){var t=new c.ARRAY_TYPE(9);return c.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function lt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function ct(t){var e=new c.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function ht(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function dt(t,e,n,r,i,o,a,s,u){var l=new c.ARRAY_TYPE(9);return l[0]=t,l[1]=e,l[2]=n,l[3]=r,l[4]=i,l[5]=o,l[6]=a,l[7]=s,l[8]=u,l}function ft(t,e,n,r,i,o,a,s,u,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t}function pt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function gt(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function vt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=c*a-s*l,d=-c*o+s*u,f=l*o-a*u,p=n*h+r*d+i*f;return p?(p=1/p,t[0]=h*p,t[1]=(-c*r+i*l)*p,t[2]=(s*r-i*a)*p,t[3]=d*p,t[4]=(c*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=f*p,t[7]=(-l*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null}function yt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return t[0]=a*c-s*l,t[1]=i*l-r*c,t[2]=r*s-i*a,t[3]=s*u-o*c,t[4]=n*c-i*u,t[5]=i*o-n*s,t[6]=o*l-a*u,t[7]=r*u-n*l,t[8]=n*a-r*o,t}function mt(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8];return e*(l*o-a*u)+n*(-l*i+a*s)+r*(u*i-o*s)}function bt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],d=n[0],f=n[1],p=n[2],g=n[3],v=n[4],y=n[5],m=n[6],b=n[7],x=n[8];return t[0]=d*r+f*a+p*l,t[1]=d*i+f*s+p*c,t[2]=d*o+f*u+p*h,t[3]=g*r+v*a+y*l,t[4]=g*i+v*s+y*c,t[5]=g*o+v*u+y*h,t[6]=m*r+b*a+x*l,t[7]=m*i+b*s+x*c,t[8]=m*o+b*u+x*h,t}function xt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],d=n[0],f=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=d*r+f*a+l,t[7]=d*i+f*s+c,t[8]=d*o+f*u+h,t}function At(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],d=Math.sin(n),f=Math.cos(n);return t[0]=f*r+d*a,t[1]=f*i+d*s,t[2]=f*o+d*u,t[3]=f*a-d*r,t[4]=f*s-d*i,t[5]=f*u-d*o,t[6]=l,t[7]=c,t[8]=h,t}function wt(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function _t(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Mt(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function St(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ot(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function It(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,h=r*s,d=i*a,f=i*s,p=i*u,g=o*a,v=o*s,y=o*u;return t[0]=1-h-p,t[3]=c-y,t[6]=d+v,t[1]=c+y,t[4]=1-l-p,t[7]=f-g,t[2]=d-v,t[5]=f+g,t[8]=1-l-h,t}function Et(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],d=e[10],f=e[11],p=e[12],g=e[13],v=e[14],y=e[15],m=n*s-r*a,b=n*u-i*a,x=n*l-o*a,A=r*u-i*s,w=r*l-o*s,_=i*l-o*u,M=c*g-h*p,S=c*v-d*p,O=c*y-f*p,I=h*v-d*g,E=h*y-f*g,C=d*y-f*v,k=m*C-b*E+x*I+A*O-w*S+_*M;return k?(k=1/k,t[0]=(s*C-u*E+l*I)*k,t[1]=(u*O-a*C-l*S)*k,t[2]=(a*E-s*O+l*M)*k,t[3]=(i*E-r*C-o*I)*k,t[4]=(n*C-i*O+o*S)*k,t[5]=(r*O-n*E-o*M)*k,t[6]=(g*_-v*w+y*A)*k,t[7]=(v*x-p*_-y*b)*k,t[8]=(p*w-g*x+y*m)*k,t):null}function Ct(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function kt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Tt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Dt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function jt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Lt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function Pt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function Nt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Rt(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],h=t[8],d=e[0],f=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return Math.abs(n-d)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-f)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-p)<=c.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-g)<=c.EPSILON*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(a-v)<=c.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(s-y)<=c.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(u-m)<=c.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(l-b)<=c.EPSILON*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(h-x)<=c.EPSILON*Math.max(1,Math.abs(h),Math.abs(x))}var Bt=bt,zt=jt;function Ft(){var t=new c.ARRAY_TYPE(16);return c.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Gt(t){var e=new c.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Vt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Ut(t,e,n,r,i,o,a,s,u,l,h,d,f,p,g,v){var y=new c.ARRAY_TYPE(16);return y[0]=t,y[1]=e,y[2]=n,y[3]=r,y[4]=i,y[5]=o,y[6]=a,y[7]=s,y[8]=u,y[9]=l,y[10]=h,y[11]=d,y[12]=f,y[13]=p,y[14]=g,y[15]=v,y}function Wt(t,e,n,r,i,o,a,s,u,l,c,h,d,f,p,g,v){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t[9]=c,t[10]=h,t[11]=d,t[12]=f,t[13]=p,t[14]=g,t[15]=v,t}function Ht(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Yt(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function Xt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],d=e[10],f=e[11],p=e[12],g=e[13],v=e[14],y=e[15],m=n*s-r*a,b=n*u-i*a,x=n*l-o*a,A=r*u-i*s,w=r*l-o*s,_=i*l-o*u,M=c*g-h*p,S=c*v-d*p,O=c*y-f*p,I=h*v-d*g,E=h*y-f*g,C=d*y-f*v,k=m*C-b*E+x*I+A*O-w*S+_*M;return k?(k=1/k,t[0]=(s*C-u*E+l*I)*k,t[1]=(i*E-r*C-o*I)*k,t[2]=(g*_-v*w+y*A)*k,t[3]=(d*w-h*_-f*A)*k,t[4]=(u*O-a*C-l*S)*k,t[5]=(n*C-i*O+o*S)*k,t[6]=(v*x-p*_-y*b)*k,t[7]=(c*_-d*x+f*b)*k,t[8]=(a*E-s*O+l*M)*k,t[9]=(r*O-n*E-o*M)*k,t[10]=(p*w-g*x+y*m)*k,t[11]=(h*x-c*w-f*m)*k,t[12]=(s*S-a*I-u*M)*k,t[13]=(n*I-r*S+i*M)*k,t[14]=(g*b-p*A-v*m)*k,t[15]=(c*A-h*b+d*m)*k,t):null}function qt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],d=e[10],f=e[11],p=e[12],g=e[13],v=e[14],y=e[15];return t[0]=s*(d*y-f*v)-h*(u*y-l*v)+g*(u*f-l*d),t[1]=-(r*(d*y-f*v)-h*(i*y-o*v)+g*(i*f-o*d)),t[2]=r*(u*y-l*v)-s*(i*y-o*v)+g*(i*l-o*u),t[3]=-(r*(u*f-l*d)-s*(i*f-o*d)+h*(i*l-o*u)),t[4]=-(a*(d*y-f*v)-c*(u*y-l*v)+p*(u*f-l*d)),t[5]=n*(d*y-f*v)-c*(i*y-o*v)+p*(i*f-o*d),t[6]=-(n*(u*y-l*v)-a*(i*y-o*v)+p*(i*l-o*u)),t[7]=n*(u*f-l*d)-a*(i*f-o*d)+c*(i*l-o*u),t[8]=a*(h*y-f*g)-c*(s*y-l*g)+p*(s*f-l*h),t[9]=-(n*(h*y-f*g)-c*(r*y-o*g)+p*(r*f-o*h)),t[10]=n*(s*y-l*g)-a*(r*y-o*g)+p*(r*l-o*s),t[11]=-(n*(s*f-l*h)-a*(r*f-o*h)+c*(r*l-o*s)),t[12]=-(a*(h*v-d*g)-c*(s*v-u*g)+p*(s*d-u*h)),t[13]=n*(h*v-d*g)-c*(r*v-i*g)+p*(r*d-i*h),t[14]=-(n*(s*v-u*g)-a*(r*v-i*g)+p*(r*u-i*s)),t[15]=n*(s*d-u*h)-a*(r*d-i*h)+c*(r*u-i*s),t}function Qt(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],h=t[10],d=t[11],f=t[12],p=t[13],g=t[14],v=t[15];return(e*a-n*o)*(h*v-d*g)-(e*s-r*o)*(c*v-d*p)+(e*u-i*o)*(c*g-h*p)+(n*s-r*a)*(l*v-d*f)-(n*u-i*a)*(l*g-h*f)+(r*u-i*s)*(l*p-c*f)}function Zt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],d=e[9],f=e[10],p=e[11],g=e[12],v=e[13],y=e[14],m=e[15],b=n[0],x=n[1],A=n[2],w=n[3];return t[0]=b*r+x*s+A*h+w*g,t[1]=b*i+x*u+A*d+w*v,t[2]=b*o+x*l+A*f+w*y,t[3]=b*a+x*c+A*p+w*m,b=n[4],x=n[5],A=n[6],w=n[7],t[4]=b*r+x*s+A*h+w*g,t[5]=b*i+x*u+A*d+w*v,t[6]=b*o+x*l+A*f+w*y,t[7]=b*a+x*c+A*p+w*m,b=n[8],x=n[9],A=n[10],w=n[11],t[8]=b*r+x*s+A*h+w*g,t[9]=b*i+x*u+A*d+w*v,t[10]=b*o+x*l+A*f+w*y,t[11]=b*a+x*c+A*p+w*m,b=n[12],x=n[13],A=n[14],w=n[15],t[12]=b*r+x*s+A*h+w*g,t[13]=b*i+x*u+A*d+w*v,t[14]=b*o+x*l+A*f+w*y,t[15]=b*a+x*c+A*p+w*m,t}function Kt(t,e,n){var r,i,o,a,s,u,l,c,h,d,f,p,g=n[0],v=n[1],y=n[2];return e===t?(t[12]=e[0]*g+e[4]*v+e[8]*y+e[12],t[13]=e[1]*g+e[5]*v+e[9]*y+e[13],t[14]=e[2]*g+e[6]*v+e[10]*y+e[14],t[15]=e[3]*g+e[7]*v+e[11]*y+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],d=e[9],f=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=d,t[10]=f,t[11]=p,t[12]=r*g+s*v+h*y+e[12],t[13]=i*g+u*v+d*y+e[13],t[14]=o*g+l*v+f*y+e[14],t[15]=a*g+c*v+p*y+e[15]),t}function Jt(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function $t(t,e,n,r){var i,o,a,s,u,l,h,d,f,p,g,v,y,m,b,x,A,w,_,M,S,O,I,E,C=r[0],k=r[1],T=r[2],D=Math.hypot(C,k,T);return D<c.EPSILON?null:(C*=D=1/D,k*=D,T*=D,i=Math.sin(n),a=1-(o=Math.cos(n)),s=e[0],u=e[1],l=e[2],h=e[3],d=e[4],f=e[5],p=e[6],g=e[7],v=e[8],y=e[9],m=e[10],b=e[11],x=C*C*a+o,A=k*C*a+T*i,w=T*C*a-k*i,_=C*k*a-T*i,M=k*k*a+o,S=T*k*a+C*i,O=C*T*a+k*i,I=k*T*a-C*i,E=T*T*a+o,t[0]=s*x+d*A+v*w,t[1]=u*x+f*A+y*w,t[2]=l*x+p*A+m*w,t[3]=h*x+g*A+b*w,t[4]=s*_+d*M+v*S,t[5]=u*_+f*M+y*S,t[6]=l*_+p*M+m*S,t[7]=h*_+g*M+b*S,t[8]=s*O+d*I+v*E,t[9]=u*O+f*I+y*E,t[10]=l*O+p*I+m*E,t[11]=h*O+g*I+b*E,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function te(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+h*r,t[7]=u*i+d*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=h*i-s*r,t[11]=d*i-u*r,t}function ee(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],h=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-l*r,t[1]=a*i-c*r,t[2]=s*i-h*r,t[3]=u*i-d*r,t[8]=o*r+l*i,t[9]=a*r+c*i,t[10]=s*r+h*i,t[11]=u*r+d*i,t}function ne(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],h=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+h*r,t[3]=u*i+d*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=h*i-s*r,t[7]=d*i-u*r,t}function re(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function ie(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function oe(t,e,n){var r,i,o,a=n[0],s=n[1],u=n[2],l=Math.hypot(a,s,u);return l<c.EPSILON?null:(a*=l=1/l,s*=l,u*=l,r=Math.sin(e),o=1-(i=Math.cos(e)),t[0]=a*a*o+i,t[1]=s*a*o+u*r,t[2]=u*a*o-s*r,t[3]=0,t[4]=a*s*o-u*r,t[5]=s*s*o+i,t[6]=u*s*o+a*r,t[7]=0,t[8]=a*u*o+s*r,t[9]=s*u*o-a*r,t[10]=u*u*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function ae(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function se(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ue(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function le(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,u=i+i,l=o+o,c=r*s,h=r*u,d=r*l,f=i*u,p=i*l,g=o*l,v=a*s,y=a*u,m=a*l;return t[0]=1-(f+g),t[1]=h+m,t[2]=d-y,t[3]=0,t[4]=h-m,t[5]=1-(c+g),t[6]=p+v,t[7]=0,t[8]=d+y,t[9]=p-v,t[10]=1-(c+f),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ce(t,e){var n=new c.ARRAY_TYPE(3),r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],u=e[5],l=e[6],h=e[7],d=r*r+i*i+o*o+a*a;return d>0?(n[0]=2*(s*a+h*r+u*o-l*i)/d,n[1]=2*(u*a+h*i+l*r-s*o)/d,n[2]=2*(l*a+h*o+s*i-u*r)/d):(n[0]=2*(s*a+h*r+u*o-l*i),n[1]=2*(u*a+h*i+l*r-s*o),n[2]=2*(l*a+h*o+s*i-u*r)),le(t,e,n),t}function he(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function de(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],u=e[8],l=e[9],c=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(u,l,c),t}function fe(t,e){var n=new c.ARRAY_TYPE(3);de(n,e);var r=1/n[0],i=1/n[1],o=1/n[2],a=e[0]*r,s=e[1]*i,u=e[2]*o,l=e[4]*r,h=e[5]*i,d=e[6]*o,f=e[8]*r,p=e[9]*i,g=e[10]*o,v=a+h+g,y=0;return v>0?(y=2*Math.sqrt(v+1),t[3]=.25*y,t[0]=(d-p)/y,t[1]=(f-u)/y,t[2]=(s-l)/y):a>h&&a>g?(y=2*Math.sqrt(1+a-h-g),t[3]=(d-p)/y,t[0]=.25*y,t[1]=(s+l)/y,t[2]=(f+u)/y):h>g?(y=2*Math.sqrt(1+h-a-g),t[3]=(f-u)/y,t[0]=(s+l)/y,t[1]=.25*y,t[2]=(d+p)/y):(y=2*Math.sqrt(1+g-a-h),t[3]=(s-l)/y,t[0]=(f+u)/y,t[1]=(d+p)/y,t[2]=.25*y),t}function pe(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,l=o+o,c=a+a,h=i*u,d=i*l,f=i*c,p=o*l,g=o*c,v=a*c,y=s*u,m=s*l,b=s*c,x=r[0],A=r[1],w=r[2];return t[0]=(1-(p+v))*x,t[1]=(d+b)*x,t[2]=(f-m)*x,t[3]=0,t[4]=(d-b)*A,t[5]=(1-(h+v))*A,t[6]=(g+y)*A,t[7]=0,t[8]=(f+m)*w,t[9]=(g-y)*w,t[10]=(1-(h+p))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ge(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],u=e[3],l=o+o,c=a+a,h=s+s,d=o*l,f=o*c,p=o*h,g=a*c,v=a*h,y=s*h,m=u*l,b=u*c,x=u*h,A=r[0],w=r[1],_=r[2],M=i[0],S=i[1],O=i[2],I=(1-(g+y))*A,E=(f+x)*A,C=(p-b)*A,k=(f-x)*w,T=(1-(d+y))*w,D=(v+m)*w,j=(p+b)*_,L=(v-m)*_,P=(1-(d+g))*_;return t[0]=I,t[1]=E,t[2]=C,t[3]=0,t[4]=k,t[5]=T,t[6]=D,t[7]=0,t[8]=j,t[9]=L,t[10]=P,t[11]=0,t[12]=n[0]+M-(I*M+k*S+j*O),t[13]=n[1]+S-(E*M+T*S+L*O),t[14]=n[2]+O-(C*M+D*S+P*O),t[15]=1,t}function ve(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,h=r*s,d=i*a,f=i*s,p=i*u,g=o*a,v=o*s,y=o*u;return t[0]=1-h-p,t[1]=c+y,t[2]=d-v,t[3]=0,t[4]=c-y,t[5]=1-l-p,t[6]=f+g,t[7]=0,t[8]=d+v,t[9]=f-g,t[10]=1-l-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ye(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),l=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*l,t[15]=0,t}function me(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}var be=me;function xe(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=i*o,t[14]=i*r*o):(t[10]=-1,t[14]=-r),t}function Ae(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(i-o)*l*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function we(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t}var _e=we;function Me(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=o*l,t[15]=1,t}function Se(t,e,n,r){var i,o,a,s,u,l,h,d,f,p,g=e[0],v=e[1],y=e[2],m=r[0],b=r[1],x=r[2],A=n[0],w=n[1],_=n[2];return Math.abs(g-A)<c.EPSILON&&Math.abs(v-w)<c.EPSILON&&Math.abs(y-_)<c.EPSILON?Ht(t):(h=g-A,d=v-w,f=y-_,i=b*(f*=p=1/Math.hypot(h,d,f))-x*(d*=p),o=x*(h*=p)-m*f,a=m*d-b*h,(p=Math.hypot(i,o,a))?(i*=p=1/p,o*=p,a*=p):(i=0,o=0,a=0),s=d*a-f*o,u=f*i-h*a,l=h*o-d*i,(p=Math.hypot(s,u,l))?(s*=p=1/p,u*=p,l*=p):(s=0,u=0,l=0),t[0]=i,t[1]=s,t[2]=h,t[3]=0,t[4]=o,t[5]=u,t[6]=d,t[7]=0,t[8]=a,t[9]=l,t[10]=f,t[11]=0,t[12]=-(i*g+o*v+a*y),t[13]=-(s*g+u*v+l*y),t[14]=-(h*g+d*v+f*y),t[15]=1,t)}function Oe(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],u=r[1],l=r[2],c=i-n[0],h=o-n[1],d=a-n[2],f=c*c+h*h+d*d;f>0&&(c*=f=1/Math.sqrt(f),h*=f,d*=f);var p=u*d-l*h,g=l*c-s*d,v=s*h-u*c;return(f=p*p+g*g+v*v)>0&&(p*=f=1/Math.sqrt(f),g*=f,v*=f),t[0]=p,t[1]=g,t[2]=v,t[3]=0,t[4]=h*v-d*g,t[5]=d*p-c*v,t[6]=c*g-h*p,t[7]=0,t[8]=c,t[9]=h,t[10]=d,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function Ie(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Ee(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Ce(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function ke(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Te(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function De(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function je(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Le(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],h=t[8],d=t[9],f=t[10],p=t[11],g=t[12],v=t[13],y=t[14],m=t[15],b=e[0],x=e[1],A=e[2],w=e[3],_=e[4],M=e[5],S=e[6],O=e[7],I=e[8],E=e[9],C=e[10],k=e[11],T=e[12],D=e[13],j=e[14],L=e[15];return Math.abs(n-b)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-x)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(i-A)<=c.EPSILON*Math.max(1,Math.abs(i),Math.abs(A))&&Math.abs(o-w)<=c.EPSILON*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-_)<=c.EPSILON*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(s-M)<=c.EPSILON*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(u-S)<=c.EPSILON*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(l-O)<=c.EPSILON*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(h-I)<=c.EPSILON*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(d-E)<=c.EPSILON*Math.max(1,Math.abs(d),Math.abs(E))&&Math.abs(f-C)<=c.EPSILON*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(p-k)<=c.EPSILON*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(g-T)<=c.EPSILON*Math.max(1,Math.abs(g),Math.abs(T))&&Math.abs(v-D)<=c.EPSILON*Math.max(1,Math.abs(v),Math.abs(D))&&Math.abs(y-j)<=c.EPSILON*Math.max(1,Math.abs(y),Math.abs(j))&&Math.abs(m-L)<=c.EPSILON*Math.max(1,Math.abs(m),Math.abs(L))}var Pe=Zt,Ne=ke,Re=n("YPq+");function Be(){var t=new c.ARRAY_TYPE(4);return c.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function ze(t){var e=new c.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Fe(t,e,n,r){var i=new c.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function Ge(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Ve(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function Ue(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function We(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function He(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function Ye(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function Xe(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function qe(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Qe(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function Ze(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function Ke(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Je(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function $e(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function tn(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.hypot(n,r,i,o)}function en(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o}function nn(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.hypot(e,n,r,i)}function rn(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function on(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function an(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function sn(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t}function un(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function ln(t,e,n,r){var i=n[0]*r[1]-n[1]*r[0],o=n[0]*r[2]-n[2]*r[0],a=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],u=n[1]*r[3]-n[3]*r[1],l=n[2]*r[3]-n[3]*r[2],c=e[0],h=e[1],d=e[2],f=e[3];return t[0]=h*l-d*u+f*s,t[1]=-c*l+d*a-f*o,t[2]=c*u-h*a+f*i,t[3]=-c*s+h*o-d*i,t}function cn(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t}function hn(t,e){var n,r,i,o,a,s;e=e||1;do{a=(n=2*c.RANDOM()-1)*n+(r=2*c.RANDOM()-1)*r}while(a>=1);do{s=(i=2*c.RANDOM()-1)*i+(o=2*c.RANDOM()-1)*o}while(s>=1);var u=Math.sqrt((1-a)/s);return t[0]=e*n,t[1]=e*r,t[2]=e*i*u,t[3]=e*o*u,t}function dn(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}function fn(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*i,h=l*i+u*r-a*o,d=l*o+a*i-s*r,f=-a*r-s*i-u*o;return t[0]=c*l+f*-a+h*-u-d*-s,t[1]=h*l+f*-s+d*-a-c*-u,t[2]=d*l+f*-u+c*-s-h*-a,t[3]=e[3],t}function pn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function gn(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function vn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function yn(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],u=e[2],l=e[3];return Math.abs(n-a)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=c.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-l)<=c.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))}var mn,bn=We,xn=He,An=Ye,wn=tn,_n=en,Mn=nn,Sn=rn,On=(mn=Be(),function(t,e,n,r,i,o){var a,s;for(e||(e=4),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)mn[0]=t[a],mn[1]=t[a+1],mn[2]=t[a+2],mn[3]=t[a+3],i(mn,mn,o),t[a]=mn[0],t[a+1]=mn[1],t[a+2]=mn[2],t[a+3]=mn[3];return t});function In(){var t=new c.ARRAY_TYPE(4);return c.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function En(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Cn(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function kn(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>c.EPSILON?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function Tn(t,e){var n=ar(t,e);return Math.acos(2*n*n-1)}function Dn(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*c+a*s+i*l-o*u,t[1]=i*c+a*u+o*s-r*l,t[2]=o*c+a*l+r*u-i*s,t[3]=a*c-r*s-i*u-o*l,t}function jn(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-r*s,t}function Ln(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-o*s,t[1]=i*u+a*s,t[2]=o*u+r*s,t[3]=a*u-i*s,t}function Pn(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t}function Nn(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function Rn(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=Math.sqrt(n*n+r*r+i*i),s=Math.exp(o),u=a>0?s*Math.sin(a)/a:0;return t[0]=n*u,t[1]=r*u,t[2]=i*u,t[3]=s*Math.cos(a),t}function Bn(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=Math.sqrt(n*n+r*r+i*i),s=a>0?Math.atan2(a,o)/a:0;return t[0]=n*s,t[1]=r*s,t[2]=i*s,t[3]=.5*Math.log(n*n+r*r+i*i+o*o),t}function zn(t,e,n){return Bn(t,e),or(t,t,n),Rn(t,t),t}function Fn(t,e,n,r){var i,o,a,s,u,l=e[0],h=e[1],d=e[2],f=e[3],p=n[0],g=n[1],v=n[2],y=n[3];return(o=l*p+h*g+d*v+f*y)<0&&(o=-o,p=-p,g=-g,v=-v,y=-y),1-o>c.EPSILON?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r),t[0]=s*l+u*p,t[1]=s*h+u*g,t[2]=s*d+u*v,t[3]=s*f+u*y,t}function Gn(t){var e=c.RANDOM(),n=c.RANDOM(),r=c.RANDOM(),i=Math.sqrt(1-e),o=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*n),t[1]=i*Math.cos(2*Math.PI*n),t[2]=o*Math.sin(2*Math.PI*r),t[3]=o*Math.cos(2*Math.PI*r),t}function Vn(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}function Un(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Wn(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t}function Hn(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),u=Math.cos(n),l=Math.sin(r),c=Math.cos(r);return t[0]=o*u*c-a*s*l,t[1]=a*s*c+o*u*l,t[2]=a*u*l-o*s*c,t[3]=a*u*c+o*s*l,t}function Yn(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Xn,qn,Qn,Zn,Kn,Jn,$n=ze,tr=Fe,er=Ge,nr=Ve,rr=Ue,ir=Dn,or=Je,ar=un,sr=cn,ur=nn,lr=ur,cr=rn,hr=cr,dr=sn,fr=vn,pr=yn,gr=(Xn=Re.create(),qn=Re.fromValues(1,0,0),Qn=Re.fromValues(0,1,0),function(t,e,n){var r=Re.dot(e,n);return r<-.999999?(Re.cross(Xn,qn,e),Re.len(Xn)<1e-6&&Re.cross(Xn,Qn,e),Re.normalize(Xn,Xn),Cn(t,Xn,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(Re.cross(Xn,e,n),t[0]=Xn[0],t[1]=Xn[1],t[2]=Xn[2],t[3]=1+r,dr(t,t))}),vr=(Zn=In(),Kn=In(),function(t,e,n,r,i,o){return Fn(Zn,e,i,o),Fn(Kn,n,r,o),Fn(t,Zn,Kn,2*o*(1-o)),t}),yr=(Jn=ut(),function(t,e,n,r){return Jn[0]=n[0],Jn[3]=n[1],Jn[6]=n[2],Jn[1]=r[0],Jn[4]=r[1],Jn[7]=r[2],Jn[2]=-e[0],Jn[5]=-e[1],Jn[8]=-e[2],dr(t,Wn(t,Jn))});function mr(){var t=new c.ARRAY_TYPE(8);return c.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function br(t){var e=new c.ARRAY_TYPE(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function xr(t,e,n,r,i,o,a,s){var u=new c.ARRAY_TYPE(8);return u[0]=t,u[1]=e,u[2]=n,u[3]=r,u[4]=i,u[5]=o,u[6]=a,u[7]=s,u}function Ar(t,e,n,r,i,o,a){var s=new c.ARRAY_TYPE(8);s[0]=t,s[1]=e,s[2]=n,s[3]=r;var u=.5*i,l=.5*o,h=.5*a;return s[4]=u*r+l*n-h*e,s[5]=l*r+h*t-u*n,s[6]=h*r+u*e-l*t,s[7]=-u*t-l*e-h*n,s}function wr(t,e,n){var r=.5*n[0],i=.5*n[1],o=.5*n[2],a=e[0],s=e[1],u=e[2],l=e[3];return t[0]=a,t[1]=s,t[2]=u,t[3]=l,t[4]=r*l+i*u-o*s,t[5]=i*l+o*a-r*u,t[6]=o*l+r*s-i*a,t[7]=-r*a-i*s-o*u,t}function _r(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function Mr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Sr(t,e){var n=In();fe(n,e);var r=new c.ARRAY_TYPE(3);return he(r,e),wr(t,n,r),t}function Or(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function Ir(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Er(t,e,n,r,i,o,a,s,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t}var Cr=er;function kr(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var Tr=er;function Dr(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function jr(t,e){var n=e[4],r=e[5],i=e[6],o=e[7],a=-e[0],s=-e[1],u=-e[2],l=e[3];return t[0]=2*(n*l+o*a+r*u-i*s),t[1]=2*(r*l+o*s+i*a-n*u),t[2]=2*(i*l+o*u+n*s-r*a),t}function Lr(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=.5*n[0],u=.5*n[1],l=.5*n[2],c=e[4],h=e[5],d=e[6],f=e[7];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=a*s+i*l-o*u+c,t[5]=a*u+o*s-r*l+h,t[6]=a*l+r*u-i*s+d,t[7]=-r*s-i*u-o*l+f,t}function Pr(t,e,n){var r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=s*a+c*r+u*o-l*i,d=u*a+c*i+l*r-s*o,f=l*a+c*o+s*i-u*r,p=c*a-s*r-u*i-l*o;return jn(t,e,n),r=t[0],i=t[1],o=t[2],a=t[3],t[4]=h*a+p*r+d*o-f*i,t[5]=d*a+p*i+f*r-h*o,t[6]=f*a+p*o+h*i-d*r,t[7]=p*a-h*r-d*i-f*o,t}function Nr(t,e,n){var r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=s*a+c*r+u*o-l*i,d=u*a+c*i+l*r-s*o,f=l*a+c*o+s*i-u*r,p=c*a-s*r-u*i-l*o;return Ln(t,e,n),r=t[0],i=t[1],o=t[2],a=t[3],t[4]=h*a+p*r+d*o-f*i,t[5]=d*a+p*i+f*r-h*o,t[6]=f*a+p*o+h*i-d*r,t[7]=p*a-h*r-d*i-f*o,t}function Rr(t,e,n){var r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=s*a+c*r+u*o-l*i,d=u*a+c*i+l*r-s*o,f=l*a+c*o+s*i-u*r,p=c*a-s*r-u*i-l*o;return Pn(t,e,n),r=t[0],i=t[1],o=t[2],a=t[3],t[4]=h*a+p*r+d*o-f*i,t[5]=d*a+p*i+f*r-h*o,t[6]=f*a+p*o+h*i-d*r,t[7]=p*a-h*r-d*i-f*o,t}function Br(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],l=e[2],c=e[3];return t[0]=s*a+c*r+u*o-l*i,t[1]=u*a+c*i+l*r-s*o,t[2]=l*a+c*o+s*i-u*r,t[3]=c*a-s*r-u*i-l*o,s=e[4],u=e[5],l=e[6],c=e[7],t[4]=s*a+c*r+u*o-l*i,t[5]=u*a+c*i+l*r-s*o,t[6]=l*a+c*o+s*i-u*r,t[7]=c*a-s*r-u*i-l*o,t}function zr(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*c+a*s+i*l-o*u,t[1]=i*c+a*u+o*s-r*l,t[2]=o*c+a*l+r*u-i*s,t[3]=a*c-r*s-i*u-o*l,s=n[4],u=n[5],l=n[6],c=n[7],t[4]=r*c+a*s+i*l-o*u,t[5]=i*c+a*u+o*s-r*l,t[6]=o*c+a*l+r*u-i*s,t[7]=a*c-r*s-i*u-o*l,t}function Fr(t,e,n,r){if(Math.abs(r)<c.EPSILON)return Or(t,e);var i=Math.hypot(n[0],n[1],n[2]);r*=.5;var o=Math.sin(r),a=o*n[0]/i,s=o*n[1]/i,u=o*n[2]/i,l=Math.cos(r),h=e[0],d=e[1],f=e[2],p=e[3];t[0]=h*l+p*a+d*u-f*s,t[1]=d*l+p*s+f*a-h*u,t[2]=f*l+p*u+h*s-d*a,t[3]=p*l-h*a-d*s-f*u;var g=e[4],v=e[5],y=e[6],m=e[7];return t[4]=g*l+m*a+v*u-y*s,t[5]=v*l+m*s+y*a-g*u,t[6]=y*l+m*u+g*s-v*a,t[7]=m*l-g*a-v*s-y*u,t}function Gr(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t}function Vr(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[4],u=n[5],l=n[6],c=n[7],h=e[4],d=e[5],f=e[6],p=e[7],g=n[0],v=n[1],y=n[2],m=n[3];return t[0]=r*m+a*g+i*y-o*v,t[1]=i*m+a*v+o*g-r*y,t[2]=o*m+a*y+r*v-i*g,t[3]=a*m-r*g-i*v-o*y,t[4]=r*c+a*s+i*l-o*u+h*m+p*g+d*y-f*v,t[5]=i*c+a*u+o*s-r*l+d*m+p*v+f*g-h*y,t[6]=o*c+a*l+r*u-i*s+f*m+p*y+h*v-d*g,t[7]=a*c-r*s-i*u-o*l+p*m-h*g-d*v-f*y,t}var Ur=Vr;function Wr(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t}var Hr=ar;function Yr(t,e,n,r){var i=1-r;return Hr(e,n)<0&&(r=-r),t[0]=e[0]*i+n[0]*r,t[1]=e[1]*i+n[1]*r,t[2]=e[2]*i+n[2]*r,t[3]=e[3]*i+n[3]*r,t[4]=e[4]*i+n[4]*r,t[5]=e[5]*i+n[5]*r,t[6]=e[6]*i+n[6]*r,t[7]=e[7]*i+n[7]*r,t}function Xr(t,e){var n=Kr(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t}function qr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var Qr=ur,Zr=Qr,Kr=cr,Jr=Kr;function $r(t,e){var n=Kr(e);if(n>0){n=Math.sqrt(n);var r=e[0]/n,i=e[1]/n,o=e[2]/n,a=e[3]/n,s=e[4],u=e[5],l=e[6],c=e[7],h=r*s+i*u+o*l+a*c;t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=(s-r*h)/n,t[5]=(u-i*h)/n,t[6]=(l-o*h)/n,t[7]=(c-a*h)/n}return t}function ti(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function ei(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function ni(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],h=e[0],d=e[1],f=e[2],p=e[3],g=e[4],v=e[5],y=e[6],m=e[7];return Math.abs(n-h)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(r-d)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-f)<=c.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-p)<=c.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=c.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=c.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=c.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(l-m)<=c.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))}var ri=n("SEFl");n.d(e,"glMatrix",function(){return c}),n.d(e,"mat2",function(){return r}),n.d(e,"mat2d",function(){return i}),n.d(e,"mat3",function(){return o}),n.d(e,"mat4",function(){return a}),n.d(e,"quat",function(){return u}),n.d(e,"quat2",function(){return l}),n.d(e,"vec2",function(){return ri}),n.d(e,"vec3",function(){return Re}),n.d(e,"vec4",function(){return s})},ldJr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){return e.map(function(e){var n=t.inEdges(e);if(!(null===n||void 0===n?void 0:n.length))return{v:e};var r={sum:0,weight:0};return null===n||void 0===n||n.forEach(function(e){var n=t.edge(e),i=t.node(e.v);r.sum+=n.weight*i.order,r.weight+=n.weight}),{v:e,barycenter:r.sum/r.weight,weight:r.weight}})}},lljM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n("Jsh2"))&&r.__esModule?r:{default:r},o=n("lSAc");var a=function(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e3);var a=t.nodes,s=void 0===a?[]:a,u=t.edges,l=void 0===u?[]:u,c={},h={};s.forEach(function(t,e){var n=(0,o.uniqueId)();t.clusterId=n,c[n]={id:n,nodes:[t]},h[t.id]={node:t,idx:e}});var d=[],f={};(0,i.default)(t,e).forEach(function(t,e){var n=0,r=s[e].id;f[r]={},t.forEach(function(t,e){if(t){n+=t;var i=s[e].id;f[r][i]=t}}),d.push(n)});for(var p=0,g=function(){var t=!1;if(s.forEach(function(e){var n={};Object.keys(f[e.id]).forEach(function(t){var r=f[e.id][t],i=h[t].node.clusterId;n[i]||(n[i]=0),n[i]+=r});var r=-1/0,i=[];if(Object.keys(n).forEach(function(t){r<n[t]?(r=n[t],i=[t]):r===n[t]&&i.push(t)}),1!==i.length||i[0]!==e.clusterId){var o=i.indexOf(e.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){t=!0;var a=c[e.clusterId],s=a.nodes.indexOf(e);a.nodes.splice(s,1);var u=Math.floor(Math.random()*i.length),l=c[i[u]];l.nodes.push(e),e.clusterId=l.id}}}),!t)return"break";p++};p<r&&"break"!==g(););Object.keys(c).forEach(function(t){var e=c[t];e.nodes&&e.nodes.length||delete c[t]});var v=[],y={};l.forEach(function(t){var e=t.source,r=t.target,i=t[n]||1,o=h[e].node.clusterId,a=h[r].node.clusterId,s="".concat(o,"---").concat(a);if(y[s])y[s].weight+=i,y[s].count++;else{var u={source:o,target:a,weight:i,count:1};y[s]=u,v.push(u)}});var m=[];return Object.keys(c).forEach(function(t){m.push(c[t])}),{clusters:m,clusterEdges:v}};e.default=a},mFJn:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n("wbMc")),s=n("1we+"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(a.default),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(s.Graph),c=function(){return 1},h=function(t,e,n){for(var r,i=[],o=e[e.length-1],a=e[0];t.nodeCount();){for(;r=a.dequeue();)d(t,e,n,r);for(;r=o.dequeue();)d(t,e,n,r);if(t.nodeCount())for(var s=e.length-2;s>0;--s)if(r=e[s].dequeue()){i=i.concat(d(t,e,n,r,!0));break}}return i},d=function(t,e,n,r,i){var o,a,s=[];return null===(o=t.inEdges(r.v))||void 0===o||o.forEach(function(r){var o=t.edge(r),a=t.node(r.v);i&&s.push({v:r.v,w:r.w,in:0,out:0}),void 0===a.out&&(a.out=0),a.out-=o,p(e,n,a)}),null===(a=t.outEdges(r.v))||void 0===a||a.forEach(function(r){var i=t.edge(r),o=r.w,a=t.node(o);void 0===a.in&&(a.in=0),a.in-=i,p(e,n,a)}),t.removeNode(r.v),i?s:void 0},f=function(t,e){var n=new l,r=0,i=0;t.nodes().forEach(function(t){n.setNode(t,{v:t,in:0,out:0})}),t.edges().forEach(function(t){var o=n.edge(t)||0,a=(null===e||void 0===e?void 0:e(t))||1,s=o+a;n.setEdge(t.v,t.w,s),i=Math.max(i,n.node(t.v).out+=a),r=Math.max(r,n.node(t.w).in+=a)});for(var o=[],a=i+r+3,s=0;s<a;s++)o.push(new u);var c=r+1;return n.nodes().forEach(function(t){p(o,c,n.node(t))}),{buckets:o,zeroIdx:c,graph:n}},p=function(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)};e.default=function(t,e){var n;if(t.nodeCount()<=1)return[];var r=f(t,e||c);return null===(n=h(r.graph,r.buckets,r.zeroIdx).map(function(e){return t.outEdges(e.v,e.w)}))||void 0===n?void 0:n.flat()}},mbce:function(t,e,n){var r=n("+E39"),i=n("lktj"),o=n("TcQ7"),a=n("NpIQ").f;t.exports=function(t){return function(e){for(var n,s=o(e),u=i(s),l=u.length,c=0,h=[];l>c;)n=u[c++],r&&!a.call(s,n)||h.push(t?[n,s[n]]:s[n]);return h}}},mvHQ:function(t,e,n){t.exports={default:n("qkKv"),__esModule:!0}},mxuM:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&("get"in i?e.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n("sBfk"),e)},n8ER:function(t,e,n){var r=n("Oy1H").default;function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=i=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),s=new I(r||[]);return a(o,"_invoke",{value:function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return C()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=M(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,s)}),o}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var p={};function g(){}function v(){}function y(){}var m={};h(m,u,function(){return this});var b=Object.getPrototypeOf,x=b&&b(b(E([])));x&&x!==n&&o.call(x,u)&&(m=x);var A=y.prototype=g.prototype=Object.create(m);function w(t){["next","throw","return"].forEach(function(e){h(t,e,function(t){return this._invoke(e,t)})})}function _(t,e){var n;a(this,"_invoke",{value:function(i,a){function s(){return new e(function(n,s){!function n(i,a,s,u){var l=f(t[i],t,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==r(h)&&o.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):e.resolve(h).then(function(t){c.value=t,s(c)},function(t){return n("throw",t,s,u)})}u(l.arg)}(i,a,n,s)})}return n=n?n.then(s,s):s()}})}function M(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,M(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=f(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function E(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return v.prototype=y,a(A,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=h(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,h(t,c,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},w(_.prototype),h(_.prototype,l,function(){return this}),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},w(A),h(A,c,"Generator"),h(A,u,function(){return this}),h(A,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=E,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},nOum:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ComboCombinedLayout=void 0;var a=n("D9Z3"),s=n("w9t0"),u=n("ZE1E"),l=n("tN2E"),c=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.nodes=[],n.edges=[],n.combos=[],n.comboEdges=[],n.comboPadding=10,n.comboTrees=[],n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.execute=function(){var t=this.nodes,e=this.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=e[0],t[0].y=e[1],void(this.onLayoutEnd&&this.onLayoutEnd());this.initVals(),this.run(),this.onLayoutEnd&&this.onLayoutEnd()}else this.onLayoutEnd&&this.onLayoutEnd()},e.prototype.run=function(){var t,e=this.nodes,n=this.edges,r=this.combos,i=this.comboEdges,s=this.center,c={};e.forEach(function(t){c[t.id]=t});var h={};r.forEach(function(t){h[t.id]=t});var d=this.getInnerGraphs(c),f=[],p=[],g={},v=!0;this.comboTrees.forEach(function(t){var e=d[t.id],n=o(o({},t),{x:e.x||h[t.id].x,y:e.y||h[t.id].y,fx:e.fx||h[t.id].fx,fy:e.fy||h[t.id].fy,mass:e.mass||h[t.id].mass,size:e.size});p.push(n),isNaN(n.x)||0===n.x||isNaN(n.y)||0===n.y?(n.x=100*Math.random(),n.y=100*Math.random()):v=!1,f.push(t.id),(0,u.traverseTreeUp)(t,function(e){return e.id!==t.id&&(g[e.id]=t.id),!0})}),e.forEach(function(t){if(!t.comboId||!h[t.comboId]){var e=o({},t);p.push(e),isNaN(e.x)||0===e.x||isNaN(e.y)||0===e.y?(e.x=100*Math.random(),e.y=100*Math.random()):v=!1,f.push(t.id)}});var y=[];if(n.concat(i).forEach(function(t){var e=g[t.source]||t.source,n=g[t.target]||t.target;e!==n&&f.includes(e)&&f.includes(n)&&y.push({source:e,target:n})}),null===p||void 0===p?void 0:p.length){if(1===p.length)p[0].x=s[0],p[0].y=s[1];else{var m={nodes:p,edges:y},b=this.outerLayout||new l.GForceLayout({gravity:1,factor:4,linkDistance:function(t,e,n){var r,i,o=(((null===(r=e.size)||void 0===r?void 0:r[0])||30)+((null===(i=n.size)||void 0===i?void 0:i[0])||30))/2;return Math.min(1.5*o,700)}}),x=null===(t=b.getType)||void 0===t?void 0:t.call(b);if(b.updateCfg({center:s,kg:5,preventOverlap:!0,animate:!1}),v&&a.FORCE_LAYOUT_TYPE_MAP[x])(p.length<100?new l.MDSLayout:new l.GridLayout).layout(m);b.layout(m)}p.forEach(function(t){var e=d[t.id];if(e)e.visited=!0,e.x=t.x,e.y=t.y,e.nodes.forEach(function(e){e.x+=t.x,e.y+=t.y});else{var n=c[t.id];n&&(n.x=t.x,n.y=t.y)}})}for(var A=Object.keys(d),w=function(t){var e=A[t],n=d[e];if(!n)return"continue";n.nodes.forEach(function(t){n.visited||(t.x+=n.x||0,t.y+=n.y||0),c[t.id]&&(c[t.id].x=t.x,c[t.id].y=t.y)}),h[e]&&(h[e].x=n.x,h[e].y=n.y)},_=A.length-1;_>=0;_--)w(_);return{nodes:e,edges:n,combos:r,comboEdges:i}},e.prototype.getInnerGraphs=function(t){var e=this.comboTrees,n=this.nodeSize,r=this.edges,i=this.comboPadding,a=this.spacing,s={},c=this.innerLayout||new l.ConcentricLayout({sortBy:"id"});return c.center=[0,0],c.preventOverlap=!0,c.nodeSpacing=a,(e||[]).forEach(function(e){(0,u.traverseTreeUp)(e,function(e){var a,l=(null===i||void 0===i?void 0:i(e))||10;if((0,u.isArray)(l)&&(l=Math.max.apply(Math,l)),null===(a=e.children)||void 0===a?void 0:a.length){var h=e.children.map(function(e){if("combo"===e.itemType)return s[e.id];var n=t[e.id]||{};return o(o({},n),e)}),d=h.map(function(t){return t.id}),f={nodes:h,edges:r.filter(function(t){return d.includes(t.source)&&d.includes(t.target)})},p=1/0;h.forEach(function(t){var e;t.size||(t.size=(null===(e=s[t.id])||void 0===e?void 0:e.size)||(null===n||void 0===n?void 0:n(t))||[30,30]),(0,u.isNumber)(t.size)&&(t.size=[t.size,t.size]),p>t.size[0]&&(p=t.size[0]),p>t.size[1]&&(p=t.size[1])}),c.layout(f);var g=(0,u.getLayoutBBox)(h),v=g.minX,y=g.minY,m=g.maxX,b=g.maxY,x={x:(m+v)/2,y:(b+y)/2};f.nodes.forEach(function(t){t.x-=x.x,t.y-=x.y});var A=Math.max(m-v,b-y,p)+2*l;s[e.id]={id:e.id,nodes:h,size:[A,A]}}else if("combo"===e.itemType){var w=l?[2*l,2*l]:[30,30];s[e.id]={id:e.id,nodes:[],size:w}}return!0})}),s},e.prototype.initVals=function(){var t,e,n=this.nodeSize,r=this.spacing;if(e=(0,u.isNumber)(r)?function(){return r}:(0,u.isFunction)(r)?r:function(){return 0},this.spacing=e,n)if((0,u.isFunction)(n))t=function(t){var r=n(t),i=e(t);return(0,u.isArray)(t.size)?((t.size[0]>t.size[1]?t.size[0]:t.size[1])+i)/2:((r||10)+i)/2};else if((0,u.isArray)(n)){var i=(n[0]>n[1]?n[0]:n[1])/2;t=function(t){return i+e(t)/2}}else{var o=n/2;t=function(t){return o+e(t)/2}}else t=function(t){var n=e(t);return t.size?(0,u.isArray)(t.size)?((t.size[0]>t.size[1]?t.size[0]:t.size[1])+n)/2:(0,u.isObject)(t.size)?((t.size.width>t.size.height?t.size.width:t.size.height)+n)/2:(t.size+n)/2:10+n/2};this.nodeSize=t;var a,s=this.comboPadding;a=(0,u.isNumber)(s)?function(){return s}:(0,u.isArray)(s)?function(){return Math.max.apply(null,s)}:(0,u.isFunction)(s)?s:function(){return 0},this.comboPadding=a},e.prototype.getType=function(){return"comboCombined"},e}(s.Base);e.ComboCombinedLayout=c},ncSy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("IgWN"),i=function(){function t(t){this.arr=t}return t.prototype.getArr=function(){return this.arr||[]},t.prototype.add=function(e){var n,r=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(r);if(!(null===r||void 0===r?void 0:r.length))return new t(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]+r[o];return new t(i)}},t.prototype.subtract=function(e){var n,r=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(r);if(!(null===r||void 0===r?void 0:r.length))return new t(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]-r[o];return new t(i)}},t.prototype.avg=function(e){var n=[];if(0!==e)for(var r in this.arr)n[r]=this.arr[r]/e;return new t(n)},t.prototype.negate=function(){var e=[];for(var n in this.arr)e[n]=-this.arr[n];return new t(e)},t.prototype.squareEuclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-t.arr[i],2);return r}},t.prototype.euclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-t.arr[i],2);return Math.sqrt(r)}console.error("The two vectors are unequal in length.")},t.prototype.normalize=function(){var e=[],n=(0,r.clone)(this.arr);n.sort(function(t,e){return t-e});var i=n[n.length-1],o=n[0];for(var a in this.arr)e[a]=(this.arr[a]-o)/(i-o);return new t(e)},t.prototype.norm2=function(){var t;if(!(null===(t=this.arr)||void 0===t?void 0:t.length))return 0;var e=0;for(var n in this.arr)e+=Math.pow(this.arr[n],2);return Math.sqrt(e)},t.prototype.dot=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=this.arr[i]*t.arr[i];return r}console.error("The two vectors are unequal in length.")},t.prototype.equal=function(t){var e,n=t.arr;if((null===(e=this.arr)||void 0===e?void 0:e.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},t}();e.default=i},o2t7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};n.d(r,"Base",function(){return h}),n.d(r,"Circle",function(){return f}),n.d(r,"Dom",function(){return p}),n.d(r,"Ellipse",function(){return g}),n.d(r,"Image",function(){return v}),n.d(r,"Line",function(){return m}),n.d(r,"Marker",function(){return A}),n.d(r,"Path",function(){return w}),n.d(r,"Polygon",function(){return _}),n.d(r,"Polyline",function(){return M}),n.d(r,"Rect",function(){return S}),n.d(r,"Text",function(){return k});var i=n("TToO"),o=n("i6H2"),a=n("IpCj"),s=n("8ALn"),u=n("qNZ/"),l=n("85Et"),c=n("iaRc"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.draw(r,e)}},e.prototype.getShapeBase=function(){return r},e.prototype.getGroupBase=function(){return c.a},e.prototype.onCanvasChange=function(t){Object(u.b)(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=Object(o.getBBoxMethod)(this.get("type"));n&&(e=n(this))}if(e){var r=e.x,i=e.y,a=e.width,s=e.height,u=this.getHitLineWidth(),l=u/2,c=r-l,h=i-l;return{x:c,y:h,minX:c,minY:h,maxX:r+a+l,maxY:i+s+l,width:a+u,height:s+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},e.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||Object(s.a)(this),Object(a.a)(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},e.prototype.createPath=function(t,e){},e.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),r=n.fill,i=n.fillStyle,o=n.stroke,a=n.strokeStyle,s=n.fillOpacity,u=n.strokeOpacity,c=n.lineWidth,h=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",r):"fillStyle"in n&&this._setColor(t,"fill",i):this._setColor(t,"fill",r||i),s&&h.setAttribute(l.b.fillOpacity,s)),this.canStroke&&c>0&&(e?"stroke"in n?this._setColor(t,"stroke",o):"strokeStyle"in n&&this._setColor(t,"stroke",a):this._setColor(t,"stroke",o||a),u&&h.setAttribute(l.b.strokeOpacity,u),c&&h.setAttribute(l.b.lineWidth,c))},e.prototype._setColor=function(t,e,n){var r=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(i=t.find("gradient",n))||(i=t.addGradient(n)),r.setAttribute(l.b[e],"url(#"+i+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var i;(i=t.find("pattern",n))||(i=t.addPattern(n)),r.setAttribute(l.b[e],"url(#"+i+")")}else r.setAttribute(l.b[e],n);else r.setAttribute(l.b[e],"none")},e.prototype.shadow=function(t,e){var n=this.attr(),r=e||n,i=r.shadowOffsetX,o=r.shadowOffsetY,s=r.shadowBlur,u=r.shadowColor;(i||o||s||u)&&Object(a.b)(this,t)},e.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&Object(a.c)(this)},e.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},e.prototype.isPointInPath=function(t,e){var n=this.get("el"),r=this.get("canvas").get("el").getBoundingClientRect(),i=t+r.left,o=e+r.top,a=document.elementFromPoint(i,o);return!(!a||!a.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},e}(o.AbstractShape),d=n("IgWN"),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{x:0,y:0,r:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(d.each)(e||n,function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):l.b[e]&&r.setAttribute(l.b[e],t)})},e}(h),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return Object(i.__extends)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");if(Object(d.each)(e||n,function(t,e){l.b[e]&&r.setAttribute(l.b[e],t)}),"function"==typeof n.html){var i=n.html.call(this,n);if(i instanceof Element||i instanceof HTMLDocument){for(var o=r.childNodes,a=o.length-1;a>=0;a--)r.removeChild(o[a]);r.appendChild(i)}else r.innerHTML=i}else r.innerHTML=n.html},e}(h),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(d.each)(e||n,function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):l.b[e]&&r.setAttribute(l.b[e],t)})},e}(h),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");Object(d.each)(e||r,function(t,e){"img"===e?n._setImage(r.img):l.b[e]&&i.setAttribute(l.b[e],t)})},e.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},e.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if(Object(d.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&Object(d.isString)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var r=document.createElement("canvas");r.setAttribute("width",""+t.width),r.setAttribute("height",""+t.height),r.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",r.toDataURL())}},e}(h),y=n("6zlC"),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(d.each)(e||n,function(e,i){if("startArrow"===i||"endArrow"===i)if(e){var o=Object(d.isObject)(e)?t.addArrow(n,l.b[i]):t.getDefaultArrow(n,l.b[i]);r.setAttribute(l.b[i],"url(#"+o+")")}else r.removeAttribute(l.b[i]);else l.b[i]&&r.setAttribute(l.b[i],e)})},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return y.c.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return y.c.pointAt(n,r,i,o,t)},e}(h),b={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},triangleDown:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},x={get:function(t){return b[t]},register:function(t,e){b[t]=e},remove:function(t){delete b[t]},getAll:function(){return b}},A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return Object(i.__extends)(e,t),e.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return Object(d.isArray)(t)?t.map(function(t){return t.join(" ")}).join(""):t},e.prototype._getPath=function(){var t,e=this.attr(),n=e.x,r=e.y,i=e.r||e.radius,o=e.symbol||"circle";return(t=Object(d.isFunction)(o)?o:x.get(o))?t(n,r,i):(console.warn(t+" symbol is not exist."),null)},e.symbolsFactory=x,e}(h),w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");Object(d.each)(e||r,function(e,o){if("path"===o&&Object(d.isArray)(e))i.setAttribute("d",n._formatPath(e));else if("startArrow"===o||"endArrow"===o)if(e){var a=Object(d.isObject)(e)?t.addArrow(r,l.b[o]):t.getDefaultArrow(r,l.b[o]);i.setAttribute(l.b[o],"url(#"+a+")")}else i.removeAttribute(l.b[o]);else l.b[o]&&i.setAttribute(l.b[o],e)})},e.prototype._formatPath=function(t){var e=t.map(function(t){return t.join(" ")}).join("");return~e.indexOf("NaN")?"":e},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength();if(0===n)return null;var r=e?e.getPointAtLength(t*n):null;return r?{x:r.x,y:r.y}:null},e}(h),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return Object(i.__extends)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(d.each)(e||n,function(t,e){"points"===e&&Object(d.isArray)(t)&&t.length>=2?r.setAttribute("points",t.map(function(t){return t[0]+","+t[1]}).join(" ")):l.b[e]&&r.setAttribute(l.b[e],t)})},e}(h),M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(d.each)(e||n,function(t,e){"points"===e&&Object(d.isArray)(t)&&t.length>=2?r.setAttribute("points",t.map(function(t){return t[0]+","+t[1]}).join(" ")):l.b[e]&&r.setAttribute(l.b[e],t)})},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(d.isNil)(e)?(this.set("totalLength",y.d.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),Object(d.each)(i,function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}),y.c.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,o=[];Object(d.each)(t,function(a,s){t[s+1]&&((n=[])[0]=i/e,r=y.c.length(a[0],a[1],t[s+1][0],t[s+1][1]),i+=r,n[1]=i/e,o.push(n))}),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(h);var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el"),o=!1,a=["x","y","width","height","radius"];Object(d.each)(e||r,function(t,e){-1===a.indexOf(e)||o?-1===a.indexOf(e)&&l.b[e]&&i.setAttribute(l.b[e],t):(i.setAttribute("d",n._assembleRect(r)),o=!0)})},e.prototype._assembleRect=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.radius;if(!o)return"M "+e+","+n+" l "+r+",0 l 0,"+i+" l"+-r+" 0 z";var a=function(t){var e=0,n=0,r=0,i=0;return Object(d.isArray)(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}}(o);return Object(d.isArray)(o)?1===o.length?a.r1=a.r2=a.r3=a.r4=o[0]:2===o.length?(a.r1=a.r3=o[0],a.r2=a.r4=o[1]):3===o.length?(a.r1=o[0],a.r2=a.r4=o[1],a.r3=o[2]):(a.r1=o[0],a.r2=o[1],a.r3=o[2],a.r4=o[3]):a.r1=a.r2=a.r3=a.r4=o,[["M "+(e+a.r1)+","+n],["l "+(r-a.r1-a.r2)+",0"],["a "+a.r2+","+a.r2+",0,0,1,"+a.r2+","+a.r2],["l 0,"+(i-a.r2-a.r3)],["a "+a.r3+","+a.r3+",0,0,1,"+-a.r3+","+a.r3],["l "+(a.r3+a.r4-r)+",0"],["a "+a.r4+","+a.r4+",0,0,1,"+-a.r4+","+-a.r4],["l 0,"+(a.r4+a.r1-i)],["a "+a.r1+","+a.r1+",0,0,1,"+a.r1+","+-a.r1],["z"]].join(" ")},e}(h),O=n("f3pQ"),I={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},E={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},C={left:"left",start:"left",center:"middle",right:"end",end:"end"},k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return Object(i.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i.__assign)(Object(i.__assign)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");this._setFont(),Object(d.each)(e||r,function(t,e){"text"===e?n._setText(""+t):"matrix"===e&&t?Object(a.c)(n):l.b[e]&&i.setAttribute(l.b[e],t)}),i.setAttribute("paint-order","stroke"),i.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,r=e.textAlign,i=Object(O.a)();i&&"firefox"===i.name?t.setAttribute("dominant-baseline",E[n]||"alphabetic"):t.setAttribute("alignment-baseline",I[n]||"baseline"),t.setAttribute("text-anchor",C[r]||"left")},e.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),r=n.x,i=n.textBaseline,o=void 0===i?"bottom":i;if(t)if(~t.indexOf("\n")){var a=t.split("\n"),s=a.length-1,u="";Object(d.each)(a,function(t,e){0===e?"alphabetic"===o?u+='<tspan x="'+r+'" dy="'+-s+'em">'+t+"</tspan>":"top"===o?u+='<tspan x="'+r+'" dy="0.9em">'+t+"</tspan>":"middle"===o?u+='<tspan x="'+r+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>":"bottom"===o?u+='<tspan x="'+r+'" dy="-'+(s+.3)+'em">'+t+"</tspan>":"hanging"===o&&(u+='<tspan x="'+r+'" dy="'+(-(s-1)-.3)+'em">'+t+"</tspan>"):u+='<tspan x="'+r+'" dy="1em">'+t+"</tspan>"}),e.innerHTML=u}else e.innerHTML=t;else e.innerHTML=""},e}(h);n.d(e,"Base",function(){return h}),n.d(e,"Circle",function(){return f}),n.d(e,"Dom",function(){return p}),n.d(e,"Ellipse",function(){return g}),n.d(e,"Image",function(){return v}),n.d(e,"Line",function(){return m}),n.d(e,"Marker",function(){return A}),n.d(e,"Path",function(){return w}),n.d(e,"Polygon",function(){return _}),n.d(e,"Polyline",function(){return M}),n.d(e,"Rect",function(){return S}),n.d(e,"Text",function(){return k})},oEtn:function(t,e,n){"use strict";var r=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),s.apply(e,n)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();e.a=r},"oh/m":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAMAAAC8EZcfAAABmFBMVEUAAAANUvcYTvUNU/cMU/cNUPgOT/YLU/cMUvcQUvoLU/YKUfgRUPoLU/cKUvcMUfgNU/cMUPkKU/gJU/kLVfQKVfUMU/cMVPYMVPYLVPYJUvcLUvYKVfUKVfULVfQLVPQLU/YMU/YLVPQKVfQKVfULVPUKVPUKVPULVPXc5v0LVPULVPULVfTb5v7c4f/f5//c5v3d6f3b5v3b4/sLVfTE1vz////B0/3E1v3C1f3S4P3I2P2/0v3Y5P3M3P1PhfhShvjF1/1Ng/hLgfi70P290f1UiPhXivh5ovp8pPp/pvqCqPq5zv12n/pikvlznfm3zfxZi/iEqfpDfPdllPlfkPlbjfibufuwyPyqw/xumvlHf/ddjviTs/uhvftwnPlrmPmOsPo9ePeuxvyKrvqRsvstbfa1zPyyyvykv/xpl/k3c/aYt/tnlfmevPsxb/aIrPozcfZAevcqavazy/yowvw6dvesxfzK2v2mwfyGq/qVtfsLVPTa5v72+f/P3v3V4v2Mr/smaPYlZ/Xp8P62zPvu8/7g6f64heeyAAAANHRSTlMANwQ1MwcJKiYMIBcPMC0TIxEZG/HgPExTXR4d5X7PjUZB58Cxn5VxZpOmg9jPECDfP99ACiOvuQAAFelJREFUeNrsldFyqjAURdvCVW4ESyExgAKDQGHqfczn3Y/vyanWxKEWiHX6kPXky+as7OSMDxaLxWKxWCwWi+WO+MR/+KWQri2okNCiyTmZFA7SsikYFZTVkP2BM/p5LS5gLR8p19VU6NTprfWoGIK21bd2ORuMslsqVtqMy0HkysHS+koyvJVfLq7TktG96xye7uIHtOEMPTR8uosftjhdD+jMDbkYB+vUVEdHxpw/hoo+E2Nh1edS1eNDKzD88QvWn+JLOSVzWCxMDAkTU2A91DctQrcLkw5T/WNNmXDO++61pl+V+GV9/5oy73vIFkIj900MtY+9bgIXcJC03E2o6a1TsrwRCvWzgSERCl2AAx4/SZtxu1r0kNSyWs3e818wnCeYqP0FLkzQSQ57Mcj/c3nQuyaHvKkHX73MNlRPyo8zHAfrOM0cVFT1FDv4ATlJpT7bGAxnXnKtPBUXZ6BdAJxvrdxf1XOdk5yLfEQL5cskwmdouCPlUS9Yr9dLYA3IUaCYNMPX3HC0O+mBGWQgLZPK3exCWeE8QWUJerzcQNp5Xhh6AFiCo1TkAyXueld5FIFMQhTAZKf07M2vUOiC4Lf0QkKy7TbLCAFNdHTddGCd98mjqofngizkZLJS1xgrNBVM0Q/0tnG0kkRRnB0dc1zbS2i+2ZxeBdiBWxxHmIXkRpxZehkIwj+eWYPvnJjbbvIwEISVgA0BBwcIOZCfQ1SSVNDLPh4P/4/tRKyNW6m2xEXVOv6YHe9OOptBhuy4X0u5VUtKdVKzypb98/v59CF2hVEdsoMObFJOO6/kzzbBNY5J5QYcBb6dlCIxSwgcBcbuWwGCz0MYja5oQAc4YfZiY0UBF6ixSEIAD+QWz9LFcgWziIRzxhjnXDNm6LlaQe+6g0/jSQ2HndiLnaImtwlfvAkzYXwjR2kBwcdRC7005f6si4uPf92wSeMBjrNpJ08eZBKqb77GvAsA7EgYmatKSPHq+eqk5dmgGUis3G04Xxu4FuIxQzfu5HQEpNqEIcOEDeSkwjzG8nJ2mNhGzsMwvBEuwefklZgRd/cGUAQoyK70GqMQpBs4cdYgftRV/Xl2U2yauP6KW/rgeTjgjvp9AvTzKQXvZVXVdX1zCTc8dsrXk1+3MI/pM38HpFbJp37q5VOf/lr+QLhw1SFbv2YADFMQXn7QWWIr6L6u5J9Fqwmx+jdCu8YtrcwImAQoGFsm/DCXJPbz/asjAIJQryF3CJfWLemsERXuwZgn9KC5cYqfr4yiomixrnrVzmU+7wjhimaKyACG9UGW0Br32V4B+vlmAKSr+oWwpp08woxX7g4ELKnLUjUyFaBw+az3gVRn7fJnwoMV4+bhow6Agv4X43I0z9menV5cgO8VaBcqgqWpS3ifZkXtVDgNDwuMixOVcGNGSefyAY/mWYRS5MRN6bw592BwBXwYC47eCegzySqnEuoHPfz6QQkkF51JdZZ9J3zoiXeyYre2YFiXMTXeXiwJUeM3vvmoH+RrkAy2WMiJR4h4dao8gDA7WFcEFiQTIMSEWU59tJMnh6998a0aBBcVrBBJ17tGEToaVpx11s+TBbeB750wobxYT2yd+6v51OuAjrNyjLNAlGsPYV4skMmogFObDgSECf9zZgZNCQMxFBaQGW0dOqUtVmUER+ggetIbM/42+Om8JCxLH3shew/9eEletmn5UF8KNid/iXyqn/QQjhKmNGwaAJKAcYT6cpwveO1ijzC+kYgQ9QOetZcRZkRIxqMCigsi0AuIHENC3gul+Z67Boa8ziwQkXkFwrYX3m/h0MNmMt4c56EvCLJu720dYnzZ9uxGquE4EG4oOHqgtchbyLBbwulP+hvCqMd3uQ+6GwrhoxCiDtOL7rmqP5FYCOgGVAnb1AJwYf1x4itMv6AhnjeOGnYpwBfhO7/RIcAtYVlU62u+TudH0K+k7yly/zvVoXTKNrH7GmgF0hz2Sjipme/T5m/geyKETtxwGP3wPdkhOkWmJKDHaYpqw7+/jPND/aWhyxXe001EIxyw2XzPZlqBJKBTwiJ/XdH/x500zjcUOa+2dKRols2xl/0crD4Qr8uKm6bI39fvP84BZ7fbH/kos6XEwSgIP48XznJBAUECEQhZSCJhiQTIAgEFwiKjhqWs6MW89/T5f1MzNTrTcAV0nY8+pyOWcvn6z9vBYhPPIltTDct33cB1XctQVH0XjmPHWzwNkul0miRPx4W3cRwnjh1n43nH42CQJMngePQ28XgWnTRVsXzm933LULVTNIs3i8Htz3o+VzqkqSDQVJp+efH1H3hfLoAmpEBLU1E8SMVG6/F24DnjN1s13KU5ajflqizLzfbIXAe+otkRQW5ITnwez8Io2uEVheH4TJzABdzbSVcNf9nt9duyXK3C3x91l76h2W9nhyE2itLhIKZcAjAvvnzKd1kWCEw8QJKUb7QoPYZnBWZfrtSGnf0E2neG19V2rxtYYNxF4QwKw2h30jVIVTVNp49D9qGtKaAz+01m38MNe63SHHVdQz2FHLHVyOekUulAEsVUKF9+Roj8RLFUkvCWCsWrRut++oT4Il3x171mZbifrB622/l2+7B63ndqHBHLsk87yLbBpigGpCiqCkZIp8W6wJOvhx3Y4Yf9YTVh9qWl2tHZ8Z6m9zd1IOZykiSVwCkK5YuPfF/Lr+mhJOVyeBfzV/XWHV3fOaT8eu3KsPO82s7nP6D5lo9ACoFvKGDhMMTHBUKVhYn0gm6vDT7297h9vuWEZmC9Zzh9vKlf5YsYTZQ4ydeX758EyPgKBfAV84363XuAmuJ2R5gweWYD+ARkOKQQOCEQdZ0DgZFHSFJQq2BN60V+mZ39Qdivm721r+jRmEfYahBhrpARfozwkgKkHxSK7wEmFOBJMwKzXa3xCVkEmNDBIaEsrqVgn1yESJAZn4Lar9GtKhb8lx2Ach9nqO1msbdIcIaIkLaM+dhz+vrtA+CLgMcKDzAPwJvHKRpypoYs3wFpR0x0hZMORvAIGWGGyCC1LD8X5WX92P9lpyPumwH1hD1tHgmwiAhBgAhF4eUDYBmAEv0AgGjIzX3yZ0VqnT1N2PIBmMCqzCPkhDbpD0gFgOAzR81qBgg/Sva7ZSbV5G2c1YR2zPVPQP41AfINx+FOM3CCdERsBER4CJA9LCjCJQjZkyUTIWZ8tGC5cs3dK/iZyE4l6y3pCGeOd0xu7/gRUkD/SZACRoJXjV+EmWtvElEQhv8VUC8B6gWQLAiyVBAKaLG26VZMrC0Yq9Va/rbvO7PTOYvp7nwwGnvOeXbuM33++tO9hecD5kA+wTco3769F0CocNhJzMjGR0DlQ4DEPVGgEPp5AEouTOiEoY0r4FPApw9qsKIKDJIg0xhf4BOU95JtBfBlb6KE1KEDGh8dEAokoCTp93aB6n9CJ+xrsmaiYZQI4YOAdQNkElyjBNPCScww1DJANsob8AGwChXGg2Q8iw7+/ry7LkHuto8vNppglK+2/4yAIjzq1eTlEE54n2iOxQkLNFiviAuahTVLwwXxCJ8gmMg7CgGpwnjQei1sLtuRJEBW3xoUSEKKcVL96sHJuIlEAxvTCWljseHDgKLhsrigWbiLQkVA3i5ULvv7VRJ2n5b+l7sTBrDwEdBFMHkPAaUgezF5gURToEFa2LL0oVh4BguLGykcmWpVyD6E/5gcO1UWsRvw6c9CqqZQADLE5m5ji+NCQMvS52bhHs2kGmOzRGHfVKXMbksPymXjng9wOKgn7TbNATO18XpkiaZSFMXlssSwW3gi7yheozecUIY9eam6vC7lyK8e+fZ3TxKRAveIg6YLudoy4cMa9CQTxDAC0R6ZxJ3OYDDodOJJDxnuopQvtx3y7Z5URI0wdjT9bMOQl2YAn+20IjZLvI7hgJTSGSSnc0gyYIiel4rkRwPmDU+eykkSQmjjU7PxJZywEFDrHGNYOn2LYdzGzx2irmGk6HbRBMwRpK1SsTwSvglPztKTiRECsBezmKQNw7HZGP1WrgbZKKwPz6SMEFD5GuQbz9jtaZ1tIj6K5aBKQ7Ji82TEDocJnF9do40Hc28YpJjkaPBKNUgXvDQXhIUVkM/wFWmVZUR7nAG5frFMEOPxq9EOd5dfNp91OQfwYARCyZAQ6DZTTDCbQIUFPvhEZjl2Mhu6IK8in7QF4EPJ3Uh/P8rgndTeae5A3EYZxF/Wd7Od4EFOATQyASXRROKEF9bRoB/MA2SMBFlQq4EpUEakI8iq374LY2H4JiOHIeEGgUC+DUZSTn7NiCpUQHdCz4S5aUZjRDTIVstihIDhmLm4WX0KEH5WtZFw6ZdcnqKnBd/q6GaxuDmyIVltDMCBdjTecuVHcUWD+OIEabrvMcKuJRFA8k2Xy5ttoL8q8KTbc2kHhItZ1GpveBDnOCh3xcbmhBIllqrphPlpRgG92+eXasaCLZrtzc1yClmeB9k49m5bhX8NcvgT0Tw/jMsHAkrsvcxGyYmFMZ3wYUA1MQDPHNA0OIYiVgD8/v37tBwoiCMbB46PLoC89QhSzU+nDpjEQ/BJ7IVhbBqsX+UD+kRsgFo28dDmSAG3rsB0puRQSbHJsuufcCaAVCAAN2pit4wMJtMzDCZS7Pb29gqCxE1sgPthkOAhiDcJU90akO93KkroYf5WzuEgo6vdajJIPHsRcAUNrr0ao5IUmth9UAs7ncWdfe3qSTBTwsLU3+8/IiQEoHvhlQTxAsIYaWmaoQJdg8sAcA8mLopiH5gMEDepCjdMF56lt7V0ZKYC/6goYNvDPKIKV0eSB1uwMFyQPZwDrhTQEiE0WBDF6VYwTTNstjRTM+HiqdVX147O9J93Nfjxy9Cb67QCbfpt8HGcn/h3c3rf3dDUC9LM1/uJyQFxVbDneOs5BDECwKwPigarDjjuyopJizgrnd9qHaGkmWMDzNUgZ06txdIs8Cq7K0HRl93ah5LJCwliBQyiOAt4SkKIjsuDDqY9vVTamUgS9eEo3X+AsMDE2aFY78KIk7ZNQIyikQM+E0ASusiWc+KZiN1gV2Q8Tqc9XKnJgSuudHhPTVyu5Jq4rB2/Rok4IS/T2zils2cdH3gAAJCFhJnahfubyKtx3OGx8RgdtU3LCmhjE2uxa7Bez21YX2iU2Ngey/JCCLn+xmSRJEnT08zLN7IV8Ups+5eRB5Ic47kBRhJpp/VGq3Ta88v6oyjNeDsDG9MJRYVOiNksjjtx7In6RvYuYNwVr3UjPUbBVGd8ZuG0o17rckHSTCEg5va0Gne1ZeWFhtjrDYfDXz512EZjR4JS18IxnKM0GmpeV+CM7aCs0hWwoJvRMLbVDFWYdLihMkIgyuwe9NNRuqmxjjrdcDzyn8ApHqOwfhif9nDMgrAwY4SA5ZxSpyvqMpwQTT+nElWhZS0FwL2UVtBuNYilEI6x9B94nO49bPVhfDIWz5pQINM0+lUN4txEXbHBmNVOVNicBYTGCAkU9Alo0Cotr8uDYa83D1YOS/0AiinYxnZt4aDAwwvOxQzi/CDhCh1jEwhhY3phnw26EvJ24ulzByWXEdxSNgeQhH90ureBhgnGwisnSSeu0tAxLFUgk0zqgnuVHEDugJFoVIWYS5bojhDJMoURUYWv9cKtzOt5RxIkMiRlvgj/c0rLUuw48ewXfqgi4oGY6dTC5dxa7Dt0Zpo1jWyE3KjwIZPaeWbXdjhmiVF5Vc7sZ3QXRkoTBvVQ+GhghPD5mgq0QlcMSBX+ZSAjThYyhqF+phstioaDZBpHHE1lMl+d17MbrxMeBKSfZaqCR5ymfFNTICxsgFcFgNyxYr3ghGyRiIinVPDGTEFcrrfbrbXRLtevWD2Co+qwXIY0WxzC8FtnUSAtLDNT/hLdftNEI1+ujZBNEutUzBilsJ6sS8VCwj6ixo4iyGPQJdzyNDmDTcFnCiTgHoM4B9C8UONk9I9R82tpHIii+Kdym2B3Qahv8xCWhaQLVopKIkjxIaVbxT8LRr/2njMnN3dHbNLT2iL09P567kzSzmS7IuG9tttxpkcp6RcnRX0k4T12dGCNXk504vE7LH/g9HxJgONnkiyzJjvhNVcsgHjJ7yMQFvp+c1aEIwnXWNOSFV4a+b2XP2+UHxpsIxD5ZROA1IyEgYTscvl4Q0Rtz4ASC31Q3BWeH0l4gclN06WMxGN8kQ8DsGp5kBbg1PLbME/6DHfb21XJKw+uH7g0BUgKbHH36+H8+TjCO1h7L+Y6jPe8sKHcxPyqBvnFAG2Vf3QW+0wmYUXCDRF5VQJ3uqSfqHGNn6Crt0NMCfpzSas7kd7jnfG1XdBZTgFOttgJQ9E11dVyHxEfwbjm0huEp7/rGxa5K/MvQ/yo2pRwBQ+M0JpOGDds7479LazB2tGemCS8eYZdC0IhghGQ0sUFVkB0iczt7enb5/SeQlVdFSnh3o2gi3iIT+Ov5+MUmVrlj8osw/MQ2GaMRCCuNoTsVaIE6Vhltwsvb+9G8v7xpyi6ummqkBD+KFMnjcQzPgBa9YkxmFmTMVMWCxAiRKQIRkCCEsJzD7dklarBcazg1Tmn2QIK+FyhrtvF/4RnMruTRraXfApQxTNMkpFZ7IgkZJsD+swUl4Dc7oGJ99/vt4JDj5qWZQIKoZQUKYuimDvhKzw008nQ+bEYn/MJkAPsIOBZ5ojcdBIiS9WIsUKQO2Li7XEHXKUiIAmCmw8iI3KcGeH3HU3L6LaP1fFzwQY69pdo0thWmNFFwlwHRCAGImJYUeSiGsJ1ll0PN2M1uCgmmT+LT97B2cBYxO56fKapczHpjJOERCQjcwRl2zZtVK3onE5oLgWZkfCpqLtaLncqPfnAp1CmdjtJ5l0GIbysREQN/kGBUmetDF+cU3gaEM/evz3FdofPVhmjLVcm0y1WgKKLT/nJTCkKkiIVJTYPj2zWqgjpvR6sgXfzyujHP1WdPNV5gBQIrZTXsoe5w6lNKJQPdmN0p8udxOvRhh4fBWgGhAg55GcZnB3FTPRar6kxo89MPI6OQcob7FE6Igrxrj/PDkVy88ptPhIapXxukxFBGNvUdTN+KHJOPiSIqXIqSSB5h0PWnE5KL6LX6EYBSegxyKI7I7IJ6miEI5+XcC4loyATc+5W3CjvGS2jgB60R+FJxk66ThzOM/T/oizUnHZ32szwUm6amiQ+HFKjQ6MxeYpvjylsQmmj2ZJ2uS8mfnC/+PXlX/tmkMIgDETRXicLqS4K0uLCW7n5JEfvTME8hobSRUs2eUh0NCQ/M4FsvudJwnxUPKbzbO0iTWzZ9z3ChzgOc8DatufNJR87OhibiDDs6dAHCFHR0EeHqtQ9rFPDZOtHyV6rbNTkoaaWL6bo1RjtqrEmRMTlMdy6e4XxKcOikt1G/TU3v/6A6ctFDbt8khnRj0d3zDRPAqNVXuVuLv7OuJsfq3xUmOR/G3SmlE0JfZFrmqRNW0DceCdZQ+QNAejjMLzgQZrTchkMBoPB4Gc8AYwbuLtprdvNAAAAAElFTkSuQmCC"},on7W:function(t,e,n){"use strict";var r=n("NPXF"),i=Array.prototype.concat,o=Array.prototype.slice,a=t.exports=function(t){for(var e=[],n=0,a=t.length;n<a;n++){var s=t[n];r(s)?e=i.call(e,o.call(s)):e.push(s)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},pf7h:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("lVvd");function i(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromTranslation(i,n),r.mat3.multiply(t,i,e)}function o(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromRotation(i,n),r.mat3.multiply(t,i,e)}function a(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.mat3.fromScaling(i,n),r.mat3.multiply(t,i,e)}function s(t,e){return t[0]*e[1]-e[0]*t[1]}e.leftTranslate=i,e.leftRotate=o,e.leftScale=a,e.transform=function(t,e){for(var n,s,u,l=t?[].concat(t):[1,0,0,0,1,0,0,0,1],c=0,h=e.length;c<h;c++){var d=e[c];switch(d[0]){case"t":i(l,l,[d[1],d[2]]);break;case"s":a(l,l,[d[1],d[2]]);break;case"r":o(l,l,d[1]);break;case"m":n=l,s=l,u=d[1],r.mat3.multiply(n,u,s)}}return l},e.direction=s,e.angleTo=function(t,e,n){var i=r.vec2.angle(t,e),o=s(t,e)>=0;return n?o?2*Math.PI-i:i:o?i:2*Math.PI-i},e.vertical=function(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}},pwgQ:function(t,e,n){var r=n("ZFR3");t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},"qNZ/":function(t,e,n){"use strict";e.a=function(t,e){e.forEach(function(e){e.draw(t)})},e.b=function(t,e){var n=t.get("canvas");if(n&&n.get("autoDraw")){var o=n.get("context"),a=t.getParent(),s=a?a.getChildren():[n],u=t.get("el");if("remove"===e){var l=t.get("isClipShape");if(l){var c=u&&u.parentNode,h=c&&c.parentNode;c&&h&&h.removeChild(c)}else u&&u.parentNode&&u.parentNode.removeChild(u)}else if("show"===e)u.setAttribute("visibility","visible");else if("hide"===e)u.setAttribute("visibility","hidden");else if("zIndex"===e)Object(i.c)(u,s.indexOf(t));else if("sort"===e){var d=t.get("children");d&&d.length&&Object(i.d)(t,function(t,e){return d.indexOf(t)-d.indexOf(e)?1:0})}else"clear"===e?u&&(u.innerHTML=""):"matrix"===e?Object(r.c)(t):"clip"===e?Object(r.a)(t,o):"attr"===e||"add"===e&&t.draw(o)}};var r=n("IpCj"),i=n("8ALn")},qZxm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.disp=[],this.positions=t.positions,this.adjMatrix=t.adjMatrix,this.focusID=t.focusID,this.radii=t.radii,this.iterations=t.iterations||10,this.height=t.height||10,this.width=t.width||10,this.speed=t.speed||100,this.gravity=t.gravity||10,this.nodeSizeFunc=t.nodeSizeFunc,this.k=t.k||5,this.strictRadial=t.strictRadial,this.nodes=t.nodes}return t.prototype.layout=function(){var t=this.positions,e=[],n=this.iterations,r=this.width/10;this.maxDisplace=r,this.disp=e;for(var i=0;i<n;i++)t.forEach(function(t,n){e[n]={x:0,y:0}}),this.getRepulsion(),this.updatePositions();return t},t.prototype.getRepulsion=function(){var t=this,e=t.positions,n=t.nodes,r=t.disp,i=t.k,o=t.radii||[];e.forEach(function(a,s){r[s]={x:0,y:0},e.forEach(function(e,u){if(s!==u&&o[s]===o[u]){var l=a[0]-e[0],c=a[1]-e[1],h=Math.sqrt(l*l+c*c);if(0===h){h=1;var d=s>u?1:-1;l=.01*d,c=.01*d}if(h<t.nodeSizeFunc(n[s])/2+t.nodeSizeFunc(n[u])/2){var f=i*i/h;r[s].x+=l/h*f,r[s].y+=c/h*f}}})})},t.prototype.updatePositions=function(){var t=this.positions,e=this.disp,n=this.speed,r=this.strictRadial,i=this.focusID,o=this.maxDisplace||this.width/10;r&&e.forEach(function(e,n){var r=t[n][0]-t[i][0],o=t[n][1]-t[i][1],a=Math.sqrt(r*r+o*o),s=o/a,u=-r/a,l=Math.sqrt(e.x*e.x+e.y*e.y),c=Math.acos((s*e.x+u*e.y)/l);c>Math.PI/2&&(c-=Math.PI/2,s*=-1,u*=-1);var h=Math.cos(c)*l;e.x=s*h,e.y=u*h});var a=this.radii;t.forEach(function(s,u){if(u!==i){var l=Math.sqrt(e[u].x*e[u].x+e[u].y*e[u].y);if(l>0&&u!==i){var c=Math.min(o*(n/800),l);if(s[0]+=e[u].x/l*c,s[1]+=e[u].y/l*c,r){var h=s[0]-t[i][0],d=s[1]-t[i][1],f=Math.sqrt(h*h+d*d);h=h/f*a[u],d=d/f*a[u],s[0]=t[i][0]+h,s[1]=t[i][1]+d}}}})},t}();e.default=r},qkKv:function(t,e,n){var r=n("FeBl"),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},"qo+b":function(t,e,n){"use strict";var r=n("pFYg"),i=n.n(r),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"main",staticClass:"center",staticStyle:{width:"100%",height:"100%"}})])},staticRenderFns:[]};var a=n("VU/8")(null,o,!1,function(t){n("8pzD")},"data-v-91783d76",null).exports,s=n("XLwt"),u={name:"scatter",props:{inputData:{type:Array,default:[[4,1],[3,-4]]},refreshWidth:{type:String,default:"200px"},refresh_Width:{type:Boolean,default:!0}},data:function(){return{option:{},myChart:null,color:["#37A2DA","#e06343"],type:["正常样本","对抗样本"]}},mounted:function(){this.$nextTick(function(){this.myChart=s.b(this.$refs.main),this.refreshData()})},methods:{refreshData:function(){this.myChart.resize({width:this.refreshWidth,height:this.$refs.main.clientHeight});var t=[];for(var e in this.inputData)t.push({name:this.type[e],type:"scatter",data:this.inputData[e],symbolSize:2,itemStyle:{color:this.color[e],opacity:.8}});this.option={legend:{top:10,data:this.type},grid:{x:"18%"},xAxis:{},yAxis:{nameTextStyle:{fontSize:6}},series:t},this.myChart.setOption(this.option)}},watch:{inputData:function(t,e){this.$nextTick(function(){this.refreshData()})}}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"main",staticStyle:{width:"100%",height:"100%"}})])},staticRenderFns:[]},c=n("VU/8")(u,l,!1,null,null,null).exports,h=n("siuG"),d=n.n(h),f={name:"bar",props:{inputData:{type:Array,default:[[8.3,8.6,8.8,10.5,10.7,10.8,18,18,20.6],[1,2,3,4,5,6,7,8,9,10]]},refreshWidth:{type:String,default:"200px"},refresh_Width:{type:Boolean,default:!0}},data:function(){return{option:{},myChart:null,color:["#37A2DA","#e06343"],type:["正常样本","对抗样本"]}},mounted:function(){this.$nextTick(function(){this.myChart=s.b(this.$refs.main),this.refreshData()})},methods:{refreshData:function(){this.myChart.resize({width:this.refreshWidth,height:this.$refs.main.clientHeight});var t=[],e=[],n=-1/0;for(var r in console.log(this.inputData),this.inputData){e.push(this.type[r]);var i=this.inputData[r],o=1/0,a=-1/0;i=d.a.histogram(i,"sturges"),console.log(i);var u=s.c.map(i.data,function(t,e){var r=i.bins[e].x0,s=i.bins[e].x1;return o=Math.min(o,r),a=Math.max(a,s),n=Math.max(t[1],n),[r,s,t[1]]});t.push({name:this.type[r],type:"custom",data:u,renderItem:function(t,e){var n=e.value(2),r=e.coord([e.value(0),n]),i=e.size([e.value(1)-e.value(0),n]);return{type:"rect",shape:{x:r[0]+1,y:r[1],width:i[0]-2,height:i[1]},style:{fill:e.visual("color"),opacity:1}}},itemStyle:{color:this.color[r]}})}this.option={legend:{top:10,data:e},grid:{x:"18%"},xAxis:{type:"value"},yAxis:{min:0,max:function(){var t=Math.pow(10,n.toString().length-1);return Math.ceil(n/t+1)*t}},series:t},this.myChart.clear(),this.myChart.setOption(this.option)}},watch:{inputData:function(t,e){this.$nextTick(function(){this.refreshData()})}}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"main",staticStyle:{width:"100%",height:"100%"}})])},staticRenderFns:[]},g=n("VU/8")(f,p,!1,null,null,null).exports,v=n("dxiS"),y=n.n(v),m={props:{tableId:{type:String,default:Math.random().toString()},header:{type:Boolean,default:!0},headerRow:{type:Boolean,default:!0},headerColumn:{type:Boolean,default:!0},content:{type:Array,default:function(){return[["0","1","2","3","4"],["M1",[n("dLd/"),"pic"],[n("dLd/"),"pic"],[n("dLd/"),"pic"],[n("dLd/"),"pic"]],["M2",[n("dLd/"),"pic"],[n("dLd/"),"pic"],[n("dLd/"),"pic"],[n("dLd/"),"pic"]],["M3",[n("dLd/"),"pic"],[n("dLd/"),"pic"],[n("dLd/"),"pic"],[n("dLd/"),"pic"]]]}},singleOutput:{type:Boolean,default:!1},selectedAble:{type:Boolean,default:!0},haveBorder:{type:Boolean,default:!0},cellWidth:{type:Array,default:function(){return[.12,.22,.22,.22,.22]}},cellHeight:{type:String,default:"120px"},selectedPicutre:{type:Array,default:function(){return[]}}},components:{LinearChart:a,ScatterChart:c,HistogramChart:g},data:function(){return{errorImg:y.a,chartRefresh:"190px",selectPicList:[],colWidth:[]}},mounted:function(){if(!this.haveBorder)for(var t=0;t<this.content.length;t++)for(var e=this.content[t],n=0;n<e.length;n++){var r=document.getElementById(this.tableId+"_border_"+t+"_"+n);r.style.border="0px";var i=r.style.height;r.style.width="210px","70px"!=i&&(r.style.height="210px")}for(var t in console.log(this.content),this.content)if(!this.header||0!=t)for(var n in this.content[t])this.header&&0==n||this.content[t][n][1].includes("Chart")&&(this.chartRefresh=this.pixModify(this.cellHeight,-30))},methods:{downloadData:function(t){if(confirm("您确认下载生成测试样本？")){var e=new FormData,n=t;e.append("file",n),e.append("type","dictionary");var r=e;this.$axios.post("/Task/DownloadData",r,{headers:{"Content-Type":"multipart/form-data"},responseType:"blob"}).then(function(t){console.log(t);var e=new Blob([t.data],{type:"application/octet-stream"});if("download"in document.createElement("a")){var n=document.createElement("a");n.style.display="none",n.href=window.URL.createObjectURL(e),n.download="download",n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)}else navigator.msSaveBlob(e,"download")}).catch(function(t){console.log(t)})}},noExistImg:function(t){t.target.src=this.errorImg},pixModify:function(t,e){var n="0px";return(void 0===t?"undefined":i()(t))==i()("")&&(void 0===e?"undefined":i()(e))==i()(0)&&(n=parseInt(t.replace("px",""))+e+"px"),n},pictureClick:function(t){this.singleOutput&&this.selectedPicutre&&1==this.selectedPicutre.length?t!=this.selectedPicutre[0]&&(document.getElementById(this.selectedPicutre[0]).classList.remove("selected"),this.selectedPicutre[0]=t):this.selectedPicutre&&!this.selectedPicutre.includes(t)&&this.selectedPicutre.push(t);if(this.selectedPicutre)for(var e=0;e<this.selectedPicutre.length;e++){var n=this.selectedPicutre[e],r=document.getElementById(n);n==t&&r.classList.contains("selected")&&this.selectedAble?(r.classList.remove("selected"),this.selectedPicutre.splice(this.selectedPicutre.findIndex(function(e){return e==t}),1)):!r.classList.contains("selected")&&this.selectedAble&&r.classList.add("selected")}if(this.selectedPicutre&&0!=this.selectedPicutre.length){var i=[];for(var e in this.selectedPicutre){var o=this.selectedPicutre[e].split("_");i.push([parseInt(o[1]),parseInt(o[2])])}this.$emit("pictureSelect",i)}}},watch:{content:{handler:function(){var t=parseInt(document.getElementById(this.tableId).style.width.replace("px",""));for(var e in this.cellWidth)this.colWidth.push(this.cellWidth[e]*t-2+"px"),this.content.length>=1&&(this.content[1][e]&&2==this.content[1][e].length&&"pic"==this.content[1][e][1]&&this.$emit("changeCellHeight",this.colWidth[e]),this.content[1][e]&&2==this.content[1][e].length&&"picWithText"==this.content[1][e][1]&&this.$emit("changeCellHeight",this.colWidth[e]))}}}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:t.tableId}},[n("a-row",t._l(t.content,function(e,r){return n("a-col",{key:r},[n("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[t._l(e,function(i,o){return[t.headerRow&&t.header&&0==r?n("div",{staticClass:"border-box",staticStyle:{height:"70px"},style:{width:t.colWidth[o],"border-right":t.haveBorder&&o==e.length-1?"1px solid #d1d3d7":""},attrs:{id:t.tableId+"_border_"+r+"_"+o}},["string"==typeof i?n("div",{staticClass:"header center-horizen",staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[t._v("\n                            "+t._s(i)+"\n                        ")]):n("div",{staticClass:"header center-horizen",staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[t._v(t._s(i[0])+"\n                            "),n("a-popover",{attrs:{trigger:"click"}},[n("template",{slot:"content"},[n("p",[t._v(t._s(i[1]))])]),t._v(" "),n("a-icon",{attrs:{type:"question-circle"}})],2)],1)]):t._e(),t._v(" "),t.header&&0==r?t._e():n("div",{staticClass:"border-box",style:{width:t.colWidth[o],height:t.cellHeight,"border-right":t.haveBorder&&o==e.length-1?"1px solid #d1d3d7":"","border-bottom":t.haveBorder&&r==t.content.length-1?"1px solid #d1d3d7":""},attrs:{id:t.tableId+"_border_"+r+"_"+o}},[t.header&&t.headerColumn&&0==o?[n("div",{staticClass:"text-cotent center-horizen",staticStyle:{display:"flex","justify-content":"center","align-items":"center",width:"150px"},style:{height:t.cellHeight}},[n("p",{staticClass:"wrap"},[t._v(t._s(i))])])]:t._e(),t._v(" "),t.header&&0==o&&t.headerColumn?t._e():["text"==i[1]?n("div",{staticClass:"text-content center-horizen",staticStyle:{display:"flex","justify-content":"center","align-items":"center"},style:{width:t.pixModify(t.colWidth[o],-10),height:t.cellHeight}},[n("p",[t._v(t._s(i[0]))])]):t._e(),t._v(" "),"download"==i[1]?n("div",{staticClass:"text-content center-horizen",staticStyle:{display:"flex","justify-content":"center","align-items":"center"},style:{width:t.pixModify(t.colWidth[o],-10),height:t.cellHeight}},[n("button",{on:{click:function(e){return t.downloadData(i[0])}}},[n("a-icon",{attrs:{type:"download"}}),t._v("下载")],1)]):t._e(),t._v(" "),"pic"==i[1]?n("img",{staticClass:"picture",staticStyle:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"relative"},style:{width:t.pixModify(t.cellHeight,-30),height:t.pixModify(t.cellHeight,-30)},attrs:{id:t.tableId+"_"+r+"_"+o,src:i[0]},on:{error:t.noExistImg,click:function(e){return t.pictureClick(t.tableId+"_"+r+"_"+o)}}}):t._e(),t._v(" "),"picWithText"==i[1]?n("div",{staticStyle:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"relative","text-align":"center"}},["picWithText"==i[1]?n("img",{staticClass:"picture",style:{width:t.pixModify(t.cellHeight,-30),height:t.pixModify(t.cellHeight,-30)},attrs:{id:t.tableId+"_"+r+"_"+o,src:i[0][0]},on:{error:t.noExistImg,click:function(e){return t.pictureClick(t.tableId+"_"+r+"_"+o)}}}):t._e(),t._v(" "),"picWithText"==i[1]?n("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(i[0][1]))]):t._e()]):t._e(),t._v(" "),"lineChart"==i[1]?n("LinearChart",{staticClass:"chart-content",staticStyle:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"relative"},style:{width:t.pixModify(t.cellHeight,-30),height:t.pixModify(t.cellHeight,-30)},attrs:{id:t.tableId+"_"+r+"_"+o,refreshWidth:t.chartRefresh},on:{"update:refreshWidth":function(e){t.chartRefresh=e},"update:refresh-width":function(e){t.chartRefresh=e}}}):t._e(),t._v(" "),"scatterChart"==i[1]?n("ScatterChart",{staticClass:"chart-content",staticStyle:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"relative"},style:{width:t.pixModify(t.cellHeight,-30),height:t.pixModify(t.cellHeight,-30)},attrs:{inputData:i[0],id:t.tableId+"_"+r+"_"+o,refreshWidth:t.chartRefresh},on:{"update:refreshWidth":function(e){t.chartRefresh=e},"update:refresh-width":function(e){t.chartRefresh=e}}}):t._e(),t._v(" "),"HistogramChart"==i[1]?n("HistogramChart",{staticClass:"chart-content",staticStyle:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"relative"},style:{width:t.pixModify(t.cellHeight,-30),height:t.pixModify(t.cellHeight,-30)},attrs:{inputData:i[0],id:t.tableId+"_"+r+"_"+o,refreshWidth:t.chartRefresh},on:{"update:refreshWidth":function(e){t.chartRefresh=e},"update:refresh-width":function(e){t.chartRefresh=e}}}):t._e()]],2)]})],2)])}),1)],1)},staticRenderFns:[]};var x=n("VU/8")(m,b,!1,function(t){n("ruum")},"data-v-c54111d8",null);e.a=x.exports},rRkU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){n.d(e,"BRIDGE_GRAPH_NAME",function(){return s}),n.d(e,"GraphType",function(){return c}),n.d(e,"HierarchyNodeType",function(){return h}),n.d(e,"InclusionType",function(){return l}),n.d(e,"LAYOUT_CONFIG",function(){return r}),n.d(e,"NodeType",function(){return u}),n.d(e,"ROOT_NAME",function(){return a}),n.d(e,"buildGraph",function(){return oa}),n.d(e,"flatGraph",function(){return aa}),n.d(e,"getEdges",function(){return sa}),n.d(e,"mergeConfig",function(){return i});const r={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function i(t={},e=r){var n,i,o,a;const s=JSON.parse(JSON.stringify(e)),u=(null===(n=null==t?void 0:t.graph)||void 0===n?void 0:n.meta)||{},l=(null===(i=null==t?void 0:t.subScene)||void 0===i?void 0:i.meta)||{},c=(null===(o=null==t?void 0:t.nodeSize)||void 0===o?void 0:o.meta)||{},h=(null===(a=null==t?void 0:t.nodeSize)||void 0===a?void 0:a.node)||{},d=s.nodeSize.bridge;return{graph:{meta:Object.assign(s.graph.meta,u)},subScene:{meta:Object.assign(s.subScene.meta,l)},nodeSize:{meta:Object.assign(s.nodeSize.meta,c),node:Object.assign(s.nodeSize.node,h),bridge:d}}}function o(t){return`◬${t}◬`}const a=o("ROOT"),s=o("BRIDGE_GRAPH");var u,l,c,h;!function(t){t[t.META=0]="META",t[t.NODE=1]="NODE",t[t.BRIDGE=2]="BRIDGE"}(u||(u={})),function(t){t[t.INCLUDE=0]="INCLUDE",t[t.EXCLUDE=1]="EXCLUDE",t[t.UNSPECIFIED=2]="UNSPECIFIED"}(l||(l={})),function(t){t[t.META=0]="META",t[t.CORE=1]="CORE",t[t.BRIDGE=2]="BRIDGE"}(c||(c={})),function(t){t[t.META=0]="META",t[t.OP=1]="OP",t[t.SERIES=2]="SERIES"}(h||(h={}));var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function f(t,e){return t(e={exports:{}},e.exports),e.exports}var p=function(t,e){return t===e||t!=t&&e!=e},g=function(t,e){for(var n=t.length;n--;)if(p(t[n][0],e))return n;return-1},v=Array.prototype.splice;function y(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}y.prototype.clear=function(){this.__data__=[],this.size=0},y.prototype.delete=function(t){var e=this.__data__,n=g(e,t);return!(n<0||(n==e.length-1?e.pop():v.call(e,n,1),--this.size,0))},y.prototype.get=function(t){var e=this.__data__,n=g(e,t);return n<0?void 0:e[n][1]},y.prototype.has=function(t){return g(this.__data__,t)>-1},y.prototype.set=function(t,e){var n=this.__data__,r=g(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var m,b=y,x="object"==typeof d&&d&&d.Object===Object&&d,A="object"==typeof self&&self&&self.Object===Object&&self,w=x||A||Function("return this")(),_=w.Symbol,M=Object.prototype,S=M.hasOwnProperty,O=M.toString,I=_?_.toStringTag:void 0,E=Object.prototype.toString,C=_?_.toStringTag:void 0,k=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":C&&C in Object(t)?function(t){var e=S.call(t,I),n=t[I];try{t[I]=void 0;var r=!0}catch(t){}var i=O.call(t);return r&&(e?t[I]=n:delete t[I]),i}(t):function(t){return E.call(t)}(t)},T=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},D=function(t){if(!T(t))return!1;var e=k(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},j=w["__core-js_shared__"],L=(m=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",P=Function.prototype.toString,N=function(t){if(null!=t){try{return P.call(t)}catch(t){}try{return t+""}catch(t){}}return""},R=/^\[object .+?Constructor\]$/,B=Function.prototype,z=Object.prototype,F=B.toString,G=z.hasOwnProperty,V=RegExp("^"+F.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=function(t){return!(!T(t)||function(t){return!!L&&L in t}(t))&&(D(t)?V:R).test(N(t))},W=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return U(n)?n:void 0},H=W(w,"Map"),Y=W(Object,"create"),X=Object.prototype.hasOwnProperty,q=Object.prototype.hasOwnProperty;function Q(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Q.prototype.clear=function(){this.__data__=Y?Y(null):{},this.size=0},Q.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Q.prototype.get=function(t){var e=this.__data__;if(Y){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return X.call(e,t)?e[t]:void 0},Q.prototype.has=function(t){var e=this.__data__;return Y?void 0!==e[t]:q.call(e,t)},Q.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Y&&void 0===e?"__lodash_hash_undefined__":e,this};var Z=Q,K=function(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map};function J(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}J.prototype.clear=function(){this.size=0,this.__data__={hash:new Z,map:new(H||b),string:new Z}},J.prototype.delete=function(t){var e=K(this,t).delete(t);return this.size-=e?1:0,e},J.prototype.get=function(t){return K(this,t).get(t)},J.prototype.has=function(t){return K(this,t).has(t)},J.prototype.set=function(t,e){var n=K(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var $=J;function tt(t){var e=this.__data__=new b(t);this.size=e.size}tt.prototype.clear=function(){this.__data__=new b,this.size=0},tt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},tt.prototype.get=function(t){return this.__data__.get(t)},tt.prototype.has=function(t){return this.__data__.has(t)},tt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof b){var r=n.__data__;if(!H||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new $(r)}return n.set(t,e),this.size=n.size,this};var et=tt,nt=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},rt=function(){try{var t=W(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),it=function(t,e,n){"__proto__"==e&&rt?rt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},ot=Object.prototype.hasOwnProperty,at=function(t,e,n){var r=t[e];ot.call(t,e)&&p(r,n)&&(void 0!==n||e in t)||it(t,e,n)},st=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),i?it(n,s,u):at(n,s,u)}return n},ut=function(t){return null!=t&&"object"==typeof t},lt=function(t){return ut(t)&&"[object Arguments]"==k(t)},ct=Object.prototype,ht=ct.hasOwnProperty,dt=ct.propertyIsEnumerable,ft=lt(function(){return arguments}())?lt:function(t){return ut(t)&&ht.call(t,"callee")&&!dt.call(t,"callee")},pt=Array.isArray,gt=function(){return!1},vt=f(function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n?w.Buffer:void 0,o=(i?i.isBuffer:void 0)||gt;t.exports=o}),yt=/^(?:0|[1-9]\d*)$/,mt=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&yt.test(t))&&t>-1&&t%1==0&&t<e},bt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},xt={};xt["[object Float32Array]"]=xt["[object Float64Array]"]=xt["[object Int8Array]"]=xt["[object Int16Array]"]=xt["[object Int32Array]"]=xt["[object Uint8Array]"]=xt["[object Uint8ClampedArray]"]=xt["[object Uint16Array]"]=xt["[object Uint32Array]"]=!0,xt["[object Arguments]"]=xt["[object Array]"]=xt["[object ArrayBuffer]"]=xt["[object Boolean]"]=xt["[object DataView]"]=xt["[object Date]"]=xt["[object Error]"]=xt["[object Function]"]=xt["[object Map]"]=xt["[object Number]"]=xt["[object Object]"]=xt["[object RegExp]"]=xt["[object Set]"]=xt["[object String]"]=xt["[object WeakMap]"]=!1;var At=function(t){return function(e){return t(e)}},wt=f(function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n&&x.process,o=function(){try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=o}),_t=wt&&wt.isTypedArray,Mt=_t?At(_t):function(t){return ut(t)&&bt(t.length)&&!!xt[k(t)]},St=Object.prototype.hasOwnProperty,Ot=function(t,e){var n=pt(t),r=!n&&ft(t),i=!n&&!r&&vt(t),o=!n&&!r&&!i&&Mt(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=s.length;for(var l in t)!e&&!St.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||mt(l,u))||s.push(l);return s},It=Object.prototype,Et=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||It)},Ct=function(t,e){return function(n){return t(e(n))}},kt=Ct(Object.keys,Object),Tt=Object.prototype.hasOwnProperty,Dt=function(t){if(!Et(t))return kt(t);var e=[];for(var n in Object(t))Tt.call(t,n)&&"constructor"!=n&&e.push(n);return e},jt=function(t){return null!=t&&bt(t.length)&&!D(t)},Lt=function(t){return jt(t)?Ot(t):Dt(t)},Pt=Object.prototype.hasOwnProperty,Nt=function(t){if(!T(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Et(t),n=[];for(var r in t)("constructor"!=r||!e&&Pt.call(t,r))&&n.push(r);return n},Rt=function(t){return jt(t)?Ot(t,!0):Nt(t)},Bt=f(function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n?w.Buffer:void 0,o=i?i.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=o?o(n):new t.constructor(n);return t.copy(r),r}}),zt=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Ft=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o},Gt=function(){return[]},Vt=Object.prototype.propertyIsEnumerable,Ut=Object.getOwnPropertySymbols,Wt=Ut?function(t){return null==t?[]:(t=Object(t),Ft(Ut(t),function(e){return Vt.call(t,e)}))}:Gt,Ht=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},Yt=Ct(Object.getPrototypeOf,Object),Xt=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Ht(e,Wt(t)),t=Yt(t);return e}:Gt,qt=function(t,e,n){var r=e(t);return pt(t)?r:Ht(r,n(t))},Qt=function(t){return qt(t,Lt,Wt)},Zt=W(w,"DataView"),Kt=W(w,"Promise"),Jt=W(w,"Set"),$t=W(w,"WeakMap"),te=N(Zt),ee=N(H),ne=N(Kt),re=N(Jt),ie=N($t),oe=k;(Zt&&"[object DataView]"!=oe(new Zt(new ArrayBuffer(1)))||H&&"[object Map]"!=oe(new H)||Kt&&"[object Promise]"!=oe(Kt.resolve())||Jt&&"[object Set]"!=oe(new Jt)||$t&&"[object WeakMap]"!=oe(new $t))&&(oe=function(t){var e=k(t),n="[object Object]"==e?t.constructor:void 0,r=n?N(n):"";if(r)switch(r){case te:return"[object DataView]";case ee:return"[object Map]";case ne:return"[object Promise]";case re:return"[object Set]";case ie:return"[object WeakMap]"}return e});var ae=oe,se=Object.prototype.hasOwnProperty,ue=w.Uint8Array,le=function(t){var e=new t.constructor(t.byteLength);return new ue(e).set(new ue(t)),e},ce=/\w*$/,he=_?_.prototype:void 0,de=he?he.valueOf:void 0,fe=function(t,e){var n=e?le(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},pe=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return le(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return function(t,e){var n=e?le(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return fe(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,ce.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Set]":return new r;case"[object Symbol]":return function(t){return de?Object(de.call(t)):{}}(t)}},ge=Object.create,ve=function(){function t(){}return function(e){if(!T(e))return{};if(ge)return ge(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),ye=function(t){return"function"!=typeof t.constructor||Et(t)?{}:ve(Yt(t))},me=wt&&wt.isMap,be=me?At(me):function(t){return ut(t)&&"[object Map]"==ae(t)},xe=wt&&wt.isSet,Ae=xe?At(xe):function(t){return ut(t)&&"[object Set]"==ae(t)},we={};we["[object Arguments]"]=we["[object Array]"]=we["[object ArrayBuffer]"]=we["[object DataView]"]=we["[object Boolean]"]=we["[object Date]"]=we["[object Float32Array]"]=we["[object Float64Array]"]=we["[object Int8Array]"]=we["[object Int16Array]"]=we["[object Int32Array]"]=we["[object Map]"]=we["[object Number]"]=we["[object Object]"]=we["[object RegExp]"]=we["[object Set]"]=we["[object String]"]=we["[object Symbol]"]=we["[object Uint8Array]"]=we["[object Uint8ClampedArray]"]=we["[object Uint16Array]"]=we["[object Uint32Array]"]=!0,we["[object Error]"]=we["[object Function]"]=we["[object WeakMap]"]=!1;var _e=function t(e,n,r,i,o,a){var s,u=1&n,l=2&n,c=4&n;if(r&&(s=o?r(e,i,o,a):r(e)),void 0!==s)return s;if(!T(e))return e;var h=pt(e);if(h){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&se.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!u)return zt(e,s)}else{var d=ae(e),f="[object Function]"==d||"[object GeneratorFunction]"==d;if(vt(e))return Bt(e,u);if("[object Object]"==d||"[object Arguments]"==d||f&&!o){if(s=l||f?{}:ye(e),!u)return l?function(t,e){return st(t,Xt(t),e)}(e,function(t,e){return t&&st(e,Rt(e),t)}(s,e)):function(t,e){return st(t,Wt(t),e)}(e,function(t,e){return t&&st(e,Lt(e),t)}(s,e))}else{if(!we[d])return o?e:{};s=pe(e,d,u)}}a||(a=new et);var p=a.get(e);if(p)return p;a.set(e,s),Ae(e)?e.forEach(function(i){s.add(t(i,n,r,i,e,a))}):be(e)&&e.forEach(function(i,o){s.set(o,t(i,n,r,o,e,a))});var g=h?void 0:(c?l?function(t){return qt(t,Rt,Xt)}:Qt:l?Rt:Lt)(e);return nt(g||e,function(i,o){g&&(i=e[o=i]),at(s,o,t(i,n,r,o,e,a))}),s},Me=function(t){return function(){return t}},Se=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[++r];if(!1===e(i[s],s,i))break}return t},Oe=function(t,e){return t&&Se(t,e,Lt)},Ie=function(t,e){return function(e,n){if(null==e)return e;if(!jt(e))return t(e,n);for(var r=e.length,i=-1,o=Object(e);++i<r&&!1!==n(o[i],i,o););return e}}(Oe),Ee=function(t){return t},Ce=function(t){return"function"==typeof t?t:Ee},ke=function(t,e){return(pt(t)?nt:Ie)(t,Ce(e))},Te=ke;function De(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new $;++e<n;)this.add(t[e])}De.prototype.add=De.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},De.prototype.has=function(t){return this.__data__.has(t)};var je=De,Le=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Pe=function(t,e){return t.has(e)},Ne=function(t,e,n,r,i,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var h=-1,d=!0,f=2&n?new je:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var p=t[h],g=e[h];if(r)var v=a?r(g,p,h,e,t,o):r(p,g,h,t,e,o);if(void 0!==v){if(v)continue;d=!1;break}if(f){if(!Le(e,function(t,e){if(!Pe(f,e)&&(p===t||i(p,t,n,r,o)))return f.push(e)})){d=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){d=!1;break}}return o.delete(t),o.delete(e),d},Re=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n},Be=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n},ze=_?_.prototype:void 0,Fe=ze?ze.valueOf:void 0,Ge=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new ue(t),new ue(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return p(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=Re;case"[object Set]":var u=1&r;if(s||(s=Be),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=2,a.set(t,e);var c=Ne(s(t),s(e),r,i,o,a);return a.delete(t),c;case"[object Symbol]":if(Fe)return Fe.call(t)==Fe.call(e)}return!1},Ve=Object.prototype.hasOwnProperty,Ue=Object.prototype.hasOwnProperty,We=function(t,e,n,r,i,o){var a=pt(t),s=pt(e),u=a?"[object Array]":ae(t),l=s?"[object Array]":ae(e),c="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),h="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),d=u==l;if(d&&vt(t)){if(!vt(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new et),a||Mt(t)?Ne(t,e,n,r,i,o):Ge(t,e,u,n,r,i,o);if(!(1&n)){var f=c&&Ue.call(t,"__wrapped__"),p=h&&Ue.call(e,"__wrapped__");if(f||p){var g=f?t.value():t,v=p?e.value():e;return o||(o=new et),i(g,v,n,r,o)}}return!!d&&(o||(o=new et),function(t,e,n,r,i,o){var a=1&n,s=Qt(t),u=s.length;if(u!=Qt(e).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in e:Ve.call(e,c)))return!1}var h=o.get(t),d=o.get(e);if(h&&d)return h==e&&d==t;var f=!0;o.set(t,e),o.set(e,t);for(var p=a;++l<u;){var g=t[c=s[l]],v=e[c];if(r)var y=a?r(v,g,c,e,t,o):r(g,v,c,t,e,o);if(!(void 0===y?g===v||i(g,v,n,r,o):y)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var m=t.constructor,b=e.constructor;m==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,r,i,o))},He=function t(e,n,r,i,o){return e===n||(null==e||null==n||!ut(e)&&!ut(n)?e!=e&&n!=n:We(e,n,r,i,t,o))},Ye=function(t){return t==t&&!T(t)},Xe=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}},qe=function(t){var e=function(t){for(var e=Lt(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ye(i)]}return e}(t);return 1==e.length&&e[0][2]?Xe(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],l=t[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in t))return!1}else{var h=new et;if(r)var d=r(l,c,u,t,e,h);if(!(void 0===d?He(c,l,3,r,h):d))return!1}}return!0}(n,t,e)}},Qe=function(t){return"symbol"==typeof t||ut(t)&&"[object Symbol]"==k(t)},Ze=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ke=/^\w*$/,Je=function(t,e){if(pt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Qe(t))||Ke.test(t)||!Ze.test(t)||null!=e&&t in Object(e)};function $e(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new($e.Cache||$),n}$e.Cache=$;var tn,en=$e,nn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rn=/\\(\\)?/g,on=function(t){var e=en(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nn,function(t,n,r,i){e.push(r?i.replace(rn,"$1"):n||t)}),e},function(t){return 500===n.size&&n.clear(),t}),n=e.cache;return e}(),an=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},sn=_?_.prototype:void 0,un=sn?sn.toString:void 0,ln=function(t){return null==t?"":function t(e){if("string"==typeof e)return e;if(pt(e))return an(e,t)+"";if(Qe(e))return un?un.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}(t)},cn=function(t,e){return pt(t)?t:Je(t,e)?[t]:on(ln(t))},hn=function(t){if("string"==typeof t||Qe(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},dn=function(t,e){for(var n=0,r=(e=cn(e,t)).length;null!=t&&n<r;)t=t[hn(e[n++])];return n&&n==r?t:void 0},fn=function(t,e){return null!=t&&e in Object(t)},pn=function(t,e,n){for(var r=-1,i=(e=cn(e,t)).length,o=!1;++r<i;){var a=hn(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&bt(i)&&mt(a,i)&&(pt(t)||ft(t))},gn=function(t,e){return null!=t&&pn(t,e,fn)},vn=function(t,e){return Je(t)&&Ye(e)?Xe(hn(t),e):function(n){var r=function(t,e,n){var r=null==t?void 0:dn(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?gn(n,t):He(e,r,3)}},yn=function(t){return function(e){return null==e?void 0:e[t]}},mn=function(t){return Je(t)?yn(hn(t)):function(t){return function(e){return dn(e,t)}}(t)},bn=function(t){return"function"==typeof t?t:null==t?Ee:"object"==typeof t?pt(t)?vn(t[0],t[1]):qe(t):mn(t)},xn=function(t,e){return(pt(t)?Ft:function(t,e){var n=[];return Ie(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n})(t,bn(e))},An=Object.prototype.hasOwnProperty,wn=function(t,e){return null!=t&&An.call(t,e)},_n=function(t,e){return null!=t&&pn(t,e,wn)},Mn=Object.prototype.hasOwnProperty,Sn=function(t){return void 0===t},On=function(t,e){var n=-1,r=jt(t)?Array(t.length):[];return Ie(t,function(t,i,o){r[++n]=e(t,i,o)}),r},In=function(t,e){return(pt(t)?an:On)(t,bn(e))},En=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n},Cn=function(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n},kn=function(t,e,n){var r=pt(t)?En:Cn,i=arguments.length<3;return r(t,bn(e),n,i,Ie)},Tn=yn("length"),Dn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),jn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ln="\\ud83c[\\udffb-\\udfff]",Pn="[^\\ud800-\\udfff]",Nn="(?:\\ud83c[\\udde6-\\uddff]){2}",Rn="[\\ud800-\\udbff][\\udc00-\\udfff]",Bn="(?:"+jn+"|"+Ln+")?",zn="[\\ufe0e\\ufe0f]?"+Bn+"(?:\\u200d(?:"+[Pn,Nn,Rn].join("|")+")[\\ufe0e\\ufe0f]?"+Bn+")*",Fn="(?:"+[Pn+jn+"?",jn,Nn,Rn,"[\\ud800-\\udfff]"].join("|")+")",Gn=RegExp(Ln+"(?="+Ln+")|"+Fn+zn,"g"),Vn=function(t){return function(t){return Dn.test(t)}(t)?function(t){for(var e=Gn.lastIndex=0;Gn.test(t);)++e;return e}(t):Tn(t)},Un=_?_.isConcatSpreadable:void 0,Wn=function(t){return pt(t)||ft(t)||!!(Un&&t&&t[Un])},Hn=function t(e,n,r,i,o){var a=-1,s=e.length;for(r||(r=Wn),o||(o=[]);++a<s;){var u=e[a];n>0&&r(u)?n>1?t(u,n-1,r,i,o):Ht(o,u):i||(o[o.length]=u)}return o},Yn=Math.max,Xn=function(t,e,n){return e=Yn(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Yn(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,s)}},qn=rt?function(t,e){return rt(t,"toString",{configurable:!0,enumerable:!1,value:Me(e),writable:!0})}:Ee,Qn=Date.now,Zn=function(t){var e=0,n=0;return function(){var r=Qn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(qn),Kn=function(t,e){return Zn(Xn(t,e,Ee),t+"")},Jn=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1},$n=function(t){return t!=t},tr=function(t,e){return!(null==t||!t.length)&&function(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Jn(t,$n,n)}(t,e,0)>-1},er=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1},nr=Jt&&1/Be(new Jt([,-0]))[1]==1/0?function(t){return new Jt(t)}:function(){},rr=function(t){return ut(t)&&jt(t)},ir=Kn(function(t){return function(t,e,n){var r=-1,i=tr,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=er;else if(o>=200){var l=e?null:nr(t);if(l)return Be(l);a=!1,i=Pe,u=new je}else u=e?[]:s;t:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||0!==c?c:0,a&&h==h){for(var d=u.length;d--;)if(u[d]===h)continue t;e&&u.push(h),s.push(c)}else i(u,h,n)||(u!==s&&u.push(h),s.push(c))}return s}(Hn(t,1,rr,!0))}),or=function(t){return null==t?[]:function(t,e){return an(e,function(e){return t[e]})}(t,Lt(t))};try{tn={clone:function(t){return _e(t,4)},constant:Me,each:Te,filter:xn,has:_n,isArray:pt,isEmpty:function(t){if(null==t)return!0;if(jt(t)&&(pt(t)||"string"==typeof t||"function"==typeof t.splice||vt(t)||Mt(t)||ft(t)))return!t.length;var e=ae(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(Et(t))return!Dt(t).length;for(var n in t)if(Mn.call(t,n))return!1;return!0},isFunction:D,isUndefined:Sn,keys:Lt,map:In,reduce:kn,size:function(t){if(null==t)return 0;if(jt(t))return function(t){return"string"==typeof t||!pt(t)&&ut(t)&&"[object String]"==k(t)}(t)?Vn(t):t.length;var e=ae(t);return"[object Map]"==e||"[object Set]"==e?t.size:Dt(t).length},transform:function(t,e,n){var r=pt(t),i=r||vt(t)||Mt(t);if(e=bn(e),null==n){var o=t&&t.constructor;n=i?r?new o:[]:T(t)&&D(o)?ve(Yt(t)):{}}return(i?nt:Oe)(t,function(t,r,i){return e(n,t,r,i)}),n},union:ir,values:or}}catch(r){}tn||(tn=window._);var ar=tn,sr=ur;function ur(t){this._isDirected=!ar.has(t,"directed")||t.directed,this._isMultigraph=!!ar.has(t,"multigraph")&&t.multigraph,this._isCompound=!!ar.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=ar.constant(void 0),this._defaultEdgeLabelFn=ar.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function lr(t,e){t[e]?t[e]++:t[e]=1}function cr(t,e){--t[e]||delete t[e]}function hr(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}return i+""+o+""+(ar.isUndefined(r)?"\0":r)}function dr(t,e){return hr(t,e.v,e.w,e.name)}ur.prototype._nodeCount=0,ur.prototype._edgeCount=0,ur.prototype.isDirected=function(){return this._isDirected},ur.prototype.isMultigraph=function(){return this._isMultigraph},ur.prototype.isCompound=function(){return this._isCompound},ur.prototype.setGraph=function(t){return this._label=t,this},ur.prototype.graph=function(){return this._label},ur.prototype.setDefaultNodeLabel=function(t){return ar.isFunction(t)||(t=ar.constant(t)),this._defaultNodeLabelFn=t,this},ur.prototype.nodeCount=function(){return this._nodeCount},ur.prototype.nodes=function(){return ar.keys(this._nodes)},ur.prototype.sources=function(){var t=this;return ar.filter(this.nodes(),function(e){return ar.isEmpty(t._in[e])})},ur.prototype.sinks=function(){var t=this;return ar.filter(this.nodes(),function(e){return ar.isEmpty(t._out[e])})},ur.prototype.setNodes=function(t,e){var n=arguments,r=this;return ar.each(t,function(t){n.length>1?r.setNode(t,e):r.setNode(t)}),this},ur.prototype.setNode=function(t,e){return ar.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\0",this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},ur.prototype.node=function(t){return this._nodes[t]},ur.prototype.hasNode=function(t){return ar.has(this._nodes,t)},ur.prototype.removeNode=function(t){var e=this;if(ar.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],ar.each(this.children(t),function(t){e.setParent(t)}),delete this._children[t]),ar.each(ar.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],ar.each(ar.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},ur.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(ar.isUndefined(e))e="\0";else{for(var n=e+="";!ar.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},ur.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},ur.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if("\0"!==e)return e}},ur.prototype.children=function(t){if(ar.isUndefined(t)&&(t="\0"),this._isCompound){var e=this._children[t];if(e)return ar.keys(e)}else{if("\0"===t)return this.nodes();if(this.hasNode(t))return[]}},ur.prototype.predecessors=function(t){var e=this._preds[t];if(e)return ar.keys(e)},ur.prototype.successors=function(t){var e=this._sucs[t];if(e)return ar.keys(e)},ur.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return ar.union(e,this.successors(t))},ur.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},ur.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;ar.each(this._nodes,function(n,r){t(r)&&e.setNode(r,n)}),ar.each(this._edgeObjs,function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))});var r={};return this._isCompound&&ar.each(e.nodes(),function(t){e.setParent(t,function t(i){var o=n.parent(i);return void 0===o||e.hasNode(o)?(r[i]=o,o):o in r?r[o]:t(o)}(t))}),e},ur.prototype.setDefaultEdgeLabel=function(t){return ar.isFunction(t)||(t=ar.constant(t)),this._defaultEdgeLabelFn=t,this},ur.prototype.edgeCount=function(){return this._edgeCount},ur.prototype.edges=function(){return ar.values(this._edgeObjs)},ur.prototype.setPath=function(t,e){var n=this,r=arguments;return ar.reduce(t,function(t,i){return r.length>1?n.setEdge(t,i,e):n.setEdge(t,i),i}),this},ur.prototype.setEdge=function(){var t,e,n,r,i=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(t=o.v,e=o.w,n=o.name,2===arguments.length&&(r=arguments[1],i=!0)):(t=o,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),t=""+t,e=""+e,ar.isUndefined(n)||(n=""+n);var a=hr(this._isDirected,t,e,n);if(ar.has(this._edgeLabels,a))return i&&(this._edgeLabels[a]=r),this;if(!ar.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[a]=i?r:this._defaultEdgeLabelFn(t,e,n);var s=function(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}(this._isDirected,t,e,n);return t=s.v,e=s.w,Object.freeze(s),this._edgeObjs[a]=s,lr(this._preds[e],t),lr(this._sucs[t],e),this._in[e][a]=s,this._out[t][a]=s,this._edgeCount++,this},ur.prototype.edge=function(t,e,n){var r=1===arguments.length?dr(this._isDirected,arguments[0]):hr(this._isDirected,t,e,n);return this._edgeLabels[r]},ur.prototype.hasEdge=function(t,e,n){var r=1===arguments.length?dr(this._isDirected,arguments[0]):hr(this._isDirected,t,e,n);return ar.has(this._edgeLabels,r)},ur.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?dr(this._isDirected,arguments[0]):hr(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],cr(this._preds[e],t),cr(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},ur.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=ar.values(n);return e?ar.filter(r,function(t){return t.v===e}):r}},ur.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=ar.values(n);return e?ar.filter(r,function(t){return t.w===e}):r}},ur.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))};var fr={Graph:sr,version:"2.1.8"},pr={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:function(t){return ar.map(t.nodes(),function(e){var n=t.node(e),r=t.parent(e),i={v:e};return ar.isUndefined(n)||(i.value=n),ar.isUndefined(r)||(i.parent=r),i})}(t),edges:function(t){return ar.map(t.edges(),function(e){var n=t.edge(e),r={v:e.v,w:e.w};return ar.isUndefined(e.name)||(r.name=e.name),ar.isUndefined(n)||(r.value=n),r})}(t)};return ar.isUndefined(t.graph())||(e.value=ar.clone(t.graph())),e},read:function(t){var e=new sr(t.options).setGraph(t.value);return ar.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),ar.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}};var gr=vr;function vr(){this._arr=[],this._keyIndices={}}vr.prototype.size=function(){return this._arr.length},vr.prototype.keys=function(){return this._arr.map(function(t){return t.key})},vr.prototype.has=function(t){return ar.has(this._keyIndices,t)},vr.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},vr.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},vr.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!ar.has(n,t)){var r=this._arr,i=r.length;return n[t]=i,r.push({key:t,priority:e}),this._decrease(i),!0}return!1},vr.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},vr.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},vr.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},vr.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},vr.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e};var yr=function(t,e,n,r){return function(t,e,n,r){var i,o,a={},s=new gr,u=function(t){var e=t.v!==i?t.v:t.w,r=a[e],u=n(t),l=o.distance+u;if(u<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+u);l<r.distance&&(r.distance=l,r.predecessor=i,s.decrease(e,l))};for(t.nodes().forEach(function(t){var n=t===e?0:Number.POSITIVE_INFINITY;a[t]={distance:n},s.add(t,n)});s.size()>0&&(i=s.removeMin(),(o=a[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(u);return a}(t,String(e),n||mr,r||function(e){return t.outEdges(e)})},mr=ar.constant(1),br=function(t){var e=0,n=[],r={},i=[];function o(a){var s=r[a]={onStack:!0,lowlink:e,index:e++};if(n.push(a),t.successors(a).forEach(function(t){ar.has(r,t)?r[t].onStack&&(s.lowlink=Math.min(s.lowlink,r[t].index)):(o(t),s.lowlink=Math.min(s.lowlink,r[t].lowlink))}),s.lowlink===s.index){var u,l=[];do{u=n.pop(),r[u].onStack=!1,l.push(u)}while(a!==u);i.push(l)}}return t.nodes().forEach(function(t){ar.has(r,t)||o(t)}),i},xr=ar.constant(1),Ar=wr;function wr(t){var e={},n={},r=[];if(ar.each(t.sinks(),function i(o){if(ar.has(n,o))throw new _r;ar.has(e,o)||(n[o]=!0,e[o]=!0,ar.each(t.predecessors(o),i),delete n[o],r.push(o))}),ar.size(e)!==t.nodeCount())throw new _r;return r}function _r(){}wr.CycleException=_r,_r.prototype=new Error;var Mr=function(t,e,n){ar.isArray(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],o={};return ar.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,r,i,o,a){ar.has(i,n)||(i[n]=!0,r||a.push(n),ar.each(o(n),function(n){t(e,n,r,i,o,a)}),r&&a.push(n))}(t,e,"post"===n,o,r,i)}),i};var Sr,Or={Graph:fr.Graph,json:pr,alg:{components:function(t){var e,n={},r=[];function i(r){ar.has(n,r)||(n[r]=!0,e.push(r),ar.each(t.successors(r),i),ar.each(t.predecessors(r),i))}return ar.each(t.nodes(),function(t){e=[],i(t),e.length&&r.push(e)}),r},dijkstra:yr,dijkstraAll:function(t,e,n){return ar.transform(t.nodes(),function(r,i){r[i]=yr(t,i,e,n)},{})},findCycles:function(t){return ar.filter(br(t),function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])})},floydWarshall:function(t,e,n){return function(t,e,n){var r={},i=t.nodes();return i.forEach(function(t){r[t]={},r[t][t]={distance:0},i.forEach(function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})}),n(t).forEach(function(n){var i=n.v===t?n.w:n.v,o=e(n);r[t][i]={distance:o,predecessor:t}})}),i.forEach(function(t){var e=r[t];i.forEach(function(n){var o=r[n];i.forEach(function(n){var r=o[t],i=e[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)})})}),r}(t,e||xr,n||function(e){return t.outEdges(e)})},isAcyclic:function(t){try{Ar(t)}catch(t){if(t instanceof Ar.CycleException)return!1;throw t}return!0},postorder:function(t,e){return Mr(t,e,"post")},preorder:function(t,e){return Mr(t,e,"pre")},prim:function(t,e){var n,r=new sr,i={},o=new gr;function a(t){var r=t.v===n?t.w:t.v,a=o.priority(r);if(void 0!==a){var s=e(t);s<a&&(i[r]=n,o.decrease(r,s))}}if(0===t.nodeCount())return r;ar.each(t.nodes(),function(t){o.add(t,Number.POSITIVE_INFINITY),r.setNode(t)}),o.decrease(t.nodes()[0],0);for(var s=!1;o.size()>0;){if(n=o.removeMin(),ar.has(i,n))r.setEdge(n,i[n]);else{if(s)throw new Error("Input graph is not connected: "+t);s=!0}t.nodeEdges(n).forEach(a)}return r},tarjan:br,topsort:Ar},version:fr.version};try{Sr=Or}catch(r){}Sr||(Sr=window.graphlib);var Ir,Er=Sr,Cr=function(t,e,n){if(!T(n))return!1;var r=typeof e;return!!("number"==r?jt(n)&&mt(e,n.length):"string"==r&&e in n)&&p(n[e],t)},kr=Object.prototype,Tr=kr.hasOwnProperty,Dr=Kn(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&Cr(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=Rt(o),s=-1,u=a.length;++s<u;){var l=a[s],c=t[l];(void 0===c||p(c,kr[l])&&!Tr.call(t,l))&&(t[l]=o[l])}return t}),jr=/^\s+|\s+$/g,Lr=/^[-+]0x[0-9a-f]+$/i,Pr=/^0b[01]+$/i,Nr=/^0o[0-7]+$/i,Rr=parseInt,Br=function(t){return t?1/0===(t=function(t){if("number"==typeof t)return t;if(Qe(t))return NaN;if(T(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=T(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(jr,"");var n=Pr.test(t);return n||Nr.test(t)?Rr(t.slice(2),n?2:8):Lr.test(t)?NaN:+t}(t))||-1/0===t?1.7976931348623157e308*(t<0?-1:1):t==t?t:0:0===t?t:0},zr=Math.max,Fr=function(t){return function(e,n,r){var i=Object(e);if(!jt(e)){var o=bn(n);e=Lt(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}(function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:function(t){var e=Br(t),n=e%1;return e==e?n?e-n:e:0}(n);return i<0&&(i=zr(r+i,0)),Jn(t,bn(e),i)}),Gr=function(t){return null!=t&&t.length?Hn(t,1):[]},Vr=function(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===s?a==a&&!Qe(a):n(a,s)))var s=a,u=o}return u},Ur=function(t,e){return t>e},Wr=function(t,e,n){(void 0!==n&&!p(t[e],n)||void 0===n&&!(e in t))&&it(t,e,n)},Hr=Function.prototype,Yr=Object.prototype,Xr=Hr.toString,qr=Yr.hasOwnProperty,Qr=Xr.call(Object),Zr=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},Kr=function(t,e,n,r,i,o,a){var s=Zr(t,n),u=Zr(e,n),l=a.get(u);if(l)Wr(t,n,l);else{var c=o?o(s,u,n+"",t,e,a):void 0,h=void 0===c;if(h){var d=pt(u),f=!d&&vt(u),p=!d&&!f&&Mt(u);c=u,d||f||p?pt(s)?c=s:rr(s)?c=zt(s):f?(h=!1,c=Bt(u,!0)):p?(h=!1,c=fe(u,!0)):c=[]:function(t){if(!ut(t)||"[object Object]"!=k(t))return!1;var e=Yt(t);if(null===e)return!0;var n=qr.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Xr.call(n)==Qr}(u)||ft(u)?(c=s,ft(s)?c=function(t){return st(t,Rt(t))}(s):T(s)&&!D(s)||(c=ye(u))):h=!1}h&&(a.set(u,c),i(c,u,r,o,a),a.delete(u)),Wr(t,n,c)}},Jr=function(t){return Kn(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&Cr(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r)}return e})}(function(t,e,n){!function t(e,n,r,i,o){e!==n&&Se(n,function(a,s){if(o||(o=new et),T(a))Kr(e,n,s,r,t,i,o);else{var u=i?i(Zr(e,s),a,s+"",e,n,o):void 0;void 0===u&&(u=a),Wr(e,s,u)}},Rt)}(t,e,n)}),$r=function(t,e){return t<e},ti=function(t,e,n,r){if(!T(t))return t;for(var i=-1,o=(e=cn(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var u=hn(e[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=a){var c=s[u];void 0===(l=r?r(c,u,s):void 0)&&(l=T(c)?c:mt(e[i+1])?[]:{})}at(s,u,l),s=s[u]}return t},ei=function(t,e){return function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=dn(t,a);n(s,a)&&ti(o,cn(a,t),s)}return o}(t,e,function(e,n){return gn(t,n)})},ni=function(t){return Zn(Xn(t,void 0,Gr),t+"")}(function(t,e){return null==t?{}:ei(t,e)}),ri=Math.ceil,ii=Math.max,oi=function(t,e,n){return n&&"number"!=typeof n&&Cr(t,e,n)&&(e=n=void 0),t=Br(t),void 0===e?(e=t,t=0):e=Br(e),function(t,e,n,r){for(var i=-1,o=ii(ri((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}(t,e,n=void 0===n?t<e?1:-1:Br(n),void 0)},ai=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Qe(t),a=void 0!==e,s=null===e,u=e==e,l=Qe(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0},si=function(t,e,n){e=e.length?an(e,function(t){return pt(t)?function(e){return dn(e,1===t.length?t[0]:t)}:t}):[Ee];var r=-1;return e=an(e,At(bn)),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(On(t,function(t,n,i){return{criteria:an(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=ai(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)})},ui=Kn(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Cr(t,e[0],e[1])?e=[]:n>2&&Cr(e[0],e[1],e[2])&&(e=[e[0]]),si(t,Hn(e,1),[])}),li=0;try{Ir={cloneDeep:function(t){return _e(t,5)},constant:Me,defaults:Dr,each:Te,filter:xn,find:Fr,flatten:Gr,forEach:ke,forIn:function(t,e){return null==t?t:Se(t,Ce(e),Rt)},has:_n,isUndefined:Sn,last:function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},map:In,mapValues:function(t,e){var n={};return e=bn(e),Oe(t,function(t,r,i){it(n,r,e(t,r,i))}),n},max:function(t){return t&&t.length?Vr(t,Ee,Ur):void 0},merge:Jr,min:function(t){return t&&t.length?Vr(t,Ee,$r):void 0},minBy:function(t,e){return t&&t.length?Vr(t,bn(e),$r):void 0},now:function(){return w.Date.now()},pick:ni,range:oi,reduce:kn,sortBy:ui,uniqueId:function(t){var e=++li;return ln(t)+e},values:or,zipObject:function(t,e){return function(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}(t||[],e||[],at)}}}catch(r){}Ir||(Ir=window._);var ci=Ir,hi=di;function di(){var t={};t._next=t._prev=t,this._sentinel=t}function fi(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function pi(t,e){if("_next"!==t&&"_prev"!==t)return e}di.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return fi(e),e},di.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&fi(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},di.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,pi)),n=n._prev;return"["+t.join(", ")+"]"};var gi=Er.Graph,vi=ci.constant(1);function yi(t,e,n,r,i){var o=i?[]:void 0;return ci.forEach(t.inEdges(r.v),function(r){var a=t.edge(r),s=t.node(r.v);i&&o.push({v:r.v,w:r.w}),s.out-=a,mi(e,n,s)}),ci.forEach(t.outEdges(r.v),function(r){var i=t.edge(r),o=r.w,a=t.node(o);a.in-=i,mi(e,n,a)}),t.removeNode(r.v),o}function mi(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}var bi=function(t){var e="greedy"===t.graph().acyclicer?function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new gi,r=0,i=0;ci.forEach(t.nodes(),function(t){n.setNode(t,{v:t,in:0,out:0})}),ci.forEach(t.edges(),function(t){var o=n.edge(t.v,t.w)||0,a=e(t),s=o+a;n.setEdge(t.v,t.w,s),i=Math.max(i,n.node(t.v).out+=a),r=Math.max(r,n.node(t.w).in+=a)});var o=ci.range(i+r+3).map(function(){return new hi}),a=r+1;return ci.forEach(n.nodes(),function(t){mi(o,a,n.node(t))}),{graph:n,buckets:o,zeroIdx:a}}(t,e||vi),r=function(t,e,n){for(var r,i=[],o=e[e.length-1],a=e[0];t.nodeCount();){for(;r=a.dequeue();)yi(t,e,n,r);for(;r=o.dequeue();)yi(t,e,n,r);if(t.nodeCount())for(var s=e.length-2;s>0;--s)if(r=e[s].dequeue()){i=i.concat(yi(t,e,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return ci.flatten(ci.map(r,function(e){return t.outEdges(e.v,e.w)}),!0)}(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},r={};return ci.forEach(t.nodes(),function i(o){ci.has(r,o)||(r[o]=!0,n[o]=!0,ci.forEach(t.outEdges(o),function(t){ci.has(n,t.w)?e.push(t):i(t.w)}),delete n[o])}),e}(t);ci.forEach(e,function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,ci.uniqueId("rev"))})},xi=function(t){ci.forEach(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})},Ai=Er.Graph,wi={addDummyNode:_i,simplify:function(t){var e=(new Ai).setGraph(t.graph());return ci.forEach(t.nodes(),function(n){e.setNode(n,t.node(n))}),ci.forEach(t.edges(),function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e},asNonCompoundGraph:function(t){var e=new Ai({multigraph:t.isMultigraph()}).setGraph(t.graph());return ci.forEach(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),ci.forEach(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e},successorWeights:function(t){var e=ci.map(t.nodes(),function(e){var n={};return ci.forEach(t.outEdges(e),function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight}),n});return ci.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=ci.map(t.nodes(),function(e){var n={};return ci.forEach(t.inEdges(e),function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight}),n});return ci.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,u=t.width/2,l=t.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*u>Math.abs(a)*l?(s<0&&(l=-l),n=l*a/s,r=l):(a<0&&(u=-u),n=u,r=u*s/a),{x:i+n,y:o+r}},buildLayerMatrix:function(t){var e=ci.map(ci.range(Mi(t)+1),function(){return[]});return ci.forEach(t.nodes(),function(n){var r=t.node(n),i=r.rank;ci.isUndefined(i)||(e[i][r.order]=n)}),e},normalizeRanks:function(t){var e=ci.min(ci.map(t.nodes(),function(e){return t.node(e).rank}));ci.forEach(t.nodes(),function(n){var r=t.node(n);ci.has(r,"rank")&&(r.rank-=e)})},removeEmptyRanks:function(t){var e=ci.min(ci.map(t.nodes(),function(e){return t.node(e).rank})),n=[];ci.forEach(t.nodes(),function(r){var i=t.node(r).rank-e;n[i]||(n[i]=[]),n[i].push(r)});var r=0,i=t.graph().nodeRankFactor;ci.forEach(n,function(e,n){ci.isUndefined(e)&&n%i!=0?--r:r&&ci.forEach(e,function(e){t.node(e).rank+=r})})},addBorderNode:function(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),_i(t,"border",i,e)},maxRank:Mi,partition:function(t,e){var n={lhs:[],rhs:[]};return ci.forEach(t,function(t){e(t)?n.lhs.push(t):n.rhs.push(t)}),n},time:function(t,e){var n=ci.now();try{return e()}finally{console.log(t+" time: "+(ci.now()-n)+"ms")}},notime:function(t,e){return e()}};function _i(t,e,n,r){var i;do{i=ci.uniqueId(r)}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function Mi(t){return ci.max(ci.map(t.nodes(),function(e){var n=t.node(e).rank;if(!ci.isUndefined(n))return n}))}var Si=function(t){t.graph().dummyChains=[],ci.forEach(t.edges(),function(e){!function(t,e){var n,r,i,o=e.v,a=t.node(o).rank,s=e.w,u=t.node(s).rank,l=e.name,c=t.edge(e),h=c.labelRank;if(u!==a+1){for(t.removeEdge(e),i=0,++a;a<u;++i,++a)c.points=[],r={width:0,height:0,edgeLabel:c,edgeObj:e,rank:a},n=wi.addDummyNode(t,"edge",r,"_d"),a===h&&(r.width=c.width,r.height=c.height,r.dummy="edge-label",r.labelpos=c.labelpos),t.setEdge(o,n,{weight:c.weight},l),0===i&&t.graph().dummyChains.push(n),o=n;t.setEdge(o,s,{weight:c.weight},l)}}(t,e)})},Oi=function(t){ci.forEach(t.graph().dummyChains,function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)})},Ii=function(t){var e={};ci.forEach(t.sources(),function n(r){var i=t.node(r);if(ci.has(e,r))return i.rank;e[r]=!0;var o=ci.min(ci.map(t.outEdges(r),function(e){return n(e.w)-t.edge(e).minlen}));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),i.rank=o})},Ei=function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen},Ci=Er.Graph,ki=Ei,Ti=function(t){var e,n=new Ci({directed:!1}),r=t.nodes()[0],i=t.nodeCount();for(n.setNode(r,{});Di(n,t)<i;)e=ji(n,t),Li(n,t,n.hasNode(e.v)?ki(t,e):-ki(t,e));return n};function Di(t,e){return ci.forEach(t.nodes(),function n(r){ci.forEach(e.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;t.hasNode(a)||ki(e,i)||(t.setNode(a,{}),t.setEdge(r,a,{}),n(a))})}),t.nodeCount()}function ji(t,e){return ci.minBy(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return ki(e,n)})}function Li(t,e,n){ci.forEach(t.nodes(),function(t){e.node(t).rank+=n})}var Pi=Ei,Ni=Ii,Ri=Er.alg.preorder,Bi=Er.alg.postorder,zi=wi.simplify,Fi=Gi;function Gi(t){t=zi(t),Ni(t);var e,n=Ti(t);for(Wi(n),Vi(n,t);e=Hi(n);)Xi(n,t,e,Yi(n,t,e))}function Vi(t,e){var n=Bi(t,t.nodes());n=n.slice(0,n.length-1),ci.forEach(n,function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=Ui(t,e,n)}(t,e,n)})}function Ui(t,e,n){var r=t.node(n).parent,i=!0,o=e.edge(n,r),a=0;return o||(i=!1,o=e.edge(r,n)),a=o.weight,ci.forEach(e.nodeEdges(n),function(o){var s,u,l=o.v===n,c=l?o.w:o.v;if(c!==r){var h=l===i,d=e.edge(o).weight;if(a+=h?d:-d,s=n,u=c,t.hasEdge(s,u)){var f=t.edge(n,c).cutvalue;a+=h?-f:f}}}),a}function Wi(t,e){arguments.length<2&&(e=t.nodes()[0]),function t(e,n,r,i,o){var a=r,s=e.node(i);return n[i]=!0,ci.forEach(e.neighbors(i),function(o){ci.has(n,o)||(r=t(e,n,r,o,i))}),s.low=a,s.lim=r++,o?s.parent=o:delete s.parent,r}(t,{},1,e)}function Hi(t){return ci.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function Yi(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var o=t.node(r),a=t.node(i),s=o,u=!1;o.lim>a.lim&&(s=a,u=!0);var l=ci.filter(e.edges(),function(e){return u===qi(t,t.node(e.v),s)&&u!==qi(t,t.node(e.w),s)});return ci.minBy(l,function(t){return Pi(e,t)})}function Xi(t,e,n,r){var i=n.v,o=n.w;t.removeEdge(i,o),t.setEdge(r.v,r.w,{}),Wi(t),Vi(t,e),function(t,e){var n=ci.find(t.nodes(),function(t){return!e.node(t).parent}),r=Ri(t,n);r=r.slice(1),ci.forEach(r,function(n){var r=t.node(n).parent,i=e.edge(n,r),o=!1;i||(i=e.edge(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)})}(t,e)}function qi(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}Gi.initLowLimValues=Wi,Gi.initCutValues=Vi,Gi.calcCutValue=Ui,Gi.leaveEdge=Hi,Gi.enterEdge=Yi,Gi.exchangeEdges=Xi;var Qi=Ii,Zi=Qi;function Ki(t){Fi(t)}var Ji=function(t){var e=wi.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};function n(r,i){var o=t.children(r);o&&o.length&&ci.forEach(o,function(t){n(t,i+1)}),e[r]=i}return ci.forEach(t.children(),function(t){n(t,1)}),e}(t),r=ci.max(ci.values(n))-1,i=2*r+1;t.graph().nestingRoot=e,ci.forEach(t.edges(),function(e){t.edge(e).minlen*=i});var o=function(t){return ci.reduce(t.edges(),function(e,n){return e+t.edge(n).weight},0)}(t)+1;ci.forEach(t.children(),function(a){!function t(e,n,r,i,o,a,s){var u=e.children(s);if(u.length){var l=wi.addBorderNode(e,"_bt"),c=wi.addBorderNode(e,"_bb"),h=e.node(s);e.setParent(l,s),h.borderTop=l,e.setParent(c,s),h.borderBottom=c,ci.forEach(u,function(u){t(e,n,r,i,o,a,u);var h=e.node(u),d=h.borderTop?h.borderTop:u,f=h.borderBottom?h.borderBottom:u,p=h.borderTop?i:2*i,g=d!==f?1:o-a[s]+1;e.setEdge(l,d,{weight:p,minlen:g,nestingEdge:!0}),e.setEdge(f,c,{weight:p,minlen:g,nestingEdge:!0})}),e.parent(s)||e.setEdge(n,l,{weight:0,minlen:o+a[s]})}else s!==n&&e.setEdge(n,s,{weight:0,minlen:r})}(t,e,i,o,r,n,a)}),t.graph().nodeRankFactor=i},$i=function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,ci.forEach(t.edges(),function(e){t.edge(e).nestingEdge&&t.removeEdge(e)})};function to(t,e,n,r,i,o){var a={width:0,height:0,rank:o,borderType:e},s=i[e][o-1],u=wi.addDummyNode(t,"border",a,n);i[e][o]=u,t.setParent(u,r),s&&t.setEdge(s,u,{weight:1})}var eo=function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||ro(t)},no=function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){ci.forEach(t.nodes(),function(e){oo(t.node(e))}),ci.forEach(t.edges(),function(e){var n=t.edge(e);ci.forEach(n.points,oo),ci.has(n,"y")&&oo(n)})}(t),"lr"!==e&&"rl"!==e||(function(t){ci.forEach(t.nodes(),function(e){ao(t.node(e))}),ci.forEach(t.edges(),function(e){var n=t.edge(e);ci.forEach(n.points,ao),ci.has(n,"x")&&ao(n)})}(t),ro(t))};function ro(t){ci.forEach(t.nodes(),function(e){io(t.node(e))}),ci.forEach(t.edges(),function(e){io(t.edge(e))})}function io(t){var e=t.width;t.width=t.height,t.height=e}function oo(t){t.y=-t.y}function ao(t){var e=t.x;t.x=t.y,t.y=e}var so=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=uo(t,e[r-1],e[r]);return n};function uo(t,e,n){for(var r=ci.zipObject(n,ci.map(n,function(t,e){return e})),i=ci.flatten(ci.map(e,function(e){return ci.sortBy(ci.map(t.outEdges(e),function(e){return{pos:r[e.w],weight:t.edge(e).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=ci.map(new Array(a),function(){return 0}),u=0;return ci.forEach(i.forEach(function(t){var e=t.pos+o;s[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=s[e+1]),s[e=e-1>>1]+=t.weight;u+=t.weight*n})),u}function lo(t,e,n){for(var r;e.length&&(r=ci.last(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}var co=function t(e,n,r,i){var o=e.children(n),a=e.node(n),s=a?a.borderLeft:void 0,u=a?a.borderRight:void 0,l={};s&&(o=ci.filter(o,function(t){return t!==s&&t!==u}));var c=function(t,e){return ci.map(e,function(e){var n=t.inEdges(e);if(n.length){var r=ci.reduce(n,function(e,n){var r=t.edge(n),i=t.node(n.v);return{sum:e.sum+r.weight*i.order,weight:e.weight+r.weight}},{sum:0,weight:0});return{v:e,barycenter:r.sum/r.weight,weight:r.weight}}return{v:e}})}(e,o);ci.forEach(c,function(n){if(e.children(n.v).length){var o=t(e,n.v,r,i);l[n.v]=o,ci.has(o,"barycenter")&&(a=n,s=o,ci.isUndefined(a.barycenter)?(a.barycenter=s.barycenter,a.weight=s.weight):(a.barycenter=(a.barycenter*a.weight+s.barycenter*s.weight)/(a.weight+s.weight),a.weight+=s.weight))}var a,s});var h=function(t,e){var n={};return ci.forEach(t,function(t,e){var r=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};ci.isUndefined(t.barycenter)||(r.barycenter=t.barycenter,r.weight=t.weight)}),ci.forEach(e.edges(),function(t){var e=n[t.v],r=n[t.w];ci.isUndefined(e)||ci.isUndefined(r)||(r.indegree++,e.out.push(n[t.w]))}),function(t){var e=[];function n(t){return function(e){e.merged||(ci.isUndefined(e.barycenter)||ci.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function r(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var i=t.pop();e.push(i),ci.forEach(i.in.reverse(),n(i)),ci.forEach(i.out,r(i))}return ci.map(ci.filter(e,function(t){return!t.merged}),function(t){return ci.pick(t,["vs","i","barycenter","weight"])})}(ci.filter(n,function(t){return!t.indegree}))}(c,r);!function(t,e){ci.forEach(t,function(t){t.vs=ci.flatten(t.vs.map(function(t){return e[t]?e[t].vs:t}),!0)})}(h,l);var d=function(t,e){var n,r=wi.partition(t,function(t){return ci.has(t,"barycenter")}),i=r.lhs,o=ci.sortBy(r.rhs,function(t){return-t.i}),a=[],s=0,u=0,l=0;i.sort((n=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:n?e.i-t.i:t.i-e.i})),l=lo(a,o,l),ci.forEach(i,function(t){l+=t.vs.length,a.push(t.vs),s+=t.barycenter*t.weight,u+=t.weight,l=lo(a,o,l)});var c={vs:ci.flatten(a,!0)};return u&&(c.barycenter=s/u,c.weight=u),c}(h,i);if(s&&(d.vs=ci.flatten([s,d.vs,u],!0),e.predecessors(s).length)){var f=e.node(e.predecessors(s)[0]),p=e.node(e.predecessors(u)[0]);ci.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+p.order)/(d.weight+2),d.weight+=2}return d},ho=Er.Graph,fo=function(t,e,n){var r=function(t){for(var e;t.hasNode(e=ci.uniqueId("_root")););return e}(t),i=new ho({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(e){return t.node(e)});return ci.forEach(t.nodes(),function(o){var a=t.node(o),s=t.parent(o);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),ci.forEach(t[n](o),function(e){var n=e.v===o?e.w:e.v,r=i.edge(n,o),a=ci.isUndefined(r)?0:r.weight;i.setEdge(n,o,{weight:t.edge(e).weight+a})}),ci.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))}),i},po=function(t,e,n){var r,i={};ci.forEach(n,function(n){for(var o,a,s=t.parent(n);s;){if((o=t.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void e.setEdge(a,s);s=o}})},go=Er.Graph,vo=function(t){var e=wi.maxRank(t),n=yo(t,ci.range(1,e+1),"inEdges"),r=yo(t,ci.range(e-1,-1,-1),"outEdges"),i=function(t){var e={},n=ci.filter(t.nodes(),function(e){return!t.children(e).length}),r=ci.max(ci.map(n,function(e){return t.node(e).rank})),i=ci.map(ci.range(r+1),function(){return[]});var o=ci.sortBy(n,function(e){return t.node(e).rank});return ci.forEach(o,function n(r){if(!ci.has(e,r)){e[r]=!0;var o=t.node(r);i[o.rank].push(r),ci.forEach(t.successors(r),n)}}),i}(t);bo(t,i);for(var o,a=Number.POSITIVE_INFINITY,s=0,u=0;u<4;++s,++u){mo(s%2?n:r,s%4>=2),i=wi.buildLayerMatrix(t);var l=so(t,i);l<a&&(u=0,o=ci.cloneDeep(i),a=l)}bo(t,o)};function yo(t,e,n){return ci.map(e,function(e){return fo(t,e,n)})}function mo(t,e){var n=new go;ci.forEach(t,function(t){var r=t.graph().root,i=co(t,r,n,e);ci.forEach(i.vs,function(e,n){t.node(e).order=n}),po(t,n,i.vs)})}function bo(t,e){ci.forEach(e,function(e){ci.forEach(e,function(e,n){t.node(e).order=n})})}var xo=Er.Graph;function Ao(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function wo(t,e,n){if(e>n){var r=e;e=n,n=r}return ci.has(t[e],n)}var _o=function(t){var e,n=wi.buildLayerMatrix(t),r=ci.merge(function(t,e){var n={};return ci.reduce(e,function(e,r){var i=0,o=0,a=e.length,s=ci.last(r);return ci.forEach(r,function(e,u){var l=function(t,e){if(t.node(e).dummy)return ci.find(t.predecessors(e),function(e){return t.node(e).dummy})}(t,e),c=l?t.node(l).order:a;(l||e===s)&&(ci.forEach(r.slice(o,u+1),function(e){ci.forEach(t.predecessors(e),function(r){var o=t.node(r),a=o.order;!(a<i||c<a)||o.dummy&&t.node(e).dummy||Ao(n,r,e)})}),o=u+1,i=c)}),r}),n}(t,n),function(t,e){var n={};function r(e,r,i,o,a){var s;ci.forEach(ci.range(r,i),function(r){s=e[r],t.node(s).dummy&&ci.forEach(t.predecessors(s),function(e){var r=t.node(e);r.dummy&&(r.order<o||r.order>a)&&Ao(n,e,s)})})}return ci.reduce(e,function(e,n){var i,o=-1,a=0;return ci.forEach(n,function(s,u){if("border"===t.node(s).dummy){var l=t.predecessors(s);l.length&&(i=t.node(l[0]).order,r(n,a,u,o,i),a=u,o=i)}r(n,a,n.length,i,e.length)}),n}),n}(t,n)),i={};ci.forEach(["u","d"],function(o){e="u"===o?n:ci.values(n).reverse(),ci.forEach(["l","r"],function(n){"r"===n&&(e=ci.map(e,function(t){return ci.values(t).reverse()}));var a=("u"===o?t.predecessors:t.successors).bind(t),s=function(t,e,n,r){var i={},o={},a={};return ci.forEach(e,function(t){ci.forEach(t,function(t,e){i[t]=t,o[t]=t,a[t]=e})}),ci.forEach(e,function(t){var e=-1;ci.forEach(t,function(t){var s=r(t);if(s.length)for(var u=((s=ci.sortBy(s,function(t){return a[t]})).length-1)/2,l=Math.floor(u),c=Math.ceil(u);l<=c;++l){var h=s[l];o[t]===t&&e<a[h]&&!wo(n,t,h)&&(o[h]=t,o[t]=i[t]=i[h],e=a[h])}})}),{root:i,align:o}}(0,e,r,a),u=function(t,e,n,r,i){var o={},a=function(t,e,n,r){var i=new xo,o=t.graph(),a=function(t,e,n){return function(r,i,o){var a,s=r.node(i),u=r.node(o),l=0;if(l+=s.width/2,ci.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(l+=n?a:-a),a=0,l+=(s.dummy?e:t)/2,l+=(u.dummy?e:t)/2,l+=u.width/2,ci.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(l+=n?a:-a),a=0,l}}(o.nodesep,o.edgesep,r);return ci.forEach(e,function(e){var r;ci.forEach(e,function(e){var o=n[e];if(i.setNode(o),r){var s=n[r],u=i.edge(s,o);i.setEdge(s,o,Math.max(a(t,e,r),u||0))}r=e})}),i}(t,e,n,i),s=i?"borderLeft":"borderRight";function u(t,e){for(var n=a.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return u(function(t){o[t]=a.inEdges(t).reduce(function(t,e){return Math.max(t,o[e.v]+a.edge(e))},0)},a.predecessors.bind(a)),u(function(e){var n=a.outEdges(e).reduce(function(t,e){return Math.min(t,o[e.w]-a.edge(e))},Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(o[e]=Math.max(o[e],n))},a.successors.bind(a)),ci.forEach(r,function(t){o[t]=o[n[t]]}),o}(t,e,s.root,s.align,"r"===n);"r"===n&&(u=ci.mapValues(u,function(t){return-t})),i[o+n]=u})});var o=function(t,e){return ci.minBy(ci.values(e),function(e){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return ci.forIn(e,function(e,i){var o=function(t,e){return t.node(e).width}(t,i)/2;n=Math.max(e+o,n),r=Math.min(e-o,r)}),n-r})}(t,i);return function(t,e){var n=ci.values(e),r=ci.min(n),i=ci.max(n);ci.forEach(["u","d"],function(n){ci.forEach(["l","r"],function(o){var a,s=n+o,u=t[s];if(u!==e){var l=ci.values(u);(a="l"===o?r-ci.min(l):i-ci.max(l))&&(t[s]=ci.mapValues(u,function(t){return t+a}))}})})}(i,o),function(t,e){return ci.mapValues(t.ul,function(n,r){if(e)return t[e.toLowerCase()][r];var i=ci.sortBy(ci.map(t,r));return(i[1]+i[2])/2})}(i,t.graph().align)},Mo=wi.normalizeRanks,So=wi.removeEmptyRanks,Oo=wi,Io=Er.Graph,Eo=["nodesep","edgesep","ranksep","marginx","marginy"],Co={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ko=["acyclicer","ranker","rankdir","align"],To=["width","height"],Do={width:0,height:0},jo=["minlen","weight","width","height","labeloffset"],Lo={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Po=["labelpos"];function No(t,e){return ci.mapValues(ci.pick(t,e),Number)}function Ro(t){var e={};return ci.forEach(t,function(t,n){e[n.toLowerCase()]=t}),e}var Bo=Er.Graph,zo={graphlib:Er,layout:function(t,e){var n=e&&e.debugTiming?Oo.time:Oo.notime;n("layout",function(){var e=n("  buildLayoutGraph",function(){return function(t){var e=new Io({multigraph:!0,compound:!0}),n=Ro(t.graph());return e.setGraph(ci.merge({},Co,No(n,Eo),ci.pick(n,ko))),ci.forEach(t.nodes(),function(n){var r=Ro(t.node(n));e.setNode(n,ci.defaults(No(r,To),Do)),e.setParent(n,t.parent(n))}),ci.forEach(t.edges(),function(n){var r=Ro(t.edge(n));e.setEdge(n,ci.merge({},Lo,No(r,jo),ci.pick(r,Po)))}),e}(t)});n("  runLayout",function(){!function(t,e){e("    makeSpaceForEdgeLabels",function(){!function(t){var e=t.graph();e.ranksep/=2,ci.forEach(t.edges(),function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}(t)}),e("    removeSelfEdges",function(){!function(t){ci.forEach(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})}(t)}),e("    acyclic",function(){bi(t)}),e("    nestingGraph.run",function(){Ji(t)}),e("    rank",function(){!function(t){switch(t.graph().ranker){case"network-simplex":Ki(t);break;case"tight-tree":!function(t){Qi(t),Ti(t)}(t);break;case"longest-path":Zi(t);break;default:Ki(t)}}(Oo.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){!function(t){ci.forEach(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};Oo.addDummyNode(t,"edge-proxy",i,"_ep")}})}(t)}),e("    removeEmptyRanks",function(){So(t)}),e("    nestingGraph.cleanup",function(){$i(t)}),e("    normalizeRanks",function(){Mo(t)}),e("    assignRankMinMax",function(){!function(t){var e=0;ci.forEach(t.nodes(),function(n){var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=ci.max(e,r.maxRank))}),t.graph().maxRank=e}(t)}),e("    removeEdgeLabelProxies",function(){!function(t){ci.forEach(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}(t)}),e("    normalize.run",function(){Si(t)}),e("    parentDummyChains",function(){!function(t){var e=function(t){var e={},n=0;return ci.forEach(t.children(),function r(i){var o=n;ci.forEach(t.children(i),r),e[i]={low:o,lim:n++}}),e}(t);ci.forEach(t.graph().dummyChains,function(n){for(var r=t.node(n),i=r.edgeObj,o=function(t,e,n,r){var i,o,a=[],s=[],u=Math.min(e[n].low,e[r].low),l=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),a.push(i)}while(i&&(e[i].low>u||l>e[i].lim));for(o=i,i=r;(i=t.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(t,e,i.v,i.w),a=o.path,s=o.lca,u=0,l=a[u],c=!0;n!==i.w;){if(r=t.node(n),c){for(;(l=a[u])!==s&&t.node(l).maxRank<r.rank;)u++;l===s&&(c=!1)}if(!c){for(;u<a.length-1&&t.node(l=a[u+1]).minRank<=r.rank;)u++;l=a[u]}t.setParent(n,l),n=t.successors(n)[0]}})}(t)}),e("    addBorderSegments",function(){!function(t){ci.forEach(t.children(),function e(n){var r=t.children(n),i=t.node(n);if(r.length&&ci.forEach(r,e),ci.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)to(t,"borderLeft","_bl",n,i,o),to(t,"borderRight","_br",n,i,o)}})}(t)}),e("    order",function(){vo(t)}),e("    insertSelfEdges",function(){!function(t){var e=Oo.buildLayerMatrix(t);ci.forEach(e,function(e){var n=0;ci.forEach(e,function(e,r){var i=t.node(e);i.order=r+n,ci.forEach(i.selfEdges,function(e){Oo.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:r+ ++n,e:e.e,label:e.label},"_se")}),delete i.selfEdges})})}(t)}),e("    adjustCoordinateSystem",function(){eo(t)}),e("    position",function(){!function(t){(function(t){var e=wi.buildLayerMatrix(t),n=t.graph().ranksep,r=0;ci.forEach(e,function(e){var i=ci.max(ci.map(e,function(e){return t.node(e).height}));ci.forEach(e,function(e){t.node(e).y=r+i/2}),r+=i+n})})(t=wi.asNonCompoundGraph(t)),ci.forEach(_o(t),function(e,n){t.node(n).x=e})}(t)}),e("    positionSelfEdges",function(){!function(t){ci.forEach(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}(t)}),e("    removeBorderNodes",function(){!function(t){ci.forEach(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),o=t.node(ci.last(n.borderLeft)),a=t.node(ci.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),ci.forEach(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}(t)}),e("    normalize.undo",function(){Oi(t)}),e("    fixupEdgeLabelCoords",function(){!function(t){ci.forEach(t.edges(),function(e){var n=t.edge(e);if(ci.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(t)}),e("    undoCoordinateSystem",function(){no(t)}),e("    translateGraph",function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=t.graph(),a=o.marginx||0,s=o.marginy||0;function u(t){var o=t.x,a=t.y,s=t.width,u=t.height;e=Math.min(e,o-s/2),n=Math.max(n,o+s/2),r=Math.min(r,a-u/2),i=Math.max(i,a+u/2)}ci.forEach(t.nodes(),function(e){u(t.node(e))}),ci.forEach(t.edges(),function(e){var n=t.edge(e);ci.has(n,"x")&&u(n)}),e-=a,r-=s,ci.forEach(t.nodes(),function(n){var i=t.node(n);i.x-=e,i.y-=r}),ci.forEach(t.edges(),function(n){var i=t.edge(n);ci.forEach(i.points,function(t){t.x-=e,t.y-=r}),ci.has(i,"x")&&(i.x-=e),ci.has(i,"y")&&(i.y-=r)}),o.width=n-e+a,o.height=i-r+s}(t)}),e("    assignNodeIntersects",function(){!function(t){ci.forEach(t.edges(),function(e){var n,r,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(Oo.intersectRect(o,n)),i.points.push(Oo.intersectRect(a,r))})}(t)}),e("    reversePoints",function(){!function(t){ci.forEach(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}(t)}),e("    acyclic.undo",function(){xi(t)})}(e,n)}),n("  updateInputGraph",function(){!function(t,e){ci.forEach(t.nodes(),function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))}),ci.forEach(t.edges(),function(n){var r=t.edge(n),i=e.edge(n);r.points=i.points,ci.has(i,"x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)})})},debug:{debugOrdering:function(t){var e=wi.buildLayerMatrix(t),n=new Bo({compound:!0,multigraph:!0}).setGraph({});return ci.forEach(t.nodes(),function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)}),ci.forEach(t.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),ci.forEach(e,function(t,e){var r="layer"+e;n.setNode(r,{rank:"same"}),ci.reduce(t,function(t,e){return n.setEdge(t,e,{style:"invis"}),e})}),n}},util:{time:wi.time,notime:wi.notime},version:"0.8.5"},Fo=zo.graphlib,Go=zo.layout;class Vo{constructor(t){this.cardinality=1,this.include=l.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=u.NODE,this.name=t.name,this.attr=t.attr||{},this.inputs=t.inputs,this.path=t.path||[],this.width=t.width,this.height=t.height}}class Uo{constructor(){this.nodes={},this.edges=[],this.nodes={},this.edges=[]}}class Wo{constructor(t,e={}){this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=l.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=u.META,this.path=[],this.name=t,this.metaGraph=qo(t,c.META,e)}getFirstChild(){return this.metaGraph.node(this.metaGraph.nodes()[0])}getChildren(){return this.metaGraph.nodes().map(t=>this.metaGraph.node(t))}leaves(){let t,e=[],n=[this];for(;n.length;){let r=n.shift();r.isGroupNode?(t=r.metaGraph).nodes().forEach(e=>n.push(t.node(e))):e.push(r.name)}return e}}class Ho{constructor(t,e){this.v=t,this.w=e,this.baseEdgeList=[],this.inbound=null,this.name=null}addBaseEdge(t,e){this.baseEdgeList.push(t)}}function Yo(t,e={}){return new Wo(t,e)}function Xo(t,e){return new Ho(t,e)}function qo(t,e,n){const r=n||{},i=new Fo.Graph(r);return i.setGraph({name:t,rankdir:r.rankdir,type:e,align:r.align}),i}class Qo{constructor(t={}){this.graphOptions=t,this.index={},this.graphOptions.compound=!0,this.root=Yo(a,this.graphOptions),this.index[a]=this.root}getNodeMap(){return this.index}node(t){return this.index[t]}setNode(t,e){this.index[t]=e}getBridgeGraph(t){const e=this.index[t];if(!e)throw Error("Could not find node in hierarchy: "+t);if(!("metaGraph"in e))return null;const n=e;if(n.bridgeGraph)return n.bridgeGraph;const r=qo(s,c.BRIDGE,this.graphOptions);if(n.bridgeGraph=r,!(e.parentNode&&"metaGraph"in e.parentNode))return r;const i=e.parentNode;return[i.metaGraph,this.getBridgeGraph(i.name)].forEach(e=>{e.edges().filter(e=>e.v===t||e.w===t).forEach(n=>{const i=n.w===t;e.edge(n).baseEdgeList.forEach(e=>{const[o,a]=i?[e.w,n.v]:[e.v,n.w],s=this.getChildName(t,o),u={v:i?a:s,w:i?s:a};let l=r.edge(u);l||((l=Xo(u.v,u.w)).inbound=i,r.setEdge(u.v,u.w,l)),l.addBaseEdge(e,this)})})}),r}getChildName(t,e){let n=this.index[e];for(;n;){if(n.parentNode&&n.parentNode.name===t)return n.name;n=n.parentNode}throw Error("Could not find immediate child for descendant: "+e)}getPredecessors(t){const e=this.index[t];if(!e)throw Error("Could not find node with name: "+t);return this.getOneWayEdges(e,!0)}getSuccessors(t){const e=this.index[t];if(!e)throw Error("Could not find node with name: "+t);return this.getOneWayEdges(e,!1)}getOneWayEdges(t,e){const n=[];if(!t.parentNode||!t.parentNode.isGroupNode)return n;const r=t.parentNode,i=r.metaGraph,o=this.getBridgeGraph(r.name);return Zo(i,t,e,n),Zo(o,t,e,n),n}}function Zo(t,e,n,r){(n?t.inEdges(e.name):t.outEdges(e.name)).forEach(e=>{const n=t.edge(e);r.push(n)})}class Ko{constructor(t){this.hierarchy=t,this.index={},this.hasSubHierarchy={},this.root=new ta(this.hierarchy.root,this.hierarchy.graphOptions),this.index[t.root.name]=this.root,this.buildSubHierarchy(t.root.name),this.root.expanded=!0}getRenderInfoNodes(){return Object.values(this.index)}getSubHierarchy(){return this.hasSubHierarchy}buildSubHierarchy(t){if(t in this.hasSubHierarchy)return;this.hasSubHierarchy[t]=!0;const e=this.index[t];if(e.node.type!==u.META)return;const n=e,r=n.node.metaGraph,i=n.coreGraph;r.nodes().forEach(t=>{const e=this.getOrCreateRenderNodeByName(t);i.setNode(t,e)}),r.edges().forEach(t=>{const e=r.edge(t),n=new $o(e);i.setEdge(t.v,t.w,n)});const o=n.node.parentNode;if(!o)return;const a=this.getRenderNodeByName(o.name),s=(t,...e)=>e.concat([t?"IN":"OUT"]).join("~~"),c=this.hierarchy.getBridgeGraph(t);c.edges().forEach(e=>{const n=c.edge(e),h=!!r.node(e.w),[d,f]=h?[e.w,e.v]:[e.v,e.w],p=e=>{const n=h?{v:e,w:t}:{v:t,w:e};return a.coreGraph.edge(n)};let g=p(f);g||(g=p(s(h,f,o.name)));const v=s(h,t),y=s(h,f,t);let m=i.node(y);if(!m){let t=i.node(v);if(!t){const e={name:v,type:u.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:l.UNSPECIFIED,inbound:h,attr:{}};t=new Jo(e),this.index[v]=t,i.setNode(v,t)}const e={name:y,type:u.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:l.UNSPECIFIED,inbound:h,attr:{}};m=new Jo(e),this.index[y]=m,i.setNode(y,m),i.setParent(y,v),t.node.cardinality++}const b=new $o(n);b.adjoiningMetaEdge=g,h?i.setEdge(y,d,b):i.setEdge(d,y,b)})}getOrCreateRenderNodeByName(t){if(!t)return null;if(t in this.index)return this.index[t];const e=this.getNodeByName(t);return e?(this.index[t]=e.isGroupNode?new ta(e,this.hierarchy.graphOptions):new Jo(e),this.index[t]):null}getRenderNodeByName(t){return this.index[t]}getNodeByName(t){return this.hierarchy.node(t)}}class Jo{constructor(t){this.node=t,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=t.width||0,this.height=t.height||0,this.displayName=t.name,this.attr=t.attr}}class $o{constructor(t){this.metaEdge=t,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]}}class ta extends Jo{constructor(t,e){super(t);const n=t.metaGraph.graph();e.compound=!0,this.coreGraph=qo(n.name,c.CORE,e)}}function ea(t,e){t.node.isGroupNode&&function(t,e){const n=i(e);t.coreGraph.nodes().map(e=>t.coreGraph.node(e)).forEach(t=>{var r,i,o,a,s,l;const{height:c,width:h}=t;switch(t.node.type){case u.NODE:Object.assign(t,n.nodeSize.node),t.height=c||n.nodeSize.node.height,t.width=h||n.nodeSize.node.width;break;case u.BRIDGE:Object.assign(t,n.nodeSize.bridge);break;case u.META:t.expanded?ea(t,e):(Object.assign(t,n.nodeSize.meta),t.height=n.nodeSize.meta.height,t.width=n.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+t.node.type)}if(!t.expanded){const n=t.attr;!function(t,e=!1){if(t.coreBox.width=t.width,t.coreBox.height=t.height,!e){const e=`${t.displayName}`.length,n=3;t.width=Math.max(t.coreBox.width,e*n)}}(t,e&&(0===t.node.type&&!!(null===(i=null===(r=null==e?void 0:e.nodeSize)||void 0===r?void 0:r.meta)||void 0===i?void 0:i.width)||1===t.node.type&&(!!(null===(a=null===(o=null==e?void 0:e.nodeSize)||void 0===o?void 0:o.node)||void 0===a?void 0:a.width)||!!n.width)||2===t.node.type&&!!(null===(l=null===(s=null==e?void 0:e.nodeSize)||void 0===s?void 0:s.bridge)||void 0===l?void 0:l.width)))}})}(t,e),t.node.type===u.META&&function(t,e){const n=i(e),r=n.subScene.meta;Object.assign(t,r);const{nodeSep:o,rankSep:a,edgeSep:s,align:l}=n.graph.meta,c={nodesep:o,ranksep:a,edgesep:s,align:l};Object.assign(t.coreBox,function(t,e){const{ranksep:n,nodesep:r,edgesep:i,align:o}=e;Object.assign(t.graph(),{ranksep:n,nodesep:r,edgesep:i,align:o});const a=[];if(t.nodes().forEach(e=>{t.node(e).node.type!==u.BRIDGE&&a.push(e)}),!a.length)return{width:0,height:0};Go(t);let s=1/0,l=1/0,c=-1/0,h=-1/0;return a.forEach(e=>{const n=t.node(e),r=.5*n.width,i=n.x-r,o=n.x+r;s=i<s?i:s,c=o>c?o:c;const a=.5*n.height,u=n.y-a,d=n.y+a;l=u<l?u:l,h=d>h?d:h}),t.edges().forEach(e=>{const n=t.edge(e),r=t.node(n.metaEdge.v),i=t.node(n.metaEdge.w);if(3===n.points.length&&function(t){let e=na(t[0],t[1]);for(let n=1;n<t.length-1;n++){const r=na(t[n],t[n+1]);if(Math.abs(r-e)>1)return!1;e=r}return!0}(n.points)){if(null!=r){const t=r.expanded?r.x:ra(r);n.points[0].x=t}if(null!=i){const t=i.expanded?i.x:ra(i);n.points[2].x=t}n.points=[n.points[0],n.points[1]]}const o=n.points[n.points.length-2];null!=i&&(n.points[n.points.length-1]=ia(o,i));const a=n.points[1];null!=r&&(n.points[0]=ia(a,r)),n.points.forEach(t=>{s=t.x<s?t.x:s,c=t.x>c?t.x:c,l=t.y<l?t.y:l,h=t.y>h?t.y:h})}),t.nodes().forEach(e=>{const n=t.node(e);n.x-=s,n.y-=l}),t.edges().forEach(e=>{t.edge(e).points.forEach(t=>{t.x-=s,t.y-=l})}),{width:c-s,height:h-l}}(t.coreGraph,c));let h=0;t.coreGraph.nodeCount()>0&&h++;const d=h<=1?0:h;t.coreBox.width+=d+d,t.coreBox.height=r.labelHeight+t.coreBox.height,t.width=t.coreBox.width+r.paddingLeft+r.paddingRight,t.height=t.paddingTop+t.coreBox.height+t.paddingBottom}(t,e)}function na(t,e){const n=e.x-t.x,r=e.y-t.y;return 180*Math.atan(r/n)/Math.PI}function ra(t){return t.expanded?t.x:t.x-t.width/2+0+t.coreBox.width/2}function ia(t,e){const n=e.expanded?e.x:ra(e),r=e.y,i=t.x-n,o=t.y-r;let a,s,u=e.expanded?e.width:e.coreBox.width,l=e.expanded?e.height:e.coreBox.height;return Math.abs(o)*u/2>Math.abs(i)*l/2?(o<0&&(l=-l),a=0===o?0:l/2*i/o,s=l/2):(i<0&&(u=-u),a=u/2,s=0===i?0:u/2*o/i),{x:n+a,y:r+s}}function oa(t,e,n){var i,o,a,s;const u=t.nodes.filter((t,e,n)=>n.findIndex(e=>e.id===t.id)!==e).map(t=>t.id);if(u.length)throw new Error(`Duplicated ids found: ${u.join(", ")}`);const l=function(t){const e={nodes:[]},n=t.compound,r=Object.keys(n||{}),i=new Map,o=(t,e=[])=>{if(i.has(t))return i.get(t);for(let i=0;i<r.length;i++){let a=r[i];if(n&&-1!==n[a].indexOf(t))return e.unshift(a),o(a,e)}return 0===e.length&&i.set(t,e),e},a=e=>t.edges.filter(t=>t.w===e).map(t=>({name:t.v}));return t.nodes.forEach(t=>{const n=t.id,r=[...o(n),n];let i=a(n);e.nodes.push({name:n,path:r,inputs:i,width:t.width,height:t.height,attr:Object.assign({},t)})}),e}(t),c=function(t,e){const n=(t,e)=>{for(let n of e.values())if(n.includes(t))return!0;return!1},r=(t,e=[])=>{if(0===Object.keys(t).length)return[...new Set(e)];const i=new Map(Object.keys(t).map(e=>[e,t[e]])),o={};for(let[t,r]of i)n(t,i)?o[t]=r:e=e.concat(t,r);return r(o,e)};return r(t).filter(t=>e.includes(t))}(t.compound||{},(null==e?void 0:e.expanded)||[]),h=function(t,e){return function(t){return new Ko(t)}(function(t,e){const{rankDirection:n,align:r}=e,i=new Qo({rankdir:n,align:r});return function(t,e){Object.keys(e.nodes).forEach(n=>{const r=e.nodes[n],i=r.path;let o=t.root;o.depth=Math.max(i.length,o.depth);for(let e=0;e<i.length&&(o.depth=Math.max(o.depth,i.length-e),o.cardinality+=r.cardinality,e!==i.length-1);e++){const n=i[e];let a=t.node(n);a||((a=Yo(n,t.graphOptions)).path=r.path.slice(0,e+1),a.parentNode=o,t.setNode(n,a),o.metaGraph.setNode(n,a)),o=a}t.setNode(r.name,r),r.parentNode=o,o.metaGraph.setNode(r.name,r)})}(i,t),function(t,e){const n=t.getNodeMap();let r=[],i=[];const o=(t,e)=>{let n=0;for(;t;)e[n++]=t.name,t=t.parentNode;return n-1};e.edges.forEach(a=>{r=[],i=[];let s=o(e.nodes[a.v],r),u=o(e.nodes[a.w],i);for(;r[s]===i[u];)if(u--,--s<0||u<0)throw Error("No difference found between ancestor paths.");const l=n[r[s+1]],c=r[s],h=i[u];let d=l.metaGraph.edge(c,h);d||(d=Xo(c,h),l.metaGraph.setEdge(c,h,d)),d.addBaseEdge(a,t)})}(i,t),i}(function(t){const e=new Uo;return t.nodes.map(t=>new Vo(t)).forEach(t=>{e.nodes[t.name]=t,t.inputs.forEach(n=>{!function(t,e,n){n.name!==e.name&&t.edges.push(Object.assign(Object.assign({},n.attr),{v:n.name,w:e.name}))}(e,t,n)})}),e}(t),e))}(l,{rankDirection:(null===(o=null===(i=null==n?void 0:n.graph)||void 0===i?void 0:i.meta)||void 0===o?void 0:o.rankDir)||(null==e?void 0:e.rankDirection)||r.graph.meta.rankDir,align:(null===(s=null===(a=null==n?void 0:n.graph)||void 0===a?void 0:a.meta)||void 0===s?void 0:s.align)||r.graph.meta.align});return function(t,e){c.forEach(e=>{const n=t.getRenderInfoNodes().find(t=>t.displayName===e);let r=n&&n.node&&n.node.name||"";const i=t.getRenderNodeByName(r);if(!i)throw new Error(`No nodes found: ${r}`);i.expanded=!0,t.buildSubHierarchy(r)})}(h),ea(h.root,n),ua(h.root)}function aa(t,e=!1){const n=JSON.parse(JSON.stringify(t)),r={nodes:[n],edges:[...n.edges]};return n.nodes.forEach(function t(e){(0===e.type||1===e.type)&&r.nodes.push(e),0===e.type&&(r.edges=r.edges.concat(e.edges)),Array.isArray(e.nodes)&&e.nodes.forEach(t)}),e&&r.nodes.forEach(t=>{const e=r.nodes.find(e=>e.id===t.parentNodeName);if(e){const n=e.x-e.width/2+e.paddingLeft,r=e.y-e.height/2+e.labelHeight+e.paddingTop;e.id!==a&&(t.x+=n,t.y+=r),0===t.type&&t.edges.forEach(e=>{e.points.forEach(e=>{e.x+=t.x-t.width/2+t.paddingLeft,e.y+=t.y-t.height/2+t.labelHeight+t.paddingTop})})}}),r}function sa(t,e,n,r){var i,o;let s=[];const u=(null===(i=n.find(e=>e.id===t))||void 0===i?void 0:i.path)||[],l=(null===(o=n.find(t=>t.id===e))||void 0===o?void 0:o.path)||[],c=[a,...u].slice(0,u.length).reverse(),h=[a,...l].slice(0,l.length);return c.forEach(i=>{const o=n.find(t=>t.id===i);s=s.concat(o.edges.filter(n=>n.baseEdgeList.some(n=>n.v===((null==r?void 0:r.v)||t)&&n.w===((null==r?void 0:r.w)||e))))}),h.filter(t=>!c.includes(t)).forEach(i=>{const o=n.find(t=>t.id===i);s=s.concat(o.edges.filter(n=>n.baseEdgeList.some(n=>n.v===((null==r?void 0:r.v)||t)&&n.w===((null==r?void 0:r.w)||e))))}),s}function ua(t){const e=t.coreGraph.nodes().map(e=>t.coreGraph.node(e));return Object.assign(Object.assign({},la(t)),{expanded:t.expanded,nodes:t.expanded?(n=e,n.map(t=>t.node.type===u.META?ua(t):la(t))):[],edges:t.expanded?function(t){return t.coreGraph.edges().map(e=>({renderInfoEdge:t.coreGraph.edge(e),edge:e})).filter(({renderInfoEdge:t})=>t.metaEdge).map(({edge:e,renderInfoEdge:n})=>{const r=function(t,e){const n=e.points.map(t=>Object.assign({},t));if(e.adjoiningMetaEdge){const r=e.adjoiningMetaEdge.points,i=e.metaEdge.inbound,o=i?r[r.length-1]:r[0],a=n[i?0:n.length-1],s=t.x-t.width/2,u=t.y-t.height/2,l=o.x-s,c=o.y-u,h=-t.paddingLeft,d=-(t.paddingTop+t.labelHeight);a.x=l+h,a.y=c+d}return n}(t,n);return{adjoiningEdge:n.adjoiningMetaEdge?{w:n.adjoiningMetaEdge.metaEdge.w,v:n.adjoiningMetaEdge.metaEdge.v}:null,inbound:n.metaEdge.inbound,w:e.w,v:e.v,points:r,weight:n.weight,baseEdgeList:n.metaEdge.baseEdgeList,parentNodeName:t.node.name}})}(t):[]});var n}function la(t){return{id:t.node.name,name:t.node.name,type:t.node.type,cardinality:t.node.cardinality,attr:t.attr,parentNodeName:t.node.parentNode?t.node.parentNode.name:null,coreBox:Object.assign({},t.coreBox),x:t.x,y:t.y,width:t.width,height:t.height,radius:t.radius,labelHeight:t.labelHeight,labelOffset:t.labelOffset,outboxWidth:t.outboxWidth,paddingLeft:t.paddingLeft,paddingTop:t.paddingTop,paddingRight:t.paddingRight,paddingBottom:t.paddingBottom,path:t.node.path}}}.call(e,n("DuR2"))},rcBw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clusterBundle=e.clusterCode=e.fruchtermanBundle=e.fruchtermanCode=void 0,e.fruchtermanCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass Fruchterman {\n  @in @out\n  u_Data: vec4[];\n  @in\n  u_K: float;\n  @in\n  u_K2: float;\n  \n  @in\n  u_Center: vec2;\n  @in\n  u_Gravity: float;\n  @in\n  u_ClusterGravity: float;\n  @in\n  u_Speed: float;\n  @in\n  u_MaxDisplace: float;\n  @in\n  u_Clustering: float;\n  @in\n  u_AttributeArray: vec4[];\n  @in\n  u_ClusterCenters: vec4[];\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const xDist = currentNode[0] - nextNode[0];\n        const yDist = currentNode[1] - nextNode[1];\n        const dist = (xDist * xDist + yDist * yDist) + 0.01;\n        let param = this.u_K2 / dist;\n        \n        if (dist > 0.0) {\n          dx += param * xDist;\n          dy += param * yDist;\n          if (xDist == 0 && yDist == 0) {\n            const sign = i < j ? 1 : -1;\n            dx += param * sign;\n            dy += param * sign;\n          }\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // \n    let dx = 0, dy = 0;\n    const vx = currentNode[0] - this.u_Center[0];\n    const vy = currentNode[1] - this.u_Center[1];\n    const gf = 0.01 * this.u_K * this.u_Gravity;\n    dx = gf * vx;\n    dy = gf * vy;\n    if (this.u_Clustering == 1) {\n      const clusterIdx = int(nodeAttributes[0]);\n      const center = this.u_ClusterCenters[clusterIdx];\n      const cvx = currentNode[0] - center[0];\n      const cvy = currentNode[1] - center[1];\n      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;\n      const parma = this.u_K * this.u_ClusterGravity / dist;\n      dx += parma * cvx;\n      dy += parma * cvy;\n    }\n    return [dx, dy];\n  }\n  calcAttractive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    const arr_offset = int(floor(currentNode[2] + 0.5));\n    const length = int(floor(currentNode[3] + 0.5));\n    const node_buffer: vec4;\n    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + p;\n      // when arr_idx % 4 == 0 update currentNodedx_buffer\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)];\n      }\n      const float_j = buf_offset == 0 ? node_buffer[0] :\n                      buf_offset == 1 ? node_buffer[1] :\n                      buf_offset == 2 ? node_buffer[2] :\n                                        node_buffer[3];\n      const nextNode = this.u_Data[int(float_j)];\n      const xDist = currentNode[0] - nextNode[0];\n      const yDist = currentNode[1] - nextNode[1];\n      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;\n      let attractiveF = dist / this.u_K;\n    \n      if (dist > 0.0) {\n        dx -= xDist * attractiveF;\n        dy -= yDist * attractiveF;\n        if (xDist == 0 && yDist == 0) {\n          const sign = i < int(float_j) ? 1 : -1;\n          dx -= sign * attractiveF;\n          dy -= sign * attractiveF;\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    let dx = 0, dy = 0;\n    if (i >= VERTEX_COUNT) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // [gravity, fx, fy, 0]\n    const nodeAttributes = this.u_AttributeArray[i];\n\n    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {\n      // the node is fixed\n      this.u_Data[i] = [\n        nodeAttributes[1],\n        nodeAttributes[2],\n        currentNode[2],\n        currentNode[3]\n      ];\n      return;\n    }\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    dx += repulsive[0];\n    dy += repulsive[1];\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode);\n    dx += attractive[0];\n    dy += attractive[1];\n    // gravity\n    const gravity = this.calcGravity(currentNode, nodeAttributes);\n    dx -= gravity[0];\n    dy -= gravity[1];\n    // speed\n    dx *= this.u_Speed;\n    dy *= this.u_Speed;\n\n    // move\n    const distLength = sqrt(dx * dx + dy * dy);\n    if (distLength > 0.0) {\n      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);\n      this.u_Data[i] = [\n        currentNode[0] + dx / distLength * limitedDist,\n        currentNode[1] + dy / distLength * limitedDist,\n        currentNode[2],\n        currentNode[3]\n      ];\n    }\n  }\n}\n",e.fruchtermanBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',e.clusterCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst VERTEX_COUNT;\nconst CLUSTER_COUNT;\n@numthreads(1, 1, 1)\nclass CalcCenter {\n  @in\n  u_Data: vec4[];\n  @in\n  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]\n  @in @out\n  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const center = this.u_ClusterCenters[i];\n    let sumx = 0;\n    let sumy = 0;\n    let count = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      const attributes = this.u_NodeAttributes[j];\n      const clusterIdx = int(attributes[0]);\n      const vertex = this.u_Data[j];\n      if (clusterIdx == i) {\n        sumx += vertex.x;\n        sumy += vertex.y;\n        count += 1;\n      }\n    }\n    this.u_ClusterCenters[i] = [\n      sumx / count,\n      sumy / count,\n      count,\n      i\n    ];\n  }\n}\n",e.clusterBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}'},reIy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=n("LsnM"),o=(r=n("Wb5I"))&&r.__esModule?r:{default:r};var a=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise(function(n,r){var a=new o.default;a.postMessage({_algorithmType:t,data:e}),a.onmessage=function(t){var e=t.data,o=e.data,s=e._algorithmType;i.MESSAGE.SUCCESS===s?n(o):r(),a.terminate()}})}};e.default=a},ruum:function(t,e){},rzQm:function(t,e,n){var r=n("pwgQ"),i=n("uJO0"),o=n("Y4K9"),a=n("kAgk");t.exports=function(t){return r(t)||i(t)||o(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},s1jE:function(t,e,n){t.exports=n.p+"static/img/second.e9c247d.png"},sBfk:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&("get"in i?e.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ForceLayout=void 0;var l=s(n("1/b1")),c=u(n("cP7J")),h=n("ZE1E"),d=n("w9t0"),f=n("D9Z3"),p=function(t){function e(e){var n=t.call(this)||this;return n.center=[0,0],n.nodeStrength=null,n.edgeStrength=null,n.preventOverlap=!1,n.clusterNodeStrength=null,n.clusterEdgeStrength=null,n.clusterEdgeDistance=null,n.clusterNodeSize=null,n.clusterFociStrength=null,n.linkDistance=50,n.alphaDecay=.028,n.alphaMin=.001,n.alpha=.3,n.collideStrength=1,n.workerEnabled=!1,n.tick=function(){},n.onLayoutEnd=function(){},n.ticking=void 0,e&&n.updateCfg(e),n}return i(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}},e.prototype.init=function(t){this.nodes=t.nodes||[];var e=t.edges||[];this.edges=e.map(function(t){var e={},n=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(t).forEach(function(r){n.indexOf(r)>-1||(e[r]=t[r])}),e}),this.ticking=!1},e.prototype.execute=function(t){var e=this,n=e.nodes,r=e.edges;if(!e.ticking){var i=e.forceSimulation,o=e.alphaMin,a=e.alphaDecay,s=e.alpha;if(i){if(t)if(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(r)),i.nodes(n),r&&e.edgeForce)e.edgeForce.links(r);else if(r&&!e.edgeForce){d=l.forceLink().id(function(t){return t.id}).links(r);e.edgeStrength&&d.strength(e.edgeStrength),e.linkDistance&&d.distance(e.linkDistance),e.edgeForce=d,i.force("link",d)}e.preventOverlap&&e.overlapProcess(i),i.alpha(s).restart(),this.ticking=!0}else try{var u=l.forceManyBody();if(e.nodeStrength&&u.strength(e.nodeStrength),i=l.forceSimulation().nodes(n),e.clustering){var h=(0,c.default)();h.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),r&&h.links(r),n&&h.nodes(n),h.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=h,i.force("group",h)}if(i.force("center",l.forceCenter(e.center[0],e.center[1])).force("charge",u).alpha(s).alphaDecay(a).alphaMin(o),e.preventOverlap&&e.overlapProcess(i),r){var d=l.forceLink().id(function(t){return t.id}).links(r);e.edgeStrength&&d.strength(e.edgeStrength),e.linkDistance&&d.distance(e.linkDistance),e.edgeForce=d,i.force("link",d)}if(e.workerEnabled&&!g()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),e.workerEnabled){i.stop();for(var p=function(t){var e=t.alphaMin(),n=t.alphaTarget(),r=t.alpha(),i=Math.log((e-n)/(r-n))/Math.log(1-t.alphaDecay());return Math.ceil(i)}(i),v=1;v<=p;v++)i.tick(),postMessage({nodes:n,currentTick:v,totalTicks:p,type:f.LAYOUT_MESSAGE.TICK},void 0);e.ticking=!1}else i.on("tick",function(){e.tick()}).on("end",function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()}),e.ticking=!0;e.forceSimulation=i,e.ticking=!0}catch(t){e.ticking=!1,console.warn(t)}}},e.prototype.overlapProcess=function(t){var e,n,r=this.nodeSize,i=this.nodeSpacing,o=this.collideStrength;if(n=(0,h.isNumber)(i)?function(){return i}:(0,h.isFunction)(i)?i:function(){return 0},r)if((0,h.isFunction)(r))e=function(t){return r(t)+n(t)};else if((0,h.isArray)(r)){var a=(r[0]>r[1]?r[0]:r[1])/2;e=function(t){return a+n(t)}}else if((0,h.isNumber)(r)){var s=r/2;e=function(t){return s+n(t)}}else e=function(){return 10};else e=function(t){return t.size?(0,h.isArray)(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2+n(t):(0,h.isObject)(t.size)?(t.size.width>t.size.height?t.size.width:t.size.height)/2+n(t):t.size/2+n(t):10+n(t)};t.force("collisionForce",l.forceCollide(e).strength(o))},e.prototype.updateCfg=function(t){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.forceSimulation=null,Object.assign(this,t)},e.prototype.destroy=function(){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.nodes=null,this.edges=null,this.destroyed=!0},e}(d.Base);function g(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}e.ForceLayout=p},siuG:function(t,e,n){t.exports=n("GY9q")},t3gJ:function(t,e,n){"use strict";var r=n("TToO"),i=n("f3pQ"),o=n("JwB+"),a=n("BuFP"),s=n("IgWN"),u=n("9fCz"),l=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function c(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function h(){}var d="\\s*([+-]?\\d+)\\s*",f="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",g=/^#([0-9a-f]{3,8})$/,v=new RegExp(`^rgb\\(${d},${d},${d}\\)$`),y=new RegExp(`^rgb\\(${p},${p},${p}\\)$`),m=new RegExp(`^rgba\\(${d},${d},${d},${f}\\)$`),b=new RegExp(`^rgba\\(${p},${p},${p},${f}\\)$`),x=new RegExp(`^hsl\\(${f},${p},${p}\\)$`),A=new RegExp(`^hsla\\(${f},${p},${p},${f}\\)$`),w={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _(){return this.rgb().formatHex()}function M(){return this.rgb().formatRgb()}function S(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=g.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?O(e):3===n?new k(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?I(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?I(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=v.exec(t))?new k(e[1],e[2],e[3],1):(e=y.exec(t))?new k(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=m.exec(t))?I(e[1],e[2],e[3],e[4]):(e=b.exec(t))?I(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=x.exec(t))?N(e[1],e[2]/100,e[3]/100,1):(e=A.exec(t))?N(e[1],e[2]/100,e[3]/100,e[4]):w.hasOwnProperty(t)?O(w[t]):"transparent"===t?new k(NaN,NaN,NaN,0):null}function O(t){return new k(t>>16&255,t>>8&255,255&t,1)}function I(t,e,n,r){return r<=0&&(t=e=n=NaN),new k(t,e,n,r)}function E(t){return t instanceof h||(t=S(t)),t?new k((t=t.rgb()).r,t.g,t.b,t.opacity):new k}function C(t,e,n,r){return 1===arguments.length?E(t):new k(t,e,n,null==r?1:r)}function k(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function T(){return`#${P(this.r)}${P(this.g)}${P(this.b)}`}function D(){const t=j(this.opacity);return`${1===t?"rgb(":"rgba("}${L(this.r)}, ${L(this.g)}, ${L(this.b)}${1===t?")":`, ${t})`}`}function j(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function L(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function P(t){return((t=L(t))<16?"0":"")+t.toString(16)}function N(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new z(t,e,n,r)}function R(t){if(t instanceof z)return new z(t.h,t.s,t.l,t.opacity);if(t instanceof h||(t=S(t)),!t)return new z;if(t instanceof z)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new z(a,s,u,t.opacity)}function B(t,e,n,r){return 1===arguments.length?R(t):new z(t,e,n,null==r?1:r)}function z(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function F(t){return(t=(t||0)%360)<0?t+360:t}function G(t){return Math.max(0,Math.min(1,t||0))}function V(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}l(h,S,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_,formatHex:_,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return R(this).formatHsl()},formatRgb:M,toString:M}),l(k,C,c(h,{brighter(t){return t=null==t?1/.7:Math.pow(1/.7,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new k(L(this.r),L(this.g),L(this.b),j(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T,formatHex:T,formatHex8:function(){return`#${P(this.r)}${P(this.g)}${P(this.b)}${P(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:D,toString:D})),l(z,B,c(h,{brighter(t){return t=null==t?1/.7:Math.pow(1/.7,t),new z(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new z(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new k(V(t>=240?t-240:t+120,i,r),V(t,i,r),V(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new z(F(this.h),G(this.s),G(this.l),j(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=j(this.opacity);return`${1===t?"hsl(":"hsla("}${F(this.h)}, ${100*G(this.s)}%, ${100*G(this.l)}%${1===t?")":`, ${t})`}`}}));const U=Math.PI/180,W=180/Math.PI,H=.96422,Y=1,X=.82521,q=4/29,Q=6/29,Z=3*Q*Q,K=Q*Q*Q;function J(t){if(t instanceof tt)return new tt(t.l,t.a,t.b,t.opacity);if(t instanceof st)return ut(t);t instanceof k||(t=E(t));var e,n,r=it(t.r),i=it(t.g),o=it(t.b),a=et((.2225045*r+.7168786*i+.0606169*o)/Y);return r===i&&i===o?e=n=a:(e=et((.4360747*r+.3850649*i+.1430804*o)/H),n=et((.0139322*r+.0971045*i+.7141733*o)/X)),new tt(116*a-16,500*(e-a),200*(a-n),t.opacity)}function $(t,e,n,r){return 1===arguments.length?J(t):new tt(t,e,n,null==r?1:r)}function tt(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function et(t){return t>K?Math.pow(t,1/3):t/Z+q}function nt(t){return t>Q?t*t*t:Z*(t-q)}function rt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function it(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ot(t){if(t instanceof st)return new st(t.h,t.c,t.l,t.opacity);if(t instanceof tt||(t=J(t)),0===t.a&&0===t.b)return new st(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*W;return new st(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function at(t,e,n,r){return 1===arguments.length?ot(t):new st(t,e,n,null==r?1:r)}function st(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function ut(t){if(isNaN(t.h))return new tt(t.l,0,0,t.opacity);var e=t.h*U;return new tt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}l(tt,$,c(h,{brighter(t){return new tt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new tt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new k(rt(3.1338561*(e=H*nt(e))-1.6168667*(t=Y*nt(t))-.4906146*(n=X*nt(n))),rt(-.9787684*e+1.9161415*t+.033454*n),rt(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),l(st,at,c(h,{brighter(t){return new st(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new st(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return ut(this).rgb()}}));var lt=-.14861,ct=1.78277,ht=-.29227,dt=-.90649,ft=1.97294,pt=ft*dt,gt=ft*ct,vt=ct*ht-dt*lt;function yt(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof mt)return new mt(t.h,t.s,t.l,t.opacity);t instanceof k||(t=E(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(vt*r+pt*e-gt*n)/(vt+pt-gt),o=r-i,a=(ft*(n-i)-ht*o)/dt,s=Math.sqrt(a*a+o*o)/(ft*i*(1-i)),u=s?Math.atan2(a,o)*W-120:NaN;return new mt(u<0?u+360:u,s,i,t.opacity)}(t):new mt(t,e,n,null==r?1:r)}function mt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function bt(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}l(mt,yt,c(h,{brighter(t){return t=null==t?1/.7:Math.pow(1/.7,t),new mt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new mt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*U,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new k(255*(e+n*(lt*r+ct*i)),255*(e+n*(ht*r+dt*i)),255*(e+n*(ft*r)),this.opacity)}}));var xt=t=>()=>t;function At(t,e){return function(n){return t+n*e}}function wt(t,e){var n=e-t;return n?At(t,n>180||n<-180?n-360*Math.round(n/360):n):xt(isNaN(t)?e:t)}function _t(t){return 1==(t=+t)?Mt:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):xt(isNaN(e)?n:e)}}function Mt(t,e){var n=e-t;return n?At(t,n):xt(isNaN(t)?e:t)}var St=function t(e){var n=_t(e);function r(t,e){var r=n((t=C(t)).r,(e=C(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Mt(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Ot(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=C(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}Ot(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return bt((n-r/e)*e,a,i,o,s)}}),Ot(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return bt((n-r/e)*e,i,o,a,s)}});var It=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}};function Et(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var Ct=function(t,e){return(Et(e)?It:kt)(t,e)};function kt(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Pt(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}var Tt=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},Dt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jt=new RegExp(Dt.source,"g");var Lt,Pt=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?xt(e):("number"===r?Tt:"string"===r?(n=S(e))?(e=n,St):function(t,e){var n,r,i,o=Dt.lastIndex=jt.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Dt.exec(t))&&(r=jt.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Tt(n,r)})),o=jt.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}:e instanceof S?St:e instanceof Date?function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}:Et(e)?It:Array.isArray(e)?kt:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Pt(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}:Tt)(t,e)},Nt=180/Math.PI,Rt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Bt=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Nt,skewX:Math.atan(u)*Nt,scaleX:a,scaleY:s}};function zt(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:Tt(t,i)},{i:u-2,x:Tt(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Tt(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Tt(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Tt(t,n)},{i:s-2,x:Tt(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}zt(function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Rt:Bt(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),zt(function(t){return null==t?Rt:(Lt||(Lt=document.createElementNS("http://www.w3.org/2000/svg","g")),Lt.setAttribute("transform",t),(t=Lt.transform.baseVal.consolidate())?(t=t.matrix,Bt(t.a,t.b,t.c,t.d,t.e,t.f)):Rt)},", ",")",")");var Ft=1e-12;function Gt(t){return((t=Math.exp(t))+1/t)/2}(function t(e,n,r){function i(t,i){var o,a,s=t[0],u=t[1],l=t[2],c=i[0],h=i[1],d=i[2],f=c-s,p=h-u,g=f*f+p*p;if(g<Ft)a=Math.log(d/l)/e,o=function(t){return[s+t*f,u+t*p,l*Math.exp(e*t*a)]};else{var v=Math.sqrt(g),y=(d*d-l*l+r*g)/(2*l*n*v),m=(d*d-l*l-r*g)/(2*d*n*v),b=Math.log(Math.sqrt(y*y+1)-y),x=Math.log(Math.sqrt(m*m+1)-m);a=(x-b)/e,o=function(t){var r,i=t*a,o=Gt(b),c=l/(n*v)*(o*(r=e*i+b,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(b));return[s+c*f,u+c*p,l*o/Gt(e*i+b)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i})(Math.SQRT2,2,4);function Vt(t){return function(e,n){var r=t((e=B(e)).h,(n=B(n)).h),i=Mt(e.s,n.s),o=Mt(e.l,n.l),a=Mt(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}Vt(wt),Vt(Mt);function Ut(t){return function(e,n){var r=t((e=at(e)).h,(n=at(n)).h),i=Mt(e.c,n.c),o=Mt(e.l,n.l),a=Mt(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}Ut(wt),Ut(Mt);function Wt(t){return function e(n){function r(e,r){var i=t((e=yt(e)).h,(r=yt(r)).h),o=Mt(e.s,r.s),a=Mt(e.l,r.l),s=Mt(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}Wt(wt),Wt(Mt);var Ht=n("V9uW"),Yt=n("TnYd"),Xt=function(t){return["fill","stroke","fillStyle","strokeStyle"].includes(t)},qt=function(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)},Qt=[1,0,0,0,1,0,0,0,1];function Zt(t,e,n){var r,i=e.startTime;if(n<i+e.delay||e._paused)return!1;var o=e.duration,a=e.easing,u=Object(Ht.a)(a);if(n=n-i-e.delay,e.repeat)r=u(r=n%o/o);else{if(!((r=n/o)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;r=u(r)}if(e.onFrame){var l=e.onFrame(r);t.attr(l)}else!function(t,e,n){var r={},i=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var a;for(var u in o)if(!Object(s.isEqual)(i[u],o[u]))if("path"===u){var l=o[u],c=i[u];l.length>c.length?(l=Yt.parsePathString(o[u]),c=Yt.parsePathString(i[u]),c=Yt.fillPathByDiff(c,l),c=Yt.formatPath(c,l),e.fromAttrs.path=c,e.toAttrs.path=l):e.pathFormatted||(l=Yt.parsePathString(o[u]),c=Yt.parsePathString(i[u]),c=Yt.formatPath(c,l),e.fromAttrs.path=c,e.toAttrs.path=l,e.pathFormatted=!0),r[u]=[];for(var h=0;h<l.length;h++){for(var d=l[h],f=c[h],p=[],g=0;g<d.length;g++)Object(s.isNumber)(d[g])&&f&&Object(s.isNumber)(f[g])?(a=Pt(f[g],d[g]),p.push(a(n))):p.push(d[g]);r[u].push(p)}}else if("matrix"===u){var v=Ct(i[u]||Qt,o[u]||Qt)(n);r[u]=v}else Xt(u)&&qt(o[u])?r[u]=o[u]:Object(s.isFunction)(o[u])||(a=Pt(i[u],o[u]),r[u]=a(n));t.attr(r)}}(t,e,r);return!1}var Kt=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this;this.timer=u.a(function(i){if(r.current=i,r.animators.length>0){for(var o=r.animators.length-1;o>=0;o--)if((t=r.animators[o]).destroyed)r.removeAnimator(o);else{if(!t.isAnimatePaused())for(var a=(e=t.get("animations")).length-1;a>=0;a--)n=e[a],Zt(t,n,i)&&(e.splice(a,1),!1,n.callback&&n.callback());0===e.length&&r.removeAnimator(o)}r.canvas.get("autoDraw")||r.canvas.draw()}})},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach(function(e){e.stopAnimate(t)}),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),Jt=n("Y1ED"),$t=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function te(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function ee(t,e,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===e?(r=n.fromShape,i=!0):"mouseleave"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&Object(a.g)(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var ne=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");Object(a.a)($t,function(n){e.addEventListener(n,t._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");Object(a.a)($t,function(n){e.removeEventListener(n,t._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,i,o){var a=new Jt.a(t,e);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],o=!1;if(i)i.call(this,n,r,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,n,a,a,null),this._emitEvent(t,e,n,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=r.attr("cursor")||s.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,u=n.timeStamp-this.mousedownTimeStamp,l=a.clientX-t.clientX,c=a.clientY-t.clientY;u>120||l*l+c*c>40?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){a.shape=r,te(r,t,a);for(var s=r.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||ee(s,t,a),a.propagationPath.push(s),s=s.getParent()}else{te(this.canvas,t,a)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),re=Object(i.a)(),ie=re&&"firefox"===re.name,oe=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return Object(r.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");Object(a.h)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new ne({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new Kt(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");a.c&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");a.c&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(ie&&!Object(a.e)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Object(a.e)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,r=e.y;return this.getPointByClient(n,r)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(o.a);e.a=oe},tN2E:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&("get"in i?e.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.ERLayout=e.ForceAtlas2Layout=e.ComboCombinedLayout=e.ComboForceLayout=e.GForceGPULayout=e.FruchtermanGPULayout=e.FruchtermanLayout=e.MDSLayout=e.ConcentricLayout=e.RadialLayout=e.DagreCompoundLayout=e.DagreLayout=e.CircularLayout=e.ForceLayout=e.Force2Layout=e.GForceLayout=e.RandomLayout=e.GridLayout=e.Layouts=e.Layout=void 0;var o=n("Upny");Object.defineProperty(e,"GridLayout",{enumerable:!0,get:function(){return o.GridLayout}});var a=n("VWzN");Object.defineProperty(e,"RandomLayout",{enumerable:!0,get:function(){return a.RandomLayout}});var s=n("9938");Object.defineProperty(e,"GForceLayout",{enumerable:!0,get:function(){return s.GForceLayout}});var u=n("CLuh");Object.defineProperty(e,"Force2Layout",{enumerable:!0,get:function(){return u.Force2Layout}});var l=n("mxuM");Object.defineProperty(e,"ForceLayout",{enumerable:!0,get:function(){return l.ForceLayout}});var c=n("Rq7w");Object.defineProperty(e,"CircularLayout",{enumerable:!0,get:function(){return c.CircularLayout}});var h=n("Cq/5");Object.defineProperty(e,"DagreLayout",{enumerable:!0,get:function(){return h.DagreLayout}});var d=n("0IlV");Object.defineProperty(e,"DagreCompoundLayout",{enumerable:!0,get:function(){return d.DagreCompoundLayout}});var f=n("uJhO");Object.defineProperty(e,"RadialLayout",{enumerable:!0,get:function(){return f.RadialLayout}});var p=n("5XWd");Object.defineProperty(e,"ConcentricLayout",{enumerable:!0,get:function(){return p.ConcentricLayout}});var g=n("6D6L");Object.defineProperty(e,"MDSLayout",{enumerable:!0,get:function(){return g.MDSLayout}});var v=n("Fg8h");Object.defineProperty(e,"FruchtermanLayout",{enumerable:!0,get:function(){return v.FruchtermanLayout}});var y=n("COaM");Object.defineProperty(e,"FruchtermanGPULayout",{enumerable:!0,get:function(){return y.FruchtermanGPULayout}});var m=n("ZoBt");Object.defineProperty(e,"GForceGPULayout",{enumerable:!0,get:function(){return m.GForceGPULayout}});var b=n("C3+6");Object.defineProperty(e,"ComboForceLayout",{enumerable:!0,get:function(){return b.ComboForceLayout}});var x=n("nOum");Object.defineProperty(e,"ComboCombinedLayout",{enumerable:!0,get:function(){return x.ComboCombinedLayout}});var A=n("5tg8");Object.defineProperty(e,"ForceAtlas2Layout",{enumerable:!0,get:function(){return A.ForceAtlas2Layout}});var w=n("Iker");Object.defineProperty(e,"ERLayout",{enumerable:!0,get:function(){return w.ERLayout}});var _=n("fCEa");Object.defineProperty(e,"Layout",{enumerable:!0,get:function(){return _.Layout}}),Object.defineProperty(e,"Layouts",{enumerable:!0,get:function(){return _.Layouts}}),i(n("IjT6"),e)},tZ0v:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("IgWN"),i=n("BIhM"),o=function(){function t(t,e,n,r,o){this.fromNode=t,this.toNode=e,this.nodeEdgeNodeLabel={nodeLabel1:n||i.VACANT_NODE_LABEL,edgeLabel:r||i.VACANT_EDGE_LABEL,nodeLabel2:o||i.VACANT_NODE_LABEL}}return t.prototype.equalTo=function(t){return this.fromNode===t.formNode&&this.toNode===t.toNode&&this.nodeEdgeNodeLabel===t.nodeEdgeNodeLabel},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t}(),a=function(){function t(){this.rmpath=[],this.dfsEdgeList=[]}return t.prototype.equalTo=function(t){var e=this.dfsEdgeList.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(this.dfsEdgeList[n]!==t[n])return!1;return!0},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t.prototype.pushBack=function(t,e,n,r,i){return this.dfsEdgeList.push(new o(t,e,n,r,i)),this.dfsEdgeList},t.prototype.toGraph=function(t,e){void 0===t&&(t=i.VACANT_GRAPH_ID),void 0===e&&(e=!1);var n=new i.Graph(t,!0,e);return this.dfsEdgeList.forEach(function(t){var e=t.fromNode,r=t.toNode,o=t.nodeEdgeNodeLabel,a=o.nodeLabel1,s=o.edgeLabel,u=o.nodeLabel2;a!==i.VACANT_NODE_LABEL&&n.addNode(e,a),u!==i.VACANT_NODE_LABEL&&n.addNode(r,u),a!==i.VACANT_NODE_LABEL&&u!==a&&n.addEdge(void 0,e,r,s)}),n},t.prototype.buildRmpath=function(){this.rmpath=[];for(var t=void 0,e=this.dfsEdgeList.length-1;e>=0;e--){var n=this.dfsEdgeList[e],r=n.fromNode,i=n.toNode;r<i&&(void 0===t||i===t)&&(this.rmpath.push(e),t=r)}return this.rmpath},t.prototype.getNodeNum=function(){var t={};return this.dfsEdgeList.forEach(function(e){t[e.fromNode]||(t[e.fromNode]=!0),t[e.toNode]||(t[e.toNode]=!0)}),Object.keys(t).length},t}(),s=function(){function t(t){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],t){for(;t;){var e=t.edge;this.edges.push(e),this.nodesUsed[e.from]=1,this.nodesUsed[e.to]=1,this.edgesUsed[e.id]=1,t=t.preNode}this.edges=this.edges.reverse()}}return t.prototype.hasNode=function(t){return 1===this.nodesUsed[t.id]},t.prototype.hasEdge=function(t){return 1===this.edgesUsed[t.id]},t}(),u=function(){function t(t){var e=t.graphs,n=t.minSupport,r=void 0===n?2:n,i=t.minNodeNum,o=void 0===i?1:i,s=t.maxNodeNum,u=void 0===s?4:s,l=t.top,c=void 0===l?10:l,h=t.directed,d=void 0!==h&&h,f=t.verbose,p=void 0!==f&&f;this.graphs=e,this.dfsCode=new a,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=c,this.directed=d,this.counter=0,this.maxNodeNum=u,this.minNodeNum=o,this.verbose=p,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return t.prototype.findForwardRootEdges=function(t,e){var n=this,r=[],i=t.nodeMap;return e.edges.forEach(function(t){(n.directed||e.label<=i[t.to].label)&&r.push(t)}),r},t.prototype.findBackwardEdge=function(t,e,n,r){if(!this.directed&&e===n)return null;for(var i=t.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var u=o[s];if(!r.hasEdge(u)&&u.to===e.from)if(this.directed){if(i[e.from].label<i[n.to].label||i[e.from].label===i[n.to].label&&e.label<=u.label)return u}else if(e.label<u.label||e.label===u.label&&i[e.to].label<=i[n.to].label)return u}return null},t.prototype.findForwardPureEdges=function(t,e,n,r){for(var i=[],o=e.to,a=t.nodeMap[o].edges,s=a.length,u=0;u<s;u++){var l=a[u],c=t.nodeMap[l.to];n<=c.label&&!r.hasNode(c)&&i.push(l)}return i},t.prototype.findForwardRmpathEdges=function(t,e,n,r){for(var i=[],o=t.nodeMap,a=o[e.to].label,s=o[e.from].edges,u=s.length,l=0;l<u;l++){var c=s[l],h=o[c.to].label;e.to===c.to||n>h||r.hasNode(o[c.to])||(e.label<c.label||e.label===c.label&&a<=h)&&i.push(c)}return i},t.prototype.getSupport=function(t){var e={};return t.forEach(function(t){e[t.graphId]||(e[t.graphId]=!0)}),Object.keys(e).length},t.prototype.findMinLabel=function(t){var e=void 0;return Object.keys(t).forEach(function(n){var r=t[n],i=r.nodeLabel1,o=r.edgeLabel,a=r.nodeLabel2;e?(i<e.nodeLabel1||i===e.nodeLabel1&&o<e.edgeLabel||i===e.nodeLabel1&&o===e.edgeLabel&&a<e.nodeLabel2)&&(e={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}):e={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}}),e},t.prototype.isMin=function(){var t=this,e=this.dfsCode;if(this.verbose&&console.log("isMin checking",e),1===e.dfsEdgeList.length)return!0;var n=this.directed,r=e.toGraph(i.VACANT_GRAPH_ID,n),u=r.nodeMap,l=new a,c={};r.nodes.forEach(function(e){t.findForwardRootEdges(r,e).forEach(function(t){var n=u[t.to],i="".concat(e.label,"-").concat(t.label,"-").concat(n.label);c[i]||(c[i]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:n.label});var o={graphId:r.id,edge:t,preNode:null};c[i].projected.push(o)})});var h=this.findMinLabel(c);if(h){l.dfsEdgeList.push(new o(0,1,h.nodeLabel1,h.edgeLabel,h.nodeLabel2));var d="".concat(h.nodeLabel1,"-").concat(h.edgeLabel,"-").concat(h.nodeLabel2);return function a(c){for(var h=l.buildRmpath(),d=l.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,f=l.dfsEdgeList[h[0]].toNode,p={},g=!1,v=0,y=n?-1:0,m=function(e){if(g)return"break";c.forEach(function(n){var i=new s(n),o=t.findBackwardEdge(r,i.edges[h[e]],i.edges[h[0]],i);o&&(p[o.label]||(p[o.label]={projected:[],edgeLabel:o.label}),p[o.label].projected.push({graphId:r.id,edge:p,preNode:n}),v=l.dfsEdgeList[h[e]].fromNode,g=!0)})},b=h.length-1;b>y&&"break"!==m(b);b--);if(g){var x=t.findMinLabel(p);l.dfsEdgeList.push(new o(f,v,i.VACANT_NODE_LABEL,x.edgeLabel,i.VACANT_NODE_LABEL));var A=l.dfsEdgeList.length-1;return t.dfsCode.dfsEdgeList[A]===l.dfsEdgeList[A]&&a(p[x.edgeLabel].projected)}var w={};g=!1;var _=0;c.forEach(function(e){var n=new s(e),i=t.findForwardPureEdges(r,n.edges[h[0]],d,n);i.length>0&&(g=!0,_=f,i.forEach(function(t){var n="".concat(t.label,"-").concat(u[t.to].label);w[n]||(w[n]={projected:[],edgeLabel:t.label,nodeLabel2:u[t.to].label}),w[n].projected.push({graphId:r.id,edge:t,preNode:e})}))});var M=h.length,S=function(e){if(g)return"break";var n=h[e];c.forEach(function(e){var i=new s(e),o=t.findForwardRmpathEdges(r,i.edges[n],d,i);o.length>0&&(g=!0,_=l.dfsEdgeList[n].fromNode,o.forEach(function(t){var n="".concat(t.label,"-").concat(u[t.to].label);w[n]||(w[n]={projected:[],edgeLabel:t.label,nodeLabel2:u[t.to].label}),w[n].projected.push({graphId:r.id,edge:t,preNode:e})}))})};for(b=0;b<M&&"break"!==S(b);b++);if(!g)return!0;var O=t.findMinLabel(w);l.dfsEdgeList.push(new o(_,f+1,i.VACANT_NODE_LABEL,O.edgeLabel,O.nodeLabel2));var I=l.dfsEdgeList.length-1;return e.dfsEdgeList[I]===l.dfsEdgeList[I]&&a(w["".concat(O.edgeLabel,"-").concat(O.nodeLabel2)].projected)}(c[d].projected)}},t.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var t=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,r.clone)(t))}},t.prototype.subGraphMining=function(t){var e=this;if(!(this.getSupport(t)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),a=this.dfsCode.dfsEdgeList[r[0]].toNode,u=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,l={},c={};t.forEach(function(t){for(var i=e.graphs[t.graphId],o=i.nodeMap,h=new s(t),d=r.length-1;d>=0;d--){var f=e.findBackwardEdge(i,h.edges[r[d]],h.edges[r[0]],h);if(f){var p="".concat(e.dfsCode.dfsEdgeList[r[d]].fromNode,"-").concat(f.label);c[p]||(c[p]={projected:[],toNodeId:e.dfsCode.dfsEdgeList[r[d]].fromNode,edgeLabel:f.label}),c[p].projected.push({graphId:t.graphId,edge:f,preNode:t})}}if(!(n>=e.maxNodeNum)){e.findForwardPureEdges(i,h.edges[r[0]],u,h).forEach(function(e){var n="".concat(a,"-").concat(e.label,"-").concat(o[e.to].label);l[n]||(l[n]={projected:[],fromNodeId:a,edgeLabel:e.label,nodeLabel2:o[e.to].label}),l[n].projected.push({graphId:t.graphId,edge:e,preNode:t})});var g=function(n){e.findForwardRmpathEdges(i,h.edges[r[n]],u,h).forEach(function(i){var a="".concat(e.dfsCode.dfsEdgeList[r[n]].fromNode,"-").concat(i.label,"-").concat(o[i.to].label);l[a]||(l[a]={projected:[],fromNodeId:e.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:i.label,nodeLabel2:o[i.to].label}),l[a].projected.push({graphId:t.graphId,edge:i,preNode:t})})};for(d=0;d<r.length;d++)g(d)}}),Object.keys(c).forEach(function(t){var n=c[t],r=n.toNodeId,i=n.edgeLabel;e.dfsCode.dfsEdgeList.push(new o(a,r,"-1",i,"-1")),e.subGraphMining(c[t].projected),e.dfsCode.dfsEdgeList.pop()}),Object.keys(l).forEach(function(t){var n=l[t],r=n.fromNodeId,s=n.edgeLabel,u=n.nodeLabel2;e.dfsCode.dfsEdgeList.push(new o(r,a+1,i.VACANT_NODE_LABEL,s,u)),e.subGraphMining(l[t].projected),e.dfsCode.dfsEdgeList.pop()})}},t.prototype.generate1EdgeFrequentSubGraphs=function(){var t=this.graphs,e=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},a={},s={};return Object.keys(t).forEach(function(n){var r=t[n],u=r.nodeMap;r.nodes.forEach(function(t,r){var l=t.label,c="".concat(n,"-").concat(l);if(!a[c]){var h=i[l]||0;h++,i[l]=h}a[c]={graphKey:n,label:l},t.edges.forEach(function(t){var r=l,i=u[t.to].label;if(!e&&r>i){var a=i;i=r,r=a}var c=t.label,h="".concat(n,"-").concat(r,"-").concat(c,"-").concat(i),d="".concat(r,"-").concat(c,"-").concat(i);if(!o[d]){var f=o[d]||0;f++,o[d]=f}s[h]={graphId:n,nodeLabel1:r,edgeLabel:c,nodeLabel2:i}})})}),Object.keys(i).forEach(function(t){if(!(i[t]<n)){var e={nodes:[],edges:[]};e.nodes.push({id:"0",label:t}),r.push(e)}}),r},t.prototype.run=function(){var t=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var e=this.graphs,n=(this.directed,{});Object.keys(e).forEach(function(r){var i=e[r],o=i.nodeMap;i.nodes.forEach(function(e){t.findForwardRootEdges(i,e).forEach(function(t){var i=o[t.to],a="".concat(e.label,"-").concat(t.label,"-").concat(i.label);n[a]||(n[a]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:i.label});var s={graphId:r,edge:t,preNode:null};n[a].projected.push(s)})})}),Object.keys(n).forEach(function(e){var r=n[e],i=r.projected,a=r.nodeLabel1,s=r.edgeLabel,u=r.nodeLabel2;t.dfsCode.dfsEdgeList.push(new o(0,1,a,s,u)),t.subGraphMining(i),t.dfsCode.dfsEdgeList.pop()})}},t}(),l=function(t){var e=t.graphs,n=t.directed,r=void 0!==n&&n,o=t.nodeLabelProp,a=void 0===o?"cluster":o,s=t.edgeLabelProp,l=void 0===s?"cluster":s,c=function(t,e,n,r){var o={};return Object.keys(t).forEach(function(a,s){var u=t[a],l=new i.Graph(s,!0,e),c={};u.nodes.forEach(function(t,e){l.addNode(e,t[n]),c[t.id]=e}),u.edges.forEach(function(t,e){var n=c[t.source],i=c[t.target];l.addEdge(-1,n,i,t[r])}),l&&l.getNodeNum()&&(o[l.id]=l)}),o}(e,r,a,l),h=t.minSupport,d=t.maxNodeNum,f=t.minNodeNum,p=t.verbose,g=t.top,v=new u({graphs:c,minSupport:h,maxNodeNum:d,minNodeNum:f,top:g,verbose:p,directed:r});return v.run(),function(t,e,n){var r=[];return t.forEach(function(t){var i={nodes:[],edges:[]};t.nodes.forEach(function(t){var n;i.nodes.push(((n={id:"".concat(t.id)})[e]=t.label,n))}),t.edges.forEach(function(t){var e;i.edges.push(((e={source:"".concat(t.from),target:"".concat(t.to)})[n]=t.label,e))}),r.push(i)}),r}(v.frequentSubgraphs,a,l)};e.default=l},uJO0:function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},uJhO:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&("get"in i?e.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n("2F+n"),e)},uSER:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pageRankAsync=e.minimumSpanningTreeAsync=e.louvainAsync=e.labelPropagationAsync=e.getOutDegreeAsync=e.getNeighborsAsync=e.getInDegreeAsync=e.getDegreeAsync=e.getAdjMatrixAsync=e.floydWarshallAsync=e.findShortestPathAsync=e.findAllPathAsync=e.dijkstraAsync=e.detectCycleAsync=e.detectAllUndirectedCycleAsync=e.detectAllDirectedCycleAsync=e.detectAllCyclesAsync=e.connectedComponentAsync=e.GADDIAsync=void 0;var r,i=(r=n("reIy"))&&r.__esModule?r:{default:r},o=n("LsnM");e.getAdjMatrixAsync=function(t,e){return(0,i.default)(o.ALGORITHM.getAdjMatrix).apply(void 0,[t,e])};e.connectedComponentAsync=function(t,e){return(0,i.default)(o.ALGORITHM.connectedComponent).apply(void 0,[t,e])};e.getDegreeAsync=function(t){return(0,i.default)(o.ALGORITHM.getDegree)(t)};e.getInDegreeAsync=function(t,e){return(0,i.default)(o.ALGORITHM.getInDegree)(t,e)};e.getOutDegreeAsync=function(t,e){return(0,i.default)(o.ALGORITHM.getOutDegree)(t,e)};e.detectCycleAsync=function(t){return(0,i.default)(o.ALGORITHM.detectCycle)(t)};e.detectAllCyclesAsync=function(t){return(0,i.default)(o.ALGORITHM.detectAllCycles)(t)};e.detectAllDirectedCycleAsync=function(t){return(0,i.default)(o.ALGORITHM.detectAllDirectedCycle)(t)};e.detectAllUndirectedCycleAsync=function(t){return(0,i.default)(o.ALGORITHM.detectAllUndirectedCycle)(t)};e.dijkstraAsync=function(t,e,n,r){return(0,i.default)(o.ALGORITHM.dijkstra).apply(void 0,[t,e,n,r])};e.findAllPathAsync=function(t,e,n,r){return(0,i.default)(o.ALGORITHM.findAllPath).apply(void 0,[t,e,n,r])};e.findShortestPathAsync=function(t,e,n,r,a){return(0,i.default)(o.ALGORITHM.findShortestPath).apply(void 0,[t,e,n,r,a])};e.floydWarshallAsync=function(t,e){return(0,i.default)(o.ALGORITHM.floydWarshall).apply(void 0,[t,e])};e.labelPropagationAsync=function(t,e,n,r){return void 0===r&&(r=1e3),(0,i.default)(o.ALGORITHM.labelPropagation)(t,e,n,r)};e.louvainAsync=function(t,e,n,r){return(0,i.default)(o.ALGORITHM.louvain)(t,e,n,r)};e.minimumSpanningTreeAsync=function(t,e,n){return(0,i.default)(o.ALGORITHM.minimumSpanningTree).apply(void 0,[t,e,n])};e.pageRankAsync=function(t,e,n){return(0,i.default)(o.ALGORITHM.pageRank).apply(void 0,[t,e,n])};e.getNeighborsAsync=function(t,e,n){return(0,i.default)(o.ALGORITHM.getNeighbors).apply(void 0,[t,e,n])};e.GADDIAsync=function(t,e,n,r,a,s,u){return void 0===n&&(n=!1),void 0===s&&(s="cluster"),void 0===u&&(u="cluster"),(0,i.default)(o.ALGORITHM.GADDI).apply(void 0,[t,e,n,r,a,s,u])}},"uX+9":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+ZTV"),i=function(t,e,n,o,a,s,u){var l=t.children(u);if(null===l||void 0===l?void 0:l.length){var c=(0,r.addBorderNode)(t,"_bt"),h=(0,r.addBorderNode)(t,"_bb"),d=t.node(u);t.setParent(c,u),d.borderTop=c,t.setParent(h,u),d.borderBottom=h,null===l||void 0===l||l.forEach(function(r){i(t,e,n,o,a,s,r);var l=t.node(r),d=l.borderTop?l.borderTop:r,f=l.borderBottom?l.borderBottom:r,p=l.borderTop?o:2*o,g=d!==f?1:a-s[u]+1;t.setEdge(c,d,{minlen:g,weight:p,nestingEdge:!0}),t.setEdge(f,h,{minlen:g,weight:p,nestingEdge:!0})}),t.parent(u)||t.setEdge(e,c,{weight:0,minlen:a+s[u]})}else u!==e&&t.setEdge(e,u,{weight:0,minlen:n})},o=function(t){var e,n={},r=function(e,i){var o=t.children(e);null===o||void 0===o||o.forEach(function(t){return r(t,i+1)}),n[e]=i};return null===(e=t.children())||void 0===e||e.forEach(function(t){return r(t,1)}),n},a=function(t){var e=0;return t.edges().forEach(function(n){e+=t.edge(n).weight}),e};e.default={run:function(t){var e,n=(0,r.addDummyNode)(t,"root",{},"_root"),s=o(t),u=Math.max.apply(Math,Object.values(s));Math.abs(u)===1/0&&(u=1);var l=u-1,c=2*l+1;t.graph().nestingRoot=n,t.edges().forEach(function(e){t.edge(e).minlen*=c});var h=a(t)+1;null===(e=t.children())||void 0===e||e.forEach(function(e){i(t,n,c,h,l,s,e)}),t.graph().nodeRankFactor=c},cleanup:function(t){var e=t.graph();e.nestingRoot&&t.removeNode(e.nestingRoot),delete e.nestingRoot,t.edges().forEach(function(e){t.edge(e).nestingEdge&&t.removeEdgeObj(e)})}}},"uaD/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findShortestPath=e.findAllPath=void 0;var r,i=(r=n("2j9C"))&&r.__esModule?r:{default:r},o=n("lSAc");e.findShortestPath=function(t,e,n,r,o){var a=(0,i.default)(t,e,r,o),s=a.length,u=a.path,l=a.allPath;return{length:s[n],path:u[n],allPath:l[n]}};e.findAllPath=function(t,e,n,r){var i;if(e===n)return[[e]];var a=t.edges,s=void 0===a?[]:a,u=[e],l=((i={})[e]=!0,i),c=[],h=[],d=r?(0,o.getNeighbors)(e,s,"target"):(0,o.getNeighbors)(e,s);for(c.push(d);u.length>0&&c.length>0;){var f=c[c.length-1];if(f.length){var p=f.shift();if(p&&(u.push(p),l[p]=!0,d=r?(0,o.getNeighbors)(p,s,"target"):(0,o.getNeighbors)(p,s),c.push(d.filter(function(t){return!l[t]}))),u[u.length-1]===n){var g=u.map(function(t){return t});h.push(g),v=u.pop(),l[v]=!1,c.pop()}}else{var v=u.pop();l[v]=!1,c.pop()}}return h}},uihL:function(t,e,n){t.exports=n.p+"static/img/faultInjectIcon.8ff9737.png"},uqUo:function(t,e,n){var r=n("kM2E"),i=n("FeBl"),o=n("S82l");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},"v/lF":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){for(var n=t.nodes().filter(function(e){var n;return!(null===(n=t.children(e))||void 0===n?void 0:n.length)}).map(function(e){return t.node(e).rank}),r=Math.max.apply(Math,n),i=[],o=0;o<r+1;o++)i[o]=[];null===e||void 0===e||e.forEach(function(e){var n=t.node(e);!n||null!==n&&void 0!==n&&n.dummy||isNaN(n.rank)||(n.fixorder=i[n.rank].length,i[n.rank].push(e))})}},"v3v+":function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wgARCACoAKQDASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAUGAwQHAQL/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGgeAAAAAAAAAAAAAAAAAAAAAAAAAAe7xqbNntZzD47HHnIvi01oxgAAAAAH2bV807aZNWtVcv0tyS5k/y/rnMivPfAAAAABkx5To8tHypzSHuWQq9v3tEn+cZ4I+fAAAAAAZcXp1Ge5HLnRM8FOkXzG3UIxAAAAAAAAbWruHQLNXpU5vBS8OAAAAAAAD0+rFrdEMUJu0M19b3wAAAAAAAbuvdCVlclOIuvZ9cAAAAAAAfXzJm9foz7MfPtmMAAAAAAAAEiEvDBo+AAAAAAB//EACYQAAICAQMEAgIDAAAAAAAAAAECAwQAERJABRMhMDIzFDEiI2D/2gAIAQEAAQUC/wA8EJwVpDn4cuGtIuFSOBFXMmV6ByGoqjsR5Yqqwt0iMZdp9sEe5qdPQKAgkshMHUP5Ry78sx6rcGkvsTy1GspGgjW7dZMa87Ytht3T5i2SeUvqO4fYnzofC0dI7bakLriVmOUIimTWFRbkm6T2R/Pp6/12U3JLQLGLpZz8Xsq1tYss3O5jHX2x/ZQkUR71ICKcAAy6wEdh9W9w8ZHbZMS+2UZjJjnQX7Hhzq3Aj850weJvruse5wYP30/9WZNEtnWTgKNTUrEmFe0t2zkr7m4FSuWeCFUS5OEE8xc8CGLc1Kvoth9iXZdx4CruyhU3D6Y7t3XHk3H3ga5TrljAgiS7ZAEsm5uBWh3PXjEIsXFC2Zi78GGx2y/UtVksb8J9v//EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQMBAT8Bc//EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQIBAT8Bc//EAB8QAAEEAgIDAAAAAAAAAAAAAAEAECFAETEwMiBQYP/aAAgBAQAGPwL5/S6qQppSF1UCjl8ZY8wQLRSCHjPOEH0++YIStuUaG1tyEahqmlpjNSKQQNTLEVCM05bfov/EACAQAAICAwACAwEAAAAAAAAAAAABETEgITAQcUBBUWH/2gAIAQEAAT8hb2SSSSSSSSSSSSSSSSSSSSO/iu/iu/iu+VWitP8Ad45qWbvglLHWjTlCpCKKg2xk00h8Tyd8GrUCFQPpx94iYC1FuQSy/uTvNIQ8A9GSkyxNwP1IibP4SPsti74Rzc70Ofse+vEvQ8psS6B3i7z29w0GvRQxLYhI0TiTJzgNecneevtJyDGUolrwlfic3ebSkj0mHVYSbZsRDkD2uDvjNh62HhvQ8qR3wd8UOpSxT4Q74O+GmFmQj8CJoGMfF3mlLgWW1oTm0PyYedjc8XebBLYIRf8AQ1mxueTvJ9CAZDj0DNgc7m7xmQLcrxpJA5vR3gtjCUGg1JNDxGnV3gtM3ZppHPZJ1//aAAwDAQACAAMAAAAQYwwwwwwwwwwoAAAAAAAAAAoAAAAM0IAAAoAAU4AcYAAAoAAQ4IMQAAAoAAA0UYgAAAoAAAEMkAAAAoAAAEcAAAAAoAAAwAAAAAAoAIYcAAAAAAgA8ggAAAAAA//EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQMBAT8Qc//EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQIBAT8Qc//EACMQAQACAQQDAAMBAQAAAAAAAAEAETEhUXGRIDBBQGGBoRD/2gAIAQEAAT8QS2rneW3e5bd7lt3uW3e5bd7lt3uW3e5bd7lt3uW3e5bd7lt3uW3e5bd7lt3uW3e5bd7lt3uW3e5bd7mTn8XJz+Lk5/Fyc+pA1rg9uwXEjFUqLpR55OfQ9RBIHX9S83TiEDOSHhABNfCKtH8j/P5ZOfMLalrTbtFEb0dZqWiEGa0oGmZmXjcoow/Jpx9eWTnztD6wWi+IBtVEZCP9l1d1/cprud4IJ+f8BLWboKZ45OfP/fHQqKQ1Fs21lEDHhB6gZtRADXW8U3orHafHJz5mnFz/AFDQW1Ubuu2MCEaVgE01EiXLWWs35ZOfNCGBkBqU5FRK6MrdJXiDUQY8xStt+eTnzURkh4AIKHuhm90gKvhBPqxmWoy+jJz6aUN4DdhLmbpjotjtvoyc+lkUXrLipWkd/wAQmDerMnoyc+hqxbG1KXaa/rRAJ/1LiZfTk582MfZetSQdggfJSRjfqL3iK305OfOrBRZQxeI2AFQPDzETbfqyc+SAC9YQXZTrDp0ERAG/IoK6+vJz4rUzCC0uaxKomrEpjfdlsW315OfAWohCzMLboXrC3GvjG1bMVW19mTnwVDK53pEorFRo2qI9fb//2Q=="},vImi:function(t,e,n){var r=n("Y/tY");function i(t){var e=function(){for(var t={},e=Object.keys(r),n=e.length,i=0;i<n;i++)t[e[i]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var i=n.pop(),o=Object.keys(r[i]),a=o.length,s=0;s<a;s++){var u=o[s],l=e[u];-1===l.distance&&(l.distance=e[i].distance+1,l.parent=i,n.unshift(u))}return e}function o(t,e){return function(n){return e(t(n))}}function a(t,e){for(var n=[e[t].parent,t],i=r[e[t].parent][t],a=e[t].parent;e[a].parent;)n.unshift(e[a].parent),i=o(r[e[a].parent][a],i),a=e[a].parent;return i.conversion=n,i}t.exports=function(t){for(var e=i(t),n={},r=Object.keys(e),o=r.length,s=0;s<o;s++){var u=r[s];null!==e[u].parent&&(n[u]=a(u,e))}return n}},vVQx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.LinkedListNode=void 0;var r=function(t,e){return t===e},i=function(){function t(t,e){void 0===e&&(e=null),this.value=t,this.next=e}return t.prototype.toString=function(t){return t?t(this.value):"".concat(this.value)},t}();e.LinkedListNode=i;var o=function(){function t(t){void 0===t&&(t=r),this.head=null,this.tail=null,this.compare=t}return t.prototype.prepend=function(t){var e=new i(t,this.head);return this.head=e,this.tail||(this.tail=e),this},t.prototype.append=function(t){var e=new i(t);return this.head?(this.tail.next=e,this.tail=e,this):(this.head=e,this.tail=e,this)},t.prototype.delete=function(t){if(!this.head)return null;for(var e=null;this.head&&this.compare(this.head.value,t);)e=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,t)?(e=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),e},t.prototype.find=function(t){var e=t.value,n=void 0===e?void 0:e,r=t.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},t.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var e=this.head;e.next;)e.next.next?e=e.next:e.next=null;return this.tail=e,t},t.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},t.prototype.fromArray=function(t){var e=this;return t.forEach(function(t){return e.append(t)}),this},t.prototype.toArray=function(){for(var t=[],e=this.head;e;)t.push(e),e=e.next;return t},t.prototype.reverse=function(){for(var t=this.head,e=null,n=null;t;)n=t.next,t.next=e,e=t,t=n;this.tail=this.head,this.head=e},t.prototype.toString=function(t){return void 0===t&&(t=void 0),this.toArray().map(function(e){return e.toString(t)}).toString()},t}();e.default=o},vrXp:function(t,e,n){"use strict";var r=n("TToO"),i=n("i6H2");function o(t,e,n){var r=t.getTotalMatrix();if(r){var o=function(t,e){if(e){var n=Object(i.invert)(e);return Object(i.multiplyVec2)(n,t)}return t}([e,n,1],r);return[o[0],o[1]]}return[e,n]}function a(t,e,n){if(t.isCanvas&&t.isCanvas())return!0;if(!Object(i.isAllowCapture)(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var r=o(t,e,n),a=r[0],s=r[1];if(t.isClipped(a,s))return!1}var u=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=u.minX&&e<=u.maxX&&n>=u.minY&&n<=u.maxY}var s=n("3BVV"),u=n("SodV"),l=n("PDVq"),c=n("gosJ"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.renderer="canvas",e.autoDraw=!0,e.localRefresh=!0,e.refreshElements=[],e.clipView=!0,e.quickHit=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return s},e.prototype.getGroupBase=function(){return u.a},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Object(l.d)();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var r=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*e,i.height=o*n,o>1&&r.scale(o,o)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),n=this.get("el");e.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(e,n){return this.get("quickHit")?function t(e,n,r){if(!a(e,n,r))return null;for(var i=null,s=e.getChildren(),u=s.length-1;u>=0;u--){var l=s[u];if(l.isGroup())i=t(l,n,r);else if(a(l,n,r)){var c=l,h=o(l,n,r),d=h[0],f=h[1];c.isInShape(d,f)&&(i=l)}if(i)break}return i}(this,e,n):t.prototype.getShape.call(this,e,n,null)},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();e.length&&e[0]===this?t=n:(t=Object(c.f)(e))&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1,this.get("clipView")&&(t=Object(c.g)(t,n)));return t},e.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(Object(l.a)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Object(c.a)(t,this),Object(c.d)(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(t.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.save(),t.beginPath(),t.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.clip(),Object(c.a)(t,this),Object(c.b)(this,n,r),Object(c.d)(t,n,r),t.restore()):e.length&&Object(c.c)(e),Object(l.c)(e,function(t){t.get("hasChanged")&&t.set("hasChanged",!1)}),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=Object(l.n)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(i.AbstractCanvas);e.a=h},w9t0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Base=void 0;var r=function(){function t(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.vedges=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return t.prototype.layout=function(t){return this.init(t),this.execute(!0)},t.prototype.init=function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[],this.comboEdges=t.comboEdges||[],this.hiddenNodes=t.hiddenNodes||[],this.hiddenEdges=t.hiddenEdges||[],this.hiddenCombos=t.hiddenCombos||[],this.vedges=t.vedges||[]},t.prototype.execute=function(t){},t.prototype.executeWithWorker=function(){},t.prototype.getDefaultCfg=function(){return{}},t.prototype.updateCfg=function(t){t&&Object.assign(this,t)},t.prototype.getType=function(){return"base"},t.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},t}();e.Base=r},wAAx:function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wgARCACjAKADASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAIGAQMEBQf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAH5+AAAAAAAAAAAAAAAAAAAAAAAAZMJZIOjYcbp5zAAPQ4J6wAZE/UsRTfWuPslV22auHV3+RbCu0j618+KWAAABKOT6La/mvSXLyqZ5xZvD5LWb7tHQavm/fWCIAAAANkYhvxaTpuaBKgbqqQ1gAAAAA3RtBK9t5z0OdUMQAAAAABnHUep9B5PaIU3VUzPMAAAAAADu4ZH1LRRtZo5s4AAAAAAAAAAAAAAAAAAAAAAAAAP/8QAJxAAAgICAgECBgMAAAAAAAAAAQIDBAASBREwEyAQFBUxQGAhIjL/2gAIAQEAAQUC/btTmpxYyc9E4YiM69uo0P39uhwQschqFsSgOvkUyKlGc+nx5Px6624PT9u3ugqmTI+POR0QMjrouSMiCa2uVrXZibYSddcrr4l/1xoGn9QJbIjx+TAyxyG2DuVqdQ5Eui3JtEtz+ofCPvWtemr8kckus+GQnFRmNGr2YohGJ5wi27hYk+PbCe/gibGnT7yKFUE0wQXbZLM3Z8qJtlOntkEQRZ5xGtu7tkjbHyou2Uqe2QVxEs84jW5d3wsSfKo7NKrsYIBGJZQq3bZLM3Z8o/nKtQua0GiyzCMXLveSvsfNEvbcdGNJnEa3LneO5b8CE9GjKBHesjWV+2/AB6xLTKJLDP8ApP8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAwEBPwFd/8QAFBEBAAAAAAAAAAAAAAAAAAAAYP/aAAgBAgEBPwFd/8QAHRAAAQQDAQEAAAAAAAAAAAAAAQAhMUAQESAwYP/aAAgBAQAGPwL7GFHtChRw3rChRy6bzGZU8mg+JRFAbGS9DessaZFCMkbobQwdGgFGC6mgFKL/ADv/xAAgEAEBAQEAAgEFAQAAAAAAAAABABEhMDFBECBAUWFg/9oACAEBAAE/If8AWgt/C/hfDX90R7Sj7favZ9oLC/E1Ejb7+Y+79dbQVi0PPt3mfaGtjIWA2e6onpK+EdwYfZdW6I1uPF6JWkfoXy0MkwuR/Pm45c9hTt7J4uBLnt+3bl879JqOIbNpumVXxjCX6HG7kc2SnsAHE2++ZFIiAZk67dULs+ZVmSs0gHJh2VCzLXzcmxVgXkn7GDiZ3zDWRXEOwulbkQu7+ADFWaO2gjD+CkP4mERH/BWZ8YbrLr/iP//aAAwDAQACAAMAAAAQAAAAAAAAAAAAAAAAAAAAIAAAAIAMAA0AAI0gokAAAAUcwk0MAAAAAQYIUAAAAAAAgAgAAAAAUw4IAAAAAAEIgAAAAAAAAwAAAAAAAAAAAAAAAA//xAAUEQEAAAAAAAAAAAAAAAAAAABg/9oACAEDAQE/EF3/xAAUEQEAAAAAAAAAAAAAAAAAAABg/9oACAECAQE/EF3/xAAnEAEAAgIABgICAgMAAAAAAAABABEhMTBBUWFxkSCBQKFQYLHB8f/aAAgBAQABPxD+yU9HgqUDB9L1O/8AU5r9T/gRBfojNI/E3hcIAdfjpCadwtTqLCeoouauku4h9TGf4Q1A9R+C/E5XV2+PPGotq/CpOrLoEe0/1KjBV6g91THhRHYj7hfv6wDDsiNQTvFKRjlwv2Y8U+4j5wJdUMQUQZ0zMGULFHW5SYKIhhvzEFlTXCdrowwKV3hxD9o+Fc95d5WwMAoscVNcpQQGOkqMCENFzzGdbt4WpVrZsGbgwG5soYdQUiJCqgh1jx7NbiZ2vjGALja/SKwCETEFS6exuXiu3ihepXVoiufUxYx2icCwno4McEbZa8VzBuZChekVAiEtYCHWPWyqL13xlEc5bKkZhEOkV0FE5JvMSJdvHPzCBELHZoomGTwxSU2xV28clLzJbQPmCUccmKq2fguicprv8xwXX3jMu/whTTFXf8r/AP/Z"},wHEO:function(t,e,n){"use strict";var r=n("IgWN"),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi;var a=function(t){var e=t||[];return Object(r.isArray)(e)?e:Object(r.isString)(e)?(e=e.match(i),Object(r.each)(e,function(t,n){if((t=t.match(o))[0].length>1){var i=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=i}Object(r.each)(t,function(e,n){isNaN(e)||(t[n]=+e)}),e[n]=t}),e):void 0},s=n("lVvd");var u=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var r=!!e,i=[],o=0,a=t.length;o<a;o+=2)i.push([t[o],t[o+1]]);var u,l,c,h=function(t,e,n,r){var i,o,a,u,l,c,h,d=[],f=!!r;if(f){a=r[0],u=r[1];for(var p=0,g=t.length;p<g;p+=1){var v=t[p];a=s.vec2.min([0,0],a,v),u=s.vec2.max([0,0],u,v)}}p=0;for(var y=t.length;p<y;p+=1)if(v=t[p],0!==p||n)if(p!==y-1||n){i=t[[p?p-1:y-1,p-1][n?0:1]],o=t[n?(p+1)%y:p+1];var m=[0,0];m=s.vec2.sub(m,o,i),m=s.vec2.scale(m,m,e);var b=s.vec2.distance(v,i),x=s.vec2.distance(v,o),A=b+x;0!==A&&(b/=A,x/=A);var w=s.vec2.scale([0,0],m,-b),_=s.vec2.scale([0,0],m,x);c=s.vec2.add([0,0],v,w),l=s.vec2.add([0,0],v,_),l=s.vec2.min([0,0],l,s.vec2.max([0,0],o,v)),l=s.vec2.max([0,0],l,s.vec2.min([0,0],o,v)),w=s.vec2.sub([0,0],l,v),w=s.vec2.scale([0,0],w,-b/x),c=s.vec2.add([0,0],v,w),c=s.vec2.min([0,0],c,s.vec2.max([0,0],i,v)),c=s.vec2.max([0,0],c,s.vec2.min([0,0],i,v)),_=s.vec2.sub([0,0],v,c),_=s.vec2.scale([0,0],_,x/b),l=s.vec2.add([0,0],v,_),f&&(c=s.vec2.max([0,0],c,a),c=s.vec2.min([0,0],c,u),l=s.vec2.max([0,0],l,a),l=s.vec2.min([0,0],l,u)),d.push(h),d.push(c),h=l}else c=v,d.push(h),d.push(c);else h=v;return n&&d.push(d.shift()),d}(i,.4,r,n),d=i.length,f=[];for(o=0;o<d-1;o+=1)u=h[2*o],l=h[2*o+1],c=i[o+1],f.push(["C",u[0],u[1],l[0],l[1],c[0],c[1]]);return r&&(u=h[d],l=h[d+1],c=i[0],f.push(["C",u[0],u[1],l[0],l[1],c[0],c[1]])),f};function l(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&n.push(e[0]),a===e.length-2&&r.push(e[a+1]),o[a]=[(1-i)*e[a][0]+i*e[a+1][0],(1-i)*e[a][1]+i*e[a+1][1]];t(o,i)}}(t,e),{left:n,right:r.reverse()}}function c(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,a=1/n,s=0;s<n-1;s++){var u=l(o,a/(1-a*s));i.push(u.left),o=u.right}return i.push(o),i.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])})}(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r}function h(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<r-n;a++)t.push(t[0]);return t}for(a=0;a<r;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var u=o.reduce(function(e,r,i){return i===n?e.concat(t[n]):e.concat(c(t[i],t[i+1],r))},[]);return u.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||u.push("Z"),u}function d(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var f=function(t,e){var n,i,o=t.length,a=e.length,s=0;if(0===o||0===a)return null;for(var u=[],l=0;l<=o;l++)u[l]=[],u[l][0]={min:l};for(var c=0;c<=a;c++)u[0][c]={min:c};for(l=1;l<=o;l++){n=t[l-1];for(c=1;c<=a;c++){i=e[c-1],s=Object(r.isEqual)(n,i)?0:1;var h=u[l-1][c].min+1,f=u[l][c-1].min+1,p=u[l-1][c-1].min+s;u[l][c]=d(h,f,p)}}return u};function p(t,e){var n=f(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i]!==r){for(var u=1;u<=r;u++){var l=n[u][u].min;s=u;for(var c=a;c<=i;c++)n[u][c].min<l&&(l=n[u][c].min,s=c);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(u=o.length-1;u>=0;u--)a=o[u].index,"add"===o[u].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}if((r=t.length)<i)for(u=0;u<i-r;u++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]);return t}function g(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}function v(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=g(e)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function y(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=g(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=v(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=v(n,t[r-1],2)}t[r]=["C"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=v(n,t[r-1],1)}t[r]=["S"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;default:t[r]=e[r]}return t}function m(t,e,n,r,i){return i?[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]]:[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]]}var b="\t\n\v\f\r   ᠎             　\u2028\u2029",x=new RegExp("([a-z])["+b+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+b+"]*,?["+b+"]*)+)","ig"),A=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+b+"]*,?["+b+"]*","ig");function w(t){if(!t)return null;if(Object(r.isArray)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(x,function(t,r,i){var o=[],a=r.toLowerCase();if(i.replace(A,function(t,e){e&&o.push(+e)}),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else for(;o.length>=e[a]&&(n.push([r].concat(o.splice(0,e[a]))),e[a]););return""}),n}var _=/[a-z]/;function M(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function S(t){var e=w(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,r=0;r<e.length;r++){var i=e[r][0];if(_.test(i)||["V","H","T","S"].indexOf(i)>=0){n=!0;break}}if(!n)return e;var o=[],a=0,s=0,u=0,l=0,c=0,h=e[0];"M"!==h[0]&&"m"!==h[0]||(u=a=+h[1],l=s=+h[2],c++,o[0]=["M",a,s]);r=c;for(var d=e.length;r<d;r++){var f=e[r],p=o[r-1],g=[],v=(i=f[0]).toUpperCase();if(i!==v)switch(g[0]=v,v){case"A":g[1]=f[1],g[2]=f[2],g[3]=f[3],g[4]=f[4],g[5]=f[5],g[6]=+f[6]+a,g[7]=+f[7]+s;break;case"V":g[1]=+f[1]+s;break;case"H":g[1]=+f[1]+a;break;case"M":u=+f[1]+a,l=+f[2]+s,g[1]=u,g[2]=l;break;default:for(var y=1,m=f.length;y<m;y++)g[y]=+f[y]+(y%2?a:s)}else g=e[r];switch(v){case"Z":a=+u,s=+l;break;case"H":g=["L",a=g[1],s];break;case"V":g=["L",a,s=g[1]];break;case"T":a=g[1],s=g[2];var b=M([p[1],p[2]],[p[3],p[4]]);g=["Q",b[0],b[1],a,s];break;case"S":a=g[g.length-2],s=g[g.length-1];var x=p.length,A=M([p[x-4],p[x-3]],[p[x-2],p[x-1]]);g=["C",A[0],A[1],g[1],g[2],a,s];break;case"M":u=g[g.length-2],l=g[g.length-1];break;default:a=g[g.length-2],s=g[g.length-1]}o.push(g)}return o}var O=2*Math.PI,I=function(t,e,n,r,i,o,a){var s=t.x,u=t.y;return{x:r*(s*=e)-i*(u*=n)+o,y:i*s+r*u+a}},E=function(t,e){var n=1.5707963267948966===e?.551915024494:-1.5707963267948966===e?-.551915024494:4/3*Math.tan(e/4),r=Math.cos(t),i=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[{x:r-i*n,y:i+r*n},{x:o+a*n,y:a-o*n},{x:o,y:a}]},C=function(t,e,n,r){var i=t*n+e*r;return i>1&&(i=1),i<-1&&(i=-1),(t*r-e*n<0?-1:1)*Math.acos(i)},k=function(t){var e=t.px,n=t.py,r=t.cx,i=t.cy,o=t.rx,a=t.ry,s=t.xAxisRotation,u=void 0===s?0:s,l=t.largeArcFlag,c=void 0===l?0:l,h=t.sweepFlag,d=void 0===h?0:h,f=[];if(0===o||0===a)return[{x1:0,y1:0,x2:0,y2:0,x:r,y:i}];var p=Math.sin(u*O/360),g=Math.cos(u*O/360),v=g*(e-r)/2+p*(n-i)/2,y=-p*(e-r)/2+g*(n-i)/2;if(0===v&&0===y)return[{x1:0,y1:0,x2:0,y2:0,x:r,y:i}];o=Math.abs(o),a=Math.abs(a);var m=Math.pow(v,2)/Math.pow(o,2)+Math.pow(y,2)/Math.pow(a,2);m>1&&(o*=Math.sqrt(m),a*=Math.sqrt(m));var b=function(t,e,n,r,i,o,a,s,u,l,c,h){var d=Math.pow(i,2),f=Math.pow(o,2),p=Math.pow(c,2),g=Math.pow(h,2),v=d*f-d*g-f*p;v<0&&(v=0),v/=d*g+f*p;var y=(v=Math.sqrt(v)*(a===s?-1:1))*i/o*h,m=v*-o/i*c,b=l*y-u*m+(t+n)/2,x=u*y+l*m+(e+r)/2,A=(c-y)/i,w=(h-m)/o,_=(-c-y)/i,M=(-h-m)/o,S=C(1,0,A,w),I=C(A,w,_,M);return 0===s&&I>0&&(I-=O),1===s&&I<0&&(I+=O),[b,x,S,I]}(e,n,r,i,o,a,c,d,p,g,v,y),x=b[0],A=b[1],w=b[2],_=b[3],M=Math.abs(_)/(O/4);Math.abs(1-M)<1e-7&&(M=1);var S=Math.max(Math.ceil(M),1);_/=S;for(var k=0;k<S;k++)f.push(E(w,_)),w+=_;return f.map(function(t){var e=I(t[0],o,a,g,p,x,A),n=e.x,r=e.y,i=I(t[1],o,a,g,p,x,A),s=i.x,u=i.y,l=I(t[2],o,a,g,p,x,A);return{x1:n,y1:r,x2:s,y2:u,x:l.x,y:l.y}})};function T(t,e,n,r){return[t,e,n,r,n,r]}function D(t,e){"TQ".indexOf(t[0])<0&&(e.qx=null,e.qy=null);var n=t.slice(1),r=n[0],i=n[1];switch(t[0]){case"M":return e.x=r,e.y=i,t;case"A":return["C"].concat(function(t,e,n,r,i,o,a,s,u){return k({px:t,py:e,cx:s,cy:u,rx:n,ry:r,xAxisRotation:i,largeArcFlag:o,sweepFlag:a}).reduce(function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.x,s=e.y;return t.push(n,r,i,o,a,s),t},[])}.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"Q":return e.qx=r,e.qy=i,["C"].concat(function(t,e,n,r,i,o){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]}.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"L":return["C"].concat(T(e.x1,e.y1,t[1],t[2]));case"H":return["C"].concat(T(e.x1,e.y1,t[1],e.y1));case"V":return["C"].concat(T(e.x1,e.y1,e.x1,t[1]));case"Z":return["C"].concat(T(e.x1,e.y1,e.x,e.y))}return t}function j(t,e){void 0===e&&(e=!1);for(var n,r,i=S(t),o={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},a=[],s="",u=i.length,l=[],c=0;c<u;c+=1)i[c]&&(s=i[c][0]),a[c]=s,i[c]=D(i[c],o),L(i,a,c),u=i.length,"Z"===s&&l.push(c),r=(n=i[c]).length,o.x1=+n[r-2],o.y1=+n[r-1],o.x2=+n[r-4]||o.x1,o.y2=+n[r-3]||o.y1;return e?[i,l]:i}function L(t,e,n){if(t[n].length>7){t[n].shift();for(var r=t[n],i=n;r.length;)e[n]="A",t.splice(i+=1,0,["C"].concat(r.splice(0,6)));t.splice(n,1)}}var P=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},N=function(t,e,n,r,i,o,a,s,u){null===u&&(u=1);for(var l=(u=u>1?1:u<0?0:u)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,f=0;f<12;f++){var p=l*c[f]+l,g=P(p,t,n,i,a),v=P(p,e,r,o,s),y=g*g+v*v;d+=h[f]*Math.sqrt(y)}return l*d},R=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var u=(t-n)*(o-s)-(e-r)*(i-a);if(u){var l=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/u,c=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/u,h=+l.toFixed(2),d=+c.toFixed(2);if(!(h<+Math.min(t,n).toFixed(2)||h>+Math.max(t,n).toFixed(2)||h<+Math.min(i,a).toFixed(2)||h>+Math.max(i,a).toFixed(2)||d<+Math.min(e,r).toFixed(2)||d>+Math.max(e,r).toFixed(2)||d<+Math.min(o,s).toFixed(2)||d>+Math.max(o,s).toFixed(2)))return{x:l,y:c}}}},B=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},z=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:m(t,e,n,r),vb:[t,e,n,r].join(" ")}},F=function(t,e,n,i,o,a,s,u){Object(r.isArray)(t)||(t=[t,e,n,i,o,a,s,u]);var l=function(t,e,n,r,i,o,a,s){for(var u,l,c,h,d=[],f=[[],[]],p=0;p<2;++p)if(0===p?(l=6*t-12*n+6*i,u=-3*t+9*n-9*i+3*a,c=3*n-3*t):(l=6*e-12*r+6*o,u=-3*e+9*r-9*o+3*s,c=3*r-3*e),Math.abs(u)<1e-12){if(Math.abs(l)<1e-12)continue;(h=-c/l)>0&&h<1&&d.push(h)}else{var g=l*l-4*c*u,v=Math.sqrt(g);if(!(g<0)){var y=(-l+v)/(2*u);y>0&&y<1&&d.push(y);var m=(-l-v)/(2*u);m>0&&m<1&&d.push(m)}}for(var b,x=d.length,A=x;x--;)b=1-(h=d[x]),f[0][x]=b*b*b*t+3*b*b*h*n+3*b*h*h*i+h*h*h*a,f[1][x]=b*b*b*e+3*b*b*h*r+3*b*h*h*o+h*h*h*s;return f[0][A]=t,f[1][A]=e,f[0][A+1]=a,f[1][A+1]=s,f[0].length=f[1].length=A+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}}.apply(null,t);return z(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},G=function(t,e,n,r,i,o,a,s,u){var l=1-u,c=Math.pow(l,3),h=Math.pow(l,2),d=u*u,f=d*u,p=t+2*u*(n-t)+d*(i-2*n+t),g=e+2*u*(r-e)+d*(o-2*r+e),v=n+2*u*(i-n)+d*(a-2*i+n),y=r+2*u*(o-r)+d*(s-2*o+r);return{x:c*t+3*h*u*n+3*l*u*u*i+f*a,y:c*e+3*h*u*r+3*l*u*u*o+f*s,m:{x:p,y:g},n:{x:v,y:y},start:{x:l*t+u*n,y:l*e+u*r},end:{x:l*i+u*a,y:l*o+u*s},alpha:90-180*Math.atan2(p-v,g-y)/Math.PI}},V=function(t,e,n){if(!function(t,e){return t=z(t),e=z(e),B(e,t.x,t.y)||B(e,t.x2,t.y)||B(e,t.x,t.y2)||B(e,t.x2,t.y2)||B(t,e.x,e.y)||B(t,e.x2,e.y)||B(t,e.x,e.y2)||B(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(F(t),F(e)))return n?0:[];for(var r=~~(N.apply(0,t)/8),i=~~(N.apply(0,e)/8),o=[],a=[],s={},u=n?0:[],l=0;l<r+1;l++){var c=G.apply(0,t.concat(l/r));o.push({x:c.x,y:c.y,t:l/r})}for(l=0;l<i+1;l++){c=G.apply(0,e.concat(l/i));a.push({x:c.x,y:c.y,t:l/i})}for(l=0;l<r;l++)for(var h=0;h<i;h++){var d=o[l],f=o[l+1],p=a[h],g=a[h+1],v=Math.abs(f.x-d.x)<.001?"y":"x",y=Math.abs(g.x-p.x)<.001?"y":"x",m=R(d.x,d.y,f.x,f.y,p.x,p.y,g.x,g.y);if(m){if(s[m.x.toFixed(4)]===m.y.toFixed(4))continue;s[m.x.toFixed(4)]=m.y.toFixed(4);var b=d.t+Math.abs((m[v]-d[v])/(f[v]-d[v]))*(f.t-d.t),x=p.t+Math.abs((m[y]-p[y])/(g[y]-p[y]))*(g.t-p.t);b>=0&&b<=1&&x>=0&&x<=1&&(n?u++:u.push({x:m.x,y:m.y,t1:b,t2:x}))}}return u},U=function(t,e,n){var r,i,o,a,s,u,l,c,h,d;t=j(t),e=j(e);for(var f=n?0:[],p=0,g=t.length;p<g;p++){var v=t[p];if("M"===v[0])r=s=v[1],i=u=v[2];else{"C"===v[0]?(r=(h=[r,i].concat(v.slice(1)))[6],i=h[7]):(h=[r,i,r,i,s,u,s,u],r=s,i=u);for(var y=0,m=e.length;y<m;y++){var b=e[y];if("M"===b[0])o=l=b[1],a=c=b[2];else{"C"===b[0]?(o=(d=[o,a].concat(b.slice(1)))[6],a=d[7]):(d=[o,a,o,a,l,c,l,c],o=l,a=c);var x=V(h,d,n);if(n)f+=x;else{for(var A=0,w=x.length;A<w;A++)x[A].segment1=p,x[A].segment2=y,x[A].bez1=h,x[A].bez2=d;f=f.concat(x)}}}}}return f};function W(t,e){return U(t,e)}var H=/,?([a-z]),?/gi;function Y(t){return t.join(",").replace(H,"$1")}function X(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function q(t,e){return X(t)*X(e)?(t[0]*e[0]+t[1]*e[1])/(X(t)*X(e)):1}function Q(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(q(t,e))}function Z(t,e){return t[0]===e[0]&&t[1]===e[1]}function K(t,e){var n=e[1],i=e[2],o=Object(r.mod)(Object(r.toRadian)(e[3]),2*Math.PI),a=e[4],s=e[5],u=t[0],l=t[1],c=e[6],h=e[7],d=Math.cos(o)*(u-c)/2+Math.sin(o)*(l-h)/2,f=-1*Math.sin(o)*(u-c)/2+Math.cos(o)*(l-h)/2,p=d*d/(n*n)+f*f/(i*i);p>1&&(n*=Math.sqrt(p),i*=Math.sqrt(p));var g=n*n*(f*f)+i*i*(d*d),v=g?Math.sqrt((n*n*(i*i)-g)/g):1;a===s&&(v*=-1),isNaN(v)&&(v=0);var y=i?v*n*f/i:0,m=n?v*-i*d/n:0,b=(u+c)/2+Math.cos(o)*y-Math.sin(o)*m,x=(l+h)/2+Math.sin(o)*y+Math.cos(o)*m,A=[(d-y)/n,(f-m)/i],w=[(-1*d-y)/n,(-1*f-m)/i],_=Q([1,0],A),M=Q(A,w);return q(A,w)<=-1&&(M=Math.PI),q(A,w)>=1&&(M=0),0===s&&M>0&&(M-=2*Math.PI),1===s&&M<0&&(M+=2*Math.PI),{cx:b,cy:x,rx:Z(t,[c,h])?0:n,ry:Z(t,[c,h])?0:i,startAngle:_,endAngle:_+M,xRotation:o,arcFlag:a,sweepFlag:s}}function J(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function $(t){for(var e=[],n=null,r=null,i=null,o=0,s=(t=a(t)).length,u=0;u<s;u++){var l=t[u];r=t[u+1];var c=l[0],h={command:c,prePoint:n,params:l,startTangent:null,endTangent:null};switch(c){case"M":i=[l[1],l[2]],o=u;break;case"A":var d=K(n,l);h.arcParams=d}if("Z"===c)n=i,r=t[o+1];else{var f=l.length;n=[l[f-2],l[f-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),h.currentPoint=n,e[o]&&Z(n,e[o].currentPoint)&&(e[o].prePoint=h.prePoint);var p=r?[r[r.length-2],r[r.length-1]]:null;h.nextPoint=p;var g=h.prePoint;if(["L","H","V"].includes(c))h.startTangent=[g[0]-n[0],g[1]-n[1]],h.endTangent=[n[0]-g[0],n[1]-g[1]];else if("Q"===c){var v=[l[1],l[2]];h.startTangent=[g[0]-v[0],g[1]-v[1]],h.endTangent=[n[0]-v[0],n[1]-v[1]]}else if("T"===c){v=J((b=e[u-1]).currentPoint,g);"Q"===b.command?(h.command="Q",h.startTangent=[g[0]-v[0],g[1]-v[1]],h.endTangent=[n[0]-v[0],n[1]-v[1]]):(h.command="TL",h.startTangent=[g[0]-n[0],g[1]-n[1]],h.endTangent=[n[0]-g[0],n[1]-g[1]])}else if("C"===c){var y=[l[1],l[2]],m=[l[3],l[4]];h.startTangent=[g[0]-y[0],g[1]-y[1]],h.endTangent=[n[0]-m[0],n[1]-m[1]],0===h.startTangent[0]&&0===h.startTangent[1]&&(h.startTangent=[y[0]-m[0],y[1]-m[1]]),0===h.endTangent[0]&&0===h.endTangent[1]&&(h.endTangent=[m[0]-y[0],m[1]-y[1]])}else if("S"===c){var b;y=J((b=e[u-1]).currentPoint,g),m=[l[1],l[2]];"C"===b.command?(h.command="C",h.startTangent=[g[0]-y[0],g[1]-y[1]],h.endTangent=[n[0]-m[0],n[1]-m[1]]):(h.command="SQ",h.startTangent=[g[0]-m[0],g[1]-m[1]],h.endTangent=[n[0]-m[0],n[1]-m[1]])}else if("A"===c){var x=.001,A=h.arcParams||{},w=A.cx,_=void 0===w?0:w,M=A.cy,S=void 0===M?0:M,O=A.rx,I=void 0===O?0:O,E=A.ry,C=void 0===E?0:E,k=A.sweepFlag,T=void 0===k?0:k,D=A.startAngle,j=void 0===D?0:D,L=A.endAngle,P=void 0===L?0:L;0===T&&(x*=-1);var N=I*Math.cos(j-x)+_,R=C*Math.sin(j-x)+S;h.startTangent=[N-i[0],R-i[1]];var B=I*Math.cos(j+P+x)+_,z=C*Math.sin(j+P-x)+S;h.endTangent=[g[0]-B,g[1]-z]}e.push(h)}return e}var tt=function(t,e,n){return t>=e&&t<=n};function et(t,e,n,r){var i=n.x-t.x,o=n.y-t.y,a=e.x-t.x,s=e.y-t.y,u=r.x-n.x,l=r.y-n.y,c=a*l-s*u,h=null;if(c*c>.001*(a*a+s*s)*(u*u+l*l)){var d=(i*l-o*u)/c,f=(i*s-o*a)/c;tt(d,0,1)&&tt(f,0,1)&&(h={x:t.x+d*a,y:t.y+d*s})}return h}var nt=1e-6;function rt(t){return Math.abs(t)<nt?0:t<0?-1:1}function it(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function ot(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=t[o],s=t[(o+1)%i];if(it(a,s,[e,n]))return!0;rt(a[1]-n)>0!=rt(s[1]-n)>0&&rt(e-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}function at(t){for(var e=[],n=t.length,r=0;r<n-1;r++){var i=t[r],o=t[r+1];e.push({from:{x:i[0],y:i[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var a=t[0],s=t[n-1];e.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return e}function st(t){var e=t.map(function(t){return t[0]}),n=t.map(function(t){return t[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}}function ut(t,e){if(t.length<2||e.length<2)return!1;var n,i,o=st(t),a=st(e);if(n=o,(i=a).minX>n.maxX||i.maxX<n.minX||i.minY>n.maxY||i.maxY<n.minY)return!1;var s=!1;if(Object(r.each)(e,function(e){if(ot(t,e[0],e[1]))return s=!0,!1}),s)return!0;if(Object(r.each)(t,function(t){if(ot(e,t[0],t[1]))return s=!0,!1}),s)return!0;var u=at(t),l=at(e),c=!1;return Object(r.each)(l,function(t){if(function(t,e){var n=!1;return Object(r.each)(t,function(t){if(et(t.from,t.to,e.from,e.to))return n=!0,!1}),n}(u,t))return c=!0,!1}),c}n.d(e,!1,function(){return a}),n.d(e,"a",function(){return u}),n.d(e,!1,function(){return h}),n.d(e,!1,function(){return p}),n.d(e,!1,function(){return y}),n.d(e,!1,function(){return W}),n.d(e,!1,function(){return Y}),n.d(e,"b",function(){return w}),n.d(e,!1,function(){return j}),n.d(e,"c",function(){return S}),n.d(e,!1,function(){return m}),n.d(e,!1,function(){return K}),n.d(e,"d",function(){return $}),n.d(e,!1,function(){return et}),n.d(e,!1,function(){return ut}),n.d(e,!1,function(){return ot})},wRLm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.secondReg=e.dateReg=void 0;e.secondReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;e.dateReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/},wbMc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if("next"!==t&&"prev"!==t)return e},i=function(t){t.prev.next=t.next,t.next.prev=t.prev,delete t.next,delete t.prev},o=function(){function t(){var t={};t.prev=t,t.next=t.prev,this.shortcut=t}return t.prototype.dequeue=function(){var t=this.shortcut,e=t.prev;if(e&&e!==t)return i(e),e},t.prototype.enqueue=function(t){var e=this.shortcut;t.prev&&t.next&&i(t),t.next=e.next,e.next.prev=t,e.next=t,t.prev=e},t.prototype.toString=function(){for(var t=[],e=this.shortcut,n=e.prev;n!==e;)t.push(JSON.stringify(n,r)),n=null===n||void 0===n?void 0:n.prev;return"[".concat(t.join(", "),"]")},t}();e.default=o},wiub:function(t,e,n){t.exports=n.p+"static/img/ImageNet8.dc475fd.png"},wlDy:function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wgARCACiAKADASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAQGAwUHAgH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHn4AAAAAAAAAAAAAABsDDYdnczmeg7HTCkpUUAAAAGQx5dpYCu2uyTyLMaQ3caHtDllds9YPgAABkPtm9XkwbZCNkhyzxRblRDa26n3A5jWLPWD4AADNZYnRTJN8VknUTxqS82vm8k2lPxRC+XbmHRjn1Ys9YPgAGfHaTYXaNKKBWJmmAMnnyB9N/0mgdCOd1iz1g+AAkdN5l08sOq2tTKLrZUUAHo87LzdybvvNdKtW5+vAAJHSeYWM6nDi7U5VqusQzl2W8bI5xu7rmIs6LTzdUfFCAAAGTGLDbeYzTsuegWY3HzV18tdcrmkNhpsYAAAAAAy54YmYcI9+AAAAAAAAAAAAAAA//EACkQAAICAQIFBAIDAQAAAAAAAAECAwQAERIFIDEyMxATITAUIiNAUEH/2gAIAQEAAQUC/wBSOIuY+Fl1n4cYgyFf6EMW7KtPIU2pZi9xbNLJU2N9ioWyGm5NanpkUW0a6Z1ySJSt9AJPqVd2RUy2QcPOsVZVUIBh+BJZ2tBPvLdvEfIev0Iu41Ke4w09gVQPV+215aPceziPlPXnVSxqVNcggCAnTGsqCkwb0lkAWxIDLR7m7OI+U9eZE3ZUpkmvCEXXblmyFE9ljJSlbDOFS7cwy6ycPlGuuqcR8h681CL3DXhCK7hBZv7csXPcwN8wWNmS39RLLvOcOP7x9nEfIevKiFjwyEqT+sd2+yvLOZPXdmvrw7vj8fEfIevIo1alV1MMIQS+K/5uYDXOHRHco0TiPkPXkh8tIDYOlmfYltt0nNXi3PTrbA50XiB/k5YPLS7P+X9cm7uQKTkUDMadLQDRFu29mWJd7csPxJSkG0dJ4Q6W6re6azjPaOCsxz8R8qUiTDTRRvSIXLugnsGTnX4NSzsNeyJB1D1wxemDh4d8xUgo/FGKix5LaCCzd1Mkxb6VbTK1z2zBf3ZG4YfGfGagY8qjLV3bktwvjNqfrjnKmteyO4hx7aaTX9DLfbJJzJ94cjBZcZ+TJhkY5u/0v//EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQMBAT8BXf/EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQIBAT8BXf/EAB0QAAIBBQEBAAAAAAAAAAAAAAABMRARICEwQFD/2gAIAQEABj8C+rfxwWpHeCMH3gjwR41qs1fVMiumK7o9l+04T3a8MEDH4EKjQ+CY80KjzgvR2zQqMdljtEU0+sEEEVn4O2SSaZJvwST9T//EACIQAQEBAQEAAgICAwEAAAAAAAEAESExIDAQcVChQEFRYf/aAAgBAQABPyH+UzF7xa3s5/gO/IuMCg4ZY6k5mfapwga8SZ2FWIpNUP8AU7yffqVcsPkYKRATedMLHhsOF7/q9/qFwyztgByNufj3l1Jp7/V7fSGQJ0mHuQmwzPDbeRYsgx/Cuv1e30CvliiG71IE67dX+zGATYPEfqlGy/6vf6DN5GuWh0umIntpuxnZc4/t+Fi7/V7/ADOQIApdrBFvWbfxvJT+R/ePX6vf5GQSGsOZ+H/u/PRlgs6/q9/mTxFxDg33zzuXIIv1rdT78wSnyt734+AQiADLHIcFa78nqnhLZrB27gzb0BkXyL4N/wCL+AWoRODyBaSdZd+S62brGjZnUZG8jO52P4bqZLDZFCNvb36Efs5djyLa/bqz/ibC+xFxtjs+2/Wci+M4BBHRC4EySkere19/jt4UUnqsp/kv/9oADAMBAAIAAwAAABDDDDDDDDDDAAAAABjTigAAAAASixCwAAARBjwhjwAAAwTBAxTwAAShDCAQzwADxCgASiAQABgxhTyAyAAABwSihAAAAABADAAAAAAAAAAAAAAAD//EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQMBAT8QXf/EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQIBAT8QXf/EACYQAQACAgEDBAIDAQAAAAAAAAEAESFRMSBBYTBxkbGBoRBAwVD/2gAIAQEAAT8Qt2y3bLdst2y3bLdst2y3bLdst2y3bLdst2y3bLdst2y3bLdst2y3b61Mr+iC8EAAcw+eXiLGcNRwIxE59YFaC4Lt/Ezv9ICoTEBxP8MRkaPUC2pRLImWLB+mFCqohjXA6jMHLtC07hpnpECGULPiLrS9SzgPEBoCXQOCJ2D8xmG8xX76fbnN6IcJ/EfvzZF1EFFGJVMfx+ixyhiiX3nM7T7M5vQvAXMHNrtHIAhqZ+0EelMxYDbha8rZtMLrMx2HyRPzp9mc3WELZiUae0OxAajzgCBYDG48wNGOyPvHRF1uWAR7Mt5pcNcXZFibT7c5uumtpcgMRbSo3CJIBxwLb3iuwqUCsFRI2YKNxxL7ksLvf6n25zdIW4lIslBljp8ITA8GuYk2Z8xS5YNNwLnHcr/LV9koTz+p9uc3ShJax9yKckdgGoKDxD1xhHMLQeSEyVn9T7c5uk2LuGUF1CWkYzlJn/l6gtqKe+ZaFe8GrDKFTc2x2un9ufpTm9pWoagPdX09xoXr5lQtK7SyEKIILrmLc3FtvpFbgYZ0uiFi4jWLSeOwohv0pTFfEu3woM/5Qha57kHHJHhpXmBQCHZlpLbEVvUoDtHLhEh0N1EMWNxqi34jUD4lBYXAAHGp4HxBcBUKxEJ+8xLwaPmKq30LiIh48dsRBz5hmhUhoGI8iBOQiNpKuvmO0rfmJ0mKvpJVkuVAjSa8sE53vHzb94Z4PDCIaUxW9+sNNk7ZQKk+YbSvmOWj+YFSzn/o/wD/2Q=="},x3Wm:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzgiIGhlaWdodD0iMzUiIHZpZXdCb3g9IjAgMCA3OCAzNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggaWQ9IlJlY3RhbmdsZSAxODk3IiBkPSJNMCA4LjUzNjU5SDUwVjBMNzggMTcuNUw1MCAzNVYyNi40NjM0SDBWOC41MzY1OVoiIGZpbGw9IiNEM0Q5RTUiLz4KPC9zdmc+Cg=="},xufd:function(t,e){},yJKB:function(t,e,n){"use strict";var r=n("TToO"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e},e}(n("JwB+").a);e.a=i},yKiC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toNumber=e.isNaN=e.isNumber=void 0;e.isNumber=function(t){return"number"==typeof t};e.isNaN=function(t){return Number.isNaN(Number(t))};e.toNumber=function(t){var n=parseFloat(t);return(0,e.isNaN)(n)?t:n}},yO1k:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+ZTV"),i=function(t,e,n,i,o,a){var s={rank:a,borderType:e,width:0,height:0},u=o[e][a-1],l=(0,r.addDummyNode)(t,"border",s,n);o[e][a]=l,t.setParent(l,i),u&&t.setEdge(u,l,{weight:1})};e.default=function(t){var e,n=function(e){var r=t.children(e),o=t.node(e);if((null===r||void 0===r?void 0:r.length)&&r.forEach(function(t){return n(t)}),o.hasOwnProperty("minRank")){o.borderLeft=[],o.borderRight=[];for(var a=o.minRank,s=o.maxRank+1;a<s;a+=1)i(t,"borderLeft","_bl",e,o,a),i(t,"borderRight","_br",e,o,a)}};null===(e=t.children())||void 0===e||e.forEach(function(t){return n(t)})}},yWcq:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("e9Fv")),o=r(n("6OHT")),a=r(n("7rlq")),s=r(n("6KJJ")),u=r(n("9Qp/")),l=n("ZE1E"),c=n("3MGd"),h=n("+ZTV"),d=function(t,e,n){return e.map(function(e){return(0,a.default)(t,e,n)})},f=function(t,e,n,r){var i=new c.Graph;null===t||void 0===t||t.forEach(function(t){for(var o,a=t.graph().root,l=(0,u.default)(t,a,i,e,n,r),c=0;c<(null===(o=l.vs)||void 0===o?void 0:o.length);c++){var h=t.node(l.vs[c]);h&&(h.order=c)}(0,s.default)(t,i,l.vs)})},p=function(t,e){null===e||void 0===e||e.forEach(function(e){null===e||void 0===e||e.forEach(function(e,n){t.node(e).order=n})})};e.default=function(t,e){for(var n=(0,h.maxRank)(t),r=[],a=[],s=1;s<n+1;s++)r.push(s);for(s=n-1;s>-1;s--)a.push(s);var u=d(t,r,"inEdges"),c=d(t,a,"outEdges"),g=(0,i.default)(t);p(t,g);for(var v,y=Number.POSITIVE_INFINITY,m=(s=0,0);m<4;++s,++m)f(s%2?u:c,s%4>=2,!1,e),g=(0,h.buildLayerMatrix)(t),(b=(0,o.default)(t,g))<y&&(m=0,v=(0,l.clone)(g),y=b);g=(0,i.default)(t),p(t,g);for(s=0,m=0;m<4;++s,++m){var b;f(s%2?u:c,s%4>=2,!0,e),g=(0,h.buildLayerMatrix)(t),(b=(0,o.default)(t,g))<y&&(m=0,v=(0,l.clone)(g),y=b)}p(t,v)}},"z/wH":function(t,e){var n=[],r=[],i="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function o(t,e){if(e=e||{},void 0===t)throw new Error(i);var o,a=!0===e.prepend?"prepend":"append",s=void 0!==e.container?e.container:document.querySelector("head"),u=n.indexOf(s);return-1===u&&(u=n.push(s)-1,r[u]={}),void 0!==r[u]&&void 0!==r[u][a]?o=r[u][a]:(o=r[u][a]=function(){var t=document.createElement("style");return t.setAttribute("type","text/css"),t}(),"prepend"===a?s.insertBefore(o,s.childNodes[0]):s.appendChild(o)),65279===t.charCodeAt(0)&&(t=t.substr(1,t.length)),o.styleSheet?o.styleSheet.cssText+=t:o.textContent+=t,o}t.exports=o,t.exports.insertCss=o},zMj2:function(t,e,n){"use strict";var r=function(){return function(t){this.value=t}}(),i=function(){function t(){this._len=0}return t.prototype.insert=function(t){var e=new r(t);return this.insertEntry(e),e},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),o=function(){function t(t){this._list=new i,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,e){var n=this._list,i=this._map,o=null;if(null==i[t]){var a=n.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var u=n.head;n.remove(u),delete i[u.key],o=u.value,this._lastRemovedEntry=u}s?s.value=e:s=new r(e),s.key=t,n.insertEntry(s),i[t]=s}return o},t.prototype.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}();e.a=o},zOqJ:function(t,e,n){var r=n("Y/tY"),i=n("vImi"),o={};Object.keys(r).forEach(function(t){o[t]={},Object.defineProperty(o[t],"channels",{value:r[t].channels}),Object.defineProperty(o[t],"labels",{value:r[t].labels});var e=i(t);Object.keys(e).forEach(function(n){var r=e[n];o[t][n]=function(t){var e=function(e){if(void 0===e||null===e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(r),o[t][n].raw=function(t){var e=function(e){return void 0===e||null===e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(r)})}),t.exports=o}});